function m_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(r,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cx={exports:{}},Gu={},ux={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),g_=Symbol.for("react.portal"),x_=Symbol.for("react.fragment"),y_=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),v_=Symbol.for("react.provider"),__=Symbol.for("react.context"),C_=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),A_=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),tp=Symbol.iterator;function b_(e){return e===null||typeof e!="object"?null:(e=tp&&e[tp]||e["@@iterator"],typeof e=="function"?e:null)}var hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fx=Object.assign,dx={};function ga(e,t,n){this.props=e,this.context=t,this.refs=dx,this.updater=n||hx}ga.prototype.isReactComponent={};ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function px(){}px.prototype=ga.prototype;function t0(e,t,n){this.props=e,this.context=t,this.refs=dx,this.updater=n||hx}var n0=t0.prototype=new px;n0.constructor=t0;fx(n0,ga.prototype);n0.isPureReactComponent=!0;var np=Array.isArray,mx=Object.prototype.hasOwnProperty,i0={current:null},gx={key:!0,ref:!0,__self:!0,__source:!0};function xx(e,t,n){var r,l={},u=null,p=null;if(t!=null)for(r in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(u=""+t.key),t)mx.call(t,r)&&!gx.hasOwnProperty(r)&&(l[r]=t[r]);var y=arguments.length-2;if(y===1)l.children=n;else if(1<y){for(var v=Array(y),x=0;x<y;x++)v[x]=arguments[x+2];l.children=v}if(e&&e.defaultProps)for(r in y=e.defaultProps,y)l[r]===void 0&&(l[r]=y[r]);return{$$typeof:Yl,type:e,key:u,ref:p,props:l,_owner:i0.current}}function T_(e,t){return{$$typeof:Yl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function r0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yl}function I_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ip=/\/+/g;function Uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I_(""+e.key):t.toString(36)}function Gc(e,t,n,r,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(u){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Yl:case g_:p=!0}}if(p)return p=e,l=l(p),e=r===""?"."+Uh(p,0):r,np(l)?(n="",e!=null&&(n=e.replace(ip,"$&/")+"/"),Gc(l,t,n,"",function(x){return x})):l!=null&&(r0(l)&&(l=T_(l,n+(!l.key||p&&p.key===l.key?"":(""+l.key).replace(ip,"$&/")+"/")+e)),t.push(l)),1;if(p=0,r=r===""?".":r+":",np(e))for(var y=0;y<e.length;y++){u=e[y];var v=r+Uh(u,y);p+=Gc(u,t,n,v,l)}else if(v=b_(e),typeof v=="function")for(e=v.call(e),y=0;!(u=e.next()).done;)u=u.value,v=r+Uh(u,y++),p+=Gc(u,t,n,v,l);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Cc(e,t,n){if(e==null)return e;var r=[],l=0;return Gc(e,r,"","",function(u){return t.call(n,u,l++)}),r}function N_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zn={current:null},Yc={transition:null},M_={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:Yc,ReactCurrentOwner:i0};function yx(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Cc,forEach:function(e,t,n){Cc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cc(e,function(){t++}),t},toArray:function(e){return Cc(e,function(t){return t})||[]},only:function(e){if(!r0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=ga;tt.Fragment=x_;tt.Profiler=w_;tt.PureComponent=t0;tt.StrictMode=y_;tt.Suspense=E_;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_;tt.act=yx;tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fx({},e.props),l=e.key,u=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,p=i0.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(v in t)mx.call(t,v)&&!gx.hasOwnProperty(v)&&(r[v]=t[v]===void 0&&y!==void 0?y[v]:t[v])}var v=arguments.length-2;if(v===1)r.children=n;else if(1<v){y=Array(v);for(var x=0;x<v;x++)y[x]=arguments[x+2];r.children=y}return{$$typeof:Yl,type:e.type,key:l,ref:u,props:r,_owner:p}};tt.createContext=function(e){return e={$$typeof:__,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v_,_context:e},e.Consumer=e};tt.createElement=xx;tt.createFactory=function(e){var t=xx.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:C_,render:e}};tt.isValidElement=r0;tt.lazy=function(e){return{$$typeof:S_,_payload:{_status:-1,_result:e},_init:N_}};tt.memo=function(e,t){return{$$typeof:A_,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Yc.transition;Yc.transition={};try{e()}finally{Yc.transition=t}};tt.unstable_act=yx;tt.useCallback=function(e,t){return Zn.current.useCallback(e,t)};tt.useContext=function(e){return Zn.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return Zn.current.useDeferredValue(e)};tt.useEffect=function(e,t){return Zn.current.useEffect(e,t)};tt.useId=function(){return Zn.current.useId()};tt.useImperativeHandle=function(e,t,n){return Zn.current.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return Zn.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return Zn.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return Zn.current.useMemo(e,t)};tt.useReducer=function(e,t,n){return Zn.current.useReducer(e,t,n)};tt.useRef=function(e){return Zn.current.useRef(e)};tt.useState=function(e){return Zn.current.useState(e)};tt.useSyncExternalStore=function(e,t,n){return Zn.current.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return Zn.current.useTransition()};tt.version="18.3.1";ux.exports=tt;var H=ux.exports;const uo=lx(H),O_=m_({__proto__:null,default:uo},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_=H,P_=Symbol.for("react.element"),L_=Symbol.for("react.fragment"),D_=Object.prototype.hasOwnProperty,k_=R_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B_={key:!0,ref:!0,__self:!0,__source:!0};function wx(e,t,n){var r,l={},u=null,p=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(p=t.ref);for(r in t)D_.call(t,r)&&!B_.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:P_,type:e,key:u,ref:p,props:l,_owner:k_.current}}Gu.Fragment=L_;Gu.jsx=wx;Gu.jsxs=wx;cx.exports=Gu;var S=cx.exports,Pf={},vx={exports:{}},yi={},_x={exports:{}},Cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,X){var ee=ce.length;ce.push(X);e:for(;0<ee;){var ue=ee-1>>>1,we=ce[ue];if(0<l(we,X))ce[ue]=X,ce[ee]=we,ee=ue;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var X=ce[0],ee=ce.pop();if(ee!==X){ce[0]=ee;e:for(var ue=0,we=ce.length,Be=we>>>1;ue<Be;){var Te=2*(ue+1)-1,ze=ce[Te],de=Te+1,Ke=ce[de];if(0>l(ze,ee))de<we&&0>l(Ke,ze)?(ce[ue]=Ke,ce[de]=ee,ue=de):(ce[ue]=ze,ce[Te]=ee,ue=Te);else if(de<we&&0>l(Ke,ee))ce[ue]=Ke,ce[de]=ee,ue=de;else break e}}return X}function l(ce,X){var ee=ce.sortIndex-X.sortIndex;return ee!==0?ee:ce.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var p=Date,y=p.now();e.unstable_now=function(){return p.now()-y}}var v=[],x=[],A=1,E=null,I=3,O=!1,k=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ce){for(var X=n(x);X!==null;){if(X.callback===null)r(x);else if(X.startTime<=ce)r(x),X.sortIndex=X.expirationTime,t(v,X);else break;X=n(x)}}function Z(ce){if(B=!1,D(ce),!k)if(n(v)!==null)k=!0,Ae(ne);else{var X=n(x);X!==null&&Ne(Z,X.startTime-ce)}}function ne(ce,X){k=!1,B&&(B=!1,j(le),le=-1),O=!0;var ee=I;try{for(D(X),E=n(v);E!==null&&(!(E.expirationTime>X)||ce&&!Pe());){var ue=E.callback;if(typeof ue=="function"){E.callback=null,I=E.priorityLevel;var we=ue(E.expirationTime<=X);X=e.unstable_now(),typeof we=="function"?E.callback=we:E===n(v)&&r(v),D(X)}else r(v);E=n(v)}if(E!==null)var Be=!0;else{var Te=n(x);Te!==null&&Ne(Z,Te.startTime-X),Be=!1}return Be}finally{E=null,I=ee,O=!1}}var ie=!1,K=null,le=-1,$=5,Ee=-1;function Pe(){return!(e.unstable_now()-Ee<$)}function ye(){if(K!==null){var ce=e.unstable_now();Ee=ce;var X=!0;try{X=K(!0,ce)}finally{X?De():(ie=!1,K=null)}}else ie=!1}var De;if(typeof F=="function")De=function(){F(ye)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,re=ke.port2;ke.port1.onmessage=ye,De=function(){re.postMessage(null)}}else De=function(){V(ye,0)};function Ae(ce){K=ce,ie||(ie=!0,De())}function Ne(ce,X){le=V(function(){ce(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){k||O||(k=!0,Ae(ne))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(ce){switch(I){case 1:case 2:case 3:var X=3;break;default:X=I}var ee=I;I=X;try{return ce()}finally{I=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,X){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var ee=I;I=ce;try{return X()}finally{I=ee}},e.unstable_scheduleCallback=function(ce,X,ee){var ue=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,ce){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ee+we,ce={id:A++,callback:X,priorityLevel:ce,startTime:ee,expirationTime:we,sortIndex:-1},ee>ue?(ce.sortIndex=ee,t(x,ce),n(v)===null&&ce===n(x)&&(B?(j(le),le=-1):B=!0,Ne(Z,ee-ue))):(ce.sortIndex=we,t(v,ce),k||O||(k=!0,Ae(ne))),ce},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(ce){var X=I;return function(){var ee=I;I=X;try{return ce.apply(this,arguments)}finally{I=ee}}}})(Cx);_x.exports=Cx;var F_=_x.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=H,gi=F_;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ex=new Set,El={};function wo(e,t){sa(e,t),sa(e+"Capture",t)}function sa(e,t){for(El[e]=t,e=0;e<t.length;e++)Ex.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=Object.prototype.hasOwnProperty,z_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rp={},sp={};function U_(e){return Lf.call(sp,e)?!0:Lf.call(rp,e)?!1:z_.test(e)?sp[e]=!0:(rp[e]=!0,!1)}function V_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H_(e,t,n,r){if(t===null||typeof t>"u"||V_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,n,r,l,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){An[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];An[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){An[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){An[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){An[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){An[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){An[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){An[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){An[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var s0=/[\-:]([a-z])/g;function o0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(s0,o0);An[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(s0,o0);An[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(s0,o0);An[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){An[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});An.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){An[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function a0(e,t,n,r){var l=An.hasOwnProperty(t)?An[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H_(t,n,l,r)&&(n=null),r||l===null?U_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ur=j_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Ax=Symbol.for("react.provider"),Sx=Symbol.for("react.context"),c0=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),u0=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),bx=Symbol.for("react.offscreen"),op=Symbol.iterator;function Ga(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Object.assign,Vh;function il(e){if(Vh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vh=t&&t[1]||""}return`
`+Vh+e}var Hh=!1;function Wh(e,t){if(!e||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),u=r.stack.split(`
`),p=l.length-1,y=u.length-1;1<=p&&0<=y&&l[p]!==u[y];)y--;for(;1<=p&&0<=y;p--,y--)if(l[p]!==u[y]){if(p!==1||y!==1)do if(p--,y--,0>y||l[p]!==u[y]){var v=`
`+l[p].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=p&&0<=y);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?il(e):""}function W_(e){switch(e.tag){case 5:return il(e.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return e=Wh(e.type,!1),e;case 11:return e=Wh(e.type.render,!1),e;case 1:return e=Wh(e.type,!0),e;default:return""}}function Ff(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case ko:return"Portal";case Df:return"Profiler";case l0:return"StrictMode";case kf:return"Suspense";case Bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sx:return(e.displayName||"Context")+".Consumer";case Ax:return(e._context.displayName||"Context")+".Provider";case c0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case u0:return t=e.displayName||null,t!==null?t:Ff(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return Ff(e(t))}catch{}}return null}function Z_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ff(t);case 8:return t===l0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G_(e){var t=Tx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){r=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ac(e){e._valueTracker||(e._valueTracker=G_(e))}function Ix(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jf(e,t){var n=t.checked;return Wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ap(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Es(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nx(e,t){t=t.checked,t!=null&&a0(e,"checked",t,!1)}function zf(e,t){Nx(e,t);var n=Es(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uf(e,t.type,Es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uf(e,t,n){(t!=="number"||uu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rl=Array.isArray;function $o(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Es(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Vf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(rl(n)){if(1<n.length)throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Es(n)}}function Mx(e,t){var n=Es(t.value),r=Es(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function up(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ox(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ox(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sc,Rx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y_=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(e){Y_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cl[t]=cl[e]})});function Px(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cl.hasOwnProperty(e)&&cl[e]?(""+t).trim():t+"px"}function Lx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Px(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var X_=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(e,t){if(t){if(X_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function Zf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function h0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yf=null,ea=null,ta=null;function hp(e){if(e=ql(e)){if(typeof Yf!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=Qu(t),Yf(e.stateNode,e.type,t))}}function Dx(e){ea?ta?ta.push(e):ta=[e]:ea=e}function kx(){if(ea){var e=ea,t=ta;if(ta=ea=null,hp(e),t)for(e=0;e<t.length;e++)hp(t[e])}}function Bx(e,t){return e(t)}function Fx(){}var Zh=!1;function jx(e,t,n){if(Zh)return e(t,n);Zh=!0;try{return Bx(e,t,n)}finally{Zh=!1,(ea!==null||ta!==null)&&(Fx(),kx())}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var r=Qu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var Xf=!1;if(kr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Xf=!1}function K_(e,t,n,r,l,u,p,y,v){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(A){this.onError(A)}}var ul=!1,hu=null,fu=!1,Kf=null,q_={onError:function(e){ul=!0,hu=e}};function Q_(e,t,n,r,l,u,p,y,v){ul=!1,hu=null,K_.apply(q_,arguments)}function J_(e,t,n,r,l,u,p,y,v){if(Q_.apply(this,arguments),ul){if(ul){var x=hu;ul=!1,hu=null}else throw Error(xe(198));fu||(fu=!0,Kf=x)}}function vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fp(e){if(vo(e)!==e)throw Error(xe(188))}function $_(e){var t=e.alternate;if(!t){if(t=vo(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return fp(l),e;if(u===r)return fp(l),t;u=u.sibling}throw Error(xe(188))}if(n.return!==r.return)n=l,r=u;else{for(var p=!1,y=l.child;y;){if(y===n){p=!0,n=l,r=u;break}if(y===r){p=!0,r=l,n=u;break}y=y.sibling}if(!p){for(y=u.child;y;){if(y===n){p=!0,n=u,r=l;break}if(y===r){p=!0,r=u,n=l;break}y=y.sibling}if(!p)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function Ux(e){return e=$_(e),e!==null?Vx(e):null}function Vx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vx(e);if(t!==null)return t;e=e.sibling}return null}var Hx=gi.unstable_scheduleCallback,dp=gi.unstable_cancelCallback,eC=gi.unstable_shouldYield,tC=gi.unstable_requestPaint,qt=gi.unstable_now,nC=gi.unstable_getCurrentPriorityLevel,f0=gi.unstable_ImmediatePriority,Wx=gi.unstable_UserBlockingPriority,du=gi.unstable_NormalPriority,iC=gi.unstable_LowPriority,Zx=gi.unstable_IdlePriority,Yu=null,pr=null;function rC(e){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Yu,e,void 0,(e.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:aC,sC=Math.log,oC=Math.LN2;function aC(e){return e>>>=0,e===0?32:31-(sC(e)/oC|0)|0}var bc=64,Tc=4194304;function sl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,u=e.pingedLanes,p=n&268435455;if(p!==0){var y=p&~l;y!==0?r=sl(y):(u&=p,u!==0&&(r=sl(u)))}else p=n&~l,p!==0?r=sl(p):u!==0&&(r=sl(u));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$i(t),l=1<<n,r|=e[n],t&=~l;return r}function lC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-$i(u),y=1<<p,v=l[p];v===-1?(!(y&n)||y&r)&&(l[p]=lC(y,t)):v<=t&&(e.expiredLanes|=y),u&=~y}}function qf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gx(){var e=bc;return bc<<=1,!(bc&4194240)&&(bc=64),e}function Gh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$i(t),e[t]=n}function uC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-$i(n),u=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~u}}function d0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$i(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var wt=0;function Yx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xx,p0,Kx,qx,Qx,Qf=!1,Ic=[],ds=null,ps=null,ms=null,bl=new Map,Tl=new Map,ls=[],hC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pp(e,t){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(t.pointerId)}}function Xa(e,t,n,r,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[l]},t!==null&&(t=ql(t),t!==null&&p0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fC(e,t,n,r,l){switch(t){case"focusin":return ds=Xa(ds,e,t,n,r,l),!0;case"dragenter":return ps=Xa(ps,e,t,n,r,l),!0;case"mouseover":return ms=Xa(ms,e,t,n,r,l),!0;case"pointerover":var u=l.pointerId;return bl.set(u,Xa(bl.get(u)||null,e,t,n,r,l)),!0;case"gotpointercapture":return u=l.pointerId,Tl.set(u,Xa(Tl.get(u)||null,e,t,n,r,l)),!0}return!1}function Jx(e){var t=eo(e.target);if(t!==null){var n=vo(t);if(n!==null){if(t=n.tag,t===13){if(t=zx(n),t!==null){e.blockedOn=t,Qx(e.priority,function(){Kx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gf=r,n.target.dispatchEvent(r),Gf=null}else return t=ql(n),t!==null&&p0(t),e.blockedOn=n,!1;t.shift()}return!0}function mp(e,t,n){Xc(e)&&n.delete(t)}function dC(){Qf=!1,ds!==null&&Xc(ds)&&(ds=null),ps!==null&&Xc(ps)&&(ps=null),ms!==null&&Xc(ms)&&(ms=null),bl.forEach(mp),Tl.forEach(mp)}function Ka(e,t){e.blockedOn===t&&(e.blockedOn=null,Qf||(Qf=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,dC)))}function Il(e){function t(l){return Ka(l,e)}if(0<Ic.length){Ka(Ic[0],e);for(var n=1;n<Ic.length;n++){var r=Ic[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ds!==null&&Ka(ds,e),ps!==null&&Ka(ps,e),ms!==null&&Ka(ms,e),bl.forEach(t),Tl.forEach(t),n=0;n<ls.length;n++)r=ls[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ls.length&&(n=ls[0],n.blockedOn===null);)Jx(n),n.blockedOn===null&&ls.shift()}var na=Ur.ReactCurrentBatchConfig,mu=!0;function pC(e,t,n,r){var l=wt,u=na.transition;na.transition=null;try{wt=1,m0(e,t,n,r)}finally{wt=l,na.transition=u}}function mC(e,t,n,r){var l=wt,u=na.transition;na.transition=null;try{wt=4,m0(e,t,n,r)}finally{wt=l,na.transition=u}}function m0(e,t,n,r){if(mu){var l=Jf(e,t,n,r);if(l===null)nf(e,t,r,gu,n),pp(e,r);else if(fC(l,e,t,n,r))r.stopPropagation();else if(pp(e,r),t&4&&-1<hC.indexOf(e)){for(;l!==null;){var u=ql(l);if(u!==null&&Xx(u),u=Jf(e,t,n,r),u===null&&nf(e,t,r,gu,n),u===l)break;l=u}l!==null&&r.stopPropagation()}else nf(e,t,r,null,n)}}var gu=null;function Jf(e,t,n,r){if(gu=null,e=h0(r),e=eo(e),e!==null)if(t=vo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gu=e,null}function $x(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nC()){case f0:return 1;case Wx:return 4;case du:case iC:return 16;case Zx:return 536870912;default:return 16}default:return 16}}var us=null,g0=null,Kc=null;function e2(){if(Kc)return Kc;var e,t=g0,n=t.length,r,l="value"in us?us.value:us.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var p=n-e;for(r=1;r<=p&&t[n-r]===l[u-r];r++);return Kc=l.slice(e,1<r?1-r:void 0)}function qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nc(){return!0}function gp(){return!1}function wi(e){function t(n,r,l,u,p){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Nc:gp,this.isPropagationStopped=gp,this}return Wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),t}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=wi(xa),Kl=Wt({},xa,{view:0,detail:0}),gC=wi(Kl),Yh,Xh,qa,Xu=Wt({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qa&&(qa&&e.type==="mousemove"?(Yh=e.screenX-qa.screenX,Xh=e.screenY-qa.screenY):Xh=Yh=0,qa=e),Yh)},movementY:function(e){return"movementY"in e?e.movementY:Xh}}),xp=wi(Xu),xC=Wt({},Xu,{dataTransfer:0}),yC=wi(xC),wC=Wt({},Kl,{relatedTarget:0}),Kh=wi(wC),vC=Wt({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),_C=wi(vC),CC=Wt({},xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EC=wi(CC),AC=Wt({},xa,{data:0}),yp=wi(AC),SC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TC[e])?!!t[e]:!1}function y0(){return IC}var NC=Wt({},Kl,{key:function(e){if(e.key){var t=SC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(e){return e.type==="keypress"?qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MC=wi(NC),OC=Wt({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wp=wi(OC),RC=Wt({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),PC=wi(RC),LC=Wt({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=wi(LC),kC=Wt({},Xu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BC=wi(kC),FC=[9,13,27,32],w0=kr&&"CompositionEvent"in window,hl=null;kr&&"documentMode"in document&&(hl=document.documentMode);var jC=kr&&"TextEvent"in window&&!hl,t2=kr&&(!w0||hl&&8<hl&&11>=hl),vp=" ",_p=!1;function n2(e,t){switch(e){case"keyup":return FC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fo=!1;function zC(e,t){switch(e){case"compositionend":return i2(t);case"keypress":return t.which!==32?null:(_p=!0,vp);case"textInput":return e=t.data,e===vp&&_p?null:e;default:return null}}function UC(e,t){if(Fo)return e==="compositionend"||!w0&&n2(e,t)?(e=e2(),Kc=g0=us=null,Fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t2&&t.locale!=="ko"?null:t.data;default:return null}}var VC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VC[e.type]:t==="textarea"}function r2(e,t,n,r){Dx(r),t=xu(t,"onChange"),0<t.length&&(n=new x0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fl=null,Nl=null;function HC(e){m2(e,0)}function Ku(e){var t=Uo(e);if(Ix(t))return e}function WC(e,t){if(e==="change")return t}var s2=!1;if(kr){var qh;if(kr){var Qh="oninput"in document;if(!Qh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Qh=typeof Ep.oninput=="function"}qh=Qh}else qh=!1;s2=qh&&(!document.documentMode||9<document.documentMode)}function Ap(){fl&&(fl.detachEvent("onpropertychange",o2),Nl=fl=null)}function o2(e){if(e.propertyName==="value"&&Ku(Nl)){var t=[];r2(t,Nl,e,h0(e)),jx(HC,t)}}function ZC(e,t,n){e==="focusin"?(Ap(),fl=t,Nl=n,fl.attachEvent("onpropertychange",o2)):e==="focusout"&&Ap()}function GC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(Nl)}function YC(e,t){if(e==="click")return Ku(t)}function XC(e,t){if(e==="input"||e==="change")return Ku(t)}function KC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:KC;function Ml(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Lf.call(t,l)||!tr(e[l],t[l]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,t){var n=Sp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sp(n)}}function a2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function l2(){for(var e=window,t=uu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uu(e.document)}return t}function v0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qC(e){var t=l2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&a2(n.ownerDocument.documentElement,n)){if(r!==null&&v0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,u=Math.min(r.start,l);r=r.end===void 0?u:Math.min(r.end,l),!e.extend&&u>r&&(l=r,r=u,u=l),l=bp(n,u);var p=bp(n,r);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QC=kr&&"documentMode"in document&&11>=document.documentMode,jo=null,$f=null,dl=null,ed=!1;function Tp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ed||jo==null||jo!==uu(r)||(r=jo,"selectionStart"in r&&v0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Ml(dl,r)||(dl=r,r=xu($f,"onSelect"),0<r.length&&(t=new x0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jo)))}function Mc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Jh={},c2={};kr&&(c2=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function qu(e){if(Jh[e])return Jh[e];if(!zo[e])return e;var t=zo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in c2)return Jh[e]=t[n];return e}var u2=qu("animationend"),h2=qu("animationiteration"),f2=qu("animationstart"),d2=qu("transitionend"),p2=new Map,Ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(e,t){p2.set(e,t),wo(t,[e])}for(var $h=0;$h<Ip.length;$h++){var ef=Ip[$h],JC=ef.toLowerCase(),$C=ef[0].toUpperCase()+ef.slice(1);Is(JC,"on"+$C)}Is(u2,"onAnimationEnd");Is(h2,"onAnimationIteration");Is(f2,"onAnimationStart");Is("dblclick","onDoubleClick");Is("focusin","onFocus");Is("focusout","onBlur");Is(d2,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Np(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,J_(r,t,void 0,e),e.currentTarget=null}function m2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var p=r.length-1;0<=p;p--){var y=r[p],v=y.instance,x=y.currentTarget;if(y=y.listener,v!==u&&l.isPropagationStopped())break e;Np(l,y,x),u=v}else for(p=0;p<r.length;p++){if(y=r[p],v=y.instance,x=y.currentTarget,y=y.listener,v!==u&&l.isPropagationStopped())break e;Np(l,y,x),u=v}}}if(fu)throw e=Kf,fu=!1,Kf=null,e}function Lt(e,t){var n=t[sd];n===void 0&&(n=t[sd]=new Set);var r=e+"__bubble";n.has(r)||(g2(t,e,2,!1),n.add(r))}function tf(e,t,n){var r=0;t&&(r|=4),g2(n,e,r,t)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Ol(e){if(!e[Oc]){e[Oc]=!0,Ex.forEach(function(n){n!=="selectionchange"&&(eE.has(n)||tf(n,!1,e),tf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oc]||(t[Oc]=!0,tf("selectionchange",!1,t))}}function g2(e,t,n,r){switch($x(t)){case 1:var l=pC;break;case 4:l=mC;break;default:l=m0}n=l.bind(null,t,n,e),l=void 0,!Xf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function nf(e,t,n,r,l){var u=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var y=r.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(p===4)for(p=r.return;p!==null;){var v=p.tag;if((v===3||v===4)&&(v=p.stateNode.containerInfo,v===l||v.nodeType===8&&v.parentNode===l))return;p=p.return}for(;y!==null;){if(p=eo(y),p===null)return;if(v=p.tag,v===5||v===6){r=u=p;continue e}y=y.parentNode}}r=r.return}jx(function(){var x=u,A=h0(n),E=[];e:{var I=p2.get(e);if(I!==void 0){var O=x0,k=e;switch(e){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":O=MC;break;case"focusin":k="focus",O=Kh;break;case"focusout":k="blur",O=Kh;break;case"beforeblur":case"afterblur":O=Kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=yC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=PC;break;case u2:case h2:case f2:O=_C;break;case d2:O=DC;break;case"scroll":O=gC;break;case"wheel":O=BC;break;case"copy":case"cut":case"paste":O=EC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=wp}var B=(t&4)!==0,V=!B&&e==="scroll",j=B?I!==null?I+"Capture":null:I;B=[];for(var F=x,D;F!==null;){D=F;var Z=D.stateNode;if(D.tag===5&&Z!==null&&(D=Z,j!==null&&(Z=Sl(F,j),Z!=null&&B.push(Rl(F,Z,D)))),V)break;F=F.return}0<B.length&&(I=new O(I,k,null,n,A),E.push({event:I,listeners:B}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",I&&n!==Gf&&(k=n.relatedTarget||n.fromElement)&&(eo(k)||k[Br]))break e;if((O||I)&&(I=A.window===A?A:(I=A.ownerDocument)?I.defaultView||I.parentWindow:window,O?(k=n.relatedTarget||n.toElement,O=x,k=k?eo(k):null,k!==null&&(V=vo(k),k!==V||k.tag!==5&&k.tag!==6)&&(k=null)):(O=null,k=x),O!==k)){if(B=xp,Z="onMouseLeave",j="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(B=wp,Z="onPointerLeave",j="onPointerEnter",F="pointer"),V=O==null?I:Uo(O),D=k==null?I:Uo(k),I=new B(Z,F+"leave",O,n,A),I.target=V,I.relatedTarget=D,Z=null,eo(A)===x&&(B=new B(j,F+"enter",k,n,A),B.target=D,B.relatedTarget=V,Z=B),V=Z,O&&k)t:{for(B=O,j=k,F=0,D=B;D;D=Lo(D))F++;for(D=0,Z=j;Z;Z=Lo(Z))D++;for(;0<F-D;)B=Lo(B),F--;for(;0<D-F;)j=Lo(j),D--;for(;F--;){if(B===j||j!==null&&B===j.alternate)break t;B=Lo(B),j=Lo(j)}B=null}else B=null;O!==null&&Mp(E,I,O,B,!1),k!==null&&V!==null&&Mp(E,V,k,B,!0)}}e:{if(I=x?Uo(x):window,O=I.nodeName&&I.nodeName.toLowerCase(),O==="select"||O==="input"&&I.type==="file")var ne=WC;else if(Cp(I))if(s2)ne=XC;else{ne=GC;var ie=ZC}else(O=I.nodeName)&&O.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(ne=YC);if(ne&&(ne=ne(e,x))){r2(E,ne,n,A);break e}ie&&ie(e,I,x),e==="focusout"&&(ie=I._wrapperState)&&ie.controlled&&I.type==="number"&&Uf(I,"number",I.value)}switch(ie=x?Uo(x):window,e){case"focusin":(Cp(ie)||ie.contentEditable==="true")&&(jo=ie,$f=x,dl=null);break;case"focusout":dl=$f=jo=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Tp(E,n,A);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":Tp(E,n,A)}var K;if(w0)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Fo?n2(e,n)&&(le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(le="onCompositionStart");le&&(t2&&n.locale!=="ko"&&(Fo||le!=="onCompositionStart"?le==="onCompositionEnd"&&Fo&&(K=e2()):(us=A,g0="value"in us?us.value:us.textContent,Fo=!0)),ie=xu(x,le),0<ie.length&&(le=new yp(le,e,null,n,A),E.push({event:le,listeners:ie}),K?le.data=K:(K=i2(n),K!==null&&(le.data=K)))),(K=jC?zC(e,n):UC(e,n))&&(x=xu(x,"onBeforeInput"),0<x.length&&(A=new yp("onBeforeInput","beforeinput",null,n,A),E.push({event:A,listeners:x}),A.data=K))}m2(E,t)})}function Rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xu(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=Sl(e,n),u!=null&&r.unshift(Rl(e,u,l)),u=Sl(e,t),u!=null&&r.push(Rl(e,u,l))),e=e.return}return r}function Lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mp(e,t,n,r,l){for(var u=t._reactName,p=[];n!==null&&n!==r;){var y=n,v=y.alternate,x=y.stateNode;if(v!==null&&v===r)break;y.tag===5&&x!==null&&(y=x,l?(v=Sl(n,u),v!=null&&p.unshift(Rl(n,v,y))):l||(v=Sl(n,u),v!=null&&p.push(Rl(n,v,y)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var tE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(tE,`
`).replace(nE,"")}function Rc(e,t,n){if(t=Op(t),Op(e)!==t&&n)throw Error(xe(425))}function yu(){}var td=null,nd=null;function id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(e){return Rp.resolve(null).then(e).catch(sE)}:rd;function sE(e){setTimeout(function(){throw e})}function rf(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Il(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Il(t)}function gs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),dr="__reactFiber$"+ya,Pl="__reactProps$"+ya,Br="__reactContainer$"+ya,sd="__reactEvents$"+ya,oE="__reactListeners$"+ya,aE="__reactHandles$"+ya;function eo(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Br]||n[dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pp(e);e!==null;){if(n=e[dr])return n;e=Pp(e)}return t}e=n,n=e.parentNode}return null}function ql(e){return e=e[dr]||e[Br],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function Qu(e){return e[Pl]||null}var od=[],Vo=-1;function Ns(e){return{current:e}}function Dt(e){0>Vo||(e.current=od[Vo],od[Vo]=null,Vo--)}function Nt(e,t){Vo++,od[Vo]=e.current,e.current=t}var As={},Ln=Ns(As),$n=Ns(!1),ho=As;function oa(e,t){var n=e.type.contextTypes;if(!n)return As;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in n)l[u]=t[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ei(e){return e=e.childContextTypes,e!=null}function wu(){Dt($n),Dt(Ln)}function Lp(e,t,n){if(Ln.current!==As)throw Error(xe(168));Nt(Ln,t),Nt($n,n)}function x2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(xe(108,Z_(e)||"Unknown",l));return Wt({},n,r)}function vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||As,ho=Ln.current,Nt(Ln,e),Nt($n,$n.current),!0}function Dp(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=x2(e,t,ho),r.__reactInternalMemoizedMergedChildContext=e,Dt($n),Dt(Ln),Nt(Ln,e)):Dt($n),Nt($n,n)}var Ir=null,Ju=!1,sf=!1;function y2(e){Ir===null?Ir=[e]:Ir.push(e)}function lE(e){Ju=!0,y2(e)}function Ms(){if(!sf&&Ir!==null){sf=!0;var e=0,t=wt;try{var n=Ir;for(wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ir=null,Ju=!1}catch(l){throw Ir!==null&&(Ir=Ir.slice(e+1)),Hx(f0,Ms),l}finally{wt=t,sf=!1}}return null}var Ho=[],Wo=0,_u=null,Cu=0,Pi=[],Li=0,fo=null,Nr=1,Mr="";function Ks(e,t){Ho[Wo++]=Cu,Ho[Wo++]=_u,_u=e,Cu=t}function w2(e,t,n){Pi[Li++]=Nr,Pi[Li++]=Mr,Pi[Li++]=fo,fo=e;var r=Nr;e=Mr;var l=32-$i(r)-1;r&=~(1<<l),n+=1;var u=32-$i(t)+l;if(30<u){var p=l-l%5;u=(r&(1<<p)-1).toString(32),r>>=p,l-=p,Nr=1<<32-$i(t)+l|n<<l|r,Mr=u+e}else Nr=1<<u|n<<l|r,Mr=e}function _0(e){e.return!==null&&(Ks(e,1),w2(e,1,0))}function C0(e){for(;e===_u;)_u=Ho[--Wo],Ho[Wo]=null,Cu=Ho[--Wo],Ho[Wo]=null;for(;e===fo;)fo=Pi[--Li],Pi[Li]=null,Mr=Pi[--Li],Pi[Li]=null,Nr=Pi[--Li],Pi[Li]=null}var mi=null,pi=null,Bt=!1,Ji=null;function v2(e,t){var n=Di(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,pi=gs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fo!==null?{id:Nr,overflow:Mr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Di(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mi=e,pi=null,!0):!1;default:return!1}}function ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ld(e){if(Bt){var t=pi;if(t){var n=t;if(!kp(e,t)){if(ad(e))throw Error(xe(418));t=gs(n.nextSibling);var r=mi;t&&kp(e,t)?v2(r,n):(e.flags=e.flags&-4097|2,Bt=!1,mi=e)}}else{if(ad(e))throw Error(xe(418));e.flags=e.flags&-4097|2,Bt=!1,mi=e}}}function Bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function Pc(e){if(e!==mi)return!1;if(!Bt)return Bp(e),Bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!id(e.type,e.memoizedProps)),t&&(t=pi)){if(ad(e))throw _2(),Error(xe(418));for(;t;)v2(e,t),t=gs(t.nextSibling)}if(Bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pi=gs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=mi?gs(e.stateNode.nextSibling):null;return!0}function _2(){for(var e=pi;e;)e=gs(e.nextSibling)}function aa(){pi=mi=null,Bt=!1}function E0(e){Ji===null?Ji=[e]:Ji.push(e)}var cE=Ur.ReactCurrentBatchConfig;function Qa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var l=r,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var y=l.refs;p===null?delete y[u]:y[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function Lc(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fp(e){var t=e._init;return t(e._payload)}function C2(e){function t(j,F){if(e){var D=j.deletions;D===null?(j.deletions=[F],j.flags|=16):D.push(F)}}function n(j,F){if(!e)return null;for(;F!==null;)t(j,F),F=F.sibling;return null}function r(j,F){for(j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function l(j,F){return j=vs(j,F),j.index=0,j.sibling=null,j}function u(j,F,D){return j.index=D,e?(D=j.alternate,D!==null?(D=D.index,D<F?(j.flags|=2,F):D):(j.flags|=2,F)):(j.flags|=1048576,F)}function p(j){return e&&j.alternate===null&&(j.flags|=2),j}function y(j,F,D,Z){return F===null||F.tag!==6?(F=ff(D,j.mode,Z),F.return=j,F):(F=l(F,D),F.return=j,F)}function v(j,F,D,Z){var ne=D.type;return ne===Bo?A(j,F,D.props.children,Z,D.key):F!==null&&(F.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ss&&Fp(ne)===F.type)?(Z=l(F,D.props),Z.ref=Qa(j,F,D),Z.return=j,Z):(Z=iu(D.type,D.key,D.props,null,j.mode,Z),Z.ref=Qa(j,F,D),Z.return=j,Z)}function x(j,F,D,Z){return F===null||F.tag!==4||F.stateNode.containerInfo!==D.containerInfo||F.stateNode.implementation!==D.implementation?(F=df(D,j.mode,Z),F.return=j,F):(F=l(F,D.children||[]),F.return=j,F)}function A(j,F,D,Z,ne){return F===null||F.tag!==7?(F=oo(D,j.mode,Z,ne),F.return=j,F):(F=l(F,D),F.return=j,F)}function E(j,F,D){if(typeof F=="string"&&F!==""||typeof F=="number")return F=ff(""+F,j.mode,D),F.return=j,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ec:return D=iu(F.type,F.key,F.props,null,j.mode,D),D.ref=Qa(j,null,F),D.return=j,D;case ko:return F=df(F,j.mode,D),F.return=j,F;case ss:var Z=F._init;return E(j,Z(F._payload),D)}if(rl(F)||Ga(F))return F=oo(F,j.mode,D,null),F.return=j,F;Lc(j,F)}return null}function I(j,F,D,Z){var ne=F!==null?F.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ne!==null?null:y(j,F,""+D,Z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ec:return D.key===ne?v(j,F,D,Z):null;case ko:return D.key===ne?x(j,F,D,Z):null;case ss:return ne=D._init,I(j,F,ne(D._payload),Z)}if(rl(D)||Ga(D))return ne!==null?null:A(j,F,D,Z,null);Lc(j,D)}return null}function O(j,F,D,Z,ne){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return j=j.get(D)||null,y(F,j,""+Z,ne);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ec:return j=j.get(Z.key===null?D:Z.key)||null,v(F,j,Z,ne);case ko:return j=j.get(Z.key===null?D:Z.key)||null,x(F,j,Z,ne);case ss:var ie=Z._init;return O(j,F,D,ie(Z._payload),ne)}if(rl(Z)||Ga(Z))return j=j.get(D)||null,A(F,j,Z,ne,null);Lc(F,Z)}return null}function k(j,F,D,Z){for(var ne=null,ie=null,K=F,le=F=0,$=null;K!==null&&le<D.length;le++){K.index>le?($=K,K=null):$=K.sibling;var Ee=I(j,K,D[le],Z);if(Ee===null){K===null&&(K=$);break}e&&K&&Ee.alternate===null&&t(j,K),F=u(Ee,F,le),ie===null?ne=Ee:ie.sibling=Ee,ie=Ee,K=$}if(le===D.length)return n(j,K),Bt&&Ks(j,le),ne;if(K===null){for(;le<D.length;le++)K=E(j,D[le],Z),K!==null&&(F=u(K,F,le),ie===null?ne=K:ie.sibling=K,ie=K);return Bt&&Ks(j,le),ne}for(K=r(j,K);le<D.length;le++)$=O(K,j,le,D[le],Z),$!==null&&(e&&$.alternate!==null&&K.delete($.key===null?le:$.key),F=u($,F,le),ie===null?ne=$:ie.sibling=$,ie=$);return e&&K.forEach(function(Pe){return t(j,Pe)}),Bt&&Ks(j,le),ne}function B(j,F,D,Z){var ne=Ga(D);if(typeof ne!="function")throw Error(xe(150));if(D=ne.call(D),D==null)throw Error(xe(151));for(var ie=ne=null,K=F,le=F=0,$=null,Ee=D.next();K!==null&&!Ee.done;le++,Ee=D.next()){K.index>le?($=K,K=null):$=K.sibling;var Pe=I(j,K,Ee.value,Z);if(Pe===null){K===null&&(K=$);break}e&&K&&Pe.alternate===null&&t(j,K),F=u(Pe,F,le),ie===null?ne=Pe:ie.sibling=Pe,ie=Pe,K=$}if(Ee.done)return n(j,K),Bt&&Ks(j,le),ne;if(K===null){for(;!Ee.done;le++,Ee=D.next())Ee=E(j,Ee.value,Z),Ee!==null&&(F=u(Ee,F,le),ie===null?ne=Ee:ie.sibling=Ee,ie=Ee);return Bt&&Ks(j,le),ne}for(K=r(j,K);!Ee.done;le++,Ee=D.next())Ee=O(K,j,le,Ee.value,Z),Ee!==null&&(e&&Ee.alternate!==null&&K.delete(Ee.key===null?le:Ee.key),F=u(Ee,F,le),ie===null?ne=Ee:ie.sibling=Ee,ie=Ee);return e&&K.forEach(function(ye){return t(j,ye)}),Bt&&Ks(j,le),ne}function V(j,F,D,Z){if(typeof D=="object"&&D!==null&&D.type===Bo&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Ec:e:{for(var ne=D.key,ie=F;ie!==null;){if(ie.key===ne){if(ne=D.type,ne===Bo){if(ie.tag===7){n(j,ie.sibling),F=l(ie,D.props.children),F.return=j,j=F;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ss&&Fp(ne)===ie.type){n(j,ie.sibling),F=l(ie,D.props),F.ref=Qa(j,ie,D),F.return=j,j=F;break e}n(j,ie);break}else t(j,ie);ie=ie.sibling}D.type===Bo?(F=oo(D.props.children,j.mode,Z,D.key),F.return=j,j=F):(Z=iu(D.type,D.key,D.props,null,j.mode,Z),Z.ref=Qa(j,F,D),Z.return=j,j=Z)}return p(j);case ko:e:{for(ie=D.key;F!==null;){if(F.key===ie)if(F.tag===4&&F.stateNode.containerInfo===D.containerInfo&&F.stateNode.implementation===D.implementation){n(j,F.sibling),F=l(F,D.children||[]),F.return=j,j=F;break e}else{n(j,F);break}else t(j,F);F=F.sibling}F=df(D,j.mode,Z),F.return=j,j=F}return p(j);case ss:return ie=D._init,V(j,F,ie(D._payload),Z)}if(rl(D))return k(j,F,D,Z);if(Ga(D))return B(j,F,D,Z);Lc(j,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,F!==null&&F.tag===6?(n(j,F.sibling),F=l(F,D),F.return=j,j=F):(n(j,F),F=ff(D,j.mode,Z),F.return=j,j=F),p(j)):n(j,F)}return V}var la=C2(!0),E2=C2(!1),Eu=Ns(null),Au=null,Zo=null,A0=null;function S0(){A0=Zo=Au=null}function b0(e){var t=Eu.current;Dt(Eu),e._currentValue=t}function cd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ia(e,t){Au=e,A0=Zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jn=!0),e.firstContext=null)}function Bi(e){var t=e._currentValue;if(A0!==e)if(e={context:e,memoizedValue:t,next:null},Zo===null){if(Au===null)throw Error(xe(308));Zo=e,Au.dependencies={lanes:0,firstContext:e}}else Zo=Zo.next=e;return t}var to=null;function T0(e){to===null?to=[e]:to.push(e)}function A2(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,T0(t)):(n.next=l.next,l.next=n),t.interleaved=n,Fr(e,r)}function Fr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var os=!1;function I0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Fr(e,n)}return l=r.interleaved,l===null?(t.next=t,T0(r)):(t.next=l.next,l.next=t),r.interleaved=t,Fr(e,n)}function Qc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,d0(e,n)}}function jp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?l=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Su(e,t,n,r){var l=e.updateQueue;os=!1;var u=l.firstBaseUpdate,p=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var v=y,x=v.next;v.next=null,p===null?u=x:p.next=x,p=v;var A=e.alternate;A!==null&&(A=A.updateQueue,y=A.lastBaseUpdate,y!==p&&(y===null?A.firstBaseUpdate=x:y.next=x,A.lastBaseUpdate=v))}if(u!==null){var E=l.baseState;p=0,A=x=v=null,y=u;do{var I=y.lane,O=y.eventTime;if((r&I)===I){A!==null&&(A=A.next={eventTime:O,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var k=e,B=y;switch(I=t,O=n,B.tag){case 1:if(k=B.payload,typeof k=="function"){E=k.call(O,E,I);break e}E=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=B.payload,I=typeof k=="function"?k.call(O,E,I):k,I==null)break e;E=Wt({},E,I);break e;case 2:os=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[y]:I.push(y))}else O={eventTime:O,lane:I,tag:y.tag,payload:y.payload,callback:y.callback,next:null},A===null?(x=A=O,v=E):A=A.next=O,p|=I;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;I=y,y=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(!0);if(A===null&&(v=E),l.baseState=v,l.firstBaseUpdate=x,l.lastBaseUpdate=A,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);mo|=p,e.lanes=p,e.memoizedState=E}}function zp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(xe(191,l));l.call(r)}}}var Ql={},mr=Ns(Ql),Ll=Ns(Ql),Dl=Ns(Ql);function no(e){if(e===Ql)throw Error(xe(174));return e}function N0(e,t){switch(Nt(Dl,t),Nt(Ll,e),Nt(mr,Ql),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hf(t,e)}Dt(mr),Nt(mr,t)}function ca(){Dt(mr),Dt(Ll),Dt(Dl)}function b2(e){no(Dl.current);var t=no(mr.current),n=Hf(t,e.type);t!==n&&(Nt(Ll,e),Nt(mr,n))}function M0(e){Ll.current===e&&(Dt(mr),Dt(Ll))}var Ut=Ns(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var of=[];function O0(){for(var e=0;e<of.length;e++)of[e]._workInProgressVersionPrimary=null;of.length=0}var Jc=Ur.ReactCurrentDispatcher,af=Ur.ReactCurrentBatchConfig,po=0,Ht=null,cn=null,wn=null,Tu=!1,pl=!1,kl=0,uE=0;function Nn(){throw Error(xe(321))}function R0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function P0(e,t,n,r,l,u){if(po=u,Ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jc.current=e===null||e.memoizedState===null?pE:mE,e=n(r,l),pl){u=0;do{if(pl=!1,kl=0,25<=u)throw Error(xe(301));u+=1,wn=cn=null,t.updateQueue=null,Jc.current=gE,e=n(r,l)}while(pl)}if(Jc.current=Iu,t=cn!==null&&cn.next!==null,po=0,wn=cn=Ht=null,Tu=!1,t)throw Error(xe(300));return e}function L0(){var e=kl!==0;return kl=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ht.memoizedState=wn=e:wn=wn.next=e,wn}function Fi(){if(cn===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=cn.next;var t=wn===null?Ht.memoizedState:wn.next;if(t!==null)wn=t,cn=e;else{if(e===null)throw Error(xe(310));cn=e,e={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},wn===null?Ht.memoizedState=wn=e:wn=wn.next=e}return wn}function Bl(e,t){return typeof t=="function"?t(e):t}function lf(e){var t=Fi(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=cn,l=r.baseQueue,u=n.pending;if(u!==null){if(l!==null){var p=l.next;l.next=u.next,u.next=p}r.baseQueue=l=u,n.pending=null}if(l!==null){u=l.next,r=r.baseState;var y=p=null,v=null,x=u;do{var A=x.lane;if((po&A)===A)v!==null&&(v=v.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var E={lane:A,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};v===null?(y=v=E,p=r):v=v.next=E,Ht.lanes|=A,mo|=A}x=x.next}while(x!==null&&x!==u);v===null?p=r:v.next=y,tr(r,t.memoizedState)||(Jn=!0),t.memoizedState=r,t.baseState=p,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do u=l.lane,Ht.lanes|=u,mo|=u,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cf(e){var t=Fi(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do u=e(u,p.action),p=p.next;while(p!==l);tr(u,t.memoizedState)||(Jn=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function T2(){}function I2(e,t){var n=Ht,r=Fi(),l=t(),u=!tr(r.memoizedState,l);if(u&&(r.memoizedState=l,Jn=!0),r=r.queue,D0(O2.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,Fl(9,M2.bind(null,n,r,l,t),void 0,null),vn===null)throw Error(xe(349));po&30||N2(n,t,l)}return l}function N2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function M2(e,t,n,r){t.value=n,t.getSnapshot=r,R2(t)&&P2(e)}function O2(e,t,n){return n(function(){R2(t)&&P2(e)})}function R2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch{return!0}}function P2(e){var t=Fr(e,1);t!==null&&er(t,e,1,-1)}function Up(e){var t=hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},t.queue=e,e=e.dispatch=dE.bind(null,Ht,e),[t.memoizedState,e]}function Fl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function L2(){return Fi().memoizedState}function $c(e,t,n,r){var l=hr();Ht.flags|=e,l.memoizedState=Fl(1|t,n,void 0,r===void 0?null:r)}function $u(e,t,n,r){var l=Fi();r=r===void 0?null:r;var u=void 0;if(cn!==null){var p=cn.memoizedState;if(u=p.destroy,r!==null&&R0(r,p.deps)){l.memoizedState=Fl(t,n,u,r);return}}Ht.flags|=e,l.memoizedState=Fl(1|t,n,u,r)}function Vp(e,t){return $c(8390656,8,e,t)}function D0(e,t){return $u(2048,8,e,t)}function D2(e,t){return $u(4,2,e,t)}function k2(e,t){return $u(4,4,e,t)}function B2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F2(e,t,n){return n=n!=null?n.concat([e]):null,$u(4,4,B2.bind(null,t,e),n)}function k0(){}function j2(e,t){var n=Fi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&R0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function z2(e,t){var n=Fi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&R0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function U2(e,t,n){return po&21?(tr(n,t)||(n=Gx(),Ht.lanes|=n,mo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jn=!0),e.memoizedState=n)}function hE(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var r=af.transition;af.transition={};try{e(!1),t()}finally{wt=n,af.transition=r}}function V2(){return Fi().memoizedState}function fE(e,t,n){var r=ws(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},H2(e))W2(t,n);else if(n=A2(e,t,n,r),n!==null){var l=Wn();er(n,e,r,l),Z2(n,t,r)}}function dE(e,t,n){var r=ws(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(H2(e))W2(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,y=u(p,n);if(l.hasEagerState=!0,l.eagerState=y,tr(y,p)){var v=t.interleaved;v===null?(l.next=l,T0(t)):(l.next=v.next,v.next=l),t.interleaved=l;return}}catch{}finally{}n=A2(e,t,l,r),n!==null&&(l=Wn(),er(n,e,r,l),Z2(n,t,r))}}function H2(e){var t=e.alternate;return e===Ht||t!==null&&t===Ht}function W2(e,t){pl=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,d0(e,n)}}var Iu={readContext:Bi,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},pE={readContext:Bi,useCallback:function(e,t){return hr().memoizedState=[e,t===void 0?null:t],e},useContext:Bi,useEffect:Vp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$c(4194308,4,B2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $c(4194308,4,e,t)},useInsertionEffect:function(e,t){return $c(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fE.bind(null,Ht,e),[r.memoizedState,e]},useRef:function(e){var t=hr();return e={current:e},t.memoizedState=e},useState:Up,useDebugValue:k0,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=Up(!1),t=e[0];return e=hE.bind(null,e[1]),hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ht,l=hr();if(Bt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=t(),vn===null)throw Error(xe(349));po&30||N2(r,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,Vp(O2.bind(null,r,u,e),[e]),r.flags|=2048,Fl(9,M2.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=hr(),t=vn.identifierPrefix;if(Bt){var n=Mr,r=Nr;n=(r&~(1<<32-$i(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mE={readContext:Bi,useCallback:j2,useContext:Bi,useEffect:D0,useImperativeHandle:F2,useInsertionEffect:D2,useLayoutEffect:k2,useMemo:z2,useReducer:lf,useRef:L2,useState:function(){return lf(Bl)},useDebugValue:k0,useDeferredValue:function(e){var t=Fi();return U2(t,cn.memoizedState,e)},useTransition:function(){var e=lf(Bl)[0],t=Fi().memoizedState;return[e,t]},useMutableSource:T2,useSyncExternalStore:I2,useId:V2,unstable_isNewReconciler:!1},gE={readContext:Bi,useCallback:j2,useContext:Bi,useEffect:D0,useImperativeHandle:F2,useInsertionEffect:D2,useLayoutEffect:k2,useMemo:z2,useReducer:cf,useRef:L2,useState:function(){return cf(Bl)},useDebugValue:k0,useDeferredValue:function(e){var t=Fi();return cn===null?t.memoizedState=e:U2(t,cn.memoizedState,e)},useTransition:function(){var e=cf(Bl)[0],t=Fi().memoizedState;return[e,t]},useMutableSource:T2,useSyncExternalStore:I2,useId:V2,unstable_isNewReconciler:!1};function Ki(e,t){if(e&&e.defaultProps){t=Wt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ud(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eh={isMounted:function(e){return(e=e._reactInternals)?vo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wn(),l=ws(e),u=Pr(r,l);u.payload=t,n!=null&&(u.callback=n),t=xs(e,u,l),t!==null&&(er(t,e,l,r),Qc(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wn(),l=ws(e),u=Pr(r,l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=xs(e,u,l),t!==null&&(er(t,e,l,r),Qc(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),r=ws(e),l=Pr(n,r);l.tag=2,t!=null&&(l.callback=t),t=xs(e,l,r),t!==null&&(er(t,e,r,n),Qc(t,e,r))}};function Hp(e,t,n,r,l,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,p):t.prototype&&t.prototype.isPureReactComponent?!Ml(n,r)||!Ml(l,u):!0}function G2(e,t,n){var r=!1,l=As,u=t.contextType;return typeof u=="object"&&u!==null?u=Bi(u):(l=ei(t)?ho:Ln.current,r=t.contextTypes,u=(r=r!=null)?oa(e,l):As),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function Wp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eh.enqueueReplaceState(t,t.state,null)}function hd(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},I0(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=Bi(u):(u=ei(t)?ho:Ln.current,l.context=oa(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(ud(e,t,u,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&eh.enqueueReplaceState(l,l.state,null),Su(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do n+=W_(r),r=r.return;while(r);var l=n}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function uf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xE=typeof WeakMap=="function"?WeakMap:Map;function Y2(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mu||(Mu=!0,Cd=r),fd(e,t)},n}function X2(e,t,n){n=Pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){fd(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){fd(e,t),typeof r!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Zp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xE;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=OE.bind(null,e,t,n),t.then(e,e))}function Gp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yp(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,xs(n,t,1))),n.lanes|=1),e)}var yE=Ur.ReactCurrentOwner,Jn=!1;function Hn(e,t,n,r){t.child=e===null?E2(t,null,n,r):la(t,e.child,n,r)}function Xp(e,t,n,r,l){n=n.render;var u=t.ref;return ia(t,l),r=P0(e,t,n,r,u,l),n=L0(),e!==null&&!Jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,jr(e,t,l)):(Bt&&n&&_0(t),t.flags|=1,Hn(e,t,r,l),t.child)}function Kp(e,t,n,r,l){if(e===null){var u=n.type;return typeof u=="function"&&!W0(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,K2(e,t,u,r,l)):(e=iu(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&l)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(p,r)&&e.ref===t.ref)return jr(e,t,l)}return t.flags|=1,e=vs(u,r),e.ref=t.ref,e.return=t,t.child=e}function K2(e,t,n,r,l){if(e!==null){var u=e.memoizedProps;if(Ml(u,r)&&e.ref===t.ref)if(Jn=!1,t.pendingProps=r=u,(e.lanes&l)!==0)e.flags&131072&&(Jn=!0);else return t.lanes=e.lanes,jr(e,t,l)}return dd(e,t,n,r,l)}function q2(e,t,n){var r=t.pendingProps,l=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Yo,fi),fi|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(Yo,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,Nt(Yo,fi),fi|=r}else u!==null?(r=u.baseLanes|n,t.memoizedState=null):r=n,Nt(Yo,fi),fi|=r;return Hn(e,t,l,n),t.child}function Q2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dd(e,t,n,r,l){var u=ei(n)?ho:Ln.current;return u=oa(t,u),ia(t,l),n=P0(e,t,n,r,u,l),r=L0(),e!==null&&!Jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,jr(e,t,l)):(Bt&&r&&_0(t),t.flags|=1,Hn(e,t,n,l),t.child)}function qp(e,t,n,r,l){if(ei(n)){var u=!0;vu(t)}else u=!1;if(ia(t,l),t.stateNode===null)eu(e,t),G2(t,n,r),hd(t,n,r,l),r=!0;else if(e===null){var p=t.stateNode,y=t.memoizedProps;p.props=y;var v=p.context,x=n.contextType;typeof x=="object"&&x!==null?x=Bi(x):(x=ei(n)?ho:Ln.current,x=oa(t,x));var A=n.getDerivedStateFromProps,E=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function";E||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==r||v!==x)&&Wp(t,p,r,x),os=!1;var I=t.memoizedState;p.state=I,Su(t,r,p,l),v=t.memoizedState,y!==r||I!==v||$n.current||os?(typeof A=="function"&&(ud(t,n,A,r),v=t.memoizedState),(y=os||Hp(t,n,y,r,I,v,x))?(E||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),p.props=r,p.state=v,p.context=x,r=y):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{p=t.stateNode,S2(e,t),y=t.memoizedProps,x=t.type===t.elementType?y:Ki(t.type,y),p.props=x,E=t.pendingProps,I=p.context,v=n.contextType,typeof v=="object"&&v!==null?v=Bi(v):(v=ei(n)?ho:Ln.current,v=oa(t,v));var O=n.getDerivedStateFromProps;(A=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==E||I!==v)&&Wp(t,p,r,v),os=!1,I=t.memoizedState,p.state=I,Su(t,r,p,l);var k=t.memoizedState;y!==E||I!==k||$n.current||os?(typeof O=="function"&&(ud(t,n,O,r),k=t.memoizedState),(x=os||Hp(t,n,x,r,I,k,v)||!1)?(A||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,k,v),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,k,v)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),p.props=r,p.state=k,p.context=v,r=x):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return pd(e,t,n,r,u,l)}function pd(e,t,n,r,l,u){Q2(e,t);var p=(t.flags&128)!==0;if(!r&&!p)return l&&Dp(t,n,!1),jr(e,t,u);r=t.stateNode,yE.current=t;var y=p&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&p?(t.child=la(t,e.child,null,u),t.child=la(t,null,y,u)):Hn(e,t,y,u),t.memoizedState=r.state,l&&Dp(t,n,!0),t.child}function J2(e){var t=e.stateNode;t.pendingContext?Lp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lp(e,t.context,!1),N0(e,t.containerInfo)}function Qp(e,t,n,r,l){return aa(),E0(l),t.flags|=256,Hn(e,t,n,r),t.child}var md={dehydrated:null,treeContext:null,retryLane:0};function gd(e){return{baseLanes:e,cachePool:null,transitions:null}}function $2(e,t,n){var r=t.pendingProps,l=Ut.current,u=!1,p=(t.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Nt(Ut,l&1),e===null)return ld(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=r.children,e=r.fallback,u?(r=t.mode,u=t.child,p={mode:"hidden",children:p},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=p):u=ih(p,r,0,null),e=oo(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=gd(n),t.memoizedState=md,e):B0(t,p));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return wE(e,t,p,r,y,l,n);if(u){u=r.fallback,p=t.mode,l=e.child,y=l.sibling;var v={mode:"hidden",children:r.children};return!(p&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=vs(l,v),r.subtreeFlags=l.subtreeFlags&14680064),y!==null?u=vs(y,u):(u=oo(u,p,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,p=e.child.memoizedState,p=p===null?gd(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~n,t.memoizedState=md,r}return u=e.child,e=u.sibling,r=vs(u,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function B0(e,t){return t=ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dc(e,t,n,r){return r!==null&&E0(r),la(t,e.child,null,n),e=B0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wE(e,t,n,r,l,u,p){if(n)return t.flags&256?(t.flags&=-257,r=uf(Error(xe(422))),Dc(e,t,p,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=r.fallback,l=t.mode,r=ih({mode:"visible",children:r.children},l,0,null),u=oo(u,l,p,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,t.mode&1&&la(t,e.child,null,p),t.child.memoizedState=gd(p),t.memoizedState=md,u);if(!(t.mode&1))return Dc(e,t,p,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var y=r.dgst;return r=y,u=Error(xe(419)),r=uf(u,r,void 0),Dc(e,t,p,r)}if(y=(p&e.childLanes)!==0,Jn||y){if(r=vn,r!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|p)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Fr(e,l),er(r,e,l,-1))}return H0(),r=uf(Error(xe(421))),Dc(e,t,p,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=RE.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,pi=gs(l.nextSibling),mi=t,Bt=!0,Ji=null,e!==null&&(Pi[Li++]=Nr,Pi[Li++]=Mr,Pi[Li++]=fo,Nr=e.id,Mr=e.overflow,fo=t),t=B0(t,r.children),t.flags|=4096,t)}function Jp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cd(e.return,t,n)}function hf(e,t,n,r,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=l)}function ey(e,t,n){var r=t.pendingProps,l=r.revealOrder,u=r.tail;if(Hn(e,t,r.children,n),r=Ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,n,t);else if(e.tag===19)Jp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Nt(Ut,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&bu(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),hf(t,!1,l,n,u);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&bu(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}hf(t,!0,n,null,u);break;case"together":hf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=vs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vE(e,t,n){switch(t.tag){case 3:J2(t),aa();break;case 5:b2(t);break;case 1:ei(t.type)&&vu(t);break;case 4:N0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Nt(Eu,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Nt(Ut,Ut.current&1),t.flags|=128,null):n&t.child.childLanes?$2(e,t,n):(Nt(Ut,Ut.current&1),e=jr(e,t,n),e!==null?e.sibling:null);Nt(Ut,Ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ey(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Nt(Ut,Ut.current),r)break;return null;case 22:case 23:return t.lanes=0,q2(e,t,n)}return jr(e,t,n)}var ty,xd,ny,iy;ty=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xd=function(){};ny=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,no(mr.current);var u=null;switch(n){case"input":l=jf(e,l),r=jf(e,r),u=[];break;case"select":l=Wt({},l,{value:void 0}),r=Wt({},r,{value:void 0}),u=[];break;case"textarea":l=Vf(e,l),r=Vf(e,r),u=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yu)}Wf(n,r);var p;n=null;for(x in l)if(!r.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var y=l[x];for(p in y)y.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(El.hasOwnProperty(x)?u||(u=[]):(u=u||[]).push(x,null));for(x in r){var v=r[x];if(y=l!=null?l[x]:void 0,r.hasOwnProperty(x)&&v!==y&&(v!=null||y!=null))if(x==="style")if(y){for(p in y)!y.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in v)v.hasOwnProperty(p)&&y[p]!==v[p]&&(n||(n={}),n[p]=v[p])}else n||(u||(u=[]),u.push(x,n)),n=v;else x==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(u=u||[]).push(x,v)):x==="children"?typeof v!="string"&&typeof v!="number"||(u=u||[]).push(x,""+v):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(El.hasOwnProperty(x)?(v!=null&&x==="onScroll"&&Lt("scroll",e),u||y===v||(u=[])):(u=u||[]).push(x,v))}n&&(u=u||[]).push("style",n);var x=u;(t.updateQueue=x)&&(t.flags|=4)}};iy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ja(e,t){if(!Bt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _E(e,t,n){var r=t.pendingProps;switch(C0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(t),null;case 1:return ei(t.type)&&wu(),Mn(t),null;case 3:return r=t.stateNode,ca(),Dt($n),Dt(Ln),O0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ji!==null&&(Sd(Ji),Ji=null))),xd(e,t),Mn(t),null;case 5:M0(t);var l=no(Dl.current);if(n=t.type,e!==null&&t.stateNode!=null)ny(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return Mn(t),null}if(e=no(mr.current),Pc(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[dr]=t,r[Pl]=u,e=(t.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(l=0;l<ol.length;l++)Lt(ol[l],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":ap(r,u),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Lt("invalid",r);break;case"textarea":cp(r,u),Lt("invalid",r)}Wf(n,u),l=null;for(var p in u)if(u.hasOwnProperty(p)){var y=u[p];p==="children"?typeof y=="string"?r.textContent!==y&&(u.suppressHydrationWarning!==!0&&Rc(r.textContent,y,e),l=["children",y]):typeof y=="number"&&r.textContent!==""+y&&(u.suppressHydrationWarning!==!0&&Rc(r.textContent,y,e),l=["children",""+y]):El.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Ac(r),lp(r,u,!0);break;case"textarea":Ac(r),up(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=yu)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ox(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=p.createElement(n,{is:r.is}):(e=p.createElement(n),n==="select"&&(p=e,r.multiple?p.multiple=!0:r.size&&(p.size=r.size))):e=p.createElementNS(e,n),e[dr]=t,e[Pl]=r,ty(e,t,!1,!1),t.stateNode=e;e:{switch(p=Zf(n,r),n){case"dialog":Lt("cancel",e),Lt("close",e),l=r;break;case"iframe":case"object":case"embed":Lt("load",e),l=r;break;case"video":case"audio":for(l=0;l<ol.length;l++)Lt(ol[l],e);l=r;break;case"source":Lt("error",e),l=r;break;case"img":case"image":case"link":Lt("error",e),Lt("load",e),l=r;break;case"details":Lt("toggle",e),l=r;break;case"input":ap(e,r),l=jf(e,r),Lt("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Wt({},r,{value:void 0}),Lt("invalid",e);break;case"textarea":cp(e,r),l=Vf(e,r),Lt("invalid",e);break;default:l=r}Wf(n,l),y=l;for(u in y)if(y.hasOwnProperty(u)){var v=y[u];u==="style"?Lx(e,v):u==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Rx(e,v)):u==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&Al(e,v):typeof v=="number"&&Al(e,""+v):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?v!=null&&u==="onScroll"&&Lt("scroll",e):v!=null&&a0(e,u,v,p))}switch(n){case"input":Ac(e),lp(e,r,!1);break;case"textarea":Ac(e),up(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Es(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?$o(e,!!r.multiple,u,!1):r.defaultValue!=null&&$o(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mn(t),null;case 6:if(e&&t.stateNode!=null)iy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));if(n=no(Dl.current),no(mr.current),Pc(t)){if(r=t.stateNode,n=t.memoizedProps,r[dr]=t,(u=r.nodeValue!==n)&&(e=mi,e!==null))switch(e.tag){case 3:Rc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rc(r.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=t,t.stateNode=r}return Mn(t),null;case 13:if(Dt(Ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bt&&pi!==null&&t.mode&1&&!(t.flags&128))_2(),aa(),t.flags|=98560,u=!1;else if(u=Pc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(xe(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(xe(317));u[dr]=t}else aa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mn(t),u=!1}else Ji!==null&&(Sd(Ji),Ji=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ut.current&1?un===0&&(un=3):H0())),t.updateQueue!==null&&(t.flags|=4),Mn(t),null);case 4:return ca(),xd(e,t),e===null&&Ol(t.stateNode.containerInfo),Mn(t),null;case 10:return b0(t.type._context),Mn(t),null;case 17:return ei(t.type)&&wu(),Mn(t),null;case 19:if(Dt(Ut),u=t.memoizedState,u===null)return Mn(t),null;if(r=(t.flags&128)!==0,p=u.rendering,p===null)if(r)Ja(u,!1);else{if(un!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=bu(e),p!==null){for(t.flags|=128,Ja(u,!1),r=p.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)u=n,e=r,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nt(Ut,Ut.current&1|2),t.child}e=e.sibling}u.tail!==null&&qt()>ha&&(t.flags|=128,r=!0,Ja(u,!1),t.lanes=4194304)}else{if(!r)if(e=bu(p),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ja(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return Mn(t),null}else 2*qt()-u.renderingStartTime>ha&&n!==1073741824&&(t.flags|=128,r=!0,Ja(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(n=u.last,n!==null?n.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=qt(),t.sibling=null,n=Ut.current,Nt(Ut,r?n&1|2:n&1),t):(Mn(t),null);case 22:case 23:return V0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?fi&1073741824&&(Mn(t),t.subtreeFlags&6&&(t.flags|=8192)):Mn(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function CE(e,t){switch(C0(t),t.tag){case 1:return ei(t.type)&&wu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca(),Dt($n),Dt(Ln),O0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return M0(t),null;case 13:if(Dt(Ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(Ut),null;case 4:return ca(),null;case 10:return b0(t.type._context),null;case 22:case 23:return V0(),null;case 24:return null;default:return null}}var kc=!1,Rn=!1,EE=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Go(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(e,t,r)}else n.current=null}function yd(e,t,n){try{n()}catch(r){Yt(e,t,r)}}var $p=!1;function AE(e,t){if(td=mu,e=l2(),v0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,y=-1,v=-1,x=0,A=0,E=e,I=null;t:for(;;){for(var O;E!==n||l!==0&&E.nodeType!==3||(y=p+l),E!==u||r!==0&&E.nodeType!==3||(v=p+r),E.nodeType===3&&(p+=E.nodeValue.length),(O=E.firstChild)!==null;)I=E,E=O;for(;;){if(E===e)break t;if(I===n&&++x===l&&(y=p),I===u&&++A===r&&(v=p),(O=E.nextSibling)!==null)break;E=I,I=E.parentNode}E=O}n=y===-1||v===-1?null:{start:y,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},mu=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var B=k.memoizedProps,V=k.memoizedState,j=t.stateNode,F=j.getSnapshotBeforeUpdate(t.elementType===t.type?B:Ki(t.type,B),V);j.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(Z){Yt(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return k=$p,$p=!1,k}function ml(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&yd(t,n,u)}l=l.next}while(l!==r)}}function th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ry(e){var t=e.alternate;t!==null&&(e.alternate=null,ry(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[Pl],delete t[sd],delete t[oE],delete t[aE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sy(e){return e.tag===5||e.tag===3||e.tag===4}function em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yu));else if(r!==4&&(e=e.child,e!==null))for(vd(e,t,n),e=e.sibling;e!==null;)vd(e,t,n),e=e.sibling}function _d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_d(e,t,n),e=e.sibling;e!==null;)_d(e,t,n),e=e.sibling}var Cn=null,qi=!1;function ns(e,t,n){for(n=n.child;n!==null;)oy(e,t,n),n=n.sibling}function oy(e,t,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Yu,n)}catch{}switch(n.tag){case 5:Rn||Go(n,t);case 6:var r=Cn,l=qi;Cn=null,ns(e,t,n),Cn=r,qi=l,Cn!==null&&(qi?(e=Cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(qi?(e=Cn,n=n.stateNode,e.nodeType===8?rf(e.parentNode,n):e.nodeType===1&&rf(e,n),Il(e)):rf(Cn,n.stateNode));break;case 4:r=Cn,l=qi,Cn=n.stateNode.containerInfo,qi=!0,ns(e,t,n),Cn=r,qi=l;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var u=l,p=u.destroy;u=u.tag,p!==void 0&&(u&2||u&4)&&yd(n,t,p),l=l.next}while(l!==r)}ns(e,t,n);break;case 1:if(!Rn&&(Go(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(y){Yt(n,t,y)}ns(e,t,n);break;case 21:ns(e,t,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,ns(e,t,n),Rn=r):ns(e,t,n);break;default:ns(e,t,n)}}function tm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EE),t.forEach(function(r){var l=PE.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Xi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var u=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 5:Cn=y.stateNode,qi=!1;break e;case 3:Cn=y.stateNode.containerInfo,qi=!0;break e;case 4:Cn=y.stateNode.containerInfo,qi=!0;break e}y=y.return}if(Cn===null)throw Error(xe(160));oy(u,p,l),Cn=null,qi=!1;var v=l.alternate;v!==null&&(v.return=null),l.return=null}catch(x){Yt(l,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ay(t,e),t=t.sibling}function ay(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xi(t,e),ur(e),r&4){try{ml(3,e,e.return),th(3,e)}catch(B){Yt(e,e.return,B)}try{ml(5,e,e.return)}catch(B){Yt(e,e.return,B)}}break;case 1:Xi(t,e),ur(e),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Xi(t,e),ur(e),r&512&&n!==null&&Go(n,n.return),e.flags&32){var l=e.stateNode;try{Al(l,"")}catch(B){Yt(e,e.return,B)}}if(r&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,p=n!==null?n.memoizedProps:u,y=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{y==="input"&&u.type==="radio"&&u.name!=null&&Nx(l,u),Zf(y,p);var x=Zf(y,u);for(p=0;p<v.length;p+=2){var A=v[p],E=v[p+1];A==="style"?Lx(l,E):A==="dangerouslySetInnerHTML"?Rx(l,E):A==="children"?Al(l,E):a0(l,A,E,x)}switch(y){case"input":zf(l,u);break;case"textarea":Mx(l,u);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var O=u.value;O!=null?$o(l,!!u.multiple,O,!1):I!==!!u.multiple&&(u.defaultValue!=null?$o(l,!!u.multiple,u.defaultValue,!0):$o(l,!!u.multiple,u.multiple?[]:"",!1))}l[Pl]=u}catch(B){Yt(e,e.return,B)}}break;case 6:if(Xi(t,e),ur(e),r&4){if(e.stateNode===null)throw Error(xe(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(B){Yt(e,e.return,B)}}break;case 3:if(Xi(t,e),ur(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(B){Yt(e,e.return,B)}break;case 4:Xi(t,e),ur(e);break;case 13:Xi(t,e),ur(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(z0=qt())),r&4&&tm(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?(Rn=(x=Rn)||A,Xi(t,e),Rn=x):Xi(t,e),ur(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!A&&e.mode&1)for(Me=e,A=e.child;A!==null;){for(E=Me=A;Me!==null;){switch(I=Me,O=I.child,I.tag){case 0:case 11:case 14:case 15:ml(4,I,I.return);break;case 1:Go(I,I.return);var k=I.stateNode;if(typeof k.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(B){Yt(r,n,B)}}break;case 5:Go(I,I.return);break;case 22:if(I.memoizedState!==null){im(E);continue}}O!==null?(O.return=I,Me=O):im(E)}A=A.sibling}e:for(A=null,E=e;;){if(E.tag===5){if(A===null){A=E;try{l=E.stateNode,x?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(y=E.stateNode,v=E.memoizedProps.style,p=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=Px("display",p))}catch(B){Yt(e,e.return,B)}}}else if(E.tag===6){if(A===null)try{E.stateNode.nodeValue=x?"":E.memoizedProps}catch(B){Yt(e,e.return,B)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;A===E&&(A=null),E=E.return}A===E&&(A=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Xi(t,e),ur(e),r&4&&tm(e);break;case 21:break;default:Xi(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sy(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Al(l,""),r.flags&=-33);var u=em(e);_d(e,u,l);break;case 3:case 4:var p=r.stateNode.containerInfo,y=em(e);vd(e,y,p);break;default:throw Error(xe(161))}}catch(v){Yt(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SE(e,t,n){Me=e,ly(e)}function ly(e,t,n){for(var r=(e.mode&1)!==0;Me!==null;){var l=Me,u=l.child;if(l.tag===22&&r){var p=l.memoizedState!==null||kc;if(!p){var y=l.alternate,v=y!==null&&y.memoizedState!==null||Rn;y=kc;var x=Rn;if(kc=p,(Rn=v)&&!x)for(Me=l;Me!==null;)p=Me,v=p.child,p.tag===22&&p.memoizedState!==null?rm(l):v!==null?(v.return=p,Me=v):rm(l);for(;u!==null;)Me=u,ly(u),u=u.sibling;Me=l,kc=y,Rn=x}nm(e)}else l.subtreeFlags&8772&&u!==null?(u.return=l,Me=u):nm(e)}}function nm(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||th(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&zp(t,u,r);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zp(t,p,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var A=x.memoizedState;if(A!==null){var E=A.dehydrated;E!==null&&Il(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Rn||t.flags&512&&wd(t)}catch(I){Yt(t,t.return,I)}}if(t===e){Me=null;break}if(n=t.sibling,n!==null){n.return=t.return,Me=n;break}Me=t.return}}function im(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Me=n;break}Me=t.return}}function rm(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{th(4,t)}catch(v){Yt(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(v){Yt(t,l,v)}}var u=t.return;try{wd(t)}catch(v){Yt(t,u,v)}break;case 5:var p=t.return;try{wd(t)}catch(v){Yt(t,p,v)}}}catch(v){Yt(t,t.return,v)}if(t===e){Me=null;break}var y=t.sibling;if(y!==null){y.return=t.return,Me=y;break}Me=t.return}}var bE=Math.ceil,Nu=Ur.ReactCurrentDispatcher,F0=Ur.ReactCurrentOwner,ki=Ur.ReactCurrentBatchConfig,ut=0,vn=null,rn=null,En=0,fi=0,Yo=Ns(0),un=0,jl=null,mo=0,nh=0,j0=0,gl=null,Qn=null,z0=0,ha=1/0,Tr=null,Mu=!1,Cd=null,ys=null,Bc=!1,hs=null,Ou=0,xl=0,Ed=null,tu=-1,nu=0;function Wn(){return ut&6?qt():tu!==-1?tu:tu=qt()}function ws(e){return e.mode&1?ut&2&&En!==0?En&-En:cE.transition!==null?(nu===0&&(nu=Gx()),nu):(e=wt,e!==0||(e=window.event,e=e===void 0?16:$x(e.type)),e):1}function er(e,t,n,r){if(50<xl)throw xl=0,Ed=null,Error(xe(185));Xl(e,n,r),(!(ut&2)||e!==vn)&&(e===vn&&(!(ut&2)&&(nh|=n),un===4&&cs(e,En)),ti(e,r),n===1&&ut===0&&!(t.mode&1)&&(ha=qt()+500,Ju&&Ms()))}function ti(e,t){var n=e.callbackNode;cC(e,t);var r=pu(e,e===vn?En:0);if(r===0)n!==null&&dp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dp(n),t===1)e.tag===0?lE(sm.bind(null,e)):y2(sm.bind(null,e)),rE(function(){!(ut&6)&&Ms()}),n=null;else{switch(Yx(r)){case 1:n=f0;break;case 4:n=Wx;break;case 16:n=du;break;case 536870912:n=Zx;break;default:n=du}n=gy(n,cy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cy(e,t){if(tu=-1,nu=0,ut&6)throw Error(xe(327));var n=e.callbackNode;if(ra()&&e.callbackNode!==n)return null;var r=pu(e,e===vn?En:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ru(e,r);else{t=r;var l=ut;ut|=2;var u=hy();(vn!==e||En!==t)&&(Tr=null,ha=qt()+500,so(e,t));do try{NE();break}catch(y){uy(e,y)}while(!0);S0(),Nu.current=u,ut=l,rn!==null?t=0:(vn=null,En=0,t=un)}if(t!==0){if(t===2&&(l=qf(e),l!==0&&(r=l,t=Ad(e,l))),t===1)throw n=jl,so(e,0),cs(e,r),ti(e,qt()),n;if(t===6)cs(e,r);else{if(l=e.current.alternate,!(r&30)&&!TE(l)&&(t=Ru(e,r),t===2&&(u=qf(e),u!==0&&(r=u,t=Ad(e,u))),t===1))throw n=jl,so(e,0),cs(e,r),ti(e,qt()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:qs(e,Qn,Tr);break;case 3:if(cs(e,r),(r&130023424)===r&&(t=z0+500-qt(),10<t)){if(pu(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Wn(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=rd(qs.bind(null,e,Qn,Tr),t);break}qs(e,Qn,Tr);break;case 4:if(cs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var p=31-$i(r);u=1<<p,p=t[p],p>l&&(l=p),r&=~u}if(r=l,r=qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bE(r/1960))-r,10<r){e.timeoutHandle=rd(qs.bind(null,e,Qn,Tr),r);break}qs(e,Qn,Tr);break;case 5:qs(e,Qn,Tr);break;default:throw Error(xe(329))}}}return ti(e,qt()),e.callbackNode===n?cy.bind(null,e):null}function Ad(e,t){var n=gl;return e.current.memoizedState.isDehydrated&&(so(e,t).flags|=256),e=Ru(e,t),e!==2&&(t=Qn,Qn=n,t!==null&&Sd(t)),e}function Sd(e){Qn===null?Qn=e:Qn.push.apply(Qn,e)}function TE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],u=l.getSnapshot;l=l.value;try{if(!tr(u(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~j0,t&=~nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$i(t),r=1<<n;e[n]=-1,t&=~r}}function sm(e){if(ut&6)throw Error(xe(327));ra();var t=pu(e,0);if(!(t&1))return ti(e,qt()),null;var n=Ru(e,t);if(e.tag!==0&&n===2){var r=qf(e);r!==0&&(t=r,n=Ad(e,r))}if(n===1)throw n=jl,so(e,0),cs(e,t),ti(e,qt()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qs(e,Qn,Tr),ti(e,qt()),null}function U0(e,t){var n=ut;ut|=1;try{return e(t)}finally{ut=n,ut===0&&(ha=qt()+500,Ju&&Ms())}}function go(e){hs!==null&&hs.tag===0&&!(ut&6)&&ra();var t=ut;ut|=1;var n=ki.transition,r=wt;try{if(ki.transition=null,wt=1,e)return e()}finally{wt=r,ki.transition=n,ut=t,!(ut&6)&&Ms()}}function V0(){fi=Yo.current,Dt(Yo)}function so(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iE(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(C0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wu();break;case 3:ca(),Dt($n),Dt(Ln),O0();break;case 5:M0(r);break;case 4:ca();break;case 13:Dt(Ut);break;case 19:Dt(Ut);break;case 10:b0(r.type._context);break;case 22:case 23:V0()}n=n.return}if(vn=e,rn=e=vs(e.current,null),En=fi=t,un=0,jl=null,j0=nh=mo=0,Qn=gl=null,to!==null){for(t=0;t<to.length;t++)if(n=to[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,u=n.pending;if(u!==null){var p=u.next;u.next=l,r.next=p}n.pending=r}to=null}return e}function uy(e,t){do{var n=rn;try{if(S0(),Jc.current=Iu,Tu){for(var r=Ht.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Tu=!1}if(po=0,wn=cn=Ht=null,pl=!1,kl=0,F0.current=null,n===null||n.return===null){un=1,jl=t,rn=null;break}e:{var u=e,p=n.return,y=n,v=t;if(t=En,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=v,A=y,E=A.tag;if(!(A.mode&1)&&(E===0||E===11||E===15)){var I=A.alternate;I?(A.updateQueue=I.updateQueue,A.memoizedState=I.memoizedState,A.lanes=I.lanes):(A.updateQueue=null,A.memoizedState=null)}var O=Gp(p);if(O!==null){O.flags&=-257,Yp(O,p,y,u,t),O.mode&1&&Zp(u,x,t),t=O,v=x;var k=t.updateQueue;if(k===null){var B=new Set;B.add(v),t.updateQueue=B}else k.add(v);break e}else{if(!(t&1)){Zp(u,x,t),H0();break e}v=Error(xe(426))}}else if(Bt&&y.mode&1){var V=Gp(p);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Yp(V,p,y,u,t),E0(ua(v,y));break e}}u=v=ua(v,y),un!==4&&(un=2),gl===null?gl=[u]:gl.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var j=Y2(u,v,t);jp(u,j);break e;case 1:y=v;var F=u.type,D=u.stateNode;if(!(u.flags&128)&&(typeof F.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(ys===null||!ys.has(D)))){u.flags|=65536,t&=-t,u.lanes|=t;var Z=X2(u,y,t);jp(u,Z);break e}}u=u.return}while(u!==null)}dy(n)}catch(ne){t=ne,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function hy(){var e=Nu.current;return Nu.current=Iu,e===null?Iu:e}function H0(){(un===0||un===3||un===2)&&(un=4),vn===null||!(mo&268435455)&&!(nh&268435455)||cs(vn,En)}function Ru(e,t){var n=ut;ut|=2;var r=hy();(vn!==e||En!==t)&&(Tr=null,so(e,t));do try{IE();break}catch(l){uy(e,l)}while(!0);if(S0(),ut=n,Nu.current=r,rn!==null)throw Error(xe(261));return vn=null,En=0,un}function IE(){for(;rn!==null;)fy(rn)}function NE(){for(;rn!==null&&!eC();)fy(rn)}function fy(e){var t=my(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?dy(e):rn=t,F0.current=null}function dy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CE(n,t),n!==null){n.flags&=32767,rn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{un=6,rn=null;return}}else if(n=_E(n,t,fi),n!==null){rn=n;return}if(t=t.sibling,t!==null){rn=t;return}rn=t=e}while(t!==null);un===0&&(un=5)}function qs(e,t,n){var r=wt,l=ki.transition;try{ki.transition=null,wt=1,ME(e,t,n,r)}finally{ki.transition=l,wt=r}return null}function ME(e,t,n,r){do ra();while(hs!==null);if(ut&6)throw Error(xe(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(uC(e,u),e===vn&&(rn=vn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,gy(du,function(){return ra(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=ki.transition,ki.transition=null;var p=wt;wt=1;var y=ut;ut|=4,F0.current=null,AE(e,n),ay(n,e),qC(nd),mu=!!td,nd=td=null,e.current=n,SE(n),tC(),ut=y,wt=p,ki.transition=u}else e.current=n;if(Bc&&(Bc=!1,hs=e,Ou=l),u=e.pendingLanes,u===0&&(ys=null),rC(n.stateNode),ti(e,qt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Mu)throw Mu=!1,e=Cd,Cd=null,e;return Ou&1&&e.tag!==0&&ra(),u=e.pendingLanes,u&1?e===Ed?xl++:(xl=0,Ed=e):xl=0,Ms(),null}function ra(){if(hs!==null){var e=Yx(Ou),t=ki.transition,n=wt;try{if(ki.transition=null,wt=16>e?16:e,hs===null)var r=!1;else{if(e=hs,hs=null,Ou=0,ut&6)throw Error(xe(331));var l=ut;for(ut|=4,Me=e.current;Me!==null;){var u=Me,p=u.child;if(Me.flags&16){var y=u.deletions;if(y!==null){for(var v=0;v<y.length;v++){var x=y[v];for(Me=x;Me!==null;){var A=Me;switch(A.tag){case 0:case 11:case 15:ml(8,A,u)}var E=A.child;if(E!==null)E.return=A,Me=E;else for(;Me!==null;){A=Me;var I=A.sibling,O=A.return;if(ry(A),A===x){Me=null;break}if(I!==null){I.return=O,Me=I;break}Me=O}}}var k=u.alternate;if(k!==null){var B=k.child;if(B!==null){k.child=null;do{var V=B.sibling;B.sibling=null,B=V}while(B!==null)}}Me=u}}if(u.subtreeFlags&2064&&p!==null)p.return=u,Me=p;else e:for(;Me!==null;){if(u=Me,u.flags&2048)switch(u.tag){case 0:case 11:case 15:ml(9,u,u.return)}var j=u.sibling;if(j!==null){j.return=u.return,Me=j;break e}Me=u.return}}var F=e.current;for(Me=F;Me!==null;){p=Me;var D=p.child;if(p.subtreeFlags&2064&&D!==null)D.return=p,Me=D;else e:for(p=F;Me!==null;){if(y=Me,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:th(9,y)}}catch(ne){Yt(y,y.return,ne)}if(y===p){Me=null;break e}var Z=y.sibling;if(Z!==null){Z.return=y.return,Me=Z;break e}Me=y.return}}if(ut=l,Ms(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Yu,e)}catch{}r=!0}return r}finally{wt=n,ki.transition=t}}return!1}function om(e,t,n){t=ua(n,t),t=Y2(e,t,1),e=xs(e,t,1),t=Wn(),e!==null&&(Xl(e,1,t),ti(e,t))}function Yt(e,t,n){if(e.tag===3)om(e,e,n);else for(;t!==null;){if(t.tag===3){om(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){e=ua(n,e),e=X2(t,e,1),t=xs(t,e,1),e=Wn(),t!==null&&(Xl(t,1,e),ti(t,e));break}}t=t.return}}function OE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&n,vn===e&&(En&n)===n&&(un===4||un===3&&(En&130023424)===En&&500>qt()-z0?so(e,0):j0|=n),ti(e,t)}function py(e,t){t===0&&(e.mode&1?(t=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):t=1);var n=Wn();e=Fr(e,t),e!==null&&(Xl(e,t,n),ti(e,n))}function RE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),py(e,n)}function PE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(t),py(e,n)}var my;my=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Jn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jn=!1,vE(e,t,n);Jn=!!(e.flags&131072)}else Jn=!1,Bt&&t.flags&1048576&&w2(t,Cu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;eu(e,t),e=t.pendingProps;var l=oa(t,Ln.current);ia(t,n),l=P0(null,t,r,e,l,n);var u=L0();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ei(r)?(u=!0,vu(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,I0(t),l.updater=eh,t.stateNode=l,l._reactInternals=t,hd(t,r,e,n),t=pd(null,t,r,!0,u,n)):(t.tag=0,Bt&&u&&_0(t),Hn(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(eu(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=DE(r),e=Ki(r,e),l){case 0:t=dd(null,t,r,e,n);break e;case 1:t=qp(null,t,r,e,n);break e;case 11:t=Xp(null,t,r,e,n);break e;case 14:t=Kp(null,t,r,Ki(r.type,e),n);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ki(r,l),dd(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ki(r,l),qp(e,t,r,l,n);case 3:e:{if(J2(t),e===null)throw Error(xe(387));r=t.pendingProps,u=t.memoizedState,l=u.element,S2(e,t),Su(t,r,null,n);var p=t.memoizedState;if(r=p.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=ua(Error(xe(423)),t),t=Qp(e,t,r,n,l);break e}else if(r!==l){l=ua(Error(xe(424)),t),t=Qp(e,t,r,n,l);break e}else for(pi=gs(t.stateNode.containerInfo.firstChild),mi=t,Bt=!0,Ji=null,n=E2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(aa(),r===l){t=jr(e,t,n);break e}Hn(e,t,r,n)}t=t.child}return t;case 5:return b2(t),e===null&&ld(t),r=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,p=l.children,id(r,l)?p=null:u!==null&&id(r,u)&&(t.flags|=32),Q2(e,t),Hn(e,t,p,n),t.child;case 6:return e===null&&ld(t),null;case 13:return $2(e,t,n);case 4:return N0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=la(t,null,r,n):Hn(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ki(r,l),Xp(e,t,r,l,n);case 7:return Hn(e,t,t.pendingProps,n),t.child;case 8:return Hn(e,t,t.pendingProps.children,n),t.child;case 12:return Hn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,u=t.memoizedProps,p=l.value,Nt(Eu,r._currentValue),r._currentValue=p,u!==null)if(tr(u.value,p)){if(u.children===l.children&&!$n.current){t=jr(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var y=u.dependencies;if(y!==null){p=u.child;for(var v=y.firstContext;v!==null;){if(v.context===r){if(u.tag===1){v=Pr(-1,n&-n),v.tag=2;var x=u.updateQueue;if(x!==null){x=x.shared;var A=x.pending;A===null?v.next=v:(v.next=A.next,A.next=v),x.pending=v}}u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),cd(u.return,n,t),y.lanes|=n;break}v=v.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(xe(341));p.lanes|=n,y=p.alternate,y!==null&&(y.lanes|=n),cd(p,n,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}Hn(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,ia(t,n),l=Bi(l),r=r(l),t.flags|=1,Hn(e,t,r,n),t.child;case 14:return r=t.type,l=Ki(r,t.pendingProps),l=Ki(r.type,l),Kp(e,t,r,l,n);case 15:return K2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ki(r,l),eu(e,t),t.tag=1,ei(r)?(e=!0,vu(t)):e=!1,ia(t,n),G2(t,r,l),hd(t,r,l,n),pd(null,t,r,!0,e,n);case 19:return ey(e,t,n);case 22:return q2(e,t,n)}throw Error(xe(156,t.tag))};function gy(e,t){return Hx(e,t)}function LE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(e,t,n,r){return new LE(e,t,n,r)}function W0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DE(e){if(typeof e=="function")return W0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===c0)return 11;if(e===u0)return 14}return 2}function vs(e,t){var n=e.alternate;return n===null?(n=Di(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function iu(e,t,n,r,l,u){var p=2;if(r=e,typeof e=="function")W0(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Bo:return oo(n.children,l,u,t);case l0:p=8,l|=8;break;case Df:return e=Di(12,n,t,l|2),e.elementType=Df,e.lanes=u,e;case kf:return e=Di(13,n,t,l),e.elementType=kf,e.lanes=u,e;case Bf:return e=Di(19,n,t,l),e.elementType=Bf,e.lanes=u,e;case bx:return ih(n,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ax:p=10;break e;case Sx:p=9;break e;case c0:p=11;break e;case u0:p=14;break e;case ss:p=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=Di(p,n,t,l),t.elementType=e,t.type=r,t.lanes=u,t}function oo(e,t,n,r){return e=Di(7,e,r,t),e.lanes=n,e}function ih(e,t,n,r){return e=Di(22,e,r,t),e.elementType=bx,e.lanes=n,e.stateNode={isHidden:!1},e}function ff(e,t,n){return e=Di(6,e,null,t),e.lanes=n,e}function df(e,t,n){return t=Di(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kE(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Z0(e,t,n,r,l,u,p,y,v){return e=new kE(e,t,n,y,v),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Di(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},I0(u),e}function BE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xy(e){if(!e)return As;e=e._reactInternals;e:{if(vo(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(ei(n))return x2(e,n,t)}return t}function yy(e,t,n,r,l,u,p,y,v){return e=Z0(n,r,!0,e,l,u,p,y,v),e.context=xy(null),n=e.current,r=Wn(),l=ws(n),u=Pr(r,l),u.callback=t??null,xs(n,u,l),e.current.lanes=l,Xl(e,l,r),ti(e,r),e}function rh(e,t,n,r){var l=t.current,u=Wn(),p=ws(l);return n=xy(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(u,p),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xs(l,t,p),e!==null&&(er(e,l,p,u),Qc(e,l,p)),p}function Pu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function G0(e,t){am(e,t),(e=e.alternate)&&am(e,t)}function FE(){return null}var wy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Y0(e){this._internalRoot=e}sh.prototype.render=Y0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));rh(e,t,null,null)};sh.prototype.unmount=Y0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;go(function(){rh(null,e,null,null)}),t[Br]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=qx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ls.length&&t!==0&&t<ls[n].priority;n++);ls.splice(n,0,e),n===0&&Jx(e)}};function X0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lm(){}function jE(e,t,n,r,l){if(l){if(typeof r=="function"){var u=r;r=function(){var x=Pu(p);u.call(x)}}var p=yy(t,r,e,0,null,!1,!1,"",lm);return e._reactRootContainer=p,e[Br]=p.current,Ol(e.nodeType===8?e.parentNode:e),go(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var y=r;r=function(){var x=Pu(v);y.call(x)}}var v=Z0(e,0,!1,null,null,!1,!1,"",lm);return e._reactRootContainer=v,e[Br]=v.current,Ol(e.nodeType===8?e.parentNode:e),go(function(){rh(t,v,n,r)}),v}function ah(e,t,n,r,l){var u=n._reactRootContainer;if(u){var p=u;if(typeof l=="function"){var y=l;l=function(){var v=Pu(p);y.call(v)}}rh(t,p,e,l)}else p=jE(n,t,e,l,r);return Pu(p)}Xx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sl(t.pendingLanes);n!==0&&(d0(t,n|1),ti(t,qt()),!(ut&6)&&(ha=qt()+500,Ms()))}break;case 13:go(function(){var r=Fr(e,1);if(r!==null){var l=Wn();er(r,e,1,l)}}),G0(e,1)}};p0=function(e){if(e.tag===13){var t=Fr(e,134217728);if(t!==null){var n=Wn();er(t,e,134217728,n)}G0(e,134217728)}};Kx=function(e){if(e.tag===13){var t=ws(e),n=Fr(e,t);if(n!==null){var r=Wn();er(n,e,t,r)}G0(e,t)}};qx=function(){return wt};Qx=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};Yf=function(e,t,n){switch(t){case"input":if(zf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Qu(r);if(!l)throw Error(xe(90));Ix(r),zf(r,l)}}}break;case"textarea":Mx(e,n);break;case"select":t=n.value,t!=null&&$o(e,!!n.multiple,t,!1)}};Bx=U0;Fx=go;var zE={usingClientEntryPoint:!1,Events:[ql,Uo,Qu,Dx,kx,U0]},$a={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UE={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ux(e),e===null?null:e.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||FE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Yu=Fc.inject(UE),pr=Fc}catch{}}yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;yi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(t))throw Error(xe(200));return BE(e,t,null,n)};yi.createRoot=function(e,t){if(!X0(e))throw Error(xe(299));var n=!1,r="",l=wy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Z0(e,1,!1,null,null,n,!1,r,l),e[Br]=t.current,Ol(e.nodeType===8?e.parentNode:e),new Y0(t)};yi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=Ux(t),e=e===null?null:e.stateNode,e};yi.flushSync=function(e){return go(e)};yi.hydrate=function(e,t,n){if(!oh(t))throw Error(xe(200));return ah(null,e,t,!0,n)};yi.hydrateRoot=function(e,t,n){if(!X0(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,l=!1,u="",p=wy;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=yy(t,null,e,1,n??null,l,!1,u,p),e[Br]=t.current,Ol(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new sh(t)};yi.render=function(e,t,n){if(!oh(t))throw Error(xe(200));return ah(null,e,t,!1,n)};yi.unmountComponentAtNode=function(e){if(!oh(e))throw Error(xe(40));return e._reactRootContainer?(go(function(){ah(null,null,e,!1,function(){e._reactRootContainer=null,e[Br]=null})}),!0):!1};yi.unstable_batchedUpdates=U0;yi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oh(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return ah(e,t,n,!1,r)};yi.version="18.3.1-next-f1338f8080-20240426";function vy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vy)}catch(e){console.error(e)}}vy(),vx.exports=yi;var _y=vx.exports,cm=_y;Pf.createRoot=cm.createRoot,Pf.hydrateRoot=cm.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}var fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fs||(fs={}));const um="popstate";function VE(e){e===void 0&&(e={});function t(l,u){let{pathname:p="/",search:y="",hash:v=""}=_o(l.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),bd("",{pathname:p,search:y,hash:v},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let p=l.document.querySelector("base"),y="";if(p&&p.getAttribute("href")){let v=l.location.href,x=v.indexOf("#");y=x===-1?v:v.slice(0,x)}return y+"#"+(typeof u=="string"?u:Lu(u))}function r(l,u){lh(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return WE(t,n,r,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HE(){return Math.random().toString(36).substr(2,8)}function hm(e,t){return{usr:e.state,key:e.key,idx:t}}function bd(e,t,n,r){return n===void 0&&(n=null),zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_o(t):t,{state:n,key:t&&t.key||r||HE()})}function Lu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WE(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:u=!1}=r,p=l.history,y=fs.Pop,v=null,x=A();x==null&&(x=0,p.replaceState(zl({},p.state,{idx:x}),""));function A(){return(p.state||{idx:null}).idx}function E(){y=fs.Pop;let V=A(),j=V==null?null:V-x;x=V,v&&v({action:y,location:B.location,delta:j})}function I(V,j){y=fs.Push;let F=bd(B.location,V,j);n&&n(F,V),x=A()+1;let D=hm(F,x),Z=B.createHref(F);try{p.pushState(D,"",Z)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;l.location.assign(Z)}u&&v&&v({action:y,location:B.location,delta:1})}function O(V,j){y=fs.Replace;let F=bd(B.location,V,j);n&&n(F,V),x=A();let D=hm(F,x),Z=B.createHref(F);p.replaceState(D,"",Z),u&&v&&v({action:y,location:B.location,delta:0})}function k(V){let j=l.location.origin!=="null"?l.location.origin:l.location.href,F=typeof V=="string"?V:Lu(V);return F=F.replace(/ $/,"%20"),Jt(j,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,j)}let B={get action(){return y},get location(){return e(l,p)},listen(V){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(um,E),v=V,()=>{l.removeEventListener(um,E),v=null}},createHref(V){return t(l,V)},createURL:k,encodeLocation(V){let j=k(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:I,replace:O,go(V){return p.go(V)}};return B}var fm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fm||(fm={}));function ZE(e,t,n){return n===void 0&&(n="/"),GE(e,t,n)}function GE(e,t,n,r){let l=typeof t=="string"?_o(t):t,u=K0(l.pathname||"/",n);if(u==null)return null;let p=Cy(e);YE(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let x=s3(u);y=n3(p[v],x)}return y}function Cy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(u,p,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};v.relativePath.startsWith("/")&&(Jt(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let x=_s([r,v.relativePath]),A=n.concat(v);u.children&&u.children.length>0&&(Jt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Cy(u.children,t,A,x)),!(u.path==null&&!u.index)&&t.push({path:x,score:e3(x,u.index),routesMeta:A})};return e.forEach((u,p)=>{var y;if(u.path===""||!((y=u.path)!=null&&y.includes("?")))l(u,p);else for(let v of Ey(u.path))l(u,p,v)}),t}function Ey(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let p=Ey(r.join("/")),y=[];return y.push(...p.map(v=>v===""?u:[u,v].join("/"))),l&&y.push(...p),y.map(v=>e.startsWith("/")&&v===""?"/":v)}function YE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XE=/^:[\w-]+$/,KE=3,qE=2,QE=1,JE=10,$E=-2,dm=e=>e==="*";function e3(e,t){let n=e.split("/"),r=n.length;return n.some(dm)&&(r+=$E),t&&(r+=qE),n.filter(l=>!dm(l)).reduce((l,u)=>l+(XE.test(u)?KE:u===""?QE:JE),r)}function t3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function n3(e,t,n){let{routesMeta:r}=e,l={},u="/",p=[];for(let y=0;y<r.length;++y){let v=r[y],x=y===r.length-1,A=u==="/"?t:t.slice(u.length)||"/",E=i3({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},A),I=v.route;if(!E)return null;Object.assign(l,E.params),p.push({params:l,pathname:_s([u,E.pathname]),pathnameBase:u3(_s([u,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(u=_s([u,E.pathnameBase]))}return p}function i3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r3(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let u=l[0],p=u.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:r.reduce((x,A,E)=>{let{paramName:I,isOptional:O}=A;if(I==="*"){let B=y[E]||"";p=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const k=y[E];return O&&!k?x[I]=void 0:x[I]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:p,pattern:e}}function r3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(r.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function s3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function K0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const o3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a3=e=>o3.test(e);function l3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?_o(e):e,u;if(n)if(a3(n))u=n;else{if(n.includes("//")){let p=n;n=n.replace(/\/\/+/g,"/"),lh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(p+" -> "+n))}n.startsWith("/")?u=pm(n.substring(1),"/"):u=pm(n,t)}else u=t;return{pathname:u,search:h3(r),hash:f3(l)}}function pm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function pf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function q0(e,t){let n=c3(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Q0(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=_o(e):(l=zl({},e),Jt(!l.pathname||!l.pathname.includes("?"),pf("?","pathname","search",l)),Jt(!l.pathname||!l.pathname.includes("#"),pf("#","pathname","hash",l)),Jt(!l.search||!l.search.includes("#"),pf("#","search","hash",l)));let u=e===""||l.pathname==="",p=u?"/":l.pathname,y;if(p==null)y=n;else{let E=t.length-1;if(!r&&p.startsWith("..")){let I=p.split("/");for(;I[0]==="..";)I.shift(),E-=1;l.pathname=I.join("/")}y=E>=0?t[E]:"/"}let v=l3(l,y),x=p&&p!=="/"&&p.endsWith("/"),A=(u||p===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(x||A)&&(v.pathname+="/"),v}const _s=e=>e.join("/").replace(/\/\/+/g,"/"),u3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ay=["post","put","patch","delete"];new Set(Ay);const p3=["get",...Ay];new Set(p3);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}const J0=H.createContext(null),m3=H.createContext(null),Os=H.createContext(null),ch=H.createContext(null),xr=H.createContext({outlet:null,matches:[],isDataRoute:!1}),Sy=H.createContext(null);function g3(e,t){let{relative:n}=t===void 0?{}:t;wa()||Jt(!1);let{basename:r,navigator:l}=H.useContext(Os),{hash:u,pathname:p,search:y}=Ty(e,{relative:n}),v=p;return r!=="/"&&(v=p==="/"?r:_s([r,p])),l.createHref({pathname:v,search:y,hash:u})}function wa(){return H.useContext(ch)!=null}function Co(){return wa()||Jt(!1),H.useContext(ch).location}function by(e){H.useContext(Os).static||H.useLayoutEffect(e)}function Vr(){let{isDataRoute:e}=H.useContext(xr);return e?R3():x3()}function x3(){wa()||Jt(!1);let e=H.useContext(J0),{basename:t,future:n,navigator:r}=H.useContext(Os),{matches:l}=H.useContext(xr),{pathname:u}=Co(),p=JSON.stringify(q0(l,n.v7_relativeSplatPath)),y=H.useRef(!1);return by(()=>{y.current=!0}),H.useCallback(function(x,A){if(A===void 0&&(A={}),!y.current)return;if(typeof x=="number"){r.go(x);return}let E=Q0(x,JSON.parse(p),u,A.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:_s([t,E.pathname])),(A.replace?r.replace:r.push)(E,A.state,A)},[t,r,p,u,e])}const y3=H.createContext(null);function w3(e){let t=H.useContext(xr).outlet;return t&&H.createElement(y3.Provider,{value:e},t)}function v3(){let{matches:e}=H.useContext(xr),t=e[e.length-1];return t?t.params:{}}function Ty(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=H.useContext(Os),{matches:l}=H.useContext(xr),{pathname:u}=Co(),p=JSON.stringify(q0(l,r.v7_relativeSplatPath));return H.useMemo(()=>Q0(e,JSON.parse(p),u,n==="path"),[e,p,u,n])}function _3(e,t){return C3(e,t)}function C3(e,t,n,r){wa()||Jt(!1);let{navigator:l}=H.useContext(Os),{matches:u}=H.useContext(xr),p=u[u.length-1],y=p?p.params:{};p&&p.pathname;let v=p?p.pathnameBase:"/";p&&p.route;let x=Co(),A;if(t){var E;let V=typeof t=="string"?_o(t):t;v==="/"||(E=V.pathname)!=null&&E.startsWith(v)||Jt(!1),A=V}else A=x;let I=A.pathname||"/",O=I;if(v!=="/"){let V=v.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(V.length).join("/")}let k=ZE(e,{pathname:O}),B=T3(k&&k.map(V=>Object.assign({},V,{params:Object.assign({},y,V.params),pathname:_s([v,l.encodeLocation?l.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:_s([v,l.encodeLocation?l.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,n,r);return t&&B?H.createElement(ch.Provider,{value:{location:Ul({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:fs.Pop}},B):B}function E3(){let e=O3(),t=d3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:l},n):null,null)}const A3=H.createElement(E3,null);class S3 extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?H.createElement(xr.Provider,{value:this.props.routeContext},H.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b3(e){let{routeContext:t,match:n,children:r}=e,l=H.useContext(J0);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(xr.Provider,{value:t},r)}function T3(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var u;if(!n)return null;if(n.errors)e=n.matches;else if((u=r)!=null&&u.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let p=e,y=(l=n)==null?void 0:l.errors;if(y!=null){let A=p.findIndex(E=>E.route.id&&(y==null?void 0:y[E.route.id])!==void 0);A>=0||Jt(!1),p=p.slice(0,Math.min(p.length,A+1))}let v=!1,x=-1;if(n&&r&&r.v7_partialHydration)for(let A=0;A<p.length;A++){let E=p[A];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(x=A),E.route.id){let{loaderData:I,errors:O}=n,k=E.route.loader&&I[E.route.id]===void 0&&(!O||O[E.route.id]===void 0);if(E.route.lazy||k){v=!0,x>=0?p=p.slice(0,x+1):p=[p[0]];break}}}return p.reduceRight((A,E,I)=>{let O,k=!1,B=null,V=null;n&&(O=y&&E.route.id?y[E.route.id]:void 0,B=E.route.errorElement||A3,v&&(x<0&&I===0?(P3("route-fallback"),k=!0,V=null):x===I&&(k=!0,V=E.route.hydrateFallbackElement||null)));let j=t.concat(p.slice(0,I+1)),F=()=>{let D;return O?D=B:k?D=V:E.route.Component?D=H.createElement(E.route.Component,null):E.route.element?D=E.route.element:D=A,H.createElement(b3,{match:E,routeContext:{outlet:A,matches:j,isDataRoute:n!=null},children:D})};return n&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?H.createElement(S3,{location:n.location,revalidation:n.revalidation,component:B,error:O,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):F()},null)}var Iy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Iy||{}),Ny=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ny||{});function I3(e){let t=H.useContext(J0);return t||Jt(!1),t}function N3(e){let t=H.useContext(m3);return t||Jt(!1),t}function M3(e){let t=H.useContext(xr);return t||Jt(!1),t}function My(e){let t=M3(),n=t.matches[t.matches.length-1];return n.route.id||Jt(!1),n.route.id}function O3(){var e;let t=H.useContext(Sy),n=N3(),r=My();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function R3(){let{router:e}=I3(Iy.UseNavigateStable),t=My(Ny.UseNavigateStable),n=H.useRef(!1);return by(()=>{n.current=!0}),H.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Ul({fromRouteId:t},u)))},[e,t])}const mm={};function P3(e,t,n){mm[e]||(mm[e]=!0)}function L3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Td(e){let{to:t,replace:n,state:r,relative:l}=e;wa()||Jt(!1);let{future:u,static:p}=H.useContext(Os),{matches:y}=H.useContext(xr),{pathname:v}=Co(),x=Vr(),A=Q0(t,q0(y,u.v7_relativeSplatPath),v,l==="path"),E=JSON.stringify(A);return H.useEffect(()=>x(JSON.parse(E),{replace:n,state:r,relative:l}),[x,E,l,n,r]),null}function D3(e){return w3(e.context)}function Oi(e){Jt(!1)}function k3(e){let{basename:t="/",children:n=null,location:r,navigationType:l=fs.Pop,navigator:u,static:p=!1,future:y}=e;wa()&&Jt(!1);let v=t.replace(/^\/*/,"/"),x=H.useMemo(()=>({basename:v,navigator:u,static:p,future:Ul({v7_relativeSplatPath:!1},y)}),[v,y,u,p]);typeof r=="string"&&(r=_o(r));let{pathname:A="/",search:E="",hash:I="",state:O=null,key:k="default"}=r,B=H.useMemo(()=>{let V=K0(A,v);return V==null?null:{location:{pathname:V,search:E,hash:I,state:O,key:k},navigationType:l}},[v,A,E,I,O,k,l]);return B==null?null:H.createElement(Os.Provider,{value:x},H.createElement(ch.Provider,{children:n,value:B}))}function B3(e){let{children:t,location:n}=e;return _3(Id(t),n)}new Promise(()=>{});function Id(e,t){t===void 0&&(t=[]);let n=[];return H.Children.forEach(e,(r,l)=>{if(!H.isValidElement(r))return;let u=[...t,l];if(r.type===H.Fragment){n.push.apply(n,Id(r.props.children,u));return}r.type!==Oi&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let p={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(p.children=Id(r.props.children,u)),n.push(p)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nd.apply(this,arguments)}function F3(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,u;for(u=0;u<r.length;u++)l=r[u],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function j3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z3(e,t){return e.button===0&&(!t||t==="_self")&&!j3(e)}const U3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V3="6";try{window.__reactRouterVersion=V3}catch{}const H3="startTransition",gm=O_[H3];function W3(e){let{basename:t,children:n,future:r,window:l}=e,u=H.useRef();u.current==null&&(u.current=VE({window:l,v5Compat:!0}));let p=u.current,[y,v]=H.useState({action:p.action,location:p.location}),{v7_startTransition:x}=r||{},A=H.useCallback(E=>{x&&gm?gm(()=>v(E)):v(E)},[v,x]);return H.useLayoutEffect(()=>p.listen(A),[p,A]),H.useEffect(()=>L3(r),[r]),H.createElement(k3,{basename:t,children:n,location:y.location,navigationType:y.action,navigator:p,future:r})}const Z3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y3=H.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:u,replace:p,state:y,target:v,to:x,preventScrollReset:A,viewTransition:E}=t,I=F3(t,U3),{basename:O}=H.useContext(Os),k,B=!1;if(typeof x=="string"&&G3.test(x)&&(k=x,Z3))try{let D=new URL(window.location.href),Z=x.startsWith("//")?new URL(D.protocol+x):new URL(x),ne=K0(Z.pathname,O);Z.origin===D.origin&&ne!=null?x=ne+Z.search+Z.hash:B=!0}catch{}let V=g3(x,{relative:l}),j=X3(x,{replace:p,state:y,target:v,preventScrollReset:A,relative:l,viewTransition:E});function F(D){r&&r(D),D.defaultPrevented||j(D)}return H.createElement("a",Nd({},I,{href:k||V,onClick:B||u?r:F,ref:n,target:v}))});var xm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xm||(xm={}));var ym;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ym||(ym={}));function X3(e,t){let{target:n,replace:r,state:l,preventScrollReset:u,relative:p,viewTransition:y}=t===void 0?{}:t,v=Vr(),x=Co(),A=Ty(e,{relative:p});return H.useCallback(E=>{if(z3(E,n)){E.preventDefault();let I=r!==void 0?r:Lu(x)===Lu(A);v(e,{replace:I,state:l,preventScrollReset:u,relative:p,viewTransition:y})}},[x,v,A,r,l,n,e,u,p,y])}const Oy=H.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),uh=H.createContext({}),hh=H.createContext(null),fh=typeof document<"u",$0=fh?H.useLayoutEffect:H.useEffect,Ry=H.createContext({strict:!1}),e1=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),K3="framerAppearId",Py="data-"+e1(K3);function q3(e,t,n,r){const{visualElement:l}=H.useContext(uh),u=H.useContext(Ry),p=H.useContext(hh),y=H.useContext(Oy).reducedMotion,v=H.useRef();r=r||u.renderer,!v.current&&r&&(v.current=r(e,{visualState:t,parent:l,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const x=v.current;H.useInsertionEffect(()=>{x&&x.update(n,p)});const A=H.useRef(!!(n[Py]&&!window.HandoffComplete));return $0(()=>{x&&(x.render(),A.current&&x.animationState&&x.animationState.animateChanges())}),H.useEffect(()=>{x&&(x.updateFeatures(),!A.current&&x.animationState&&x.animationState.animateChanges(),A.current&&(A.current=!1,window.HandoffComplete=!0))}),x}function Xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Q3(e,t,n){return H.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xo(n)&&(n.current=r))},[t])}function Vl(e){return typeof e=="string"||Array.isArray(e)}function dh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const t1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n1=["initial",...t1];function ph(e){return dh(e.animate)||n1.some(t=>Vl(e[t]))}function Ly(e){return!!(ph(e)||e.variants)}function J3(e,t){if(ph(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Vl(n)?n:void 0,animate:Vl(r)?r:void 0}}return e.inherit!==!1?t:{}}function $3(e){const{initial:t,animate:n}=J3(e,H.useContext(uh));return H.useMemo(()=>({initial:t,animate:n}),[wm(t),wm(n)])}function wm(e){return Array.isArray(e)?e.join(" "):e}const vm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hl={};for(const e in vm)Hl[e]={isEnabled:t=>vm[e].some(n=>!!t[n])};function eA(e){for(const t in e)Hl[t]={...Hl[t],...e[t]}}const i1=H.createContext({}),Dy=H.createContext({}),tA=Symbol.for("motionComponentSymbol");function nA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:l}){e&&eA(e);function u(y,v){let x;const A={...H.useContext(Oy),...y,layoutId:iA(y)},{isStatic:E}=A,I=$3(y),O=r(y,E);if(!E&&fh){I.visualElement=q3(l,O,A,t);const k=H.useContext(Dy),B=H.useContext(Ry).strict;I.visualElement&&(x=I.visualElement.loadFeatures(A,B,e,k))}return H.createElement(uh.Provider,{value:I},x&&I.visualElement?H.createElement(x,{visualElement:I.visualElement,...A}):null,n(l,y,Q3(O,I.visualElement,v),O,E,I.visualElement))}const p=H.forwardRef(u);return p[tA]=l,p}function iA({layoutId:e}){const t=H.useContext(i1).id;return t&&e!==void 0?t+"-"+e:e}function rA(e){function t(r,l={}){return nA(e(r,l))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,l)=>(n.has(l)||n.set(l,t(l)),n.get(l))})}const sA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r1(e){return typeof e!="string"||e.includes("-")?!1:!!(sA.indexOf(e)>-1||/[A-Z]/.test(e))}const Du={};function oA(e){Object.assign(Du,e)}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eo=new Set(Jl);function ky(e,{layout:t,layoutId:n}){return Eo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Du[e]||e==="opacity")}const ri=e=>!!(e&&e.getVelocity),aA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lA=Jl.length;function cA(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,l){let u="";for(let p=0;p<lA;p++){const y=Jl[p];if(e[y]!==void 0){const v=aA[y]||y;u+=`${v}(${e[y]}) `}}return t&&!e.z&&(u+="translateZ(0)"),u=u.trim(),l?u=l(e,r?"":u):n&&r&&(u="none"),u}const By=e=>t=>typeof t=="string"&&t.startsWith(e),Fy=By("--"),Md=By("var(--"),uA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ss=(e,t,n)=>Math.min(Math.max(n,e),t),Ao={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yl={...Ao,transform:e=>Ss(0,1,e)},jc={...Ao,default:1},wl=e=>Math.round(e*1e5)/1e5,mh=/(-)?([\d]*\.?[\d])+/g,jy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $l(e){return typeof e=="string"}const ec=e=>({test:t=>$l(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rs=ec("deg"),gr=ec("%"),Ve=ec("px"),dA=ec("vh"),pA=ec("vw"),_m={...gr,parse:e=>gr.parse(e)/100,transform:e=>gr.transform(e*100)},Cm={...Ao,transform:Math.round},zy={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,size:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:rs,skewX:rs,skewY:rs,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:yl,originX:_m,originY:_m,originZ:Ve,zIndex:Cm,fillOpacity:yl,strokeOpacity:yl,numOctaves:Cm};function s1(e,t,n,r){const{style:l,vars:u,transform:p,transformOrigin:y}=e;let v=!1,x=!1,A=!0;for(const E in t){const I=t[E];if(Fy(E)){u[E]=I;continue}const O=zy[E],k=hA(I,O);if(Eo.has(E)){if(v=!0,p[E]=k,!A)continue;I!==(O.default||0)&&(A=!1)}else E.startsWith("origin")?(x=!0,y[E]=k):l[E]=k}if(t.transform||(v||r?l.transform=cA(e.transform,n,A,r):l.transform&&(l.transform="none")),x){const{originX:E="50%",originY:I="50%",originZ:O=0}=y;l.transformOrigin=`${E} ${I} ${O}`}}const o1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uy(e,t,n){for(const r in t)!ri(t[r])&&!ky(r,n)&&(e[r]=t[r])}function mA({transformTemplate:e},t,n){return H.useMemo(()=>{const r=o1();return s1(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function gA(e,t,n){const r=e.style||{},l={};return Uy(l,r,e),Object.assign(l,mA(e,t,n)),e.transformValues?e.transformValues(l):l}function xA(e,t,n){const r={},l=gA(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=l,r}const yA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ku(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yA.has(e)}let Vy=e=>!ku(e);function wA(e){e&&(Vy=t=>t.startsWith("on")?!ku(t):e(t))}try{wA(require("@emotion/is-prop-valid").default)}catch{}function vA(e,t,n){const r={};for(const l in e)l==="values"&&typeof e.values=="object"||(Vy(l)||n===!0&&ku(l)||!t&&!ku(l)||e.draggable&&l.startsWith("onDrag"))&&(r[l]=e[l]);return r}function Em(e,t,n){return typeof e=="string"?e:Ve.transform(t+n*e)}function _A(e,t,n){const r=Em(t,e.x,e.width),l=Em(n,e.y,e.height);return`${r} ${l}`}const CA={offset:"stroke-dashoffset",array:"stroke-dasharray"},EA={offset:"strokeDashoffset",array:"strokeDasharray"};function AA(e,t,n=1,r=0,l=!0){e.pathLength=1;const u=l?CA:EA;e[u.offset]=Ve.transform(-r);const p=Ve.transform(t),y=Ve.transform(n);e[u.array]=`${p} ${y}`}function a1(e,{attrX:t,attrY:n,attrScale:r,originX:l,originY:u,pathLength:p,pathSpacing:y=1,pathOffset:v=0,...x},A,E,I){if(s1(e,x,A,I),E){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:O,style:k,dimensions:B}=e;O.transform&&(B&&(k.transform=O.transform),delete O.transform),B&&(l!==void 0||u!==void 0||k.transform)&&(k.transformOrigin=_A(B,l!==void 0?l:.5,u!==void 0?u:.5)),t!==void 0&&(O.x=t),n!==void 0&&(O.y=n),r!==void 0&&(O.scale=r),p!==void 0&&AA(O,p,y,v,!1)}const Hy=()=>({...o1(),attrs:{}}),l1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function SA(e,t,n,r){const l=H.useMemo(()=>{const u=Hy();return a1(u,t,{enableHardwareAcceleration:!1},l1(r),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};Uy(u,e.style,e),l.style={...u,...l.style}}return l}function bA(e=!1){return(n,r,l,{latestValues:u},p)=>{const v=(r1(n)?SA:xA)(r,u,p,n),A={...vA(r,typeof n=="string",e),...v,ref:l},{children:E}=r,I=H.useMemo(()=>ri(E)?E.get():E,[E]);return H.createElement(n,{...A,children:I})}}function Wy(e,{style:t,vars:n},r,l){Object.assign(e.style,t,l&&l.getProjectionStyles(r));for(const u in n)e.style.setProperty(u,n[u])}const Zy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gy(e,t,n,r){Wy(e,t,void 0,r);for(const l in t.attrs)e.setAttribute(Zy.has(l)?l:e1(l),t.attrs[l])}function c1(e,t){const{style:n}=e,r={};for(const l in n)(ri(n[l])||t.style&&ri(t.style[l])||ky(l,e))&&(r[l]=n[l]);return r}function Yy(e,t){const n=c1(e,t);for(const r in e)if(ri(e[r])||ri(t[r])){const l=Jl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=e[r]}return n}function u1(e,t,n,r={},l={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,l)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,l)),t}function Xy(e){const t=H.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bu=e=>Array.isArray(e),TA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),IA=e=>Bu(e)?e[e.length-1]||0:e;function ru(e){const t=ri(e)?e.get():e;return TA(t)?t.toValue():t}function NA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,l,u){const p={latestValues:MA(r,l,u,e),renderState:t()};return n&&(p.mount=y=>n(r,y,p)),p}const Ky=e=>(t,n)=>{const r=H.useContext(uh),l=H.useContext(hh),u=()=>NA(e,t,r,l);return n?u():Xy(u)};function MA(e,t,n,r){const l={},u=r(e,{});for(const I in u)l[I]=ru(u[I]);let{initial:p,animate:y}=e;const v=ph(e),x=Ly(e);t&&x&&!v&&e.inherit!==!1&&(p===void 0&&(p=t.initial),y===void 0&&(y=t.animate));let A=n?n.initial===!1:!1;A=A||p===!1;const E=A?y:p;return E&&typeof E!="boolean"&&!dh(E)&&(Array.isArray(E)?E:[E]).forEach(O=>{const k=u1(e,O);if(!k)return;const{transitionEnd:B,transition:V,...j}=k;for(const F in j){let D=j[F];if(Array.isArray(D)){const Z=A?D.length-1:0;D=D[Z]}D!==null&&(l[F]=D)}for(const F in B)l[F]=B[F]}),l}const Qt=e=>e;class Am{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function OA(e){let t=new Am,n=new Am,r=0,l=!1,u=!1;const p=new WeakSet,y={schedule:(v,x=!1,A=!1)=>{const E=A&&l,I=E?t:n;return x&&p.add(v),I.add(v)&&E&&l&&(r=t.order.length),v},cancel:v=>{n.remove(v),p.delete(v)},process:v=>{if(l){u=!0;return}if(l=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let x=0;x<r;x++){const A=t.order[x];A(v),p.has(A)&&(y.schedule(A),e())}l=!1,u&&(u=!1,y.process(v))}};return y}const zc=["prepare","read","update","preRender","render","postRender"],RA=40;function PA(e,t){let n=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=zc.reduce((E,I)=>(E[I]=OA(()=>n=!0),E),{}),p=E=>u[E].process(l),y=()=>{const E=performance.now();n=!1,l.delta=r?1e3/60:Math.max(Math.min(E-l.timestamp,RA),1),l.timestamp=E,l.isProcessing=!0,zc.forEach(p),l.isProcessing=!1,n&&t&&(r=!1,e(y))},v=()=>{n=!0,r=!0,l.isProcessing||e(y)};return{schedule:zc.reduce((E,I)=>{const O=u[I];return E[I]=(k,B=!1,V=!1)=>(n||v(),O.schedule(k,B,V)),E},{}),cancel:E=>zc.forEach(I=>u[I].cancel(E)),state:l,steps:u}}const{schedule:Mt,cancel:zr,state:On,steps:mf}=PA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qt,!0),LA={useVisualState:Ky({scrapeMotionValuesFromProps:Yy,createRenderState:Hy,onMount:(e,t,{renderState:n,latestValues:r})=>{Mt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Mt.render(()=>{a1(n,r,{enableHardwareAcceleration:!1},l1(t.tagName),e.transformTemplate),Gy(t,n)})}})},DA={useVisualState:Ky({scrapeMotionValuesFromProps:c1,createRenderState:o1})};function kA(e,{forwardMotionProps:t=!1},n,r){return{...r1(e)?LA:DA,preloadedFeatures:n,useRender:bA(t),createVisualElement:r,Component:e}}function Or(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const qy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const BA=e=>t=>qy(t)&&e(t,gh(t));function Lr(e,t,n,r){return Or(e,t,BA(n),r)}const FA=(e,t)=>n=>t(e(n)),Cs=(...e)=>e.reduce(FA);function Qy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Sm=Qy("dragHorizontal"),bm=Qy("dragVertical");function Jy(e){let t=!1;if(e==="y")t=bm();else if(e==="x")t=Sm();else{const n=Sm(),r=bm();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function $y(){const e=Jy(!0);return e?(e(),!1):!0}class Rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Tm(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),l=(u,p)=>{if(u.pointerType==="touch"||$y())return;const y=e.getProps();e.animationState&&y.whileHover&&e.animationState.setActive("whileHover",t),y[r]&&Mt.update(()=>y[r](u,p))};return Lr(e.current,n,l,{passive:!e.getProps()[r]})}class jA extends Rs{mount(){this.unmount=Cs(Tm(this.node,!0),Tm(this.node,!1))}unmount(){}}class zA extends Rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cs(Or(this.node.current,"focus",()=>this.onFocus()),Or(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ew=(e,t)=>t?e===t?!0:ew(e,t.parentElement):!1;function gf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gh(n))}class UA extends Rs{constructor(){super(...arguments),this.removeStartListeners=Qt,this.removeEndListeners=Qt,this.removeAccessibleListeners=Qt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),u=Lr(window,"pointerup",(y,v)=>{if(!this.checkPressEnd())return;const{onTap:x,onTapCancel:A,globalTapTarget:E}=this.node.getProps();Mt.update(()=>{!E&&!ew(this.node.current,y.target)?A&&A(y,v):x&&x(y,v)})},{passive:!(r.onTap||r.onPointerUp)}),p=Lr(window,"pointercancel",(y,v)=>this.cancelPress(y,v),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Cs(u,p),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=u=>{if(u.key!=="Enter"||this.isPressing)return;const p=y=>{y.key!=="Enter"||!this.checkPressEnd()||gf("up",(v,x)=>{const{onTap:A}=this.node.getProps();A&&Mt.update(()=>A(v,x))})};this.removeEndListeners(),this.removeEndListeners=Or(this.node.current,"keyup",p),gf("down",(y,v)=>{this.startPress(y,v)})},n=Or(this.node.current,"keydown",t),r=()=>{this.isPressing&&gf("cancel",(u,p)=>this.cancelPress(u,p))},l=Or(this.node.current,"blur",r);this.removeAccessibleListeners=Cs(n,l)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:l}=this.node.getProps();l&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Mt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$y()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Mt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Lr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Or(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Cs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Od=new WeakMap,xf=new WeakMap,VA=e=>{const t=Od.get(e.target);t&&t(e)},HA=e=>{e.forEach(VA)};function WA({root:e,...t}){const n=e||document;xf.has(n)||xf.set(n,{});const r=xf.get(n),l=JSON.stringify(t);return r[l]||(r[l]=new IntersectionObserver(HA,{root:e,...t})),r[l]}function ZA(e,t,n){const r=WA(t);return Od.set(e,n),r.observe(e),()=>{Od.delete(e),r.unobserve(e)}}const GA={some:0,all:1};class YA extends Rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:l="some",once:u}=t,p={root:n?n.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:GA[l]},y=v=>{const{isIntersecting:x}=v;if(this.isInView===x||(this.isInView=x,u&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:A,onViewportLeave:E}=this.node.getProps(),I=x?A:E;I&&I(v)};return ZA(this.node.current,p,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(XA(t,n))&&this.startObserver()}unmount(){}}function XA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const KA={inView:{Feature:YA},tap:{Feature:UA},focus:{Feature:zA},hover:{Feature:jA}};function tw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function QA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function xh(e,t,n){const r=e.getProps();return u1(r,t,n!==void 0?n:r.custom,qA(e),QA(e))}let h1=Qt;const ao=e=>e*1e3,Dr=e=>e/1e3,JA={current:!1},nw=e=>Array.isArray(e)&&typeof e[0]=="number";function iw(e){return!!(!e||typeof e=="string"&&rw[e]||nw(e)||Array.isArray(e)&&e.every(iw))}const al=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:al([0,.65,.55,1]),circOut:al([.55,0,1,.45]),backIn:al([.31,.01,.66,-.59]),backOut:al([.33,1.53,.69,.99])};function sw(e){if(e)return nw(e)?al(e):Array.isArray(e)?e.map(sw):rw[e]}function $A(e,t,n,{delay:r=0,duration:l,repeat:u=0,repeatType:p="loop",ease:y,times:v}={}){const x={[t]:n};v&&(x.offset=v);const A=sw(y);return Array.isArray(A)&&(x.easing=A),e.animate(x,{delay:r,duration:l,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:p==="reverse"?"alternate":"normal"})}function eS(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const ow=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,tS=1e-7,nS=12;function iS(e,t,n,r,l){let u,p,y=0;do p=t+(n-t)/2,u=ow(p,r,l)-e,u>0?n=p:t=p;while(Math.abs(u)>tS&&++y<nS);return p}function tc(e,t,n,r){if(e===t&&n===r)return Qt;const l=u=>iS(u,0,1,e,n);return u=>u===0||u===1?u:ow(l(u),t,r)}const rS=tc(.42,0,1,1),sS=tc(0,0,.58,1),aw=tc(.42,0,.58,1),oS=e=>Array.isArray(e)&&typeof e[0]!="number",lw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cw=e=>t=>1-e(1-t),f1=e=>1-Math.sin(Math.acos(e)),uw=cw(f1),aS=lw(f1),hw=tc(.33,1.53,.69,.99),d1=cw(hw),lS=lw(d1),cS=e=>(e*=2)<1?.5*d1(e):.5*(2-Math.pow(2,-10*(e-1))),uS={linear:Qt,easeIn:rS,easeInOut:aw,easeOut:sS,circIn:f1,circInOut:aS,circOut:uw,backIn:d1,backInOut:lS,backOut:hw,anticipate:cS},Im=e=>{if(Array.isArray(e)){h1(e.length===4);const[t,n,r,l]=e;return tc(t,n,r,l)}else if(typeof e=="string")return uS[e];return e},p1=(e,t)=>n=>!!($l(n)&&fA.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),fw=(e,t,n)=>r=>{if(!$l(r))return r;const[l,u,p,y]=r.match(mh);return{[e]:parseFloat(l),[t]:parseFloat(u),[n]:parseFloat(p),alpha:y!==void 0?parseFloat(y):1}},hS=e=>Ss(0,255,e),yf={...Ao,transform:e=>Math.round(hS(e))},io={test:p1("rgb","red"),parse:fw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+yf.transform(e)+", "+yf.transform(t)+", "+yf.transform(n)+", "+wl(yl.transform(r))+")"};function fS(e){let t="",n="",r="",l="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),l=e.substring(4,5),t+=t,n+=n,r+=r,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const Rd={test:p1("#"),parse:fS,transform:io.transform},Ko={test:p1("hsl","hue"),parse:fw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gr.transform(wl(t))+", "+gr.transform(wl(n))+", "+wl(yl.transform(r))+")"},Vn={test:e=>io.test(e)||Rd.test(e)||Ko.test(e),parse:e=>io.test(e)?io.parse(e):Ko.test(e)?Ko.parse(e):Rd.parse(e),transform:e=>$l(e)?e:e.hasOwnProperty("red")?io.transform(e):Ko.transform(e)},Vt=(e,t,n)=>-n*e+n*t+e;function wf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dS({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let l=0,u=0,p=0;if(!t)l=u=p=n;else{const y=n<.5?n*(1+t):n+t-n*t,v=2*n-y;l=wf(v,y,e+1/3),u=wf(v,y,e),p=wf(v,y,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(p*255),alpha:r}}const vf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},pS=[Rd,io,Ko],mS=e=>pS.find(t=>t.test(e));function Nm(e){const t=mS(e);let n=t.parse(e);return t===Ko&&(n=dS(n)),n}const dw=(e,t)=>{const n=Nm(e),r=Nm(t),l={...n};return u=>(l.red=vf(n.red,r.red,u),l.green=vf(n.green,r.green,u),l.blue=vf(n.blue,r.blue,u),l.alpha=Vt(n.alpha,r.alpha,u),io.transform(l))};function gS(e){var t,n;return isNaN(e)&&$l(e)&&(((t=e.match(mh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(jy))===null||n===void 0?void 0:n.length)||0)>0}const pw={regex:uA,countKey:"Vars",token:"${v}",parse:Qt},mw={regex:jy,countKey:"Colors",token:"${c}",parse:Vn.parse},gw={regex:mh,countKey:"Numbers",token:"${n}",parse:Ao.parse};function _f(e,{regex:t,countKey:n,token:r,parse:l}){const u=e.tokenised.match(t);u&&(e["num"+n]=u.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...u.map(l)))}function Fu(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&_f(n,pw),_f(n,mw),_f(n,gw),n}function xw(e){return Fu(e).values}function yw(e){const{values:t,numColors:n,numVars:r,tokenised:l}=Fu(e),u=t.length;return p=>{let y=l;for(let v=0;v<u;v++)v<r?y=y.replace(pw.token,p[v]):v<r+n?y=y.replace(mw.token,Vn.transform(p[v])):y=y.replace(gw.token,wl(p[v]));return y}}const xS=e=>typeof e=="number"?0:e;function yS(e){const t=xw(e);return yw(e)(t.map(xS))}const bs={test:gS,parse:xw,createTransformer:yw,getAnimatableNone:yS},ww=(e,t)=>n=>`${n>0?t:e}`;function vw(e,t){return typeof e=="number"?n=>Vt(e,t,n):Vn.test(e)?dw(e,t):e.startsWith("var(")?ww(e,t):Cw(e,t)}const _w=(e,t)=>{const n=[...e],r=n.length,l=e.map((u,p)=>vw(u,t[p]));return u=>{for(let p=0;p<r;p++)n[p]=l[p](u);return n}},wS=(e,t)=>{const n={...e,...t},r={};for(const l in n)e[l]!==void 0&&t[l]!==void 0&&(r[l]=vw(e[l],t[l]));return l=>{for(const u in r)n[u]=r[u](l);return n}},Cw=(e,t)=>{const n=bs.createTransformer(t),r=Fu(e),l=Fu(t);return r.numVars===l.numVars&&r.numColors===l.numColors&&r.numNumbers>=l.numNumbers?Cs(_w(r.values,l.values),n):ww(e,t)},Wl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Mm=(e,t)=>n=>Vt(e,t,n);function vS(e){return typeof e=="number"?Mm:typeof e=="string"?Vn.test(e)?dw:Cw:Array.isArray(e)?_w:typeof e=="object"?wS:Mm}function _S(e,t,n){const r=[],l=n||vS(e[0]),u=e.length-1;for(let p=0;p<u;p++){let y=l(e[p],e[p+1]);if(t){const v=Array.isArray(t)?t[p]||Qt:t;y=Cs(v,y)}r.push(y)}return r}function Ew(e,t,{clamp:n=!0,ease:r,mixer:l}={}){const u=e.length;if(h1(u===t.length),u===1)return()=>t[0];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=_S(t,r,l),y=p.length,v=x=>{let A=0;if(y>1)for(;A<e.length-2&&!(x<e[A+1]);A++);const E=Wl(e[A],e[A+1],x);return p[A](E)};return n?x=>v(Ss(e[0],e[u-1],x)):v}function CS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const l=Wl(0,t,r);e.push(Vt(n,1,l))}}function ES(e){const t=[0];return CS(t,e.length-1),t}function AS(e,t){return e.map(n=>n*t)}function SS(e,t){return e.map(()=>t||aw).splice(0,e.length-1)}function ju({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const l=oS(r)?r.map(Im):Im(r),u={done:!1,value:t[0]},p=AS(n&&n.length===t.length?n:ES(t),e),y=Ew(p,t,{ease:Array.isArray(l)?l:SS(t,l)});return{calculatedDuration:e,next:v=>(u.value=y(v),u.done=v>=e,u)}}function Aw(e,t){return t?e*(1e3/t):0}const bS=5;function Sw(e,t,n){const r=Math.max(t-bS,0);return Aw(n-e(r),t-r)}const Cf=.001,TS=.01,IS=10,NS=.05,MS=1;function OS({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let l,u,p=1-t;p=Ss(NS,MS,p),e=Ss(TS,IS,Dr(e)),p<1?(l=x=>{const A=x*p,E=A*e,I=A-n,O=Pd(x,p),k=Math.exp(-E);return Cf-I/O*k},u=x=>{const E=x*p*e,I=E*n+n,O=Math.pow(p,2)*Math.pow(x,2)*e,k=Math.exp(-E),B=Pd(Math.pow(x,2),p);return(-l(x)+Cf>0?-1:1)*((I-O)*k)/B}):(l=x=>{const A=Math.exp(-x*e),E=(x-n)*e+1;return-Cf+A*E},u=x=>{const A=Math.exp(-x*e),E=(n-x)*(e*e);return A*E});const y=5/e,v=PS(l,u,y);if(e=ao(e),isNaN(v))return{stiffness:100,damping:10,duration:e};{const x=Math.pow(v,2)*r;return{stiffness:x,damping:p*2*Math.sqrt(r*x),duration:e}}}const RS=12;function PS(e,t,n){let r=n;for(let l=1;l<RS;l++)r=r-e(r)/t(r);return r}function Pd(e,t){return e*Math.sqrt(1-t*t)}const LS=["duration","bounce"],DS=["stiffness","damping","mass"];function Om(e,t){return t.some(n=>e[n]!==void 0)}function kS(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Om(e,DS)&&Om(e,LS)){const n=OS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function bw({keyframes:e,restDelta:t,restSpeed:n,...r}){const l=e[0],u=e[e.length-1],p={done:!1,value:l},{stiffness:y,damping:v,mass:x,duration:A,velocity:E,isResolvedFromDuration:I}=kS({...r,velocity:-Dr(r.velocity||0)}),O=E||0,k=v/(2*Math.sqrt(y*x)),B=u-l,V=Dr(Math.sqrt(y/x)),j=Math.abs(B)<5;n||(n=j?.01:2),t||(t=j?.005:.5);let F;if(k<1){const D=Pd(V,k);F=Z=>{const ne=Math.exp(-k*V*Z);return u-ne*((O+k*V*B)/D*Math.sin(D*Z)+B*Math.cos(D*Z))}}else if(k===1)F=D=>u-Math.exp(-V*D)*(B+(O+V*B)*D);else{const D=V*Math.sqrt(k*k-1);F=Z=>{const ne=Math.exp(-k*V*Z),ie=Math.min(D*Z,300);return u-ne*((O+k*V*B)*Math.sinh(ie)+D*B*Math.cosh(ie))/D}}return{calculatedDuration:I&&A||null,next:D=>{const Z=F(D);if(I)p.done=D>=A;else{let ne=O;D!==0&&(k<1?ne=Sw(F,D,Z):ne=0);const ie=Math.abs(ne)<=n,K=Math.abs(u-Z)<=t;p.done=ie&&K}return p.value=p.done?u:Z,p}}}function Rm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:p,min:y,max:v,restDelta:x=.5,restSpeed:A}){const E=e[0],I={done:!1,value:E},O=le=>y!==void 0&&le<y||v!==void 0&&le>v,k=le=>y===void 0?v:v===void 0||Math.abs(y-le)<Math.abs(v-le)?y:v;let B=n*t;const V=E+B,j=p===void 0?V:p(V);j!==V&&(B=j-E);const F=le=>-B*Math.exp(-le/r),D=le=>j+F(le),Z=le=>{const $=F(le),Ee=D(le);I.done=Math.abs($)<=x,I.value=I.done?j:Ee};let ne,ie;const K=le=>{O(I.value)&&(ne=le,ie=bw({keyframes:[I.value,k(I.value)],velocity:Sw(D,le,I.value),damping:l,stiffness:u,restDelta:x,restSpeed:A}))};return K(0),{calculatedDuration:null,next:le=>{let $=!1;return!ie&&ne===void 0&&($=!0,Z(le),K(le)),ne!==void 0&&le>ne?ie.next(le-ne):(!$&&Z(le),I)}}}const BS=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Mt.update(t,!0),stop:()=>zr(t),now:()=>On.isProcessing?On.timestamp:performance.now()}},Pm=2e4;function Lm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Pm;)t+=n,r=e.next(t);return t>=Pm?1/0:t}const FS={decay:Rm,inertia:Rm,tween:ju,keyframes:ju,spring:bw};function zu({autoplay:e=!0,delay:t=0,driver:n=BS,keyframes:r,type:l="keyframes",repeat:u=0,repeatDelay:p=0,repeatType:y="loop",onPlay:v,onStop:x,onComplete:A,onUpdate:E,...I}){let O=1,k=!1,B,V;const j=()=>{V=new Promise(ue=>{B=ue})};j();let F;const D=FS[l]||ju;let Z;D!==ju&&typeof r[0]!="number"&&(Z=Ew([0,100],r,{clamp:!1}),r=[0,100]);const ne=D({...I,keyframes:r});let ie;y==="mirror"&&(ie=D({...I,keyframes:[...r].reverse(),velocity:-(I.velocity||0)}));let K="idle",le=null,$=null,Ee=null;ne.calculatedDuration===null&&u&&(ne.calculatedDuration=Lm(ne));const{calculatedDuration:Pe}=ne;let ye=1/0,De=1/0;Pe!==null&&(ye=Pe+p,De=ye*(u+1)-p);let ke=0;const re=ue=>{if($===null)return;O>0&&($=Math.min($,ue)),O<0&&($=Math.min(ue-De/O,$)),le!==null?ke=le:ke=Math.round(ue-$)*O;const we=ke-t*(O>=0?1:-1),Be=O>=0?we<0:we>De;ke=Math.max(we,0),K==="finished"&&le===null&&(ke=De);let Te=ke,ze=ne;if(u){const Yn=Math.min(ke,De)/ye;let Xn=Math.floor(Yn),St=Yn%1;!St&&Yn>=1&&(St=1),St===1&&Xn--,Xn=Math.min(Xn,u+1),!!(Xn%2)&&(y==="reverse"?(St=1-St,p&&(St-=p/ye)):y==="mirror"&&(ze=ie)),Te=Ss(0,1,St)*ye}const de=Be?{done:!1,value:r[0]}:ze.next(Te);Z&&(de.value=Z(de.value));let{done:Ke}=de;!Be&&Pe!==null&&(Ke=O>=0?ke>=De:ke<=0);const ft=le===null&&(K==="finished"||K==="running"&&Ke);return E&&E(de.value),ft&&ce(),de},Ae=()=>{F&&F.stop(),F=void 0},Ne=()=>{K="idle",Ae(),B(),j(),$=Ee=null},ce=()=>{K="finished",A&&A(),Ae(),B()},X=()=>{if(k)return;F||(F=n(re));const ue=F.now();v&&v(),le!==null?$=ue-le:(!$||K==="finished")&&($=ue),K==="finished"&&j(),Ee=$,le=null,K="running",F.start()};e&&X();const ee={then(ue,we){return V.then(ue,we)},get time(){return Dr(ke)},set time(ue){ue=ao(ue),ke=ue,le!==null||!F||O===0?le=ue:$=F.now()-ue/O},get duration(){const ue=ne.calculatedDuration===null?Lm(ne):ne.calculatedDuration;return Dr(ue)},get speed(){return O},set speed(ue){ue===O||!F||(O=ue,ee.time=Dr(ke))},get state(){return K},play:X,pause:()=>{K="paused",le=ke},stop:()=>{k=!0,K!=="idle"&&(K="idle",x&&x(),Ne())},cancel:()=>{Ee!==null&&re(Ee),Ne()},complete:()=>{K="finished"},sample:ue=>($=0,re(ue))};return ee}function jS(e){let t;return()=>(t===void 0&&(t=e()),t)}const zS=jS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),US=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Uc=10,VS=2e4,HS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!iw(t.ease);function WS(e,t,{onUpdate:n,onComplete:r,...l}){if(!(zS()&&US.has(t)&&!l.repeatDelay&&l.repeatType!=="mirror"&&l.damping!==0&&l.type!=="inertia"))return!1;let p=!1,y,v,x=!1;const A=()=>{v=new Promise(D=>{y=D})};A();let{keyframes:E,duration:I=300,ease:O,times:k}=l;if(HS(t,l)){const D=zu({...l,repeat:0,delay:0});let Z={done:!1,value:E[0]};const ne=[];let ie=0;for(;!Z.done&&ie<VS;)Z=D.sample(ie),ne.push(Z.value),ie+=Uc;k=void 0,E=ne,I=ie-Uc,O="linear"}const B=$A(e.owner.current,t,E,{...l,duration:I,ease:O,times:k}),V=()=>{x=!1,B.cancel()},j=()=>{x=!0,Mt.update(V),y(),A()};return B.onfinish=()=>{x||(e.set(eS(E,l)),r&&r(),j())},{then(D,Z){return v.then(D,Z)},attachTimeline(D){return B.timeline=D,B.onfinish=null,Qt},get time(){return Dr(B.currentTime||0)},set time(D){B.currentTime=ao(D)},get speed(){return B.playbackRate},set speed(D){B.playbackRate=D},get duration(){return Dr(I)},play:()=>{p||(B.play(),zr(V))},pause:()=>B.pause(),stop:()=>{if(p=!0,B.playState==="idle")return;const{currentTime:D}=B;if(D){const Z=zu({...l,autoplay:!1});e.setWithVelocity(Z.sample(D-Uc).value,Z.sample(D).value,Uc)}j()},complete:()=>{x||B.finish()},cancel:j}}function ZS({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const l=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Qt,pause:Qt,stop:Qt,then:u=>(u(),Promise.resolve()),cancel:Qt,complete:Qt});return t?zu({keyframes:[0,1],duration:0,delay:t,onComplete:l}):l()}const GS={type:"spring",stiffness:500,damping:25,restSpeed:10},YS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XS={type:"keyframes",duration:.8},KS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qS=(e,{keyframes:t})=>t.length>2?XS:Eo.has(e)?e.startsWith("scale")?YS(t[1]):GS:KS,Ld=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bs.test(t)||t==="0")&&!t.startsWith("url(")),QS=new Set(["brightness","contrast","saturate","opacity"]);function JS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(mh)||[];if(!r)return e;const l=n.replace(r,"");let u=QS.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+l+")"}const $S=/([a-z-]*)\(.*?\)/g,Dd={...bs,getAnimatableNone:e=>{const t=e.match($S);return t?t.map(JS).join(" "):e}},eb={...zy,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:Dd,WebkitFilter:Dd},m1=e=>eb[e];function Tw(e,t){let n=m1(e);return n!==Dd&&(n=bs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Iw=e=>/^0[^.\s]+$/.test(e);function tb(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Iw(e)}function nb(e,t,n,r){const l=Ld(t,n);let u;Array.isArray(n)?u=[...n]:u=[null,n];const p=r.from!==void 0?r.from:e.get();let y;const v=[];for(let x=0;x<u.length;x++)u[x]===null&&(u[x]=x===0?p:u[x-1]),tb(u[x])&&v.push(x),typeof u[x]=="string"&&u[x]!=="none"&&u[x]!=="0"&&(y=u[x]);if(l&&v.length&&y)for(let x=0;x<v.length;x++){const A=v[x];u[A]=Tw(t,y)}return u}function ib({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:l,repeat:u,repeatType:p,repeatDelay:y,from:v,elapsed:x,...A}){return!!Object.keys(A).length}function g1(e,t){return e[t]||e.default||e}const rb={skipAnimations:!1},x1=(e,t,n,r={})=>l=>{const u=g1(r,e)||{},p=u.delay||r.delay||0;let{elapsed:y=0}=r;y=y-ao(p);const v=nb(t,e,n,u),x=v[0],A=v[v.length-1],E=Ld(e,x),I=Ld(e,A);let O={keyframes:v,velocity:t.getVelocity(),ease:"easeOut",...u,delay:-y,onUpdate:k=>{t.set(k),u.onUpdate&&u.onUpdate(k)},onComplete:()=>{l(),u.onComplete&&u.onComplete()}};if(ib(u)||(O={...O,...qS(e,O)}),O.duration&&(O.duration=ao(O.duration)),O.repeatDelay&&(O.repeatDelay=ao(O.repeatDelay)),!E||!I||JA.current||u.type===!1||rb.skipAnimations)return ZS(O);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const k=WS(t,e,O);if(k)return k}return zu(O)};function Uu(e){return!!(ri(e)&&e.add)}const Nw=e=>/^\-?\d*\.?\d+$/.test(e);function y1(e,t){e.indexOf(t)===-1&&e.push(t)}function w1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class v1{constructor(){this.subscriptions=[]}add(t){return y1(this.subscriptions,t),()=>w1(this.subscriptions,t)}notify(t,n,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,r);else for(let u=0;u<l;u++){const p=this.subscriptions[u];p&&p(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sb=e=>!isNaN(parseFloat(e));class ob{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,l=!0)=>{this.prev=this.current,this.current=r;const{delta:u,timestamp:p}=On;this.lastUpdated!==p&&(this.timeDelta=u,this.lastUpdated=p,Mt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Mt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=sb(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new v1);const r=this.events[t].add(n);return t==="change"?()=>{r(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Aw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fa(e,t){return new ob(e,t)}const Mw=e=>t=>t.test(e),ab={test:e=>e==="auto",parse:e=>e},Ow=[Ao,Ve,gr,rs,pA,dA,ab],el=e=>Ow.find(Mw(e)),lb=[...Ow,Vn,bs],cb=e=>lb.find(Mw(e));function ub(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fa(n))}function hb(e,t){const n=xh(e,t);let{transitionEnd:r={},transition:l={},...u}=n?e.makeTargetAnimatable(n,!1):{};u={...u,...r};for(const p in u){const y=IA(u[p]);ub(e,p,y)}}function fb(e,t,n){var r,l;const u=Object.keys(t).filter(y=>!e.hasValue(y)),p=u.length;if(p)for(let y=0;y<p;y++){const v=u[y],x=t[v];let A=null;Array.isArray(x)&&(A=x[0]),A===null&&(A=(l=(r=n[v])!==null&&r!==void 0?r:e.readValue(v))!==null&&l!==void 0?l:t[v]),A!=null&&(typeof A=="string"&&(Nw(A)||Iw(A))?A=parseFloat(A):!cb(A)&&bs.test(x)&&(A=Tw(v,x)),e.addValue(v,fa(A,{owner:e})),n[v]===void 0&&(n[v]=A),A!==null&&e.setBaseTarget(v,A))}}function db(e,t){return t?(t[e]||t.default||t).from:void 0}function pb(e,t,n){const r={};for(const l in e){const u=db(l,t);if(u!==void 0)r[l]=u;else{const p=n.getValue(l);p&&(r[l]=p.get())}}return r}function mb({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function gb(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Rw(e,t,{delay:n=0,transitionOverride:r,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:p,...y}=e.makeTargetAnimatable(t);const v=e.getValue("willChange");r&&(u=r);const x=[],A=l&&e.animationState&&e.animationState.getState()[l];for(const E in y){const I=e.getValue(E),O=y[E];if(!I||O===void 0||A&&mb(A,E))continue;const k={delay:n,elapsed:0,...g1(u||{},E)};if(window.HandoffAppearAnimations){const j=e.getProps()[Py];if(j){const F=window.HandoffAppearAnimations(j,E,I,Mt);F!==null&&(k.elapsed=F,k.isHandoff=!0)}}let B=!k.isHandoff&&!gb(I,O);if(k.type==="spring"&&(I.getVelocity()||k.velocity)&&(B=!1),I.animation&&(B=!1),B)continue;I.start(x1(E,I,O,e.shouldReduceMotion&&Eo.has(E)?{type:!1}:k));const V=I.animation;Uu(v)&&(v.add(E),V.then(()=>v.remove(E))),x.push(V)}return p&&Promise.all(x).then(()=>{p&&hb(e,p)}),x}function kd(e,t,n={}){const r=xh(e,t,n.custom);let{transition:l=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const u=r?()=>Promise.all(Rw(e,r,n)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(v=0)=>{const{delayChildren:x=0,staggerChildren:A,staggerDirection:E}=l;return xb(e,t,x+v,A,E,n)}:()=>Promise.resolve(),{when:y}=l;if(y){const[v,x]=y==="beforeChildren"?[u,p]:[p,u];return v().then(()=>x())}else return Promise.all([u(),p(n.delay)])}function xb(e,t,n=0,r=0,l=1,u){const p=[],y=(e.variantChildren.size-1)*r,v=l===1?(x=0)=>x*r:(x=0)=>y-x*r;return Array.from(e.variantChildren).sort(yb).forEach((x,A)=>{x.notify("AnimationStart",t),p.push(kd(x,t,{...u,delay:n+v(A)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(p)}function yb(e,t){return e.sortNodePosition(t)}function wb(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const l=t.map(u=>kd(e,u,n));r=Promise.all(l)}else if(typeof t=="string")r=kd(e,t,n);else{const l=typeof t=="function"?xh(e,t,n.custom):t;r=Promise.all(Rw(e,l,n))}return r.then(()=>e.notify("AnimationComplete",t))}const vb=[...t1].reverse(),_b=t1.length;function Cb(e){return t=>Promise.all(t.map(({animation:n,options:r})=>wb(e,n,r)))}function Eb(e){let t=Cb(e);const n=Sb();let r=!0;const l=(v,x)=>{const A=xh(e,x);if(A){const{transition:E,transitionEnd:I,...O}=A;v={...v,...O,...I}}return v};function u(v){t=v(e)}function p(v,x){const A=e.getProps(),E=e.getVariantContext(!0)||{},I=[],O=new Set;let k={},B=1/0;for(let j=0;j<_b;j++){const F=vb[j],D=n[F],Z=A[F]!==void 0?A[F]:E[F],ne=Vl(Z),ie=F===x?D.isActive:null;ie===!1&&(B=j);let K=Z===E[F]&&Z!==A[F]&&ne;if(K&&r&&e.manuallyAnimateOnMount&&(K=!1),D.protectedKeys={...k},!D.isActive&&ie===null||!Z&&!D.prevProp||dh(Z)||typeof Z=="boolean")continue;let $=Ab(D.prevProp,Z)||F===x&&D.isActive&&!K&&ne||j>B&&ne,Ee=!1;const Pe=Array.isArray(Z)?Z:[Z];let ye=Pe.reduce(l,{});ie===!1&&(ye={});const{prevResolvedValues:De={}}=D,ke={...De,...ye},re=Ae=>{$=!0,O.has(Ae)&&(Ee=!0,O.delete(Ae)),D.needsAnimating[Ae]=!0};for(const Ae in ke){const Ne=ye[Ae],ce=De[Ae];if(k.hasOwnProperty(Ae))continue;let X=!1;Bu(Ne)&&Bu(ce)?X=!tw(Ne,ce):X=Ne!==ce,X?Ne!==void 0?re(Ae):O.add(Ae):Ne!==void 0&&O.has(Ae)?re(Ae):D.protectedKeys[Ae]=!0}D.prevProp=Z,D.prevResolvedValues=ye,D.isActive&&(k={...k,...ye}),r&&e.blockInitialAnimation&&($=!1),$&&(!K||Ee)&&I.push(...Pe.map(Ae=>({animation:Ae,options:{type:F,...v}})))}if(O.size){const j={};O.forEach(F=>{const D=e.getBaseTarget(F);D!==void 0&&(j[F]=D)}),I.push({animation:j})}let V=!!I.length;return r&&(A.initial===!1||A.initial===A.animate)&&!e.manuallyAnimateOnMount&&(V=!1),r=!1,V?t(I):Promise.resolve()}function y(v,x,A){var E;if(n[v].isActive===x)return Promise.resolve();(E=e.variantChildren)===null||E===void 0||E.forEach(O=>{var k;return(k=O.animationState)===null||k===void 0?void 0:k.setActive(v,x)}),n[v].isActive=x;const I=p(A,v);for(const O in n)n[O].protectedKeys={};return I}return{animateChanges:p,setActive:y,setAnimateFunction:u,getState:()=>n}}function Ab(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tw(t,e):!1}function Xs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sb(){return{animate:Xs(!0),whileInView:Xs(),whileHover:Xs(),whileTap:Xs(),whileDrag:Xs(),whileFocus:Xs(),exit:Xs()}}class bb extends Rs{constructor(t){super(t),t.animationState||(t.animationState=Eb(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),dh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Tb=0;class Ib extends Rs{constructor(){super(...arguments),this.id=Tb++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===l)return;const u=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&u.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Nb={animation:{Feature:bb},exit:{Feature:Ib}},Dm=(e,t)=>Math.abs(e-t);function Mb(e,t){const n=Dm(e.x,t.x),r=Dm(e.y,t.y);return Math.sqrt(n**2+r**2)}class Pw{constructor(t,n,{transformPagePoint:r,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Af(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,O=Mb(E.offset,{x:0,y:0})>=3;if(!I&&!O)return;const{point:k}=E,{timestamp:B}=On;this.history.push({...k,timestamp:B});const{onStart:V,onMove:j}=this.handlers;I||(V&&V(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,E)},this.handlePointerMove=(E,I)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ef(I,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(E,I)=>{this.end();const{onEnd:O,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Af(E.type==="pointercancel"?this.lastMoveEventInfo:Ef(I,this.transformPagePoint),this.history);this.startEvent&&O&&O(E,V),k&&k(E,V)},!qy(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=l||window;const p=gh(t),y=Ef(p,this.transformPagePoint),{point:v}=y,{timestamp:x}=On;this.history=[{...v,timestamp:x}];const{onSessionStart:A}=n;A&&A(t,Af(y,this.history)),this.removeListeners=Cs(Lr(this.contextWindow,"pointermove",this.handlePointerMove),Lr(this.contextWindow,"pointerup",this.handlePointerUp),Lr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function Ef(e,t){return t?{point:t(e.point)}:e}function km(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Af({point:e},t){return{point:e,delta:km(e,Lw(t)),offset:km(e,Ob(t)),velocity:Rb(t,.1)}}function Ob(e){return e[0]}function Lw(e){return e[e.length-1]}function Rb(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const l=Lw(e);for(;n>=0&&(r=e[n],!(l.timestamp-r.timestamp>ao(t)));)n--;if(!r)return{x:0,y:0};const u=Dr(l.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const p={x:(l.x-r.x)/u,y:(l.y-r.y)/u};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function xi(e){return e.max-e.min}function Bd(e,t=0,n=.01){return Math.abs(e-t)<=n}function Bm(e,t,n,r=.5){e.origin=r,e.originPoint=Vt(t.min,t.max,e.origin),e.scale=xi(n)/xi(t),(Bd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Vt(n.min,n.max,e.origin)-e.originPoint,(Bd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vl(e,t,n,r){Bm(e.x,t.x,n.x,r?r.originX:void 0),Bm(e.y,t.y,n.y,r?r.originY:void 0)}function Fm(e,t,n){e.min=n.min+t.min,e.max=e.min+xi(t)}function Pb(e,t,n){Fm(e.x,t.x,n.x),Fm(e.y,t.y,n.y)}function jm(e,t,n){e.min=t.min-n.min,e.max=e.min+xi(t)}function _l(e,t,n){jm(e.x,t.x,n.x),jm(e.y,t.y,n.y)}function Lb(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Vt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Vt(n,e,r.max):Math.min(e,n)),e}function zm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Db(e,{top:t,left:n,bottom:r,right:l}){return{x:zm(e.x,n,l),y:zm(e.y,t,r)}}function Um(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function kb(e,t){return{x:Um(e.x,t.x),y:Um(e.y,t.y)}}function Bb(e,t){let n=.5;const r=xi(e),l=xi(t);return l>r?n=Wl(t.min,t.max-r,e.min):r>l&&(n=Wl(e.min,e.max-l,t.min)),Ss(0,1,n)}function Fb(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fd=.35;function jb(e=Fd){return e===!1?e=0:e===!0&&(e=Fd),{x:Vm(e,"left","right"),y:Vm(e,"top","bottom")}}function Vm(e,t,n){return{min:Hm(e,t),max:Hm(e,n)}}function Hm(e,t){return typeof e=="number"?e:e[t]||0}const Wm=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:Wm(),y:Wm()}),Zm=()=>({min:0,max:0}),nn=()=>({x:Zm(),y:Zm()});function Ri(e){return[e("x"),e("y")]}function Dw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function zb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ub(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sf(e){return e===void 0||e===1}function jd({scale:e,scaleX:t,scaleY:n}){return!Sf(e)||!Sf(t)||!Sf(n)}function Qs(e){return jd(e)||kw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function kw(e){return Gm(e.x)||Gm(e.y)}function Gm(e){return e&&e!=="0%"}function Vu(e,t,n){const r=e-n,l=t*r;return n+l}function Ym(e,t,n,r,l){return l!==void 0&&(e=Vu(e,l,r)),Vu(e,n,r)+t}function zd(e,t=0,n=1,r,l){e.min=Ym(e.min,t,n,r,l),e.max=Ym(e.max,t,n,r,l)}function Bw(e,{x:t,y:n}){zd(e.x,t.translate,t.scale,t.originPoint),zd(e.y,n.translate,n.scale,n.originPoint)}function Vb(e,t,n,r=!1){const l=n.length;if(!l)return;t.x=t.y=1;let u,p;for(let y=0;y<l;y++){u=n[y],p=u.projectionDelta;const v=u.instance;v&&v.style&&v.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,Bw(e,p)),r&&Qs(u.latestValues)&&Qo(e,u.latestValues))}t.x=Xm(t.x),t.y=Xm(t.y)}function Xm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function as(e,t){e.min=e.min+t,e.max=e.max+t}function Km(e,t,[n,r,l]){const u=t[l]!==void 0?t[l]:.5,p=Vt(e.min,e.max,u);zd(e,t[n],t[r],p,t.scale)}const Hb=["x","scaleX","originX"],Wb=["y","scaleY","originY"];function Qo(e,t){Km(e.x,t,Hb),Km(e.y,t,Wb)}function Fw(e,t){return Dw(Ub(e.getBoundingClientRect(),t))}function Zb(e,t,n){const r=Fw(e,n),{scroll:l}=t;return l&&(as(r.x,l.offset.x),as(r.y,l.offset.y)),r}const jw=({current:e})=>e?e.ownerDocument.defaultView:null,Gb=new WeakMap;class Yb{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=A=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gh(A,"page").point)},u=(A,E)=>{const{drag:I,dragPropagation:O,onDragStart:k}=this.getProps();if(I&&!O&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Jy(I),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(V=>{let j=this.getAxisMotionValue(V).get()||0;if(gr.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const D=F.layout.layoutBox[V];D&&(j=xi(D)*(parseFloat(j)/100))}}this.originPoint[V]=j}),k&&Mt.update(()=>k(A,E),!1,!0);const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},p=(A,E)=>{const{dragPropagation:I,dragDirectionLock:O,onDirectionLock:k,onDrag:B}=this.getProps();if(!I&&!this.openGlobalLock)return;const{offset:V}=E;if(O&&this.currentDirection===null){this.currentDirection=Xb(V),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",E.point,V),this.updateAxis("y",E.point,V),this.visualElement.render(),B&&B(A,E)},y=(A,E)=>this.stop(A,E),v=()=>Ri(A=>{var E;return this.getAnimationState(A)==="paused"&&((E=this.getAxisMotionValue(A).animation)===null||E===void 0?void 0:E.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Pw(t,{onSessionStart:l,onStart:u,onMove:p,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:jw(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Mt.update(()=>u(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:l}=this.getProps();if(!r||!Vc(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let p=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(p=Lb(p,this.constraints[t],this.elastic[t])),u.set(p)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;n&&Xo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&l?this.constraints=Db(l.layoutBox,n):this.constraints=!1,this.elastic=jb(r),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Ri(p=>{this.getAxisMotionValue(p)&&(this.constraints[p]=Fb(l.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xo(t))return!1;const r=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=Zb(r,l.root,this.visualElement.getTransformPagePoint());let p=kb(l.layout.layoutBox,u);if(n){const y=n(zb(p));this.hasMutatedConstraints=!!y,y&&(p=Dw(y))}return p}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:l,dragTransition:u,dragSnapToOrigin:p,onDragTransitionEnd:y}=this.getProps(),v=this.constraints||{},x=Ri(A=>{if(!Vc(A,n,this.currentDirection))return;let E=v&&v[A]||{};p&&(E={min:0,max:0});const I=l?200:1e6,O=l?40:1e7,k={type:"inertia",velocity:r?t[A]:0,bounceStiffness:I,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(A,k)});return Promise.all(x).then(y)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(x1(t,r,0,n))}stopAnimation(){Ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ri(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),l=r[n];return l||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ri(n=>{const{drag:r}=this.getProps();if(!Vc(n,r,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:p,max:y}=l.layout.layoutBox[n];u.set(t[n]-Vt(p,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xo(n)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Ri(p=>{const y=this.getAxisMotionValue(p);if(y){const v=y.get();l[p]=Bb({min:v,max:v},this.constraints[p])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ri(p=>{if(!Vc(p,t,null))return;const y=this.getAxisMotionValue(p),{min:v,max:x}=this.constraints[p];y.set(Vt(v,x,l[p]))})}addListeners(){if(!this.visualElement.current)return;Gb.set(this.visualElement,this);const t=this.visualElement.current,n=Lr(t,"pointerdown",v=>{const{drag:x,dragListener:A=!0}=this.getProps();x&&A&&this.start(v)}),r=()=>{const{dragConstraints:v}=this.getProps();Xo(v)&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),r();const p=Or(window,"resize",()=>this.scalePositionWithinConstraints()),y=l.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x})=>{this.isDragging&&x&&(Ri(A=>{const E=this.getAxisMotionValue(A);E&&(this.originPoint[A]+=v[A].translate,E.set(E.get()+v[A].translate))}),this.visualElement.render())});return()=>{p(),n(),u(),y&&y()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:p=Fd,dragMomentum:y=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:l,dragConstraints:u,dragElastic:p,dragMomentum:y}}}function Vc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Xb(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Kb extends Rs{constructor(t){super(t),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new Yb(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const qm=e=>(t,n)=>{e&&Mt.update(()=>e(t,n))};class qb extends Rs{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(t){this.session=new Pw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:qm(t),onStart:qm(n),onMove:r,onEnd:(u,p)=>{delete this.session,l&&Mt.update(()=>l(u,p))}}}mount(){this.removePointerDownListener=Lr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Qb(){const e=H.useContext(hh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,l=H.useId();return H.useEffect(()=>r(l),[]),!t&&n?[!1,()=>n&&n(l)]:[!0]}const su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=Qm(e,t.target.x),r=Qm(e,t.target.y);return`${n}% ${r}%`}},Jb={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,l=bs.parse(e);if(l.length>5)return r;const u=bs.createTransformer(e),p=typeof l[0]!="number"?1:0,y=n.x.scale*t.x,v=n.y.scale*t.y;l[0+p]/=y,l[1+p]/=v;const x=Vt(y,v,.5);return typeof l[2+p]=="number"&&(l[2+p]/=x),typeof l[3+p]=="number"&&(l[3+p]/=x),u(l)}};class $b extends uo.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:l}=this.props,{projection:u}=t;oA(eT),u&&(n.group&&n.group.add(u),r&&r.register&&l&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),su.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:l,isPresent:u}=this.props,p=r.projection;return p&&(p.isPresent=u,l||t.layoutDependency!==n||n===void 0?p.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?p.promote():p.relegate()||Mt.postRender(()=>{const y=p.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zw(e){const[t,n]=Qb(),r=H.useContext(i1);return uo.createElement($b,{...e,layoutGroup:r,switchLayoutGroup:H.useContext(Dy),isPresent:t,safeToRemove:n})}const eT={borderRadius:{...tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tl,borderTopRightRadius:tl,borderBottomLeftRadius:tl,borderBottomRightRadius:tl,boxShadow:Jb},Uw=["TopLeft","TopRight","BottomLeft","BottomRight"],tT=Uw.length,Jm=e=>typeof e=="string"?parseFloat(e):e,$m=e=>typeof e=="number"||Ve.test(e);function nT(e,t,n,r,l,u){l?(e.opacity=Vt(0,n.opacity!==void 0?n.opacity:1,iT(r)),e.opacityExit=Vt(t.opacity!==void 0?t.opacity:1,0,rT(r))):u&&(e.opacity=Vt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let p=0;p<tT;p++){const y=`border${Uw[p]}Radius`;let v=eg(t,y),x=eg(n,y);if(v===void 0&&x===void 0)continue;v||(v=0),x||(x=0),v===0||x===0||$m(v)===$m(x)?(e[y]=Math.max(Vt(Jm(v),Jm(x),r),0),(gr.test(x)||gr.test(v))&&(e[y]+="%")):e[y]=x}(t.rotate||n.rotate)&&(e.rotate=Vt(t.rotate||0,n.rotate||0,r))}function eg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iT=Vw(0,.5,uw),rT=Vw(.5,.95,Qt);function Vw(e,t,n){return r=>r<e?0:r>t?1:n(Wl(e,t,r))}function tg(e,t){e.min=t.min,e.max=t.max}function Ni(e,t){tg(e.x,t.x),tg(e.y,t.y)}function ng(e,t,n,r,l){return e-=t,e=Vu(e,1/n,r),l!==void 0&&(e=Vu(e,1/l,r)),e}function sT(e,t=0,n=1,r=.5,l,u=e,p=e){if(gr.test(t)&&(t=parseFloat(t),t=Vt(p.min,p.max,t/100)-p.min),typeof t!="number")return;let y=Vt(u.min,u.max,r);e===u&&(y-=t),e.min=ng(e.min,t,n,y,l),e.max=ng(e.max,t,n,y,l)}function ig(e,t,[n,r,l],u,p){sT(e,t[n],t[r],t[l],t.scale,u,p)}const oT=["x","scaleX","originX"],aT=["y","scaleY","originY"];function rg(e,t,n,r){ig(e.x,t,oT,n?n.x:void 0,r?r.x:void 0),ig(e.y,t,aT,n?n.y:void 0,r?r.y:void 0)}function sg(e){return e.translate===0&&e.scale===1}function Hw(e){return sg(e.x)&&sg(e.y)}function lT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Ww(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function og(e){return xi(e.x)/xi(e.y)}class cT{constructor(){this.members=[]}add(t){y1(this.members,t),t.scheduleRender()}remove(t){if(w1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let r;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ag(e,t,n){let r="";const l=e.x.translate/t.x,u=e.y.translate/t.y;if((l||u)&&(r=`translate3d(${l}px, ${u}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:v,rotateX:x,rotateY:A}=n;v&&(r+=`rotate(${v}deg) `),x&&(r+=`rotateX(${x}deg) `),A&&(r+=`rotateY(${A}deg) `)}const p=e.x.scale*t.x,y=e.y.scale*t.y;return(p!==1||y!==1)&&(r+=`scale(${p}, ${y})`),r||"none"}const uT=(e,t)=>e.depth-t.depth;class hT{constructor(){this.children=[],this.isDirty=!1}add(t){y1(this.children,t),this.isDirty=!0}remove(t){w1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uT),this.isDirty=!1,this.children.forEach(t)}}function fT(e,t){const n=performance.now(),r=({timestamp:l})=>{const u=l-n;u>=t&&(zr(r),e(u-t))};return Mt.read(r,!0),()=>zr(r)}function dT(e){window.MotionDebug&&window.MotionDebug.record(e)}function pT(e){return e instanceof SVGElement&&e.tagName!=="svg"}function mT(e,t,n){const r=ri(e)?e:fa(e);return r.start(x1("",r,t,n)),r.animation}const lg=["","X","Y","Z"],gT={visibility:"hidden"},cg=1e3;let xT=0;const Js={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Zw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(p={},y=t==null?void 0:t()){this.id=xT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Js.totalNodes=Js.resolvedTargetDeltas=Js.recalculatedProjection=0,this.nodes.forEach(vT),this.nodes.forEach(ST),this.nodes.forEach(bT),this.nodes.forEach(_T),dT(Js)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new hT)}addEventListener(p,y){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new v1),this.eventHandlers.get(p).add(y)}notifyListeners(p,...y){const v=this.eventHandlers.get(p);v&&v.notify(...y)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,y=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pT(p),this.instance=p;const{layoutId:v,layout:x,visualElement:A}=this.options;if(A&&!A.current&&A.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),y&&(x||v)&&(this.isLayoutDirty=!0),e){let E;const I=()=>this.root.updateBlockedByResize=!1;e(p,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=fT(I,250),su.hasAnimatedSinceResize&&(su.hasAnimatedSinceResize=!1,this.nodes.forEach(hg))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&A&&(v||x)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:I,hasRelativeTargetChanged:O,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||A.getDefaultTransition()||OT,{onLayoutAnimationStart:V,onLayoutAnimationComplete:j}=A.getProps(),F=!this.targetLayout||!Ww(this.targetLayout,k)||O,D=!I&&O;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||D||I&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,D);const Z={...g1(B,"layout"),onPlay:V,onComplete:j};(A.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else I||hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TT),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const E=this.path[A];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:y,layout:v}=this.options;if(y===void 0&&!v)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ug);return}this.isUpdating||this.nodes.forEach(ET),this.isUpdating=!1,this.nodes.forEach(AT),this.nodes.forEach(yT),this.nodes.forEach(wT),this.clearAllSnapshots();const y=performance.now();On.delta=Ss(0,1e3/60,y-On.timestamp),On.timestamp=y,On.isProcessing=!0,mf.update.process(On),mf.preRender.process(On),mf.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(CT),this.sharedNodes.forEach(IT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let y=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(y=!1),y&&(this.scroll={animationId:this.root.animationId,phase:p,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!l)return;const p=this.isLayoutDirty||this.shouldResetTransform,y=this.projectionDelta&&!Hw(this.projectionDelta),v=this.getTransformTemplate(),x=v?v(this.latestValues,""):void 0,A=x!==this.prevTransformTemplateValue;p&&(y||Qs(this.latestValues)||A)&&(l(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const y=this.measurePageBox();let v=this.removeElementScroll(y);return p&&(v=this.removeTransform(v)),RT(v),{animationId:this.root.animationId,measuredBox:y,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return nn();const y=p.measureViewportBox(),{scroll:v}=this.root;return v&&(as(y.x,v.offset.x),as(y.y,v.offset.y)),y}removeElementScroll(p){const y=nn();Ni(y,p);for(let v=0;v<this.path.length;v++){const x=this.path[v],{scroll:A,options:E}=x;if(x!==this.root&&A&&E.layoutScroll){if(A.isRoot){Ni(y,p);const{scroll:I}=this.root;I&&(as(y.x,-I.offset.x),as(y.y,-I.offset.y))}as(y.x,A.offset.x),as(y.y,A.offset.y)}}return y}applyTransform(p,y=!1){const v=nn();Ni(v,p);for(let x=0;x<this.path.length;x++){const A=this.path[x];!y&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Qo(v,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Qs(A.latestValues)&&Qo(v,A.latestValues)}return Qs(this.latestValues)&&Qo(v,this.latestValues),v}removeTransform(p){const y=nn();Ni(y,p);for(let v=0;v<this.path.length;v++){const x=this.path[v];if(!x.instance||!Qs(x.latestValues))continue;jd(x.latestValues)&&x.updateSnapshot();const A=nn(),E=x.measurePageBox();Ni(A,E),rg(y,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,A)}return Qs(this.latestValues)&&rg(y,this.latestValues),y}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var y;const v=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=v.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=v.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=v.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==v;if(!(p||x&&this.isSharedProjectionDirty||this.isProjectionDirty||!((y=this.parent)===null||y===void 0)&&y.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:E,layoutId:I}=this.options;if(!(!this.layout||!(E||I))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),_l(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),Bw(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),_l(this.relativeTargetOrigin,this.target,O.target),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Js.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jd(this.parent.latestValues)||kw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const y=this.getLead(),v=!!this.resumingFrom||this!==y;let x=!0;if((this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty)&&(x=!1),v&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===On.timestamp&&(x=!1),x)return;const{layout:A,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(A||E))return;Ni(this.layoutCorrected,this.layout.layoutBox);const I=this.treeScale.x,O=this.treeScale.y;Vb(this.layoutCorrected,this.treeScale,this.path,v),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox);const{target:k}=y;if(!k){this.projectionTransform&&(this.projectionDelta=qo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo());const B=this.projectionTransform;vl(this.projectionDelta,this.layoutCorrected,k,this.latestValues),this.projectionTransform=ag(this.projectionDelta,this.treeScale),(this.projectionTransform!==B||this.treeScale.x!==I||this.treeScale.y!==O)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Js.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),p){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(p,y=!1){const v=this.snapshot,x=v?v.latestValues:{},A={...this.latestValues},E=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const I=nn(),O=v?v.source:void 0,k=this.layout?this.layout.source:void 0,B=O!==k,V=this.getStack(),j=!V||V.members.length<=1,F=!!(B&&!j&&this.options.crossfade===!0&&!this.path.some(MT));this.animationProgress=0;let D;this.mixTargetDelta=Z=>{const ne=Z/1e3;fg(E.x,p.x,ne),fg(E.y,p.y,ne),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_l(I,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NT(this.relativeTarget,this.relativeTargetOrigin,I,ne),D&&lT(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=nn()),Ni(D,this.relativeTarget)),B&&(this.animationValues=A,nT(A,x,this.latestValues,ne,F,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{su.hasAnimatedSinceResize=!0,this.currentAnimation=mT(0,cg,{...p,onUpdate:y=>{this.mixTargetDelta(y),p.onUpdate&&p.onUpdate(y)},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:y,target:v,layout:x,latestValues:A}=p;if(!(!y||!v||!x)){if(this!==p&&this.layout&&x&&Gw(this.options.animationType,this.layout.layoutBox,x.layoutBox)){v=this.target||nn();const E=xi(this.layout.layoutBox.x);v.x.min=p.target.x.min,v.x.max=v.x.min+E;const I=xi(this.layout.layoutBox.y);v.y.min=p.target.y.min,v.y.max=v.y.min+I}Ni(y,v),Qo(y,A),vl(this.projectionDeltaWithTransform,this.layoutCorrected,y,A)}}registerSharedNode(p,y){this.sharedNodes.has(p)||this.sharedNodes.set(p,new cT),this.sharedNodes.get(p).add(y);const x=y.options.initialPromotionConfig;y.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(y):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var p;const{layoutId:y}=this.options;return y?((p=this.getStack())===null||p===void 0?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:y}=this.options;return y?(p=this.getStack())===null||p===void 0?void 0:p.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:y,preserveFollowOpacity:v}={}){const x=this.getStack();x&&x.promote(this,v),p&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetRotation(){const{visualElement:p}=this.options;if(!p)return;let y=!1;const{latestValues:v}=p;if((v.rotate||v.rotateX||v.rotateY||v.rotateZ)&&(y=!0),!y)return;const x={};for(let A=0;A<lg.length;A++){const E="rotate"+lg[A];v[E]&&(x[E]=v[E],p.setStaticValue(E,0))}p.render();for(const A in x)p.setStaticValue(A,x[A]);p.scheduleRender()}getProjectionStyles(p){var y,v;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gT;const x={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,x.opacity="",x.pointerEvents=ru(p==null?void 0:p.pointerEvents)||"",x.transform=A?A(this.latestValues,""):"none",x;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const B={};return this.options.layoutId&&(B.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,B.pointerEvents=ru(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!Qs(this.latestValues)&&(B.transform=A?A({},""):"none",this.hasProjected=!1),B}const I=E.animationValues||E.latestValues;this.applyTransformsToTarget(),x.transform=ag(this.projectionDeltaWithTransform,this.treeScale,I),A&&(x.transform=A(I,x.transform));const{x:O,y:k}=this.projectionDelta;x.transformOrigin=`${O.origin*100}% ${k.origin*100}% 0`,E.animationValues?x.opacity=E===this?(v=(y=I.opacity)!==null&&y!==void 0?y:this.latestValues.opacity)!==null&&v!==void 0?v:1:this.preserveOpacity?this.latestValues.opacity:I.opacityExit:x.opacity=E===this?I.opacity!==void 0?I.opacity:"":I.opacityExit!==void 0?I.opacityExit:0;for(const B in Du){if(I[B]===void 0)continue;const{correct:V,applyTo:j}=Du[B],F=x.transform==="none"?I[B]:V(I[B],E);if(j){const D=j.length;for(let Z=0;Z<D;Z++)x[j[Z]]=F}else x[B]=F}return this.options.layoutId&&(x.pointerEvents=E===this?ru(p==null?void 0:p.pointerEvents)||"":"none"),x}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var y;return(y=p.currentAnimation)===null||y===void 0?void 0:y.stop()}),this.root.nodes.forEach(ug),this.root.sharedNodes.clear()}}}function yT(e){e.updateLayout()}function wT(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:l}=e.layout,{animationType:u}=e.options,p=n.source!==e.layout.source;u==="size"?Ri(E=>{const I=p?n.measuredBox[E]:n.layoutBox[E],O=xi(I);I.min=r[E].min,I.max=I.min+O}):Gw(u,n.layoutBox,r)&&Ri(E=>{const I=p?n.measuredBox[E]:n.layoutBox[E],O=xi(r[E]);I.max=I.min+O,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+O)});const y=qo();vl(y,r,n.layoutBox);const v=qo();p?vl(v,e.applyTransform(l,!0),n.measuredBox):vl(v,r,n.layoutBox);const x=!Hw(y);let A=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:I,layout:O}=E;if(I&&O){const k=nn();_l(k,n.layoutBox,I.layoutBox);const B=nn();_l(B,r,O.layoutBox),Ww(k,B)||(A=!0),E.options.layoutRoot&&(e.relativeTarget=B,e.relativeTargetOrigin=k,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:v,layoutDelta:y,hasLayoutChanged:x,hasRelativeTargetChanged:A})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function vT(e){Js.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _T(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CT(e){e.clearSnapshot()}function ug(e){e.clearMeasurements()}function ET(e){e.isLayoutDirty=!1}function AT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ST(e){e.resolveTargetDelta()}function bT(e){e.calcProjection()}function TT(e){e.resetRotation()}function IT(e){e.removeLeadSnapshot()}function fg(e,t,n){e.translate=Vt(t.translate,0,n),e.scale=Vt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function dg(e,t,n,r){e.min=Vt(t.min,n.min,r),e.max=Vt(t.max,n.max,r)}function NT(e,t,n,r){dg(e.x,t.x,n.x,r),dg(e.y,t.y,n.y,r)}function MT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OT={duration:.45,ease:[.4,0,.1,1]},pg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),mg=pg("applewebkit/")&&!pg("chrome/")?Math.round:Qt;function gg(e){e.min=mg(e.min),e.max=mg(e.max)}function RT(e){gg(e.x),gg(e.y)}function Gw(e,t,n){return e==="position"||e==="preserve-aspect"&&!Bd(og(t),og(n),.2)}const PT=Zw({attachResizeListener:(e,t)=>Or(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},Yw=Zw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bf.current){const e=new PT({});e.mount(window),e.setOptions({layoutScroll:!0}),bf.current=e}return bf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LT={pan:{Feature:qb},drag:{Feature:Kb,ProjectionNode:Yw,MeasureLayout:zw}},DT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function kT(e){const t=DT.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Ud(e,t,n=1){const[r,l]=kT(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const p=u.trim();return Nw(p)?parseFloat(p):p}else return Md(l)?Ud(l,t,n+1):l}function BT(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(l=>{const u=l.get();if(!Md(u))return;const p=Ud(u,r);p&&l.set(p)});for(const l in t){const u=t[l];if(!Md(u))continue;const p=Ud(u,r);p&&(t[l]=p,n||(n={}),n[l]===void 0&&(n[l]=u))}return{target:t,transitionEnd:n}}const FT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Xw=e=>FT.has(e),jT=e=>Object.keys(e).some(Xw),xg=e=>e===Ao||e===Ve,yg=(e,t)=>parseFloat(e.split(", ")[t]),wg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const l=r.match(/^matrix3d\((.+)\)$/);if(l)return yg(l[1],t);{const u=r.match(/^matrix\((.+)\)$/);return u?yg(u[1],e):0}},zT=new Set(["x","y","z"]),UT=Jl.filter(e=>!zT.has(e));function VT(e){const t=[];return UT.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const da={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:wg(4,13),y:wg(5,14)};da.translateX=da.x;da.translateY=da.y;const HT=(e,t,n)=>{const r=t.measureViewportBox(),l=t.current,u=getComputedStyle(l),{display:p}=u,y={};p==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(x=>{y[x]=da[x](r,u)}),t.render();const v=t.measureViewportBox();return n.forEach(x=>{const A=t.getValue(x);A&&A.jump(y[x]),e[x]=da[x](v,u)}),e},WT=(e,t,n={},r={})=>{t={...t},r={...r};const l=Object.keys(t).filter(Xw);let u=[],p=!1;const y=[];if(l.forEach(v=>{const x=e.getValue(v);if(!e.hasValue(v))return;let A=n[v],E=el(A);const I=t[v];let O;if(Bu(I)){const k=I.length,B=I[0]===null?1:0;A=I[B],E=el(A);for(let V=B;V<k&&I[V]!==null;V++)O?h1(el(I[V])===O):O=el(I[V])}else O=el(I);if(E!==O)if(xg(E)&&xg(O)){const k=x.get();typeof k=="string"&&x.set(parseFloat(k)),typeof I=="string"?t[v]=parseFloat(I):Array.isArray(I)&&O===Ve&&(t[v]=I.map(parseFloat))}else E!=null&&E.transform&&(O!=null&&O.transform)&&(A===0||I===0)?A===0?x.set(O.transform(A)):t[v]=E.transform(I):(p||(u=VT(e),p=!0),y.push(v),r[v]=r[v]!==void 0?r[v]:t[v],x.jump(I))}),y.length){const v=y.indexOf("height")>=0?window.pageYOffset:null,x=HT(t,e,y);return u.length&&u.forEach(([A,E])=>{e.getValue(A).set(E)}),e.render(),fh&&v!==null&&window.scrollTo({top:v}),{target:x,transitionEnd:r}}else return{target:t,transitionEnd:r}};function ZT(e,t,n,r){return jT(t)?WT(e,t,n,r):{target:t,transitionEnd:r}}const GT=(e,t,n,r)=>{const l=BT(e,t,r);return t=l.target,r=l.transitionEnd,ZT(e,t,n,r)},Vd={current:null},Kw={current:!1};function YT(){if(Kw.current=!0,!!fh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vd.current=e.matches;e.addListener(t),t()}else Vd.current=!1}function XT(e,t,n){const{willChange:r}=t;for(const l in t){const u=t[l],p=n[l];if(ri(u))e.addValue(l,u),Uu(r)&&r.add(l);else if(ri(p))e.addValue(l,fa(u,{owner:e})),Uu(r)&&r.remove(l);else if(p!==u)if(e.hasValue(l)){const y=e.getValue(l);!y.hasAnimated&&y.set(u)}else{const y=e.getStaticValue(l);e.addValue(l,fa(y!==void 0?y:u,{owner:e}))}}for(const l in n)t[l]===void 0&&e.removeValue(l);return t}const vg=new WeakMap,qw=Object.keys(Hl),KT=qw.length,_g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qT=n1.length;class QT{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:l,visualState:u},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Mt.render(this.render,!1,!0);const{latestValues:y,renderState:v}=u;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.isControllingVariants=ph(n),this.isVariantNode=Ly(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...A}=this.scrapeMotionValuesFromProps(n,{});for(const E in A){const I=A[E];y[E]!==void 0&&ri(I)&&(I.set(y[E],!1),Uu(x)&&x.add(E))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,vg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Kw.current||YT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vg.delete(this.current),this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Eo.has(t),l=n.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Mt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{l(),u()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,l,u){let p,y;for(let v=0;v<KT;v++){const x=qw[v],{isEnabled:A,Feature:E,ProjectionNode:I,MeasureLayout:O}=Hl[x];I&&(p=I),A(n)&&(!this.features[x]&&E&&(this.features[x]=new E(this)),O&&(y=O))}if((this.type==="html"||this.type==="svg")&&!this.projection&&p){this.projection=new p(this.latestValues,this.parent&&this.parent.projection);const{layoutId:v,layout:x,drag:A,dragConstraints:E,layoutScroll:I,layoutRoot:O}=n;this.projection.setOptions({layoutId:v,layout:x,alwaysMeasureLayout:!!A||E&&Xo(E),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof x=="string"?x:"both",initialPromotionConfig:u,layoutScroll:I,layoutRoot:O})}return y}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_g.length;r++){const l=_g[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u=t["on"+l];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=XT(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qT;r++){const l=n1[r],u=this.props[l];(Vl(u)||u===!1)&&(n[l]=u)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=fa(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,l=typeof r=="string"||typeof r=="object"?(n=u1(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!ri(u)?u:this.initialValues[t]!==void 0&&l===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new v1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Qw extends QT{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:l},u){let p=pb(r,t||{},this);if(l&&(n&&(n=l(n)),r&&(r=l(r)),p&&(p=l(p))),u){fb(this,r,p);const y=GT(this,r,p,n);n=y.transitionEnd,r=y.target}return{transition:t,transitionEnd:n,...r}}}function JT(e){return window.getComputedStyle(e)}class $T extends Qw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Eo.has(n)){const r=m1(n);return r&&r.default||0}else{const r=JT(t),l=(Fy(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Fw(t,n)}build(t,n,r,l){s1(t,n,r,l.transformTemplate)}scrapeMotionValuesFromProps(t,n){return c1(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ri(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,l){Wy(t,n,r,l)}}class e4 extends Qw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Eo.has(n)){const r=m1(n);return r&&r.default||0}return n=Zy.has(n)?n:e1(n),t.getAttribute(n)}measureInstanceViewportBox(){return nn()}scrapeMotionValuesFromProps(t,n){return Yy(t,n)}build(t,n,r,l){a1(t,n,r,this.isSVGTag,l.transformTemplate)}renderInstance(t,n,r,l){Gy(t,n,r,l)}mount(t){this.isSVGTag=l1(t.tagName),super.mount(t)}}const t4=(e,t)=>r1(e)?new e4(t,{enableHardwareAcceleration:!1}):new $T(t,{enableHardwareAcceleration:!0}),n4={layout:{ProjectionNode:Yw,MeasureLayout:zw}},i4={...Nb,...KA,...LT,...n4},lt=rA((e,t)=>kA(e,t,i4,t4));function Jw(){const e=H.useRef(!1);return $0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function r4(){const e=Jw(),[t,n]=H.useState(0),r=H.useCallback(()=>{e.current&&n(t+1)},[t]);return[H.useCallback(()=>Mt.postRender(r),[r]),t]}class s4 extends H.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o4({children:e,isPresent:t}){const n=H.useId(),r=H.useRef(null),l=H.useRef({width:0,height:0,top:0,left:0});return H.useInsertionEffect(()=>{const{width:u,height:p,top:y,left:v}=l.current;if(t||!r.current||!u||!p)return;r.current.dataset.motionPopId=n;const x=document.createElement("style");return document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${p}px !important;
            top: ${y}px !important;
            left: ${v}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),H.createElement(s4,{isPresent:t,childRef:r,sizeRef:l},H.cloneElement(e,{ref:r}))}const Tf=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:u,mode:p})=>{const y=Xy(a4),v=H.useId(),x=H.useMemo(()=>({id:v,initial:t,isPresent:n,custom:l,onExitComplete:A=>{y.set(A,!0);for(const E of y.values())if(!E)return;r&&r()},register:A=>(y.set(A,!1),()=>y.delete(A))}),u?void 0:[n]);return H.useMemo(()=>{y.forEach((A,E)=>y.set(E,!1))},[n]),H.useEffect(()=>{!n&&!y.size&&r&&r()},[n]),p==="popLayout"&&(e=H.createElement(o4,{isPresent:n},e)),H.createElement(hh.Provider,{value:x},e)};function a4(){return new Map}function l4(e){return H.useEffect(()=>()=>e(),[])}const $s=e=>e.key||"";function c4(e,t){e.forEach(n=>{const r=$s(n);t.set(r,n)})}function u4(e){const t=[];return H.Children.forEach(e,n=>{H.isValidElement(n)&&t.push(n)}),t}const Cl=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:l,presenceAffectsLayout:u=!0,mode:p="sync"})=>{const y=H.useContext(i1).forceRender||r4()[0],v=Jw(),x=u4(e);let A=x;const E=H.useRef(new Map).current,I=H.useRef(A),O=H.useRef(new Map).current,k=H.useRef(!0);if($0(()=>{k.current=!1,c4(x,O),I.current=A}),l4(()=>{k.current=!0,O.clear(),E.clear()}),k.current)return H.createElement(H.Fragment,null,A.map(F=>H.createElement(Tf,{key:$s(F),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:u,mode:p},F)));A=[...A];const B=I.current.map($s),V=x.map($s),j=B.length;for(let F=0;F<j;F++){const D=B[F];V.indexOf(D)===-1&&!E.has(D)&&E.set(D,void 0)}return p==="wait"&&E.size&&(A=[]),E.forEach((F,D)=>{if(V.indexOf(D)!==-1)return;const Z=O.get(D);if(!Z)return;const ne=B.indexOf(D);let ie=F;if(!ie){const K=()=>{E.delete(D);const le=Array.from(O.keys()).filter($=>!V.includes($));if(le.forEach($=>O.delete($)),I.current=x.filter($=>{const Ee=$s($);return Ee===D||le.includes(Ee)}),!E.size){if(v.current===!1)return;y(),r&&r()}};ie=H.createElement(Tf,{key:$s(Z),isPresent:!1,onExitComplete:K,custom:t,presenceAffectsLayout:u,mode:p},Z),E.set(D,ie)}A.splice(ne,0,ie)}),A=A.map(F=>{const D=F.key;return E.has(D)?F:H.createElement(Tf,{key:$s(F),isPresent:!0,presenceAffectsLayout:u,mode:p},F)}),H.createElement(H.Fragment,null,E.size?A:A.map(F=>H.cloneElement(F)))};var h4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ze=(e,t)=>{const n=H.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:p,children:y,...v},x)=>H.createElement("svg",{ref:x,...h4,width:l,height:l,stroke:r,strokeWidth:p?Number(u)*24/Number(l):u,className:`lucide lucide-${f4(e)}`,...v},[...t.map(([A,E])=>H.createElement(A,E)),...(Array.isArray(y)?y:[y])||[]]));return n.displayName=`${e}`,n},d4=Ze("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),$w=Ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zl=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),p4=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),m4=Ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),g4=Ze("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),x4=Ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),y4=Ze("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Hd=Ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),w4=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),v4=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),pa=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Hc=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_4=Ze("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),C4=Ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),E4=Ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),A4=Ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),S4=Ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),b4=Ze("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),ev=Ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Gl=Ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),T4=Ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),I4=Ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),N4=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),M4=Ze("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),lo=Ze("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]),tv=Ze("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),O4=Ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),nv=Ze("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),xo=Ze("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),R4=Ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),iv=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_1=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),P4=Ze("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),C1=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),L4=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),D4=Ze("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),k4=Ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),rv=Ze("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),sv=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),E1=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),A1=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),B4=Ze("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),F4=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ov=Ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),j4=({to:e,icon:t,label:n,isActive:r})=>S.jsxs(Y3,{to:e,className:`relative flex flex-col items-center justify-center gap-1.5 px-3 py-3 rounded-2xl transition-all duration-300 ${r?"text-white":"text-slate-500 hover:text-slate-300"}`,children:[r&&S.jsx(lt.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-gradient-to-t from-brand-blue/20 to-transparent rounded-2xl border-b-2 border-brand-blue shadow-[0_0_20px_rgba(59,130,246,0.5)]",transition:{type:"spring",stiffness:300,damping:30}}),S.jsx(t,{size:22,className:`relative z-10 transition-all duration-300 ${r?"scale-110 drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]":"scale-100"}`,strokeWidth:r?2.5:2}),S.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wide relative z-10 ${r?"text-white drop-shadow-md":"opacity-70"}`,children:n})]});function z4(){const t=Co().pathname,n=[{to:"/home",icon:A4,label:"Home"},{to:"/shipments",icon:xo,label:"Track"},{to:"/routes",icon:lo,label:"Routes"},{to:"/history",icon:E4,label:"History"},{to:"/settings",icon:L4,label:"Settings"}];return S.jsx("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4",children:S.jsxs("div",{className:"glass-strong rounded-[32px] border-iridescent shadow-2xl px-2 py-2 flex justify-around items-center relative backdrop-blur-2xl",children:[S.jsx("div",{className:"absolute inset-x-4 top-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),n.map(r=>S.jsx(j4,{to:r.to,icon:r.icon,label:r.label,isActive:t===r.to||r.to!=="/home"&&t.startsWith(r.to)||t==="/"&&r.to==="/home"},r.to))]})})}function U4(){return S.jsxs("div",{className:"min-h-screen pb-32",children:[" ",S.jsx("div",{className:"max-w-xl mx-auto",children:S.jsx(D3,{})}),S.jsx(z4,{})]})}const Cg=e=>{try{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch{return null}},av=H.createContext(),V4=({children:e})=>{const[t,n]=H.useState(null),[r,l]=H.useState(!0);H.useEffect(()=>{const y=localStorage.getItem("token");if(y){const v=Cg(y);v&&v.sub?n({username:v.sub,driver_id:v.driver_id,role:v.role,token:y}):(console.warn("Invalid/undecodable token in localStorage; clearing it."),localStorage.removeItem("token"))}l(!1)},[]);const u=(y,v)=>{localStorage.setItem("token",y);const x=Cg(y);if(!x||!x.sub){console.error("Login returned an invalid token; clearing it."),localStorage.removeItem("token"),n(null);return}n({username:x.sub,driver_id:x.driver_id,role:v||x.role,token:y})},p=()=>{localStorage.setItem("token",""),localStorage.removeItem("token"),n(null)};return S.jsx(av.Provider,{value:{user:t,login:u,logout:p,loading:r},children:!r&&e})},So=()=>H.useContext(av);function lv(e,t){return function(){return e.apply(t,arguments)}}const{toString:H4}=Object.prototype,{getPrototypeOf:S1}=Object,{iterator:yh,toStringTag:cv}=Symbol,wh=(e=>t=>{const n=H4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=e=>(e=e.toLowerCase(),t=>wh(t)===e),vh=e=>t=>typeof t===e,{isArray:va}=Array,ma=vh("undefined");function nc(e){return e!==null&&!ma(e)&&e.constructor!==null&&!ma(e.constructor)&&ni(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uv=nr("ArrayBuffer");function W4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uv(e.buffer),t}const Z4=vh("string"),ni=vh("function"),hv=vh("number"),ic=e=>e!==null&&typeof e=="object",G4=e=>e===!0||e===!1,ou=e=>{if(wh(e)!=="object")return!1;const t=S1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(cv in e)&&!(yh in e)},Y4=e=>{if(!ic(e)||nc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},X4=nr("Date"),K4=nr("File"),q4=nr("Blob"),Q4=nr("FileList"),J4=e=>ic(e)&&ni(e.pipe),$4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ni(e.append)&&((t=wh(e))==="formdata"||t==="object"&&ni(e.toString)&&e.toString()==="[object FormData]"))},eI=nr("URLSearchParams"),[tI,nI,iI,rI]=["ReadableStream","Request","Response","Headers"].map(nr),sI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),va(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{if(nc(e))return;const u=n?Object.getOwnPropertyNames(e):Object.keys(e),p=u.length;let y;for(r=0;r<p;r++)y=u[r],t.call(null,e[y],y,e)}}function fv(e,t){if(nc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dv=e=>!ma(e)&&e!==ro;function Wd(){const{caseless:e,skipUndefined:t}=dv(this)&&this||{},n={},r=(l,u)=>{if(u==="__proto__"||u==="constructor"||u==="prototype")return;const p=e&&fv(n,u)||u;ou(n[p])&&ou(l)?n[p]=Wd(n[p],l):ou(l)?n[p]=Wd({},l):va(l)?n[p]=l.slice():(!t||!ma(l))&&(n[p]=l)};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&rc(arguments[l],r);return n}const oI=(e,t,n,{allOwnKeys:r}={})=>(rc(t,(l,u)=>{n&&ni(l)?Object.defineProperty(e,u,{value:lv(l,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,u,{value:l,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),aI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},cI=(e,t,n,r)=>{let l,u,p;const y={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)p=l[u],(!r||r(p,e,t))&&!y[p]&&(t[p]=e[p],y[p]=!0);e=n!==!1&&S1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},uI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},hI=e=>{if(!e)return null;if(va(e))return e;let t=e.length;if(!hv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},fI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&S1(Uint8Array)),dI=(e,t)=>{const r=(e&&e[yh]).call(e);let l;for(;(l=r.next())&&!l.done;){const u=l.value;t.call(e,u[0],u[1])}},pI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},mI=nr("HTMLFormElement"),gI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),Eg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xI=nr("RegExp"),pv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rc(n,(l,u)=>{let p;(p=t(l,u,e))!==!1&&(r[u]=p||l)}),Object.defineProperties(e,r)},yI=e=>{pv(e,(t,n)=>{if(ni(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ni(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wI=(e,t)=>{const n={},r=l=>{l.forEach(u=>{n[u]=!0})};return va(e)?r(e):r(String(e).split(t)),n},vI=()=>{},_I=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function CI(e){return!!(e&&ni(e.append)&&e[cv]==="FormData"&&e[yh])}const EI=e=>{const t=new Array(10),n=(r,l)=>{if(ic(r)){if(t.indexOf(r)>=0)return;if(nc(r))return r;if(!("toJSON"in r)){t[l]=r;const u=va(r)?[]:{};return rc(r,(p,y)=>{const v=n(p,l+1);!ma(v)&&(u[y]=v)}),t[l]=void 0,u}}return r};return n(e,0)},AI=nr("AsyncFunction"),SI=e=>e&&(ic(e)||ni(e))&&ni(e.then)&&ni(e.catch),mv=((e,t)=>e?setImmediate:t?((n,r)=>(ro.addEventListener("message",({source:l,data:u})=>{l===ro&&u===n&&r.length&&r.shift()()},!1),l=>{r.push(l),ro.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ni(ro.postMessage)),bI=typeof queueMicrotask<"u"?queueMicrotask.bind(ro):typeof process<"u"&&process.nextTick||mv,TI=e=>e!=null&&ni(e[yh]),ae={isArray:va,isArrayBuffer:uv,isBuffer:nc,isFormData:$4,isArrayBufferView:W4,isString:Z4,isNumber:hv,isBoolean:G4,isObject:ic,isPlainObject:ou,isEmptyObject:Y4,isReadableStream:tI,isRequest:nI,isResponse:iI,isHeaders:rI,isUndefined:ma,isDate:X4,isFile:K4,isBlob:q4,isRegExp:xI,isFunction:ni,isStream:J4,isURLSearchParams:eI,isTypedArray:fI,isFileList:Q4,forEach:rc,merge:Wd,extend:oI,trim:sI,stripBOM:aI,inherits:lI,toFlatObject:cI,kindOf:wh,kindOfTest:nr,endsWith:uI,toArray:hI,forEachEntry:dI,matchAll:pI,isHTMLForm:mI,hasOwnProperty:Eg,hasOwnProp:Eg,reduceDescriptors:pv,freezeMethods:yI,toObjectSet:wI,toCamelCase:gI,noop:vI,toFiniteNumber:_I,findKey:fv,global:ro,isContextDefined:dv,isSpecCompliantForm:CI,toJSONObject:EI,isAsyncFn:AI,isThenable:SI,setImmediate:mv,asap:bI,isIterable:TI};let We=class gv extends Error{static from(t,n,r,l,u,p){const y=new gv(t.message,n||t.code,r,l,u);return y.cause=t,y.name=t.name,p&&Object.assign(y,p),y}constructor(t,n,r,l,u){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),l&&(this.request=l),u&&(this.response=u,this.status=u.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}};We.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";We.ERR_BAD_OPTION="ERR_BAD_OPTION";We.ECONNABORTED="ECONNABORTED";We.ETIMEDOUT="ETIMEDOUT";We.ERR_NETWORK="ERR_NETWORK";We.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";We.ERR_DEPRECATED="ERR_DEPRECATED";We.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";We.ERR_BAD_REQUEST="ERR_BAD_REQUEST";We.ERR_CANCELED="ERR_CANCELED";We.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";We.ERR_INVALID_URL="ERR_INVALID_URL";const II=null;function Zd(e){return ae.isPlainObject(e)||ae.isArray(e)}function xv(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function Ag(e,t,n){return e?e.concat(t).map(function(l,u){return l=xv(l),!n&&u?"["+l+"]":l}).join(n?".":""):t}function NI(e){return ae.isArray(e)&&!e.some(Zd)}const MI=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function _h(e,t,n){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,V){return!ae.isUndefined(V[B])});const r=n.metaTokens,l=n.visitor||A,u=n.dots,p=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(l))throw new TypeError("visitor must be a function");function x(k){if(k===null)return"";if(ae.isDate(k))return k.toISOString();if(ae.isBoolean(k))return k.toString();if(!v&&ae.isBlob(k))throw new We("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(k)||ae.isTypedArray(k)?v&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function A(k,B,V){let j=k;if(k&&!V&&typeof k=="object"){if(ae.endsWith(B,"{}"))B=r?B:B.slice(0,-2),k=JSON.stringify(k);else if(ae.isArray(k)&&NI(k)||(ae.isFileList(k)||ae.endsWith(B,"[]"))&&(j=ae.toArray(k)))return B=xv(B),j.forEach(function(D,Z){!(ae.isUndefined(D)||D===null)&&t.append(p===!0?Ag([B],Z,u):p===null?B:B+"[]",x(D))}),!1}return Zd(k)?!0:(t.append(Ag(V,B,u),x(k)),!1)}const E=[],I=Object.assign(MI,{defaultVisitor:A,convertValue:x,isVisitable:Zd});function O(k,B){if(!ae.isUndefined(k)){if(E.indexOf(k)!==-1)throw Error("Circular reference detected in "+B.join("."));E.push(k),ae.forEach(k,function(j,F){(!(ae.isUndefined(j)||j===null)&&l.call(t,j,ae.isString(F)?F.trim():F,B,I))===!0&&O(j,B?B.concat(F):[F])}),E.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return O(e),t}function Sg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function b1(e,t){this._pairs=[],e&&_h(e,this,t)}const yv=b1.prototype;yv.append=function(t,n){this._pairs.push([t,n])};yv.toString=function(t){const n=t?function(r){return t.call(this,r,Sg)}:Sg;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function OI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wv(e,t,n){if(!t)return e;const r=n&&n.encode||OI,l=ae.isFunction(n)?{serialize:n}:n,u=l&&l.serialize;let p;if(u?p=u(t,l):p=ae.isURLSearchParams(t)?t.toString():new b1(t,l).toString(r),p){const y=e.indexOf("#");y!==-1&&(e=e.slice(0,y)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class bg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(r){r!==null&&t(r)})}}const T1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},RI=typeof URLSearchParams<"u"?URLSearchParams:b1,PI=typeof FormData<"u"?FormData:null,LI=typeof Blob<"u"?Blob:null,DI={isBrowser:!0,classes:{URLSearchParams:RI,FormData:PI,Blob:LI},protocols:["http","https","file","blob","url","data"]},I1=typeof window<"u"&&typeof document<"u",Gd=typeof navigator=="object"&&navigator||void 0,kI=I1&&(!Gd||["ReactNative","NativeScript","NS"].indexOf(Gd.product)<0),BI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FI=I1&&window.location.href||"http://localhost",jI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I1,hasStandardBrowserEnv:kI,hasStandardBrowserWebWorkerEnv:BI,navigator:Gd,origin:FI},Symbol.toStringTag,{value:"Module"})),Pn={...jI,...DI};function zI(e,t){return _h(e,new Pn.classes.URLSearchParams,{visitor:function(n,r,l,u){return Pn.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...t})}function UI(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VI(e){const t={},n=Object.keys(e);let r;const l=n.length;let u;for(r=0;r<l;r++)u=n[r],t[u]=e[u];return t}function vv(e){function t(n,r,l,u){let p=n[u++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),v=u>=n.length;return p=!p&&ae.isArray(l)?l.length:p,v?(ae.hasOwnProp(l,p)?l[p]=[l[p],r]:l[p]=r,!y):((!l[p]||!ae.isObject(l[p]))&&(l[p]=[]),t(n,r,l[p],u)&&ae.isArray(l[p])&&(l[p]=VI(l[p])),!y)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const n={};return ae.forEachEntry(e,(r,l)=>{t(UI(r),l,n,0)}),n}return null}function HI(e,t,n){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const sc={transitional:T1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,u=ae.isObject(t);if(u&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return l?JSON.stringify(vv(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let y;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zI(t,this.formSerializer).toString();if((y=ae.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return _h(y?{"files[]":t}:t,v&&new v,this.formSerializer)}}return u||l?(n.setContentType("application/json",!1),HI(t)):t}],transformResponse:[function(t){const n=this.transitional||sc.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(r&&!this.responseType||l)){const p=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(y){if(p)throw y.name==="SyntaxError"?We.from(y,We.ERR_BAD_RESPONSE,this,null,this.response):y}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{sc.headers[e]={}});const WI=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZI=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(p){l=p.indexOf(":"),n=p.substring(0,l).trim().toLowerCase(),r=p.substring(l+1).trim(),!(!n||t[n]&&WI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Tg=Symbol("internals");function nl(e){return e&&String(e).trim().toLowerCase()}function au(e){return e===!1||e==null?e:ae.isArray(e)?e.map(au):String(e)}function GI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const YI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function If(e,t,n,r,l){if(ae.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!ae.isString(t)){if(ae.isString(r))return t.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(t)}}function XI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function KI(e,t){const n=ae.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,u,p){return this[r].call(this,t,l,u,p)},configurable:!0})})}let ii=class{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function u(y,v,x){const A=nl(v);if(!A)throw new Error("header name must be a non-empty string");const E=ae.findKey(l,A);(!E||l[E]===void 0||x===!0||x===void 0&&l[E]!==!1)&&(l[E||v]=au(y))}const p=(y,v)=>ae.forEach(y,(x,A)=>u(x,A,v));if(ae.isPlainObject(t)||t instanceof this.constructor)p(t,n);else if(ae.isString(t)&&(t=t.trim())&&!YI(t))p(ZI(t),n);else if(ae.isObject(t)&&ae.isIterable(t)){let y={},v,x;for(const A of t){if(!ae.isArray(A))throw TypeError("Object iterator must return a key-value pair");y[x=A[0]]=(v=y[x])?ae.isArray(v)?[...v,A[1]]:[v,A[1]]:A[1]}p(y,n)}else t!=null&&u(n,t,r);return this}get(t,n){if(t=nl(t),t){const r=ae.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return GI(l);if(ae.isFunction(n))return n.call(this,l,r);if(ae.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=nl(t),t){const r=ae.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||If(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function u(p){if(p=nl(p),p){const y=ae.findKey(r,p);y&&(!n||If(r,r[y],y,n))&&(delete r[y],l=!0)}}return ae.isArray(t)?t.forEach(u):u(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const u=n[r];(!t||If(this,this[u],u,t,!0))&&(delete this[u],l=!0)}return l}normalize(t){const n=this,r={};return ae.forEach(this,(l,u)=>{const p=ae.findKey(r,u);if(p){n[p]=au(l),delete n[u];return}const y=t?XI(u):String(u).trim();y!==u&&delete n[u],n[y]=au(l),r[y]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ae.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[Tg]=this[Tg]={accessors:{}}).accessors,l=this.prototype;function u(p){const y=nl(p);r[y]||(KI(l,p),r[y]=!0)}return ae.isArray(t)?t.forEach(u):u(t),this}};ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(ii.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ae.freezeMethods(ii);function Nf(e,t){const n=this||sc,r=t||n,l=ii.from(r.headers);let u=r.data;return ae.forEach(e,function(y){u=y.call(n,u,l.normalize(),t?t.status:void 0)}),l.normalize(),u}function _v(e){return!!(e&&e.__CANCEL__)}let oc=class extends We{constructor(t,n,r){super(t??"canceled",We.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function Cv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function QI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,u=0,p;return t=t!==void 0?t:1e3,function(v){const x=Date.now(),A=r[u];p||(p=x),n[l]=v,r[l]=x;let E=u,I=0;for(;E!==l;)I+=n[E++],E=E%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),x-p<t)return;const O=A&&x-A;return O?Math.round(I*1e3/O):void 0}}function JI(e,t){let n=0,r=1e3/t,l,u;const p=(x,A=Date.now())=>{n=A,l=null,u&&(clearTimeout(u),u=null),e(...x)};return[(...x)=>{const A=Date.now(),E=A-n;E>=r?p(x,A):(l=x,u||(u=setTimeout(()=>{u=null,p(l)},r-E)))},()=>l&&p(l)]}const Hu=(e,t,n=3)=>{let r=0;const l=QI(50,250);return JI(u=>{const p=u.loaded,y=u.lengthComputable?u.total:void 0,v=p-r,x=l(v),A=p<=y;r=p;const E={loaded:p,total:y,progress:y?p/y:void 0,bytes:v,rate:x||void 0,estimated:x&&y&&A?(y-p)/x:void 0,event:u,lengthComputable:y!=null,[t?"download":"upload"]:!0};e(E)},n)},Ig=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ng=e=>(...t)=>ae.asap(()=>e(...t)),$I=Pn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Pn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0,e8=Pn.hasStandardBrowserEnv?{write(e,t,n,r,l,u,p){if(typeof document>"u")return;const y=[`${e}=${encodeURIComponent(t)}`];ae.isNumber(n)&&y.push(`expires=${new Date(n).toUTCString()}`),ae.isString(r)&&y.push(`path=${r}`),ae.isString(l)&&y.push(`domain=${l}`),u===!0&&y.push("secure"),ae.isString(p)&&y.push(`SameSite=${p}`),document.cookie=y.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function t8(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function n8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ev(e,t,n){let r=!t8(t);return e&&(r||n==!1)?n8(e,t):t}const Mg=e=>e instanceof ii?{...e}:e;function yo(e,t){t=t||{};const n={};function r(x,A,E,I){return ae.isPlainObject(x)&&ae.isPlainObject(A)?ae.merge.call({caseless:I},x,A):ae.isPlainObject(A)?ae.merge({},A):ae.isArray(A)?A.slice():A}function l(x,A,E,I){if(ae.isUndefined(A)){if(!ae.isUndefined(x))return r(void 0,x,E,I)}else return r(x,A,E,I)}function u(x,A){if(!ae.isUndefined(A))return r(void 0,A)}function p(x,A){if(ae.isUndefined(A)){if(!ae.isUndefined(x))return r(void 0,x)}else return r(void 0,A)}function y(x,A,E){if(E in t)return r(x,A);if(E in e)return r(void 0,x)}const v={url:u,method:u,data:u,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(x,A,E)=>l(Mg(x),Mg(A),E,!0)};return ae.forEach(Object.keys({...e,...t}),function(A){if(A==="__proto__"||A==="constructor"||A==="prototype")return;const E=ae.hasOwnProp(v,A)?v[A]:l,I=E(e[A],t[A],A);ae.isUndefined(I)&&E!==y||(n[A]=I)}),n}const Av=e=>{const t=yo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:u,headers:p,auth:y}=t;if(t.headers=p=ii.from(p),t.url=wv(Ev(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),ae.isFormData(n)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(ae.isFunction(n.getHeaders)){const v=n.getHeaders(),x=["content-type","content-length"];Object.entries(v).forEach(([A,E])=>{x.includes(A.toLowerCase())&&p.set(A,E)})}}if(Pn.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(t)),r||r!==!1&&$I(t.url))){const v=l&&u&&e8.read(u);v&&p.set(l,v)}return t},i8=typeof XMLHttpRequest<"u",r8=i8&&function(e){return new Promise(function(n,r){const l=Av(e);let u=l.data;const p=ii.from(l.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:x}=l,A,E,I,O,k;function B(){O&&O(),k&&k(),l.cancelToken&&l.cancelToken.unsubscribe(A),l.signal&&l.signal.removeEventListener("abort",A)}let V=new XMLHttpRequest;V.open(l.method.toUpperCase(),l.url,!0),V.timeout=l.timeout;function j(){if(!V)return;const D=ii.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),ne={data:!y||y==="text"||y==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:D,config:e,request:V};Cv(function(K){n(K),B()},function(K){r(K),B()},ne),V=null}"onloadend"in V?V.onloadend=j:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(j)},V.onabort=function(){V&&(r(new We("Request aborted",We.ECONNABORTED,e,V)),V=null)},V.onerror=function(Z){const ne=Z&&Z.message?Z.message:"Network Error",ie=new We(ne,We.ERR_NETWORK,e,V);ie.event=Z||null,r(ie),V=null},V.ontimeout=function(){let Z=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const ne=l.transitional||T1;l.timeoutErrorMessage&&(Z=l.timeoutErrorMessage),r(new We(Z,ne.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,e,V)),V=null},u===void 0&&p.setContentType(null),"setRequestHeader"in V&&ae.forEach(p.toJSON(),function(Z,ne){V.setRequestHeader(ne,Z)}),ae.isUndefined(l.withCredentials)||(V.withCredentials=!!l.withCredentials),y&&y!=="json"&&(V.responseType=l.responseType),x&&([I,k]=Hu(x,!0),V.addEventListener("progress",I)),v&&V.upload&&([E,O]=Hu(v),V.upload.addEventListener("progress",E),V.upload.addEventListener("loadend",O)),(l.cancelToken||l.signal)&&(A=D=>{V&&(r(!D||D.type?new oc(null,e,V):D),V.abort(),V=null)},l.cancelToken&&l.cancelToken.subscribe(A),l.signal&&(l.signal.aborted?A():l.signal.addEventListener("abort",A)));const F=qI(l.url);if(F&&Pn.protocols.indexOf(F)===-1){r(new We("Unsupported protocol "+F+":",We.ERR_BAD_REQUEST,e));return}V.send(u||null)})},s8=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const u=function(x){if(!l){l=!0,y();const A=x instanceof Error?x:this.reason;r.abort(A instanceof We?A:new oc(A instanceof Error?A.message:A))}};let p=t&&setTimeout(()=>{p=null,u(new We(`timeout of ${t}ms exceeded`,We.ETIMEDOUT))},t);const y=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(u):x.removeEventListener("abort",u)}),e=null)};e.forEach(x=>x.addEventListener("abort",u));const{signal:v}=r;return v.unsubscribe=()=>ae.asap(y),v}},o8=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},a8=async function*(e,t){for await(const n of l8(e))yield*o8(n,t)},l8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Og=(e,t,n,r)=>{const l=a8(e,t);let u=0,p,y=v=>{p||(p=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:x,value:A}=await l.next();if(x){y(),v.close();return}let E=A.byteLength;if(n){let I=u+=E;n(I)}v.enqueue(new Uint8Array(A))}catch(x){throw y(x),x}},cancel(v){return y(v),l.return()}},{highWaterMark:2})},Rg=64*1024,{isFunction:Wc}=ae,c8=(({Request:e,Response:t})=>({Request:e,Response:t}))(ae.global),{ReadableStream:Pg,TextEncoder:Lg}=ae.global,Dg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},u8=e=>{e=ae.merge.call({skipUndefined:!0},c8,e);const{fetch:t,Request:n,Response:r}=e,l=t?Wc(t):typeof fetch=="function",u=Wc(n),p=Wc(r);if(!l)return!1;const y=l&&Wc(Pg),v=l&&(typeof Lg=="function"?(k=>B=>k.encode(B))(new Lg):async k=>new Uint8Array(await new n(k).arrayBuffer())),x=u&&y&&Dg(()=>{let k=!1;const B=new n(Pn.origin,{body:new Pg,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!B}),A=p&&y&&Dg(()=>ae.isReadableStream(new r("").body)),E={stream:A&&(k=>k.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!E[k]&&(E[k]=(B,V)=>{let j=B&&B[k];if(j)return j.call(B);throw new We(`Response type '${k}' is not supported`,We.ERR_NOT_SUPPORT,V)})});const I=async k=>{if(k==null)return 0;if(ae.isBlob(k))return k.size;if(ae.isSpecCompliantForm(k))return(await new n(Pn.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(k)||ae.isArrayBuffer(k))return k.byteLength;if(ae.isURLSearchParams(k)&&(k=k+""),ae.isString(k))return(await v(k)).byteLength},O=async(k,B)=>{const V=ae.toFiniteNumber(k.getContentLength());return V??I(B)};return async k=>{let{url:B,method:V,data:j,signal:F,cancelToken:D,timeout:Z,onDownloadProgress:ne,onUploadProgress:ie,responseType:K,headers:le,withCredentials:$="same-origin",fetchOptions:Ee}=Av(k),Pe=t||fetch;K=K?(K+"").toLowerCase():"text";let ye=s8([F,D&&D.toAbortSignal()],Z),De=null;const ke=ye&&ye.unsubscribe&&(()=>{ye.unsubscribe()});let re;try{if(ie&&x&&V!=="get"&&V!=="head"&&(re=await O(le,j))!==0){let ue=new n(B,{method:"POST",body:j,duplex:"half"}),we;if(ae.isFormData(j)&&(we=ue.headers.get("content-type"))&&le.setContentType(we),ue.body){const[Be,Te]=Ig(re,Hu(Ng(ie)));j=Og(ue.body,Rg,Be,Te)}}ae.isString($)||($=$?"include":"omit");const Ae=u&&"credentials"in n.prototype,Ne={...Ee,signal:ye,method:V.toUpperCase(),headers:le.normalize().toJSON(),body:j,duplex:"half",credentials:Ae?$:void 0};De=u&&new n(B,Ne);let ce=await(u?Pe(De,Ee):Pe(B,Ne));const X=A&&(K==="stream"||K==="response");if(A&&(ne||X&&ke)){const ue={};["status","statusText","headers"].forEach(ze=>{ue[ze]=ce[ze]});const we=ae.toFiniteNumber(ce.headers.get("content-length")),[Be,Te]=ne&&Ig(we,Hu(Ng(ne),!0))||[];ce=new r(Og(ce.body,Rg,Be,()=>{Te&&Te(),ke&&ke()}),ue)}K=K||"text";let ee=await E[ae.findKey(E,K)||"text"](ce,k);return!X&&ke&&ke(),await new Promise((ue,we)=>{Cv(ue,we,{data:ee,headers:ii.from(ce.headers),status:ce.status,statusText:ce.statusText,config:k,request:De})})}catch(Ae){throw ke&&ke(),Ae&&Ae.name==="TypeError"&&/Load failed|fetch/i.test(Ae.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,k,De,Ae&&Ae.response),{cause:Ae.cause||Ae}):We.from(Ae,Ae&&Ae.code,k,De,Ae&&Ae.response)}}},h8=new Map,Sv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:l}=t,u=[r,l,n];let p=u.length,y=p,v,x,A=h8;for(;y--;)v=u[y],x=A.get(v),x===void 0&&A.set(v,x=y?new Map:u8(t)),A=x;return x};Sv();const N1={http:II,xhr:r8,fetch:{get:Sv}};ae.forEach(N1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kg=e=>`- ${e}`,f8=e=>ae.isFunction(e)||e===null||e===!1;function d8(e,t){e=ae.isArray(e)?e:[e];const{length:n}=e;let r,l;const u={};for(let p=0;p<n;p++){r=e[p];let y;if(l=r,!f8(r)&&(l=N1[(y=String(r)).toLowerCase()],l===void 0))throw new We(`Unknown adapter '${y}'`);if(l&&(ae.isFunction(l)||(l=l.get(t))))break;u[y||"#"+p]=l}if(!l){const p=Object.entries(u).map(([v,x])=>`adapter ${v} `+(x===!1?"is not supported by the environment":"is not available in the build"));let y=n?p.length>1?`since :
`+p.map(kg).join(`
`):" "+kg(p[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return l}const bv={getAdapter:d8,adapters:N1};function Mf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oc(null,e)}function Bg(e){return Mf(e),e.headers=ii.from(e.headers),e.data=Nf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bv.getAdapter(e.adapter||sc.adapter,e)(e).then(function(r){return Mf(e),r.data=Nf.call(e,e.transformResponse,r),r.headers=ii.from(r.headers),r},function(r){return _v(r)||(Mf(e),r&&r.response&&(r.response.data=Nf.call(e,e.transformResponse,r.response),r.response.headers=ii.from(r.response.headers))),Promise.reject(r)})}const Tv="1.13.5",Ch={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ch[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Fg={};Ch.transitional=function(t,n,r){function l(u,p){return"[Axios v"+Tv+"] Transitional option '"+u+"'"+p+(r?". "+r:"")}return(u,p,y)=>{if(t===!1)throw new We(l(p," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!Fg[p]&&(Fg[p]=!0,console.warn(l(p," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,p,y):!0}};Ch.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function p8(e,t,n){if(typeof e!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const u=r[l],p=t[u];if(p){const y=e[u],v=y===void 0||p(y,u,e);if(v!==!0)throw new We("option "+u+" must be "+v,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+u,We.ERR_BAD_OPTION)}}const lu={assertOptions:p8,validators:Ch},Mi=lu.validators;let co=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bg,response:new bg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=yo(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:u}=n;r!==void 0&&lu.assertOptions(r,{silentJSONParsing:Mi.transitional(Mi.boolean),forcedJSONParsing:Mi.transitional(Mi.boolean),clarifyTimeoutError:Mi.transitional(Mi.boolean),legacyInterceptorReqResOrdering:Mi.transitional(Mi.boolean)},!1),l!=null&&(ae.isFunction(l)?n.paramsSerializer={serialize:l}:lu.assertOptions(l,{encode:Mi.function,serialize:Mi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lu.assertOptions(n,{baseUrl:Mi.spelling("baseURL"),withXsrfToken:Mi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=u&&ae.merge(u.common,u[n.method]);u&&ae.forEach(["delete","get","head","post","put","patch","common"],k=>{delete u[k]}),n.headers=ii.concat(p,u);const y=[];let v=!0;this.interceptors.request.forEach(function(B){if(typeof B.runWhen=="function"&&B.runWhen(n)===!1)return;v=v&&B.synchronous;const V=n.transitional||T1;V&&V.legacyInterceptorReqResOrdering?y.unshift(B.fulfilled,B.rejected):y.push(B.fulfilled,B.rejected)});const x=[];this.interceptors.response.forEach(function(B){x.push(B.fulfilled,B.rejected)});let A,E=0,I;if(!v){const k=[Bg.bind(this),void 0];for(k.unshift(...y),k.push(...x),I=k.length,A=Promise.resolve(n);E<I;)A=A.then(k[E++],k[E++]);return A}I=y.length;let O=n;for(;E<I;){const k=y[E++],B=y[E++];try{O=k(O)}catch(V){B.call(this,V);break}}try{A=Bg.call(this,O)}catch(k){return Promise.reject(k)}for(E=0,I=x.length;E<I;)A=A.then(x[E++],x[E++]);return A}getUri(t){t=yo(this.defaults,t);const n=Ev(t.baseURL,t.url,t.allowAbsoluteUrls);return wv(n,t.params,t.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(t){co.prototype[t]=function(n,r){return this.request(yo(r||{},{method:t,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function n(r){return function(u,p,y){return this.request(yo(y||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:p}))}}co.prototype[t]=n(),co.prototype[t+"Form"]=n(!0)});let m8=class Iv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(l=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](l);r._listeners=null}),this.promise.then=l=>{let u;const p=new Promise(y=>{r.subscribe(y),u=y}).then(l);return p.cancel=function(){r.unsubscribe(u)},p},t(function(u,p,y){r.reason||(r.reason=new oc(u,p,y),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Iv(function(l){t=l}),cancel:t}}};function g8(e){return function(n){return e.apply(null,n)}}function x8(e){return ae.isObject(e)&&e.isAxiosError===!0}const Yd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Yd).forEach(([e,t])=>{Yd[t]=e});function Nv(e){const t=new co(e),n=lv(co.prototype.request,t);return ae.extend(n,co.prototype,t,{allOwnKeys:!0}),ae.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return Nv(yo(e,l))},n}const vt=Nv(sc);vt.Axios=co;vt.CanceledError=oc;vt.CancelToken=m8;vt.isCancel=_v;vt.VERSION=Tv;vt.toFormData=_h;vt.AxiosError=We;vt.Cancel=vt.CanceledError;vt.all=function(t){return Promise.all(t)};vt.spread=g8;vt.isAxiosError=x8;vt.mergeConfig=yo;vt.AxiosHeaders=ii;vt.formToJSON=e=>vv(ae.isHTMLForm(e)?new FormData(e):e);vt.getAdapter=bv.getAdapter;vt.HttpStatusCode=Yd;vt.default=vt;const{Axios:wM,AxiosError:vM,CanceledError:_M,isCancel:CM,CancelToken:EM,VERSION:AM,all:SM,Cancel:bM,isAxiosError:TM,spread:IM,toFormData:NM,AxiosHeaders:MM,HttpStatusCode:OM,formToJSON:RM,getAdapter:PM,mergeConfig:LM}=vt,y8=[{event_id:"DELIVERED",label:"Delivered",description:"Package delivered to recipient"},{event_id:"IN_TRANSIT",label:"In Transit",description:"Package is on route to destination"},{event_id:"NOT_HOME",label:"Not Home",description:"Recipient was not available at address"},{event_id:"REFUSED",label:"Refused",description:"Recipient refused the package"},{event_id:"WRONG_ADDRESS",label:"Wrong Address",description:"Address is incorrect or incomplete"}];y8.reduce((e,t)=>(e[t.event_id]=t.label,e),{});const w8=!1,Of="http://localhost:8000",Xd="arynik_api_url_v1",ll=e=>String(e||"").trim().replace(/\/+$/,""),v8=e=>{try{return localStorage.getItem(e)}catch{return null}},_8=(e,t)=>{try{localStorage.setItem(e,t)}catch{}},C8=e=>{try{localStorage.removeItem(e)}catch{}},Ps=()=>{if(typeof window>"u")return ll(Of);const t=new URLSearchParams(window.location.search).get("api"),n=v8(Xd);return ll(t||n||Of)||ll(Of)},Mv=e=>{const t=ll(e);t?_8(Xd,t):C8(Xd)},ac=e=>e?{Authorization:`Bearer ${e}`}:{},jg=e=>{const t=new TextEncoder().encode(String(e));let n="";return t.forEach(r=>{n+=String.fromCharCode(r)}),btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")},E8=e=>`${jg(JSON.stringify({alg:"none",typ:"JWT"}))}.${jg(JSON.stringify(e))}.offline`,A8=e=>{const t=String(e).trim().toLowerCase();return t.includes("admin")?"Admin":t.includes("manager")?"Manager":"Driver"},S8=(e,t)=>{if(e==="Driver"){const n=String(t).trim().toUpperCase();return/^D\\d{3,}$/i.test(n)?n:"D002"}return"D001"};async function b8(e,t){const n=Ps(),r=new URLSearchParams;r.append("username",e),r.append("password",t);try{return(await vt.post(`${n}/login`,r,{headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:3e3})).data}catch(l){if(l&&l.response)throw l;console.warn("Login API unavailable; using snapshot/offline token.",l);const u=String(e||"").trim()||"offline",p=A8(u),y={sub:u,driver_id:S8(p,u),role:p,offline:!0,exp:Math.floor(Date.now()/1e3)+7*24*60*60};return{access_token:E8(y),token_type:"bearer",role:p}}}async function Ov(e){const t=Ps();return(await vt.get(`${t}/stats`,{headers:ac(e)})).data}async function Rv(e){const t=Ps();return(await vt.get(`${t}/status-options`,{headers:ac(e)})).data}async function M1(e,t){const n=Ps();return(await vt.post(`${n}/update-awb`,t,{headers:ac(e)})).data}async function O1(e,t={}){const n=Ps();return(await vt.get(`${n}/logs`,{params:t,headers:ac(e)})).data}async function R1(e){const t=Ps();try{return(await vt.get(`${t}/shipments`,{headers:ac(e),timeout:5e3})).data}catch(n){console.warn("Backend API unavailable, attempting to load static snapshot...",n);try{const r="/arynik1/data/shipments.json".replace("//","/"),l=await vt.get(r);console.info("Loaded shipments from static snapshot.");let u=l.data;if(e)try{const y=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),v=decodeURIComponent(window.atob(y).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join("")),x=JSON.parse(v),A=x.role,E=x.driver_id;A==="Driver"&&(console.info(`Offline RBAC: Filtering for Driver ${E}`),u=u.filter(I=>I.driver_id===E))}catch(p){console.warn("Offline RBAC: Failed to decode token",p)}return u}catch(r){throw console.error("Failed to load both API and static snapshot",r),n}}}const T8=Object.freeze(Object.defineProperty({__proto__:null,getApiUrl:Ps,getLogs:O1,getShipments:R1,getStats:Ov,getStatusOptions:Rv,isDemoMode:w8,login:b8,setApiUrl:Mv,updateAwb:M1},Symbol.toStringTag,{value:"Module"}));function I8(){const[e,t]=H.useState(null),[n,r]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const v=localStorage.getItem("token"),x=await Ov(v);t(x)}catch(v){console.error("Failed to fetch stats",v)}finally{r(!1)}})()},[]);const l=(y,v=2e3)=>{const[x,A]=H.useState(0);return H.useEffect(()=>{let E=0;const I=y/(v/16),O=setInterval(()=>{E+=I,E>=y?(A(y),clearInterval(O)):A(Math.floor(E))},16);return()=>clearInterval(O)},[y,v]),x},u=l((e==null?void 0:e.today_count)||0),p=l((e==null?void 0:e.total_count)||0);return n?S.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-pulse",children:[S.jsx("div",{className:"h-24 glass-strong rounded-3xl border-iridescent opacity-50"}),S.jsx("div",{className:"h-24 glass-strong rounded-3xl border-iridescent opacity-50"})]}):S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"glass-strong p-5 rounded-3xl shadow-xl shadow-brand-blue/20 border-iridescent flex flex-col justify-between relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-blue/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),S.jsx("div",{className:"absolute -right-4 -top-4 opacity-10 scale-150 group-hover:rotate-12 transition-transform duration-500",children:S.jsx(y4,{size:80,className:"text-brand-blue"})}),S.jsxs("div",{className:"relative z-10 flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-1.5 bg-brand-blue/20 rounded-lg",children:S.jsx(E1,{size:16,className:"text-brand-blue"})}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Today"})]}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("span",{className:"text-3xl font-black text-white",children:u}),S.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Success Syncs"})]})]}),S.jsxs("div",{className:"glass-strong p-5 rounded-3xl shadow-sm border-iridescent flex flex-col justify-between relative overflow-hidden group",children:[S.jsx("div",{className:"absolute -right-4 -top-4 opacity-5 scale-150 text-slate-400 group-hover:rotate-12 transition-transform duration-500",children:S.jsx(d4,{size:80})}),S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-1.5 bg-slate-700/50 rounded-lg text-slate-400",children:S.jsx(xo,{size:16})}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"All Time"})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-3xl font-black text-white",children:p}),S.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Total Updates"})]})]})]})}var Ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var zg=new Map([[Ie.QR_CODE,"QR_CODE"],[Ie.AZTEC,"AZTEC"],[Ie.CODABAR,"CODABAR"],[Ie.CODE_39,"CODE_39"],[Ie.CODE_93,"CODE_93"],[Ie.CODE_128,"CODE_128"],[Ie.DATA_MATRIX,"DATA_MATRIX"],[Ie.MAXICODE,"MAXICODE"],[Ie.ITF,"ITF"],[Ie.EAN_13,"EAN_13"],[Ie.EAN_8,"EAN_8"],[Ie.PDF_417,"PDF_417"],[Ie.RSS_14,"RSS_14"],[Ie.RSS_EXPANDED,"RSS_EXPANDED"],[Ie.UPC_A,"UPC_A"],[Ie.UPC_E,"UPC_E"],[Ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ug;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Ug||(Ug={}));function N8(e){return Object.values(Ie).includes(e)}var Ts;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ts||(Ts={}));var Qi=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ts.SCAN_TYPE_CAMERA,Ts.SCAN_TYPE_FILE],e}(),Pv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!zg.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,zg.get(t))},e}(),Vg=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Kd;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Kd||(Kd={}));var Lv=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Kd.UNKWOWN_ERROR}},e}(),Dv=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function fr(e){return typeof e>"u"||e===null}function M8(e,t,n){return e>n?n:e<t?t:e}var Jo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),yt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Hg=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),kv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(l),p=Object.keys(t),y=0,v=p;y<v.length;y++){var x=v[y];if(u.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),qd={exports:{}};(function(e,t){(function(n,r){r(t)})(Do,function(n){function r(N){return N==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,i){N.__proto__=i}||function(N,i){for(var s in i)i.hasOwnProperty(s)&&(N[s]=i[s])};function u(N,i){l(N,i);function s(){this.constructor=N}N.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}function p(N,i){var s=Object.setPrototypeOf;s?s(N,i):N.__proto__=i}function y(N,i){i===void 0&&(i=N.constructor);var s=Error.captureStackTrace;s&&s(N,i)}var v=function(N){u(i,N);function i(s){var a=this.constructor,c=N.call(this,s)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),p(c,a.prototype),y(c),c}return i}(Error);class x extends v{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class A extends x{}A.kind="ArgumentException";class E extends x{}E.kind="IllegalArgumentException";class I{constructor(i){if(this.binarizer=i,i===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,s){return this.binarizer.getBlackRow(i,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,s,a,c){const h=this.binarizer.getLuminanceSource().crop(i,s,a,c);return new I(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(i,s,a,c,h){for(;h--;)a[c++]=i[s++]}static currentTimeMillis(){return Date.now()}}class V extends x{}V.kind="IndexOutOfBoundsException";class j extends V{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}j.kind="ArrayIndexOutOfBoundsException";class F{static fill(i,s){for(let a=0,c=i.length;a<c;a++)i[a]=s}static fillWithin(i,s,a,c){F.rangeCheck(i.length,s,a);for(let h=s;h<a;h++)i[h]=c}static rangeCheck(i,s,a){if(s>a)throw new E("fromIndex("+s+") > toIndex("+a+")");if(s<0)throw new j(s);if(a>i)throw new j(a)}static asList(...i){return i}static create(i,s,a){return Array.from({length:i}).map(h=>Array.from({length:s}).fill(a))}static createInt32Array(i,s,a){return Array.from({length:i}).map(h=>Int32Array.from({length:s}).fill(a))}static equals(i,s){if(!i||!s||!i.length||!s.length||i.length!==s.length)return!1;for(let a=0,c=i.length;a<c;a++)if(i[a]!==s[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let s=1;for(const a of i)s=31*s+a;return s}static fillUint8Array(i,s){for(let a=0;a!==i.length;a++)i[a]=s}static copyOf(i,s){return i.slice(0,s)}static copyOfUint8Array(i,s){if(i.length<=s){const a=new Uint8Array(s);return a.set(i),a}return i.slice(0,s)}static copyOfRange(i,s,a){const c=a-s,h=new Int32Array(c);return B.arraycopy(i,s,h,0,c),h}static binarySearch(i,s,a){a===void 0&&(a=F.numberComparator);let c=0,h=i.length-1;for(;c<=h;){const d=h+c>>1,m=a(s,i[d]);if(m>0)c=d+1;else if(m<0)h=d-1;else return d}return-c-1}static numberComparator(i,s){return i-s}}class D{static numberOfTrailingZeros(i){let s;if(i===0)return 32;let a=31;return s=i<<16,s!==0&&(a-=16,i=s),s=i<<8,s!==0&&(a-=8,i=s),s=i<<4,s!==0&&(a-=4,i=s),s=i<<2,s!==0&&(a-=2,i=s),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let s=1;return i>>>16||(s+=16,i<<=16),i>>>24||(s+=8,i<<=8),i>>>28||(s+=4,i<<=4),i>>>30||(s+=2,i<<=2),s-=i>>>31,s}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,s){return Math.trunc(i/s)}static parseInt(i,s=void 0){return parseInt(i,s)}}D.MIN_VALUE_32_BITS=-2147483648,D.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(i,s){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,s==null?this.bits=Z.makeArray(i):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const s=Z.makeArray(i);B.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const s=this.size;if(i>=s)return s;const a=this.bits;let c=Math.floor(i/32),h=a[c];h&=~((1<<(i&31))-1);const d=a.length;for(;h===0;){if(++c===d)return s;h=a[c]}const m=c*32+D.numberOfTrailingZeros(h);return m>s?s:m}getNextUnset(i){const s=this.size;if(i>=s)return s;const a=this.bits;let c=Math.floor(i/32),h=~a[c];h&=~((1<<(i&31))-1);const d=a.length;for(;h===0;){if(++c===d)return s;h=~a[c]}const m=c*32+D.numberOfTrailingZeros(h);return m>s?s:m}setBulk(i,s){this.bits[Math.floor(i/32)]=s}setRange(i,s){if(s<i||i<0||s>this.size)throw new E;if(s===i)return;s--;const a=Math.floor(i/32),c=Math.floor(s/32),h=this.bits;for(let d=a;d<=c;d++){const m=d>a?0:i&31,_=(2<<(d<c?31:s&31))-(1<<m);h[d]|=_}}clear(){const i=this.bits.length,s=this.bits;for(let a=0;a<i;a++)s[a]=0}isRange(i,s,a){if(s<i||i<0||s>this.size)throw new E;if(s===i)return!0;s--;const c=Math.floor(i/32),h=Math.floor(s/32),d=this.bits;for(let m=c;m<=h;m++){const w=m>c?0:i&31,b=(2<<(m<h?31:s&31))-(1<<w)&4294967295;if((d[m]&b)!==(a?b:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,s){if(s<0||s>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let a=s;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const s=i.size;this.ensureCapacity(this.size+s);for(let a=0;a<s;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new E("Sizes don't match");const s=this.bits;for(let a=0,c=s.length;a<c;a++)s[a]^=i.bits[a]}toBytes(i,s,a,c){for(let h=0;h<c;h++){let d=0;for(let m=0;m<8;m++)this.get(i)&&(d|=1<<7-m),i++;s[a+h]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),a=s+1,c=this.bits;for(let h=0;h<a;h++){let d=c[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[s-h]=d}if(this.size!==a*32){const h=a*32-this.size;let d=i[0]>>>h;for(let m=1;m<a;m++){const w=i[m];d|=w<<32-h,i[m-1]=d,d=w>>>h}i[a-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof Z))return!1;const s=i;return this.size===s.size&&F.equals(this.bits,s.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let i="";for(let s=0,a=this.size;s<a;s++)s&7||(i+=" "),i+=this.get(s)?"X":".";return i}clone(){return new Z(this.size,this.bits.slice())}}var ne;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ne||(ne={}));var ie=ne;class K extends x{static getFormatInstance(){return new K}}K.kind="FormatException";var le;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(le||(le={}));class ${constructor(i,s,a,...c){this.valueIdentifier=i,this.name=a,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=c,$.VALUE_IDENTIFIER_TO_ECI.set(i,this),$.NAME_TO_ECI.set(a,this);const h=this.values;for(let d=0,m=h.length;d!==m;d++){const w=h[d];$.VALUES_TO_ECI.set(w,this)}for(const d of c)$.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new K("incorect value");const s=$.VALUES_TO_ECI.get(i);if(s===void 0)throw new K("incorect value");return s}static getCharacterSetECIByName(i){const s=$.NAME_TO_ECI.get(i);if(s===void 0)throw new K("incorect value");return s}equals(i){if(!(i instanceof $))return!1;const s=i;return this.getName()===s.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(le.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(le.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(le.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(le.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(le.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(le.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(le.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(le.Big5,28,"Big5"),$.GB18030=new $(le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(le.EUC_KR,30,"EUC_KR","EUC-KR");class Ee extends x{}Ee.kind="UnsupportedOperationException";class Pe{static decode(i,s){const a=this.encodingName(s);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!Pe.isBrowser()&&i==="ISO-8859-1"}static encode(i,s){const a=this.encodingName(s);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof $?i:$.getCharacterSetECIByName(i)}static decodeFallback(i,s){const a=this.encodingCharacterSet(s);if(Pe.isDecodeFallbackSupported(a)){let c="";for(let h=0,d=i.length;h<d;h++){let m=i[h].toString(16);m.length<2&&(m="0"+m),c+="%"+m}return decodeURIComponent(c)}if(a.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Ee(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals($.UTF8)||i.equals($.ISO8859_1)||i.equals($.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let h=0;h<a.length;h++)c.push(a[h].charCodeAt(0));return new Uint8Array(c)}}class ye{static castAsNonUtf8Char(i,s=null){const a=s?s.getName():this.ISO88591;return Pe.decode(new Uint8Array([i]),a)}static guessEncoding(i,s){if(s!=null&&s.get(ie.CHARACTER_SET)!==void 0)return s.get(ie.CHARACTER_SET).toString();const a=i.length;let c=!0,h=!0,d=!0,m=0,w=0,_=0,b=0,M=0,R=0,U=0,G=0,Y=0,q=0,te=0;const me=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ge=0;ge<a&&(c||h||d);ge++){const pe=i[ge]&255;d&&(m>0?pe&128?m--:d=!1:pe&128&&(pe&64?(m++,pe&32?(m++,pe&16?(m++,pe&8?d=!1:b++):_++):w++):d=!1)),c&&(pe>127&&pe<160?c=!1:pe>159&&(pe<192||pe===215||pe===247)&&te++),h&&(M>0?pe<64||pe===127||pe>252?h=!1:M--:pe===128||pe===160||pe>239?h=!1:pe>160&&pe<224?(R++,G=0,U++,U>Y&&(Y=U)):pe>127?(M++,U=0,G++,G>q&&(q=G)):(U=0,G=0))}return d&&m>0&&(d=!1),h&&M>0&&(h=!1),d&&(me||w+_+b>0)?ye.UTF8:h&&(ye.ASSUME_SHIFT_JIS||Y>=3||q>=3)?ye.SHIFT_JIS:c&&h?Y===2&&R===2||te*10>=a?ye.SHIFT_JIS:ye.ISO88591:c?ye.ISO88591:h?ye.SHIFT_JIS:d?ye.UTF8:ye.PLATFORM_DEFAULT_ENCODING}static format(i,...s){let a=-1;function c(d,m,w,_,b,M){if(d==="%%")return"%";if(s[++a]===void 0)return;d=_?parseInt(_.substr(1)):void 0;let R=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(d);break;case"p":U=parseFloat(s[a]).toPrecision(d);break;case"e":U=parseFloat(s[a]).toExponential(d);break;case"x":U=parseInt(s[a]).toString(R||16);break;case"d":U=parseFloat(parseInt(s[a],R||10).toPrecision(d)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(R);let G=parseInt(w),Y=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=m!==void 0?U+Y:Y+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,c)}static getBytes(i,s){return Pe.encode(i,s)}static getCharCode(i,s=0){return i.charCodeAt(s)}static getCharAt(i){return String.fromCharCode(i)}}ye.SHIFT_JIS=$.SJIS.getName(),ye.GB2312="GB2312",ye.ISO88591=$.ISO8859_1.getName(),ye.EUC_JP="EUC_JP",ye.UTF8=$.UTF8.getName(),ye.PLATFORM_DEFAULT_ENCODING=ye.UTF8,ye.ASSUME_SHIFT_JIS=!1;class De{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ye.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,s,a){for(let c=s;s<s+a;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+1)}substring(i,s){return this.value.substring(i,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+s.length)}}class ke{constructor(i,s,a,c){if(this.width=i,this.height=s,this.rowSize=a,this.bits=c,s==null&&(s=i),this.height=s,i<1||s<1)throw new E("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const s=i.length,a=i[0].length,c=new ke(a,s);for(let h=0;h<s;h++){const d=i[h];for(let m=0;m<a;m++)d[m]&&c.set(m,h)}return c}static parseFromString(i,s,a){if(i===null)throw new E("stringRepresentation cannot be null");const c=new Array(i.length);let h=0,d=0,m=-1,w=0,_=0;for(;_<i.length;)if(i.charAt(_)===`
`||i.charAt(_)==="\r"){if(h>d){if(m===-1)m=h-d;else if(h-d!==m)throw new E("row lengths do not match");d=h,w++}_++}else if(i.substring(_,_+s.length)===s)_+=s.length,c[h]=!0,h++;else if(i.substring(_,_+a.length)===a)_+=a.length,c[h]=!1,h++;else throw new E("illegal character encountered: "+i.substring(_));if(h>d){if(m===-1)m=h-d;else if(h-d!==m)throw new E("row lengths do not match");w++}const b=new ke(m,w);for(let M=0;M<h;M++)c[M]&&b.set(Math.floor(M%m),Math.floor(M/m));return b}get(i,s){const a=s*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new E("input matrix dimensions do not match");const s=new Z(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let h=0,d=this.height;h<d;h++){const m=h*a,w=i.getRow(h,s).getBitArray();for(let _=0;_<a;_++)c[m+_]^=w[_]}}clear(){const i=this.bits,s=i.length;for(let a=0;a<s;a++)i[a]=0}setRegion(i,s,a,c){if(s<0||i<0)throw new E("Left and top must be nonnegative");if(c<1||a<1)throw new E("Height and width must be at least 1");const h=i+a,d=s+c;if(d>this.height||h>this.width)throw new E("The region must fit inside the matrix");const m=this.rowSize,w=this.bits;for(let _=s;_<d;_++){const b=_*m;for(let M=i;M<h;M++)w[b+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(i,s){s==null||s.getSize()<this.width?s=new Z(this.width):s.clear();const a=this.rowSize,c=this.bits,h=i*a;for(let d=0;d<a;d++)s.setBulk(d*32,c[h+d]);return s}setRow(i,s){B.arraycopy(s.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),s=this.getHeight();let a=new Z(i),c=new Z(i);for(let h=0,d=Math.floor((s+1)/2);h<d;h++)a=this.getRow(h,a),c=this.getRow(s-1-h,c),a.reverse(),c.reverse(),this.setRow(h,c),this.setRow(s-1-h,a)}getEnclosingRectangle(){const i=this.width,s=this.height,a=this.rowSize,c=this.bits;let h=i,d=s,m=-1,w=-1;for(let _=0;_<s;_++)for(let b=0;b<a;b++){const M=c[_*a+b];if(M!==0){if(_<d&&(d=_),_>w&&(w=_),b*32<h){let R=0;for(;!(M<<31-R&4294967295);)R++;b*32+R<h&&(h=b*32+R)}if(b*32+31>m){let R=31;for(;!(M>>>R);)R--;b*32+R>m&&(m=b*32+R)}}}return m<h||w<d?null:Int32Array.from([h,d,m-h+1,w-d+1])}getTopLeftOnBit(){const i=this.rowSize,s=this.bits;let a=0;for(;a<s.length&&s[a]===0;)a++;if(a===s.length)return null;const c=a/i;let h=a%i*32;const d=s[a];let m=0;for(;!(d<<31-m&4294967295);)m++;return h+=m,Int32Array.from([h,c])}getBottomRightOnBit(){const i=this.rowSize,s=this.bits;let a=s.length-1;for(;a>=0&&s[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/i);let h=Math.floor(a%i)*32;const d=s[a];let m=31;for(;!(d>>>m);)m--;return h+=m,Int32Array.from([h,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof ke))return!1;const s=i;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&F.equals(this.bits,s.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+F.hashCode(this.bits),i}toString(i="X ",s="  ",a=`
`){return this.buildToString(i,s,a)}buildToString(i,s,a){let c=new De;for(let h=0,d=this.height;h<d;h++){for(let m=0,w=this.width;m<w;m++)c.append(this.get(m,h)?i:s);c.append(a)}return c.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends x{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class Ae extends k{constructor(i){super(i),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(i,s){const a=this.getLuminanceSource(),c=a.getWidth();s==null||s.getSize()<c?s=new Z(c):s.clear(),this.initArrays(c);const h=a.getRow(i,this.luminances),d=this.buckets;for(let w=0;w<c;w++)d[(h[w]&255)>>Ae.LUMINANCE_SHIFT]++;const m=Ae.estimateBlackPoint(d);if(c<3)for(let w=0;w<c;w++)(h[w]&255)<m&&s.set(w);else{let w=h[0]&255,_=h[1]&255;for(let b=1;b<c-1;b++){const M=h[b+1]&255;(_*4-w-M)/2<m&&s.set(b),w=_,_=M}}return s}getBlackMatrix(){const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight(),c=new ke(s,a);this.initArrays(s);const h=this.buckets;for(let w=1;w<5;w++){const _=Math.floor(a*w/5),b=i.getRow(_,this.luminances),M=Math.floor(s*4/5);for(let R=Math.floor(s/5);R<M;R++){const U=b[R]&255;h[U>>Ae.LUMINANCE_SHIFT]++}}const d=Ae.estimateBlackPoint(h),m=i.getMatrix();for(let w=0;w<a;w++){const _=w*s;for(let b=0;b<s;b++)(m[_+b]&255)<d&&c.set(b,w)}return c}createBinarizer(i){return new Ae(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const s=this.buckets;for(let a=0;a<Ae.LUMINANCE_BUCKETS;a++)s[a]=0}static estimateBlackPoint(i){const s=i.length;let a=0,c=0,h=0;for(let b=0;b<s;b++)i[b]>h&&(c=b,h=i[b]),i[b]>a&&(a=i[b]);let d=0,m=0;for(let b=0;b<s;b++){const M=b-c,R=i[b]*M*M;R>m&&(d=b,m=R)}if(c>d){const b=c;c=d,d=b}if(d-c<=s/16)throw new re;let w=d-1,_=-1;for(let b=d-1;b>c;b--){const M=b-c,R=M*M*(d-b)*(a-i[b]);R>_&&(w=b,_=R)}return w<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class Ne extends Ae{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight();if(s>=Ne.MINIMUM_DIMENSION&&a>=Ne.MINIMUM_DIMENSION){const c=i.getMatrix();let h=s>>Ne.BLOCK_SIZE_POWER;s&Ne.BLOCK_SIZE_MASK&&h++;let d=a>>Ne.BLOCK_SIZE_POWER;a&Ne.BLOCK_SIZE_MASK&&d++;const m=Ne.calculateBlackPoints(c,h,d,s,a),w=new ke(s,a);Ne.calculateThresholdForBlock(c,h,d,s,a,m,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Ne(i)}static calculateThresholdForBlock(i,s,a,c,h,d,m){const w=h-Ne.BLOCK_SIZE,_=c-Ne.BLOCK_SIZE;for(let b=0;b<a;b++){let M=b<<Ne.BLOCK_SIZE_POWER;M>w&&(M=w);const R=Ne.cap(b,2,a-3);for(let U=0;U<s;U++){let G=U<<Ne.BLOCK_SIZE_POWER;G>_&&(G=_);const Y=Ne.cap(U,2,s-3);let q=0;for(let me=-2;me<=2;me++){const ge=d[R+me];q+=ge[Y-2]+ge[Y-1]+ge[Y]+ge[Y+1]+ge[Y+2]}const te=q/25;Ne.thresholdBlock(i,G,M,te,c,m)}}}static cap(i,s,a){return i<s?s:i>a?a:i}static thresholdBlock(i,s,a,c,h,d){for(let m=0,w=a*h+s;m<Ne.BLOCK_SIZE;m++,w+=h)for(let _=0;_<Ne.BLOCK_SIZE;_++)(i[w+_]&255)<=c&&d.set(s+_,a+m)}static calculateBlackPoints(i,s,a,c,h){const d=h-Ne.BLOCK_SIZE,m=c-Ne.BLOCK_SIZE,w=new Array(a);for(let _=0;_<a;_++){w[_]=new Int32Array(s);let b=_<<Ne.BLOCK_SIZE_POWER;b>d&&(b=d);for(let M=0;M<s;M++){let R=M<<Ne.BLOCK_SIZE_POWER;R>m&&(R=m);let U=0,G=255,Y=0;for(let te=0,me=b*c+R;te<Ne.BLOCK_SIZE;te++,me+=c){for(let ge=0;ge<Ne.BLOCK_SIZE;ge++){const pe=i[me+ge]&255;U+=pe,pe<G&&(G=pe),pe>Y&&(Y=pe)}if(Y-G>Ne.MIN_DYNAMIC_RANGE)for(te++,me+=c;te<Ne.BLOCK_SIZE;te++,me+=c)for(let ge=0;ge<Ne.BLOCK_SIZE;ge++)U+=i[me+ge]&255}let q=U>>Ne.BLOCK_SIZE_POWER*2;if(Y-G<=Ne.MIN_DYNAMIC_RANGE&&(q=G/2,_>0&&M>0)){const te=(w[_-1][M]+2*w[_][M-1]+w[_-1][M-1])/4;G<te&&(q=te)}w[_][M]=q}}return w}}Ne.BLOCK_SIZE_POWER=3,Ne.BLOCK_SIZE=1<<Ne.BLOCK_SIZE_POWER,Ne.BLOCK_SIZE_MASK=Ne.BLOCK_SIZE-1,Ne.MINIMUM_DIMENSION=Ne.BLOCK_SIZE*5,Ne.MIN_DYNAMIC_RANGE=24;class ce{constructor(i,s){this.width=i,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,s,a,c){throw new Ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ee("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let s=new De;for(let a=0;a<this.height;a++){const c=this.getRow(a,i);for(let h=0;h<this.width;h++){const d=c[h]&255;let m;d<64?m="#":d<128?m="+":d<192?m=".":m=" ",s.append(m)}s.append(`
`)}return s.toString()}}class X extends ce{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,s){const a=this.delegate.getRow(i,s),c=this.getWidth();for(let h=0;h<c;h++)a[h]=255-(a[h]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(s);for(let c=0;c<s;c++)a[c]=255-(i[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,s,a,c){return new X(this.delegate.crop(i,s,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new X(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new X(this.delegate.rotateCounterClockwise45())}}class ee extends ce{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=ee.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const s=i.getContext("2d").getImageData(0,0,i.width,i.height);return ee.toGrayscaleBuffer(s.data,i.width,i.height)}static toGrayscaleBuffer(i,s,a){const c=new Uint8ClampedArray(s*a);for(let h=0,d=0,m=i.length;h<m;h+=4,d++){let w;if(i[h+3]===0)w=255;else{const b=i[h],M=i[h+1],R=i[h+2];w=306*b+601*M+117*R+512>>10}c[d]=w}return c}getRow(i,s){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const a=this.getWidth(),c=i*a;return s===null?s=this.buffer.slice(c,c+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(c,c+a))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,s,a,c){return super.crop(i,s,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const s=this.getTempCanvasElement(),a=s.getContext("2d"),c=i*ee.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(c))*h+Math.abs(Math.sin(c))*d),w=Math.ceil(Math.abs(Math.sin(c))*h+Math.abs(Math.cos(c))*d);return s.width=m,s.height=w,a.translate(m/2,w/2),a.rotate(c),a.drawImage(this.canvas,h/-2,d/-2),this.buffer=ee.makeBufferFromCanvasImageData(s),this}invert(){return new X(this)}}ee.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(i,s,a){this.deviceId=i,this.label=s,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var we=(globalThis||Do||self||window||void 0)&&(globalThis||Do||self||window||void 0).__awaiter||function(N,i,s,a){function c(h){return h instanceof s?h:new s(function(d){d(h)})}return new(s||(s=Promise))(function(h,d){function m(b){try{_(a.next(b))}catch(M){d(M)}}function w(b){try{_(a.throw(b))}catch(M){d(M)}}function _(b){b.done?h(b.value):c(b.value).then(m,w)}_((a=a.apply(N,i||[])).next())})};class Be{constructor(i,s=500,a){this.reader=i,this.timeBetweenScansMillis=s,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return we(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const a of i){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const h=a.deviceId||a.id,d=a.label||`Video device ${s.length+1}`,m=a.groupId,w={deviceId:h,label:d,kind:c,groupId:m};s.push(w)}return s})}getVideoInputDevices(){return we(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new ue(s.deviceId,s.label))})}findDeviceById(i){return we(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,s){return we(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,s)})}decodeOnceFromVideoDevice(i,s){return we(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(i,s){return we(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,s)})}decodeOnceFromStream(i,s){return we(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,s);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,s,a){return we(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,s,a)})}decodeFromVideoDevice(i,s,a){return we(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeFromConstraints(h,s,a)})}decodeFromConstraints(i,s,a){return we(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,s,a)})}decodeFromStream(i,s,a){return we(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,s);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,s){return we(this,void 0,void 0,function*(){const a=this.prepareVideoElement(s);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((s,a)=>this.playVideoOnLoad(i,()=>s()))}playVideoOnLoad(i,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",s),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return we(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,s){const a=document.getElementById(i);if(!a)throw new A(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==s.toLowerCase())throw new A(`element with id '${i}' must be an ${s} element`);return a}decodeFromImage(i,s){if(!i&&!s)throw new A("either imageElement with a src set or an url must be provided");return s&&!i?this.decodeFromImageUrl(s):this.decodeFromImageElement(i)}decodeFromVideo(i,s){if(!i&&!s)throw new A("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,s,a){if(i===void 0&&s===void 0)throw new A("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrlContinuously(s,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new A("An image element must be provided.");this.reset();const s=this.prepareImageElement(i);this.imageElement=s;let a;return this.isImageLoaded(s)?a=this.decodeOnce(s,!1,!0):a=this._decodeOnLoadImage(s),a}decodeFromVideoElement(i){const s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(i,s){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,s)}_decodeFromVideoElementSetup(i){if(!i)throw new A("A video element must be provided.");this.reset();const s=this.prepareVideoElement(i);return this.videoElement=s,s}decodeFromImageUrl(i){if(!i)throw new A("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const a=this._decodeOnLoadImage(s);return s.src=i,a}decodeFromVideoUrl(i){if(!i)throw new A("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElement(s);return s.src=i,a}decodeFromVideoUrlContinuously(i,s){if(!i)throw new A("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,s);return a.src=i,c}_decodeOnLoadImage(i){return new Promise((s,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(s,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return we(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,s){return we(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,s)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let s;return typeof i>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(s=i),s}prepareVideoElement(i){let s;return!i&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(s=i),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(i,s=!0,a=!0){this._stopAsyncDecode=!1;const c=(h,d)=>{if(this._stopAsyncDecode){d(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);h(m)}catch(m){const w=s&&m instanceof re,b=(m instanceof O||m instanceof K)&&a;if(w||b)return setTimeout(c,this._timeBetweenDecodingAttempts,h,d);d(m)}};return new Promise((h,d)=>c(h,d))}decodeContinuously(i,s){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);s(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){s(null,c);const h=c instanceof O||c instanceof K,d=c instanceof re;(h||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const s=this.createBinaryBitmap(i);return this.decodeBitmap(s)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,s,a){s||(s={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(i,s,a=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const s=this.getCaptureCanvas(i),a=new ee(s),c=new Ne(a);return new I(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const s=this.createCaptureCanvas(i);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let a,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),s.style.width=a+"px",s.style.height=c+"px",s.width=a,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,s){try{i.srcObject=s}catch{i.src=URL.createObjectURL(s)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Te{constructor(i,s,a=s==null?0:8*s.length,c,h,d=B.currentTimeMillis()){this.text=i,this.rawBytes=s,this.numBits=a,this.resultPoints=c,this.format=h,this.timestamp=d,this.text=i,this.rawBytes=s,a==null?this.numBits=s==null?0:8*s.length:this.numBits=a,this.resultPoints=c,this.format=h,this.resultMetadata=null,d==null?this.timestamp=B.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,s)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const s=this.resultPoints;if(s===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(s.length+i.length);B.arraycopy(s,0,a,0,s.length),B.arraycopy(i,0,a,s.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ze;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var de=ze,Ke;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ke||(Ke={}));var ft=Ke;class Yn{constructor(i,s,a,c,h=-1,d=-1){this.rawBytes=i,this.text=s,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xn{exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}static addOrSubtract(i,s){return i^s}}class St{constructor(i,s){if(s.length===0)throw new E;this.field=i;const a=s.length;if(a>1&&s[0]===0){let c=1;for(;c<a&&s[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),B.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const s=this.coefficients;let a;if(i===1){a=0;for(let d=0,m=s.length;d!==m;d++){const w=s[d];a=Xn.addOrSubtract(a,w)}return a}a=s[0];const c=s.length,h=this.field;for(let d=1;d<c;d++)a=Xn.addOrSubtract(h.multiply(i,a),s[d]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){const d=s;s=a,a=d}let c=new Int32Array(a.length);const h=a.length-s.length;B.arraycopy(a,0,c,0,h);for(let d=h;d<a.length;d++)c[d]=Xn.addOrSubtract(s[d-h],a[d]);return new St(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const s=this.coefficients,a=s.length,c=i.coefficients,h=c.length,d=new Int32Array(a+h-1),m=this.field;for(let w=0;w<a;w++){const _=s[w];for(let b=0;b<h;b++)d[w+b]=Xn.addOrSubtract(d[w+b],m.multiply(_,c[b]))}return new St(m,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const s=this.coefficients.length,a=this.field,c=new Int32Array(s),h=this.coefficients;for(let d=0;d<s;d++)c[d]=a.multiply(h[d],i);return new St(a,c)}multiplyByMonomial(i,s){if(i<0)throw new E;if(s===0)return this.field.getZero();const a=this.coefficients,c=a.length,h=new Int32Array(c+i),d=this.field;for(let m=0;m<c;m++)h[m]=d.multiply(a[m],s);return new St(d,h)}divide(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new E("Divide by 0");const s=this.field;let a=s.getZero(),c=this;const h=i.getCoefficient(i.getDegree()),d=s.inverse(h);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const m=c.getDegree()-i.getDegree(),w=s.multiply(c.getCoefficient(c.getDegree()),d),_=i.multiplyByMonomial(m,w),b=s.buildMonomial(m,w);a=a.addOrSubtract(b),c=c.addOrSubtract(_)}return[a,c]}toString(){let i="";for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),s===0||a!==1){const c=this.field.log(a);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}s!==0&&(s===1?i+="x":(i+="x^",i+=s))}}return i}}class ji extends x{}ji.kind="ArithmeticException";class it extends Xn{constructor(i,s,a){super(),this.primitive=i,this.size=s,this.generatorBase=a;const c=new Int32Array(s);let h=1;for(let m=0;m<s;m++)c[m]=h,h*=2,h>=s&&(h^=i,h&=s-1);this.expTable=c;const d=new Int32Array(s);for(let m=0;m<s-1;m++)d[c[m]]=m;this.logTable=d,this.zero=new St(this,Int32Array.from([0])),this.one=new St(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new E;if(s===0)return this.zero;const a=new Int32Array(i+1);return a[0]=s,new St(this,a)}inverse(i){if(i===0)throw new ji;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+D.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}it.AZTEC_DATA_12=new it(4201,4096,1),it.AZTEC_DATA_10=new it(1033,1024,1),it.AZTEC_DATA_6=new it(67,64,1),it.AZTEC_PARAM=new it(19,16,1),it.QR_CODE_FIELD_256=new it(285,256,0),it.DATA_MATRIX_FIELD_256=new it(301,256,1),it.AZTEC_DATA_8=it.DATA_MATRIX_FIELD_256,it.MAXICODE_FIELD_64=it.AZTEC_DATA_6;class Hr extends x{}Hr.kind="ReedSolomonException";class si extends x{}si.kind="IllegalStateException";class Wr{constructor(i){this.field=i}decode(i,s){const a=this.field,c=new St(a,i),h=new Int32Array(s);let d=!0;for(let U=0;U<s;U++){const G=c.evaluateAt(a.exp(U+a.getGeneratorBase()));h[h.length-1-U]=G,G!==0&&(d=!1)}if(d)return;const m=new St(a,h),w=this.runEuclideanAlgorithm(a.buildMonomial(s,1),m,s),_=w[0],b=w[1],M=this.findErrorLocations(_),R=this.findErrorMagnitudes(b,M);for(let U=0;U<M.length;U++){const G=i.length-1-a.log(M[U]);if(G<0)throw new Hr("Bad error location");i[G]=it.addOrSubtract(i[G],R[U])}}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){const U=i;i=s,s=U}const c=this.field;let h=i,d=s,m=c.getZero(),w=c.getOne();for(;d.getDegree()>=(a/2|0);){let U=h,G=m;if(h=d,m=w,h.isZero())throw new Hr("r_{i-1} was zero");d=U;let Y=c.getZero();const q=h.getCoefficient(h.getDegree()),te=c.inverse(q);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const me=d.getDegree()-h.getDegree(),ge=c.multiply(d.getCoefficient(d.getDegree()),te);Y=Y.addOrSubtract(c.buildMonomial(me,ge)),d=d.addOrSubtract(h.multiplyByMonomial(me,ge))}if(w=Y.multiply(m).addOrSubtract(G),d.getDegree()>=h.getDegree())throw new si("Division algorithm failed to reduce polynomial?")}const _=w.getCoefficient(0);if(_===0)throw new Hr("sigmaTilde(0) was zero");const b=c.inverse(_),M=w.multiplyScalar(b),R=d.multiplyScalar(b);return[M,R]}findErrorLocations(i){const s=i.getDegree();if(s===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(s);let c=0;const h=this.field;for(let d=1;d<h.getSize()&&c<s;d++)i.evaluateAt(d)===0&&(a[c]=h.inverse(d),c++);if(c!==s)throw new Hr("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,s){const a=s.length,c=new Int32Array(a),h=this.field;for(let d=0;d<a;d++){const m=h.inverse(s[d]);let w=1;for(let _=0;_<a;_++)if(d!==_){const b=h.multiply(s[_],m),M=b&1?b&-2:b|1;w=h.multiply(w,M)}c[d]=h.multiply(i.evaluateAt(m),h.inverse(w)),h.getGeneratorBase()!==0&&(c[d]=h.multiply(c[d],m))}return c}}var Xt;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Xt||(Xt={}));class dt{decode(i){this.ddata=i;let s=i.getBits(),a=this.extractBits(s),c=this.correctBits(a),h=dt.convertBoolArrayToByteArray(c),d=dt.getEncodedData(c),m=new Yn(h,d,null,null);return m.setNumBits(c.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,a=Xt.UPPER,c=Xt.UPPER,h="",d=0;for(;d<s;)if(c===Xt.BINARY){if(s-d<5)break;let m=dt.readCode(i,d,5);if(d+=5,m===0){if(s-d<11)break;m=dt.readCode(i,d,11)+31,d+=11}for(let w=0;w<m;w++){if(s-d<8){d=s;break}const _=dt.readCode(i,d,8);h+=ye.castAsNonUtf8Char(_),d+=8}c=a}else{let m=c===Xt.DIGIT?4:5;if(s-d<m)break;let w=dt.readCode(i,d,m);d+=m;let _=dt.getCharacter(c,w);_.startsWith("CTRL_")?(a=c,c=dt.getTable(_.charAt(5)),_.charAt(6)==="L"&&(a=c)):(h+=_,c=a)}return h}static getTable(i){switch(i){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(i,s){switch(i){case Xt.UPPER:return dt.UPPER_TABLE[s];case Xt.LOWER:return dt.LOWER_TABLE[s];case Xt.MIXED:return dt.MIXED_TABLE[s];case Xt.PUNCT:return dt.PUNCT_TABLE[s];case Xt.DIGIT:return dt.DIGIT_TABLE[s];default:throw new si("Bad table")}}correctBits(i){let s,a;this.ddata.getNbLayers()<=2?(a=6,s=it.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,s=it.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,s=it.AZTEC_DATA_10):(a=12,s=it.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),h=i.length/a;if(h<c)throw new K;let d=i.length%a,m=new Int32Array(h);for(let R=0;R<h;R++,d+=a)m[R]=dt.readCode(i,d,a);try{new Wr(s).decode(m,h-c)}catch(R){throw new K(R)}let w=(1<<a)-1,_=0;for(let R=0;R<c;R++){let U=m[R];if(U===0||U===w)throw new K;(U===1||U===w-1)&&_++}let b=new Array(c*a-_),M=0;for(let R=0;R<c;R++){let U=m[R];if(U===1||U===w-1)b.fill(U>1,M,M+a-1),M+=a-1;else for(let G=a-1;G>=0;--G)b[M++]=(U&1<<G)!==0}return b}extractBits(i){let s=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(s?11:14)+a*4,h=new Int32Array(c),d=new Array(this.totalBitsInLayer(a,s));if(s)for(let m=0;m<h.length;m++)h[m]=m;else{let m=c+1+2*D.truncDivision(D.truncDivision(c,2)-1,15),w=c/2,_=D.truncDivision(m,2);for(let b=0;b<w;b++){let M=b+D.truncDivision(b,15);h[w-b-1]=_-M-1,h[w+b]=_+M+1}}for(let m=0,w=0;m<a;m++){let _=(a-m)*4+(s?9:12),b=m*2,M=c-1-b;for(let R=0;R<_;R++){let U=R*2;for(let G=0;G<2;G++)d[w+U+G]=i.get(h[b+G],h[b+R]),d[w+2*_+U+G]=i.get(h[b+R],h[M-G]),d[w+4*_+U+G]=i.get(h[M-G],h[M-R]),d[w+6*_+U+G]=i.get(h[M-R],h[b+G])}w+=_*8}return d}static readCode(i,s,a){let c=0;for(let h=s;h<s+a;h++)c<<=1,i[h]&&(c|=1);return c}static readByte(i,s){let a=i.length-s;return a>=8?dt.readCode(i,s,8):dt.readCode(i,s,a)<<8-a}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let a=0;a<s.length;a++)s[a]=dt.readByte(i,8*a);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}dt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],dt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],dt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],dt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],dt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,s,a,c){const h=i-a,d=s-c;return Math.sqrt(h*h+d*d)}static sum(i){let s=0;for(let a=0,c=i.length;a!==c;a++){const h=i[a];s+=h}return s}}class Ls{static floatToIntBits(i){return i}}Ls.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(i,s){this.x=i,this.y=s}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Oe){const s=i;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Ls.floatToIntBits(this.x)+Ls.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const s=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let h,d,m;if(a>=s&&a>=c?(d=i[0],h=i[1],m=i[2]):c>=a&&c>=s?(d=i[1],h=i[0],m=i[2]):(d=i[2],h=i[0],m=i[1]),this.crossProductZ(h,d,m)<0){const w=h;h=m,m=w}i[0]=h,i[1]=d,i[2]=m}static distance(i,s){return rt.distance(i.x,i.y,s.x,s.y)}static crossProductZ(i,s,a){const c=s.x,h=s.y;return(a.x-c)*(i.y-h)-(a.y-h)*(i.x-c)}}class Ds{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ea extends Ds{constructor(i,s,a,c,h){super(i,s),this.compact=a,this.nbDatablocks=c,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class zi{constructor(i,s,a,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=zi.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const h=s/2|0;if(this.leftInit=a-h,this.rightInit=a+h,this.upInit=c-h,this.downInit=c+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let i=this.leftInit,s=this.rightInit,a=this.upInit,c=this.downInit,h=!1,d=!0,m=!1,w=!1,_=!1,b=!1,M=!1;const R=this.width,U=this.height;for(;d;){d=!1;let G=!0;for(;(G||!w)&&s<R;)G=this.containsBlackPoint(a,c,s,!1),G?(s++,d=!0,w=!0):w||s++;if(s>=R){h=!0;break}let Y=!0;for(;(Y||!_)&&c<U;)Y=this.containsBlackPoint(i,s,c,!0),Y?(c++,d=!0,_=!0):_||c++;if(c>=U){h=!0;break}let q=!0;for(;(q||!b)&&i>=0;)q=this.containsBlackPoint(a,c,i,!1),q?(i--,d=!0,b=!0):b||i--;if(i<0){h=!0;break}let te=!0;for(;(te||!M)&&a>=0;)te=this.containsBlackPoint(i,s,a,!0),te?(a--,d=!0,M=!0):M||a--;if(a<0){h=!0;break}d&&(m=!0)}if(!h&&m){const G=s-i;let Y=null;for(let ge=1;Y===null&&ge<G;ge++)Y=this.getBlackPointOnSegment(i,c-ge,i+ge,c);if(Y==null)throw new re;let q=null;for(let ge=1;q===null&&ge<G;ge++)q=this.getBlackPointOnSegment(i,a+ge,i+ge,a);if(q==null)throw new re;let te=null;for(let ge=1;te===null&&ge<G;ge++)te=this.getBlackPointOnSegment(s,a+ge,s-ge,a);if(te==null)throw new re;let me=null;for(let ge=1;me===null&&ge<G;ge++)me=this.getBlackPointOnSegment(s,c-ge,s-ge,c);if(me==null)throw new re;return this.centerEdges(me,Y,te,q)}else throw new re}getBlackPointOnSegment(i,s,a,c){const h=rt.round(rt.distance(i,s,a,c)),d=(a-i)/h,m=(c-s)/h,w=this.image;for(let _=0;_<h;_++){const b=rt.round(i+_*d),M=rt.round(s+_*m);if(w.get(b,M))return new Oe(b,M)}return null}centerEdges(i,s,a,c){const h=i.getX(),d=i.getY(),m=s.getX(),w=s.getY(),_=a.getX(),b=a.getY(),M=c.getX(),R=c.getY(),U=zi.CORR;return h<this.width/2?[new Oe(M-U,R+U),new Oe(m+U,w+U),new Oe(_-U,b-U),new Oe(h+U,d-U)]:[new Oe(M+U,R+U),new Oe(m+U,w-U),new Oe(_-U,b+U),new Oe(h-U,d-U)]}containsBlackPoint(i,s,a,c){const h=this.image;if(c){for(let d=i;d<=s;d++)if(h.get(d,a))return!0}else for(let d=i;d<=s;d++)if(h.get(a,d))return!0;return!1}}zi.INIT_SIZE=10,zi.CORR=1;class Aa{static checkAndNudgePoints(i,s){const a=i.getWidth(),c=i.getHeight();let h=!0;for(let d=0;d<s.length&&h;d+=2){const m=Math.floor(s[d]),w=Math.floor(s[d+1]);if(m<-1||m>a||w<-1||w>c)throw new re;h=!1,m===-1?(s[d]=0,h=!0):m===a&&(s[d]=a-1,h=!0),w===-1?(s[d+1]=0,h=!0):w===c&&(s[d+1]=c-1,h=!0)}h=!0;for(let d=s.length-2;d>=0&&h;d-=2){const m=Math.floor(s[d]),w=Math.floor(s[d+1]);if(m<-1||m>a||w<-1||w>c)throw new re;h=!1,m===-1?(s[d]=0,h=!0):m===a&&(s[d]=a-1,h=!0),w===-1?(s[d+1]=0,h=!0):w===c&&(s[d+1]=c-1,h=!0)}}}class Dn{constructor(i,s,a,c,h,d,m,w,_){this.a11=i,this.a21=s,this.a31=a,this.a12=c,this.a22=h,this.a32=d,this.a13=m,this.a23=w,this.a33=_}static quadrilateralToQuadrilateral(i,s,a,c,h,d,m,w,_,b,M,R,U,G,Y,q){const te=Dn.quadrilateralToSquare(i,s,a,c,h,d,m,w);return Dn.squareToQuadrilateral(_,b,M,R,U,G,Y,q).times(te)}transformPoints(i){const s=i.length,a=this.a11,c=this.a12,h=this.a13,d=this.a21,m=this.a22,w=this.a23,_=this.a31,b=this.a32,M=this.a33;for(let R=0;R<s;R+=2){const U=i[R],G=i[R+1],Y=h*U+w*G+M;i[R]=(a*U+d*G+_)/Y,i[R+1]=(c*U+m*G+b)/Y}}transformPointsWithValues(i,s){const a=this.a11,c=this.a12,h=this.a13,d=this.a21,m=this.a22,w=this.a23,_=this.a31,b=this.a32,M=this.a33,R=i.length;for(let U=0;U<R;U++){const G=i[U],Y=s[U],q=h*G+w*Y+M;i[U]=(a*G+d*Y+_)/q,s[U]=(c*G+m*Y+b)/q}}static squareToQuadrilateral(i,s,a,c,h,d,m,w){const _=i-a+h-m,b=s-c+d-w;if(_===0&&b===0)return new Dn(a-i,h-a,i,c-s,d-c,s,0,0,1);{const M=a-h,R=m-h,U=c-d,G=w-d,Y=M*G-R*U,q=(_*G-R*b)/Y,te=(M*b-_*U)/Y;return new Dn(a-i+q*a,m-i+te*m,i,c-s+q*c,w-s+te*w,s,q,te,1)}}static quadrilateralToSquare(i,s,a,c,h,d,m,w){return Dn.squareToQuadrilateral(i,s,a,c,h,d,m,w).buildAdjoint()}buildAdjoint(){return new Dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Dn(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Sa extends Aa{sampleGrid(i,s,a,c,h,d,m,w,_,b,M,R,U,G,Y,q,te,me,ge){const pe=Dn.quadrilateralToQuadrilateral(c,h,d,m,w,_,b,M,R,U,G,Y,q,te,me,ge);return this.sampleGridWithTransform(i,s,a,pe)}sampleGridWithTransform(i,s,a,c){if(s<=0||a<=0)throw new re;const h=new ke(s,a),d=new Float32Array(2*s);for(let m=0;m<a;m++){const w=d.length,_=m+.5;for(let b=0;b<w;b+=2)d[b]=b/2+.5,d[b+1]=_;c.transformPoints(d),Aa.checkAndNudgePoints(i,d);try{for(let b=0;b<w;b+=2)i.get(Math.floor(d[b]),Math.floor(d[b+1]))&&h.set(b/2,m)}catch{throw new re}}return h}}class Ui{static setGridSampler(i){Ui.gridSampler=i}static getInstance(){return Ui.gridSampler}}Ui.gridSampler=new Sa;class _n{constructor(i,s){this.x=i,this.y=s}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ba{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let s=this.getMatrixCenter(),a=this.getBullsEyeCorners(s);if(i){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),h=this.getMatrixCornerPoints(a);return new Ea(c,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new re;let s=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],s),this.sampleLine(i[1],i[2],s),this.sampleLine(i[2],i[3],s),this.sampleLine(i[3],i[0],s)]);this.shift=this.getRotation(a,s);let c=0;for(let d=0;d<4;d++){let m=a[(this.shift+d)%4];this.compact?(c<<=7,c+=m>>1&127):(c<<=10,c+=(m>>2&992)+(m>>1&31))}let h=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,s){let a=0;i.forEach((c,h,d)=>{let m=(c>>s-2<<1)+(c&1);a=(a<<3)+m}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(D.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new re}getCorrectedParameterData(i,s){let a,c;s?(a=7,c=2):(a=10,c=4);let h=a-c,d=new Int32Array(a);for(let w=a-1;w>=0;--w)d[w]=i&15,i>>=4;try{new Wr(it.AZTEC_PARAM).decode(d,h)}catch{throw new re}let m=0;for(let w=0;w<c;w++)m=(m<<4)+d[w];return m}getBullsEyeCorners(i){let s=i,a=i,c=i,h=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(s,d,1,-1),R=this.getFirstDifferent(a,d,1,1),U=this.getFirstDifferent(c,d,-1,1),G=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(G,M)*this.nbCenterLayers/(this.distancePoint(h,s)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(M,R,U,G))break}s=M,a=R,c=U,h=G,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let m=new Oe(s.getX()+.5,s.getY()-.5),w=new Oe(a.getX()+.5,a.getY()+.5),_=new Oe(c.getX()-.5,c.getY()+.5),b=new Oe(h.getX()-.5,h.getY()-.5);return this.expandSquare([m,w,_,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,s,a,c;try{let m=new zi(this.image).detect();i=m[0],s=m[1],a=m[2],c=m[3]}catch{let w=this.image.getWidth()/2,_=this.image.getHeight()/2;i=this.getFirstDifferent(new _n(w+7,_-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new _n(w+7,_+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new _n(w-7,_+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new _n(w-7,_-7),!1,-1,-1).toResultPoint()}let h=rt.round((i.getX()+c.getX()+s.getX()+a.getX())/4),d=rt.round((i.getY()+c.getY()+s.getY()+a.getY())/4);try{let m=new zi(this.image,15,h,d).detect();i=m[0],s=m[1],a=m[2],c=m[3]}catch{i=this.getFirstDifferent(new _n(h+7,d-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new _n(h+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new _n(h-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new _n(h-7,d-7),!1,-1,-1).toResultPoint()}return h=rt.round((i.getX()+c.getX()+s.getX()+a.getX())/4),d=rt.round((i.getY()+c.getY()+s.getY()+a.getY())/4),new _n(h,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,s,a,c,h){let d=Ui.getInstance(),m=this.getDimension(),w=m/2-this.nbCenterLayers,_=m/2+this.nbCenterLayers;return d.sampleGrid(i,m,m,w,w,_,w,_,_,w,_,s.getX(),s.getY(),a.getX(),a.getY(),c.getX(),c.getY(),h.getX(),h.getY())}sampleLine(i,s,a){let c=0,h=this.distanceResultPoint(i,s),d=h/a,m=i.getX(),w=i.getY(),_=d*(s.getX()-i.getX())/h,b=d*(s.getY()-i.getY())/h;for(let M=0;M<a;M++)this.image.get(rt.round(m+M*_),rt.round(w+M*b))&&(c|=1<<a-M-1);return c}isWhiteOrBlackRectangle(i,s,a,c){let h=3;i=new _n(i.getX()-h,i.getY()+h),s=new _n(s.getX()-h,s.getY()-h),a=new _n(a.getX()+h,a.getY()-h),c=new _n(c.getX()+h,c.getY()+h);let d=this.getColor(c,i);if(d===0)return!1;let m=this.getColor(i,s);return m!==d||(m=this.getColor(s,a),m!==d)?!1:(m=this.getColor(a,c),m===d)}getColor(i,s){let a=this.distancePoint(i,s),c=(s.getX()-i.getX())/a,h=(s.getY()-i.getY())/a,d=0,m=i.getX(),w=i.getY(),_=this.image.get(i.getX(),i.getY()),b=Math.ceil(a);for(let R=0;R<b;R++)m+=c,w+=h,this.image.get(rt.round(m),rt.round(w))!==_&&d++;let M=d/a;return M>.1&&M<.9?0:M<=.1===_?1:-1}getFirstDifferent(i,s,a,c){let h=i.getX()+a,d=i.getY()+c;for(;this.isValid(h,d)&&this.image.get(h,d)===s;)h+=a,d+=c;for(h-=a,d-=c;this.isValid(h,d)&&this.image.get(h,d)===s;)h+=a;for(h-=a;this.isValid(h,d)&&this.image.get(h,d)===s;)d+=c;return d-=c,new _n(h,d)}expandSquare(i,s,a){let c=a/(2*s),h=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,w=(i[0].getY()+i[2].getY())/2,_=new Oe(m+c*h,w+c*d),b=new Oe(m-c*h,w-c*d);h=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,w=(i[1].getY()+i[3].getY())/2;let M=new Oe(m+c*h,w+c*d),R=new Oe(m-c*h,w-c*d);return[_,M,b,R]}isValid(i,s){return i>=0&&i<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(i){let s=rt.round(i.getX()),a=rt.round(i.getY());return this.isValid(s,a)}distancePoint(i,s){return rt.distance(i.getX(),i.getY(),s.getX(),s.getY())}distanceResultPoint(i,s){return rt.distance(i.getX(),i.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(D.truncDivision(this.nbLayers-4,8)+1)+15}}class ks{decode(i,s=null){let a=null,c=new ba(i.getBlackMatrix()),h=null,d=null;try{let b=c.detectMirror(!1);h=b.getPoints(),this.reportFoundResultPoints(s,h),d=new dt().decode(b)}catch(b){a=b}if(d==null)try{let b=c.detectMirror(!0);h=b.getPoints(),this.reportFoundResultPoints(s,h),d=new dt().decode(b)}catch(b){throw a??b}let m=new Te(d.getText(),d.getRawBytes(),d.getNumBits(),h,de.AZTEC,B.currentTimeMillis()),w=d.getByteSegments();w!=null&&m.putMetadata(ft.BYTE_SEGMENTS,w);let _=d.getECLevel();return _!=null&&m.putMetadata(ft.ERROR_CORRECTION_LEVEL,_),m}reportFoundResultPoints(i,s){if(i!=null){let a=i.get(ie.NEED_RESULT_POINT_CALLBACK);a!=null&&s.forEach((c,h,d)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Nh extends Be{constructor(i=500){super(new ks,i)}}class Ft{decode(i,s){try{return this.doDecode(i,s)}catch{if(s&&s.get(ie.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),d=this.doDecode(h,s),m=d.getResultMetadata();let w=270;m!==null&&m.get(ft.ORIENTATION)===!0&&(w=w+m.get(ft.ORIENTATION)%360),d.putMetadata(ft.ORIENTATION,w);const _=d.getResultPoints();if(_!==null){const b=h.getHeight();for(let M=0;M<_.length;M++)_[M]=new Oe(b-_[M].getY()-1,_[M].getX())}return d}else throw new re}}reset(){}doDecode(i,s){const a=i.getWidth(),c=i.getHeight();let h=new Z(a);const d=s&&s.get(ie.TRY_HARDER)===!0,m=Math.max(1,c>>(d?8:5));let w;d?w=c:w=15;const _=Math.trunc(c/2);for(let b=0;b<w;b++){const M=Math.trunc((b+1)/2),R=(b&1)===0,U=_+m*(R?M:-M);if(U<0||U>=c)break;try{h=i.getBlackRow(U,h)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(h.reverse(),s&&s.get(ie.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;s.forEach((q,te)=>Y.set(te,q)),Y.delete(ie.NEED_RESULT_POINT_CALLBACK),s=Y}try{const Y=this.decodeRow(U,h,s);if(G===1){Y.putMetadata(ft.ORIENTATION,180);const q=Y.getResultPoints();q!==null&&(q[0]=new Oe(a-q[0].getX()-1,q[0].getY()),q[1]=new Oe(a-q[1].getX()-1,q[1].getY()))}return Y}catch{}}}throw new re}static recordPattern(i,s,a){const c=a.length;for(let _=0;_<c;_++)a[_]=0;const h=i.getSize();if(s>=h)throw new re;let d=!i.get(s),m=0,w=s;for(;w<h;){if(i.get(w)!==d)a[m]++;else{if(++m===c)break;a[m]=1,d=!d}w++}if(!(m===c||m===c-1&&w===h))throw new re}static recordPatternInReverse(i,s,a){let c=a.length,h=i.get(s);for(;s>0&&c>=0;)i.get(--s)!==h&&(c--,h=!h);if(c>=0)throw new re;Ft.recordPattern(i,s+1,a)}static patternMatchVariance(i,s,a){const c=i.length;let h=0,d=0;for(let _=0;_<c;_++)h+=i[_],d+=s[_];if(h<d)return Number.POSITIVE_INFINITY;const m=h/d;a*=m;let w=0;for(let _=0;_<c;_++){const b=i[_],M=s[_]*m,R=b>M?b-M:M-b;if(R>a)return Number.POSITIVE_INFINITY;w+=R}return w/h}}class ve extends Ft{static findStartPattern(i){const s=i.getSize(),a=i.getNextSet(0);let c=0,h=Int32Array.from([0,0,0,0,0,0]),d=a,m=!1;const w=6;for(let _=a;_<s;_++)if(i.get(_)!==m)h[c]++;else{if(c===w-1){let b=ve.MAX_AVG_VARIANCE,M=-1;for(let R=ve.CODE_START_A;R<=ve.CODE_START_C;R++){const U=Ft.patternMatchVariance(h,ve.CODE_PATTERNS[R],ve.MAX_INDIVIDUAL_VARIANCE);U<b&&(b=U,M=R)}if(M>=0&&i.isRange(Math.max(0,d-(_-d)/2),d,!1))return Int32Array.from([d,_,M]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[c-1]=0,h[c]=0,c--}else c++;h[c]=1,m=!m}throw new re}static decodeCode(i,s,a){Ft.recordPattern(i,a,s);let c=ve.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<ve.CODE_PATTERNS.length;d++){const m=ve.CODE_PATTERNS[d],w=this.patternMatchVariance(s,m,ve.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,h=d)}if(h>=0)return h;throw new re}decodeRow(i,s,a){const c=a&&a.get(ie.ASSUME_GS1)===!0,h=ve.findStartPattern(s),d=h[2];let m=0;const w=new Uint8Array(20);w[m++]=d;let _;switch(d){case ve.CODE_START_A:_=ve.CODE_CODE_A;break;case ve.CODE_START_B:_=ve.CODE_CODE_B;break;case ve.CODE_START_C:_=ve.CODE_CODE_C;break;default:throw new K}let b=!1,M=!1,R="",U=h[0],G=h[1];const Y=Int32Array.from([0,0,0,0,0,0]);let q=0,te=0,me=d,ge=0,pe=!0,Je=!1,Ye=!1;for(;!b;){const Ti=M;switch(M=!1,q=te,te=ve.decodeCode(s,Y,G),w[m++]=te,te!==ve.CODE_STOP&&(pe=!0),te!==ve.CODE_STOP&&(ge++,me+=ge*te),U=G,G+=Y.reduce((jh,ts)=>jh+ts,0),te){case ve.CODE_START_A:case ve.CODE_START_B:case ve.CODE_START_C:throw new K}switch(_){case ve.CODE_CODE_A:if(te<64)Ye===Je?R+=String.fromCharCode(32+te):R+=String.fromCharCode(32+te+128),Ye=!1;else if(te<96)Ye===Je?R+=String.fromCharCode(te-64):R+=String.fromCharCode(te+64),Ye=!1;else switch(te!==ve.CODE_STOP&&(pe=!1),te){case ve.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_A:!Je&&Ye?(Je=!0,Ye=!1):Je&&Ye?(Je=!1,Ye=!1):Ye=!0;break;case ve.CODE_SHIFT:M=!0,_=ve.CODE_CODE_B;break;case ve.CODE_CODE_B:_=ve.CODE_CODE_B;break;case ve.CODE_CODE_C:_=ve.CODE_CODE_C;break;case ve.CODE_STOP:b=!0;break}break;case ve.CODE_CODE_B:if(te<96)Ye===Je?R+=String.fromCharCode(32+te):R+=String.fromCharCode(32+te+128),Ye=!1;else switch(te!==ve.CODE_STOP&&(pe=!1),te){case ve.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_B:!Je&&Ye?(Je=!0,Ye=!1):Je&&Ye?(Je=!1,Ye=!1):Ye=!0;break;case ve.CODE_SHIFT:M=!0,_=ve.CODE_CODE_A;break;case ve.CODE_CODE_A:_=ve.CODE_CODE_A;break;case ve.CODE_CODE_C:_=ve.CODE_CODE_C;break;case ve.CODE_STOP:b=!0;break}break;case ve.CODE_CODE_C:if(te<100)te<10&&(R+="0"),R+=te;else switch(te!==ve.CODE_STOP&&(pe=!1),te){case ve.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case ve.CODE_CODE_A:_=ve.CODE_CODE_A;break;case ve.CODE_CODE_B:_=ve.CODE_CODE_B;break;case ve.CODE_STOP:b=!0;break}break}Ti&&(_=_===ve.CODE_CODE_A?ve.CODE_CODE_B:ve.CODE_CODE_A)}const Pt=G-U;if(G=s.getNextUnset(G),!s.isRange(G,Math.min(s.getSize(),G+(G-U)/2),!1))throw new re;if(me-=ge*q,me%103!==q)throw new O;const bn=R.length;if(bn===0)throw new re;bn>0&&pe&&(_===ve.CODE_CODE_C?R=R.substring(0,bn-2):R=R.substring(0,bn-1));const Tn=(h[1]+h[0])/2,ht=U+Pt/2,ln=w.length,In=new Uint8Array(ln);for(let Ti=0;Ti<ln;Ti++)In[Ti]=w[Ti];const es=[new Oe(Tn,i),new Oe(ht,i)];return new Te(R,In,0,es,de.CODE_128,new Date().getTime())}}ve.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ve.MAX_AVG_VARIANCE=.25,ve.MAX_INDIVIDUAL_VARIANCE=.7,ve.CODE_SHIFT=98,ve.CODE_CODE_C=99,ve.CODE_CODE_B=100,ve.CODE_CODE_A=101,ve.CODE_FNC_1=102,ve.CODE_FNC_2=97,ve.CODE_FNC_3=96,ve.CODE_FNC_4_A=101,ve.CODE_FNC_4_B=100,ve.CODE_START_A=103,ve.CODE_START_B=104,ve.CODE_START_C=105,ve.CODE_STOP=106;class Zt extends Ft{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let h=Zt.findAsteriskPattern(s,c),d=s.getNextSet(h[1]),m=s.getSize(),w,_;do{Zt.recordPattern(s,d,c);let Y=Zt.toNarrowWidePattern(c);if(Y<0)throw new re;w=Zt.patternToChar(Y),this.decodeRowResult+=w,_=d;for(let q of c)d+=q;d=s.getNextSet(d)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let Y of c)b+=Y;let M=d-_-b;if(d!==m&&M*2<b)throw new re;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,q=0;for(let te=0;te<Y;te++)q+=Zt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(Y)!==Zt.ALPHABET_STRING.charAt(q%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new re;let R;this.extendedMode?R=Zt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let U=(h[1]+h[0])/2,G=_+b/2;return new Te(R,null,0,[new Oe(U,i),new Oe(G,i)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let a=i.getSize(),c=i.getNextSet(0),h=0,d=c,m=!1,w=s.length;for(let _=c;_<a;_++)if(i.get(_)!==m)s[h]++;else{if(h===w-1){if(this.toNarrowWidePattern(s)===Zt.ASTERISK_ENCODING&&i.isRange(Math.max(0,d-Math.floor((_-d)/2)),d,!1))return[d,_];d+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,m=!m}throw new re}static toNarrowWidePattern(i){let s=i.length,a=0,c;do{let h=2147483647;for(let w of i)w<h&&w>a&&(h=w);a=h,c=0;let d=0,m=0;for(let w=0;w<s;w++){let _=i[w];_>a&&(m|=1<<s-1-w,c++,d+=_)}if(c===3){for(let w=0;w<s&&c>0;w++){let _=i[w];if(_>a&&(c--,_*2>=d))return-1}return m}}while(c>3);return-1}static patternToChar(i){for(let s=0;s<Zt.CHARACTER_ENCODINGS.length;s++)if(Zt.CHARACTER_ENCODINGS[s]===i)return Zt.ALPHABET_STRING.charAt(s);if(i===Zt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(i){let s=i.length,a="";for(let c=0;c<s;c++){let h=i.charAt(c);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=i.charAt(c+1),m="\0";switch(h){case"+":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)+32);else throw new K;break;case"$":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)-64);else throw new K;break;case"%":if(d>="A"&&d<="E")m=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")m=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")m=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")m="\0";else if(d==="V")m="@";else if(d==="W")m="`";else if(d==="X"||d==="Y"||d==="Z")m="";else throw new K;break;case"/":if(d>="A"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")m=":";else throw new K;break}a+=m,c++}else a+=h}return a}}Zt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Zt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Zt.ASTERISK_ENCODING=148;class gt extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,s,a){let c=this.decodeStart(s),h=this.decodeEnd(s),d=new De;gt.decodeMiddle(s,c[1],h[0],d);let m=d.toString(),w=null;a!=null&&(w=a.get(ie.ALLOWED_LENGTHS)),w==null&&(w=gt.DEFAULT_ALLOWED_LENGTHS);let _=m.length,b=!1,M=0;for(let G of w){if(_===G){b=!0;break}G>M&&(M=G)}if(!b&&_>M&&(b=!0),!b)throw new K;const R=[new Oe(c[1],i),new Oe(h[0],i)];return new Te(m,null,0,R,de.ITF,new Date().getTime())}static decodeMiddle(i,s,a,c){let h=new Int32Array(10),d=new Int32Array(5),m=new Int32Array(5);for(h.fill(0),d.fill(0),m.fill(0);s<a;){Ft.recordPattern(i,s,h);for(let _=0;_<5;_++){let b=2*_;d[_]=h[b],m[_]=h[b+1]}let w=gt.decodeDigit(d);c.append(w.toString()),w=this.decodeDigit(m),c.append(w.toString()),h.forEach(function(_){s+=_})}}decodeStart(i){let s=gt.skipWhiteSpace(i),a=gt.findGuardPattern(i,s,gt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,s){let a=this.narrowLineWidth*10;a=a<s?a:s;for(let c=s-1;a>0&&c>=0&&!i.get(c);c--)a--;if(a!==0)throw new re}static skipWhiteSpace(i){const s=i.getSize(),a=i.getNextSet(0);if(a===s)throw new re;return a}decodeEnd(i){i.reverse();try{let s=gt.skipWhiteSpace(i),a;try{a=gt.findGuardPattern(i,s,gt.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(a=gt.findGuardPattern(i,s,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let c=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-c,a}finally{i.reverse()}}static findGuardPattern(i,s,a){let c=a.length,h=new Int32Array(c),d=i.getSize(),m=!1,w=0,_=s;h.fill(0);for(let b=s;b<d;b++)if(i.get(b)!==m)h[w]++;else{if(w===c-1){if(Ft.patternMatchVariance(h,a,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[_,b];_+=h[0]+h[1],B.arraycopy(h,2,h,0,w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,m=!m}throw new re}static decodeDigit(i){let s=gt.MAX_AVG_VARIANCE,a=-1,c=gt.PATTERNS.length;for(let h=0;h<c;h++){let d=gt.PATTERNS[h],m=Ft.patternMatchVariance(i,d,gt.MAX_INDIVIDUAL_VARIANCE);m<s?(s=m,a=h):m===s&&(a=-1)}if(a>=0)return a%10;throw new re}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _t extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let s=!1,a,c=0,h=Int32Array.from([0,0,0]);for(;!s;){h=Int32Array.from([0,0,0]),a=_t.findGuardPattern(i,c,!1,this.START_END_PATTERN,h);let d=a[0];c=a[1];let m=d-(c-d);m>=0&&(s=i.isRange(m,d,!1))}return a}static checkChecksum(i){return _t.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return _t.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let c=s-1;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}a*=3;for(let c=s-2;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}return(1e3-a)%10}static decodeEnd(i,s){return _t.findGuardPattern(i,s,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,s,a,c){return this.findGuardPattern(i,s,a,c,new Int32Array(c.length))}static findGuardPattern(i,s,a,c,h){let d=i.getSize();s=a?i.getNextUnset(s):i.getNextSet(s);let m=0,w=s,_=c.length,b=a;for(let M=s;M<d;M++)if(i.get(M)!==b)h[m]++;else{if(m===_-1){if(Ft.patternMatchVariance(h,c,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return Int32Array.from([w,M]);w+=h[0]+h[1];let R=h.slice(2,h.length-1);for(let U=0;U<m-1;U++)h[U]=R[U];h[m-1]=0,h[m]=0,m--}else m++;h[m]=1,b=!b}throw new re}static decodeDigit(i,s,a,c){this.recordPattern(i,a,s);let h=this.MAX_AVG_VARIANCE,d=-1,m=c.length;for(let w=0;w<m;w++){let _=c[w],b=Ft.patternMatchVariance(s,_,_t.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,d=w)}if(d>=0)return d;throw new re}}_t.MAX_AVG_VARIANCE=.48,_t.MAX_INDIVIDUAL_VARIANCE=.7,_t.START_END_PATTERN=Int32Array.from([1,1,1]),_t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Bs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,c),d=c.toString(),m=Bs.parseExtensionString(d),w=[new Oe((a[0]+a[1])/2,i),new Oe(h,i)],_=new Te(d,null,0,w,de.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&_.putAllMetadata(m),_}decodeMiddle(i,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1],m=0;for(let _=0;_<5&&d<h;_++){let b=_t.decodeDigit(i,c,d,_t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let M of c)d+=M;b>=10&&(m|=1<<4-_),_!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==5)throw new re;let w=this.determineCheckDigit(m);if(Bs.extensionChecksum(a.toString())!==w)throw new re;return d}static extensionChecksum(i){let s=i.length,a=0;for(let c=s-2;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;a*=3;for(let c=s-1;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let s=0;s<10;s++)if(i===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new re}static parseExtensionString(i){if(i.length!==5)return null;let s=Bs.parseExtension5String(i);return s==null?null:new Map([[ft.SUGGESTED_PRICE,s]])}static parseExtension5String(i){let s;switch(i.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let a=parseInt(i.substring(1)),c=(a/100).toString(),h=a%100,d=h<10?"0"+h:h.toString();return s+c+"."+d}}class Ta{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,c),d=c.toString(),m=Ta.parseExtensionString(d),w=[new Oe((a[0]+a[1])/2,i),new Oe(h,i)],_=new Te(d,null,0,w,de.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&_.putAllMetadata(m),_}decodeMiddle(i,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1],m=0;for(let w=0;w<2&&d<h;w++){let _=_t.decodeDigit(i,c,d,_t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let b of c)d+=b;_>=10&&(m|=1<<1-w),w!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==2)throw new re;if(parseInt(a.toString())%4!==m)throw new re;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[ft.ISSUE_NUMBER,parseInt(i)]])}}class Ia{static decodeRow(i,s,a){let c=_t.findGuardPattern(s,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Bs().decodeRow(i,s,c)}catch{return new Ta().decodeRow(i,s,c)}}}Ia.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ot extends _t{constructor(){super(),this.decodeRowStringBuffer="",ot.L_AND_G_PATTERNS=ot.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let s=ot.L_PATTERNS[i-10],a=new Int32Array(s.length);for(let c=0;c<s.length;c++)a[c]=s[s.length-c-1];ot.L_AND_G_PATTERNS[i]=a}}decodeRow(i,s,a){let c=ot.findStartGuardPattern(s),h=a==null?null:a.get(ie.NEED_RESULT_POINT_CALLBACK);if(h!=null){const pe=new Oe((c[0]+c[1])/2,i);h.foundPossibleResultPoint(pe)}let d=this.decodeMiddle(s,c,this.decodeRowStringBuffer),m=d.rowOffset,w=d.resultString;if(h!=null){const pe=new Oe(m,i);h.foundPossibleResultPoint(pe)}let _=this.decodeEnd(s,m);if(h!=null){const pe=new Oe((_[0]+_[1])/2,i);h.foundPossibleResultPoint(pe)}let b=_[1],M=b+(b-_[0]);if(M>=s.getSize()||!s.isRange(b,M,!1))throw new re;let R=w.toString();if(R.length<8)throw new K;if(!ot.checkChecksum(R))throw new O;let U=(c[1]+c[0])/2,G=(_[1]+_[0])/2,Y=this.getBarcodeFormat(),q=[new Oe(U,i),new Oe(G,i)],te=new Te(R,null,0,q,Y,new Date().getTime()),me=0;try{let pe=Ia.decodeRow(i,s,_[1]);te.putMetadata(ft.UPC_EAN_EXTENSION,pe.getText()),te.putAllMetadata(pe.getResultMetadata()),te.addResultPoints(pe.getResultPoints()),me=pe.getText().length}catch{}let ge=a==null?null:a.get(ie.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let pe=!1;for(let Je in ge)if(me.toString()===Je){pe=!0;break}if(!pe)throw new re}return te}decodeEnd(i,s){return ot.findGuardPattern(i,s,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return ot.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return ot.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let c=s-1;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}a*=3;for(let c=s-2;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new K;a+=h}return(1e3-a)%10}}class ir extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1],m=0;for(let _=0;_<6&&d<h;_++){let b=ot.decodeDigit(i,c,d,ot.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let M of c)d+=M;b>=10&&(m|=1<<5-_)}a=ir.determineFirstDigit(a,m),d=ot.findGuardPattern(i,d,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&d<h;_++){let b=ot.decodeDigit(i,c,d,ot.L_PATTERNS);a+=String.fromCharCode(48+b);for(let M of c)d+=M}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(i,s){for(let a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new re}}ir.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class uc extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1];for(let w=0;w<4&&d<h;w++){let _=ot.decodeDigit(i,c,d,ot.L_PATTERNS);a+=String.fromCharCode(48+_);for(let b of c)d+=b}d=ot.findGuardPattern(i,d,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&d<h;w++){let _=ot.decodeDigit(i,c,d,ot.L_PATTERNS);a+=String.fromCharCode(48+_);for(let b of c)d+=b}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return de.EAN_8}}class hc extends ot{constructor(){super(...arguments),this.ean13Reader=new ir}getBarcodeFormat(){return de.UPC_A}decode(i,s){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,s,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,s,a))}decodeMiddle(i,s,a){return this.ean13Reader.decodeMiddle(i,s,a)}maybeReturnResult(i){let s=i.getText();if(s.charAt(0)==="0"){let a=new Te(s.substring(1),null,null,i.getResultPoints(),de.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new re}reset(){this.ean13Reader.reset()}}class oi extends ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,s,a){const c=this.decodeMiddleCounters.map(_=>_);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const h=i.getSize();let d=s[1],m=0;for(let _=0;_<6&&d<h;_++){const b=oi.decodeDigit(i,c,d,oi.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let M of c)d+=M;b>=10&&(m|=1<<5-_)}let w=oi.determineNumSysAndCheckDigit(a,m);return{rowOffset:d,resultString:w}}decodeEnd(i,s){return oi.findGuardPatternWithoutCounters(i,s,!0,oi.MIDDLE_END_PATTERN)}checkChecksum(i){return ot.checkChecksum(oi.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,s){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let h=String.fromCharCode(48+a),d=String.fromCharCode(48+c);return h+i+d}throw re.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(i){const s=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),a=new De;a.append(i.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:a.appendChars(s,0,2),a.append(c),a.append("0000"),a.appendChars(s,2,3);break;case 3:a.appendChars(s,0,3),a.append("00000"),a.appendChars(s,3,2);break;case 4:a.appendChars(s,0,4),a.append("00000"),a.append(s[4]);break;default:a.appendChars(s,0,5),a.append("0000"),a.append(c);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}oi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),oi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Na extends Ft{constructor(i){super();let s=i==null?null:i.get(ie.POSSIBLE_FORMATS),a=[];r(s)?(a.push(new ir),a.push(new hc),a.push(new uc),a.push(new oi)):(s.indexOf(de.EAN_13)>-1&&a.push(new ir),s.indexOf(de.UPC_A)>-1&&a.push(new hc),s.indexOf(de.EAN_8)>-1&&a.push(new uc),s.indexOf(de.UPC_E)>-1&&a.push(new oi)),this.readers=a}decodeRow(i,s,a){for(let c of this.readers)try{const h=c.decodeRow(i,s,a),d=h.getBarcodeFormat()===de.EAN_13&&h.getText().charAt(0)==="0",m=a==null?null:a.get(ie.POSSIBLE_FORMATS),w=m==null||m.includes(de.UPC_A);if(d&&w){const _=h.getRawBytes(),b=new Te(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),de.UPC_A);return b.putAllMetadata(h.getResultMetadata()),b}return h}catch{}throw new re}reset(){for(let i of this.readers)i.reset()}}class hn extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let a=0;a<s.length;a++)if(Ft.patternMatchVariance(i,s[a],hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return a;throw new re}static count(i){return rt.sum(new Int32Array(i))}static increment(i,s){let a=0,c=s[0];for(let h=1;h<i.length;h++)s[h]>c&&(c=s[h],a=h);i[a]++}static decrement(i,s){let a=0,c=s[0];for(let h=1;h<i.length;h++)s[h]<c&&(c=s[h],a=h);i[a]--}static isFinderPattern(i){let s=i[0]+i[1],a=s+i[2]+i[3],c=s/a;if(c>=hn.MIN_FINDER_PATTERN_RATIO&&c<=hn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let m of i)m>d&&(d=m),m<h&&(h=m);return d<10*h}return!1}}hn.MAX_AVG_VARIANCE=.2,hn.MAX_INDIVIDUAL_VARIANCE=.45,hn.MIN_FINDER_PATTERN_RATIO=9.5/12,hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Zr{constructor(i,s){this.value=i,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Zr))return!1;const s=i;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gr{constructor(i,s,a,c,h){this.value=i,this.startEnd=s,this.value=i,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Oe(a,h)),this.resultPoints.push(new Oe(c,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Gr))return!1;const s=i;return this.value===s.value}hashCode(){return this.value}}class vi{constructor(){}static getRSSvalue(i,s,a){let c=0;for(let w of i)c+=w;let h=0,d=0,m=i.length;for(let w=0;w<m-1;w++){let _;for(_=1,d|=1<<w;_<i[w];_++,d&=~(1<<w)){let b=vi.combins(c-_-1,m-w-2);if(a&&d===0&&c-_-(m-w-1)>=m-w-1&&(b-=vi.combins(c-_-(m-w),m-w-2)),m-w-1>1){let M=0;for(let R=c-_-(m-w-2);R>s;R--)M+=vi.combins(c-_-R-1,m-w-3);b-=M*(m-1-w)}else c-_>s&&b--;h+=b}c-=_}return h}static combins(i,s){let a,c;i-s>s?(c=s,a=i-s):(c=i-s,a=s);let h=1,d=1;for(let m=i;m>a;m--)h*=m,d<=c&&(h/=d,d++);for(;d<=c;)h/=d,d++;return h}}class Mh{static buildBitArray(i){let s=i.length*2-1;i[i.length-1].getRightChar()==null&&(s-=1);let a=12*s,c=new Z(a),h=0,m=i[0].getRightChar().getValue();for(let w=11;w>=0;--w)m&1<<w&&c.set(h),h++;for(let w=1;w<i.length;++w){let _=i[w],b=_.getLeftChar().getValue();for(let M=11;M>=0;--M)b&1<<M&&c.set(h),h++;if(_.getRightChar()!=null){let M=_.getRightChar().getValue();for(let R=11;R>=0;--R)M&1<<R&&c.set(h),h++}}return c}}class yr{constructor(i,s){s?this.decodedInformation=null:(this.finished=i,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ma{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Ot extends Ma{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Ot.FNC1}}Ot.FNC1="$";class Re extends Ma{constructor(i,s,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class kn extends Ma{constructor(i,s,a){if(super(i),s<0||s>10||a<0||a>10)throw new K;this.firstDigit=s,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===kn.FNC1}isSecondDigitFNC1(){return this.secondDigit===kn.FNC1}isAnyFNC1(){return this.firstDigit===kn.FNC1||this.secondDigit===kn.FNC1}}kn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new re;let s=i.substring(0,2);for(let h of Se.TWO_DIGIT_DATA_LENGTH)if(h[0]===s)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,h[2],i):Se.processFixedAI(2,h[1],i);if(i.length<3)throw new re;let a=i.substring(0,3);for(let h of Se.THREE_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,h[2],i):Se.processFixedAI(3,h[1],i);for(let h of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,h[2],i):Se.processFixedAI(4,h[1],i);if(i.length<4)throw new re;let c=i.substring(0,4);for(let h of Se.FOUR_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,h[2],i):Se.processFixedAI(4,h[1],i);throw new re}static processFixedAI(i,s,a){if(a.length<i)throw new re;let c=a.substring(0,i);if(a.length<i+s)throw new re;let h=a.substring(i,i+s),d=a.substring(i+s),m="("+c+")"+h,w=Se.parseFieldsInGeneralPurpose(d);return w==null?m:m+w}static processVariableAI(i,s,a){let c=a.substring(0,i),h;a.length<i+s?h=a.length:h=i+s;let d=a.substring(i,h),m=a.substring(h),w="("+c+")"+d,_=Se.parseFieldsInGeneralPurpose(m);return _==null?w:w+_}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class wr{constructor(i){this.buffer=new De,this.information=i}decodeAllCodes(i,s){let a=s,c=null;do{let h=this.decodeGeneralPurposeField(a,c),d=Se.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&i.append(d),h.isRemaining()?c=""+h.getRemainingValue():c=null,a===h.getNewPosition())break;a=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let s=i;s<i+3;++s)if(this.information.get(s))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new kn(this.information.getSize(),kn.FNC1,kn.FNC1):new kn(this.information.getSize(),h-1,kn.FNC1)}let s=this.extractNumericValueFromBitArray(i,7),a=(s-8)/11,c=(s-8)%11;return new kn(i+7,a,c)}extractNumericValueFromBitArray(i,s){return wr.extractNumericValueFromBitArray(this.information,i,s)}static extractNumericValueFromBitArray(i,s,a){let c=0;for(let h=0;h<a;++h)i.get(s+h)&&(c|=1<<a-h-1);return c}decodeGeneralPurposeField(i,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Re(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Re(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,s;do{let a=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),i=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),i=s.isFinished()):(s=this.parseNumericBlock(),i=s.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let s;return i.isSecondDigitFNC1()?s=new Re(this.current.getPosition(),this.buffer.toString()):s=new Re(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new yr(!0,s)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let s=new Re(this.current.getPosition(),this.buffer.toString());return new yr(!0,s)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Re(this.current.getPosition(),this.buffer.toString());return new yr(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Re(this.current.getPosition(),this.buffer.toString());return new yr(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new Ot(i+5,Ot.FNC1);if(s>=5&&s<15)return new Ot(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new Ot(i+7,""+(a+1));if(a>=90&&a<116)return new Ot(i+7,""+(a+7));let c=this.extractNumericValueFromBitArray(i,8),h;switch(c){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new K}return new Ot(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new Ot(i+5,Ot.FNC1);if(s>=5&&s<15)return new Ot(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new Ot(i+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new si("Decoding invalid alphanumeric value: "+a)}return new Ot(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<5&&s+i<this.information.getSize();++s)if(s===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+s))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let s=i;s<i+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<4&&s+i<this.information.getSize();++s)if(this.information.get(i+s))return!1;return!0}}class bo{constructor(i){this.information=i,this.generalDecoder=new wr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class fn extends bo{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,a)}encodeCompressedGtinWithoutAI(i,s,a){for(let c=0;c<4;++c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}fn.appendCheckDigit(i,a)}static appendCheckDigit(i,s){let a=0;for(let c=0;c<13;c++){let h=i.charAt(c+s).charCodeAt(0)-48;a+=c&1?h:3*h}a=10-a%10,a===10&&(a=0),i.append(a)}}fn.GTIN_SIZE=40;class vr extends fn{constructor(i){super(i)}parseInformation(){let i=new De;i.append("(01)");let s=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(vr.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,vr.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,vr.HEADER_SIZE+44)}}vr.HEADER_SIZE=4;class Vi extends bo{constructor(i){super(i)}parseInformation(){let i=new De;return this.getGeneralDecoder().decodeAllCodes(i,Vi.HEADER_SIZE)}}Vi.HEADER_SIZE=5;class Fs extends fn{constructor(i){super(i)}encodeCompressedWeight(i,s,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,a);this.addWeightCode(i,c);let h=this.checkWeight(c),d=1e5;for(let m=0;m<5;++m)h/d===0&&i.append("0"),d/=10;i.append(h)}}class _i extends Fs{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=_i.HEADER_SIZE+Fs.GTIN_SIZE+_i.WEIGHT_SIZE)throw new re;let i=new De;return this.encodeCompressedGtin(i,_i.HEADER_SIZE),this.encodeCompressedWeight(i,_i.HEADER_SIZE+Fs.GTIN_SIZE,_i.WEIGHT_SIZE),i.toString()}}_i.HEADER_SIZE=5,_i.WEIGHT_SIZE=15;class Oh extends _i{constructor(i){super(i)}addWeightCode(i,s){i.append("(3103)")}checkWeight(i){return i}}class Rh extends _i{constructor(i){super(i)}addWeightCode(i,s){s<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Ci extends fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Ci.HEADER_SIZE+fn.GTIN_SIZE)throw new re;let i=new De;this.encodeCompressedGtin(i,Ci.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ci.HEADER_SIZE+fn.GTIN_SIZE,Ci.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Ci.HEADER_SIZE+fn.GTIN_SIZE+Ci.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}Ci.HEADER_SIZE=8,Ci.LAST_DIGIT_SIZE=2;class dn extends fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+fn.GTIN_SIZE)throw new re;let i=new De;this.encodeCompressedGtin(i,dn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+fn.GTIN_SIZE,dn.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+fn.GTIN_SIZE+dn.LAST_DIGIT_SIZE,dn.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+fn.GTIN_SIZE+dn.LAST_DIGIT_SIZE+dn.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}dn.HEADER_SIZE=8,dn.LAST_DIGIT_SIZE=2,dn.FIRST_THREE_DIGITS_SIZE=10;class bt extends Fs{constructor(i,s,a){super(i),this.dateCode=a,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE+bt.DATE_SIZE)throw new re;let i=new De;return this.encodeCompressedGtin(i,bt.HEADER_SIZE),this.encodeCompressedWeight(i,bt.HEADER_SIZE+bt.GTIN_SIZE,bt.WEIGHT_SIZE),this.encodeCompressedDate(i,bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,bt.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=a%32;a/=32;let h=a%12+1;a/=12;let d=a;d/10==0&&i.append("0"),i.append(d),h/10==0&&i.append("0"),i.append(h),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}bt.HEADER_SIZE=8,bt.WEIGHT_SIZE=20,bt.DATE_SIZE=16;function js(N){try{if(N.get(1))return new vr(N);if(!N.get(2))return new Vi(N);switch(wr.extractNumericValueFromBitArray(N,1,4)){case 4:return new Oh(N);case 5:return new Rh(N)}switch(wr.extractNumericValueFromBitArray(N,1,5)){case 12:return new Ci(N);case 13:return new dn(N)}switch(wr.extractNumericValueFromBitArray(N,1,7)){case 56:return new bt(N,"310","11");case 57:return new bt(N,"320","11");case 58:return new bt(N,"310","13");case 59:return new bt(N,"320","13");case 60:return new bt(N,"310","15");case 61:return new bt(N,"320","15");case 62:return new bt(N,"310","17");case 63:return new bt(N,"320","17")}}catch(i){throw console.log(i),new si("unknown decoder: "+N)}}class rr{constructor(i,s,a,c){this.leftchar=i,this.rightchar=s,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,s){return i instanceof rr?rr.equalsOrNull(i.leftchar,s.leftchar)&&rr.equalsOrNull(i.rightchar,s.rightchar)&&rr.equalsOrNull(i.finderpattern,s.finderpattern):!1}static equalsOrNull(i,s){return i===null?s===null:rr.equals(i,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Oa{constructor(i,s,a){this.pairs=i,this.rowNumber=s,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,s){return i instanceof Oa?this.checkEqualitity(i,s)&&i.wasReversed===s.wasReversed:!1}checkEqualitity(i,s){if(!i||!s)return;let a;return i.forEach((c,h)=>{s.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class he extends hn{constructor(i){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,s,a){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(i,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(i,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,s){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,i))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),s}checkRows(i,s){for(let a=s;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(c);try{return this.checkRows(h,a+1)}catch(d){this.verbose&&console.log(d)}}throw new re}static isValidSequence(i){for(let s of he.FINDER_PATTERN_SEQUENCES){if(i.length>s.length)continue;let a=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=s[c]){a=!1;break}if(a)return!0}return!1}storeRow(i,s){let a=0,c=!1,h=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>i){h=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),a++}h||c||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Oa(this.pairs,i,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,s){for(let a of s)if(a.getPairs().length!==i.length){for(let c of a.getPairs())for(let h of i)if(rr.equals(c,h))break}}static isPartialRow(i,s){for(let a of s){let c=!0;for(let h of i){let d=!1;for(let m of a.getPairs())if(h.equals(m)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let s=Mh.buildBitArray(i),c=js(s).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),m=[h[0],h[1],d[0],d[1]];return new Te(c,null,null,m,de.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),s=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),h=2;for(let m=1;m<this.pairs.size();++m){let w=this.pairs.get(m);c+=w.getLeftChar().getChecksumPortion(),h++;let _=w.getRightChar();_!=null&&(c+=_.getChecksumPortion(),h++)}return c%=211,211*(h-4)+c==s.getValue()}static getNextSecondBar(i,s){let a;return i.get(s)?(a=i.getNextUnset(s),a=i.getNextSet(a)):(a=i.getNextSet(s),a=i.getNextUnset(a)),a}retrieveNextPair(i,s,a){let c=s.length%2==0;this.startFromEven&&(c=!c);let h,d=!0,m=-1;do this.findNextPair(i,s,m),h=this.parseFoundFinderPattern(i,a,c),h==null?m=he.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let w=this.decodeDataCharacter(i,h,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new re;let _;try{_=this.decodeDataCharacter(i,h,c,!1)}catch(b){_=null,this.verbose&&console.log(b)}return new rr(w,_,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,s,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d;a>=0?d=a:this.isEmptyPair(s)?d=0:d=s[s.length-1].getFinderPattern().getStartEnd()[1];let m=s.length%2!=0;this.startFromEven&&(m=!m);let w=!1;for(;d<h&&(w=!i.get(d),!!w);)d++;let _=0,b=d;for(let M=d;M<h;M++)if(i.get(M)!=w)c[_]++;else{if(_==3){if(m&&he.reverseCounters(c),he.isFinderPattern(c)){this.startEnd[0]=b,this.startEnd[1]=M;return}m&&he.reverseCounters(c),b+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,_--}else _++;c[_]=1,w=!w}throw new re}static reverseCounters(i){let s=i.length;for(let a=0;a<s/2;++a){let c=i[a];i[a]=i[s-a-1],i[s-a-1]=c}}parseFoundFinderPattern(i,s,a){let c,h,d;if(a){let _=this.startEnd[0]-1;for(;_>=0&&!i.get(_);)_--;_++,c=this.startEnd[0]-_,h=_,d=this.startEnd[1]}else h=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let m=this.getDecodeFinderCounters();B.arraycopy(m,0,m,1,m.length-1),m[0]=c;let w;try{w=this.parseFinderValue(m,he.FINDER_PATTERNS)}catch{return null}return new Gr(w,[h,d],h,d,s)}decodeDataCharacter(i,s,a,c){let h=this.getDataCharacterCounters();for(let ht=0;ht<h.length;ht++)h[ht]=0;if(c)he.recordPatternInReverse(i,s.getStartEnd()[0],h);else{he.recordPattern(i,s.getStartEnd()[1],h);for(let ht=0,ln=h.length-1;ht<ln;ht++,ln--){let In=h[ht];h[ht]=h[ln],h[ln]=In}}let d=17,m=rt.sum(new Int32Array(h))/d,w=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(m-w)/w>.3)throw new re;let _=this.getOddCounts(),b=this.getEvenCounts(),M=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let ht=0;ht<h.length;ht++){let ln=1*h[ht]/m,In=ln+.5;if(In<1){if(ln<.3)throw new re;In=1}else if(In>8){if(ln>8.7)throw new re;In=8}let es=ht/2;ht&1?(b[es]=In,R[es]=ln-In):(_[es]=In,M[es]=ln-In)}this.adjustOddEvenCounts(d);let U=4*s.getValue()+(a?0:2)+(c?0:1)-1,G=0,Y=0;for(let ht=_.length-1;ht>=0;ht--){if(he.isNotA1left(s,a,c)){let ln=he.WEIGHTS[U][2*ht];Y+=_[ht]*ln}G+=_[ht]}let q=0;for(let ht=b.length-1;ht>=0;ht--)if(he.isNotA1left(s,a,c)){let ln=he.WEIGHTS[U][2*ht+1];q+=b[ht]*ln}let te=Y+q;if(G&1||G>13||G<4)throw new re;let me=(13-G)/2,ge=he.SYMBOL_WIDEST[me],pe=9-ge,Je=vi.getRSSvalue(_,ge,!0),Ye=vi.getRSSvalue(b,pe,!1),Pt=he.EVEN_TOTAL_SUBSET[me],bn=he.GSUM[me],Tn=Je*Pt+Ye+bn;return new Zr(Tn,te)}static isNotA1left(i,s,a){return!(i.getValue()==0&&s&&a)}adjustOddEvenCounts(i){let s=rt.sum(new Int32Array(this.getOddCounts())),a=rt.sum(new Int32Array(this.getEvenCounts())),c=!1,h=!1;s>13?h=!0:s<4&&(c=!0);let d=!1,m=!1;a>13?m=!0:a<4&&(d=!0);let w=s+a-i,_=(s&1)==1,b=(a&1)==0;if(w==1)if(_){if(b)throw new re;h=!0}else{if(!b)throw new re;m=!0}else if(w==-1)if(_){if(b)throw new re;c=!0}else{if(!b)throw new re;d=!0}else if(w==0){if(_){if(!b)throw new re;s<a?(c=!0,m=!0):(h=!0,d=!0)}else if(b)throw new re}else throw new re;if(c){if(h)throw new re;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new re;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class Ph extends Zr{constructor(i,s,a){super(i,s),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class kt extends hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,s,a){const c=this.decodePair(s,!1,i,a);kt.addOrTally(this.possibleLeftPairs,c),s.reverse();let h=this.decodePair(s,!0,i,a);kt.addOrTally(this.possibleRightPairs,h),s.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&kt.checkChecksum(d,m))return kt.constructResult(d,m)}throw new re}static addOrTally(i,s){if(s==null)return;let a=!1;for(let c of i)if(c.getValue()===s.getValue()){c.incrementCount(),a=!0;break}a||i.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,s){let a=4537077*i.getValue()+s.getValue(),c=new String(a).toString(),h=new De;for(let _=13-c.length;_>0;_--)h.append("0");h.append(c);let d=0;for(let _=0;_<13;_++){let b=h.charAt(_).charCodeAt(0)-48;d+=_&1?b:3*b}d=10-d%10,d===10&&(d=0),h.append(d.toString());let m=i.getFinderPattern().getResultPoints(),w=s.getFinderPattern().getResultPoints();return new Te(h.toString(),null,0,[m[0],m[1],w[0],w[1]],de.RSS_14,new Date().getTime())}static checkChecksum(i,s){let a=(i.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(i,s,a,c){try{let h=this.findFinderPattern(i,s),d=this.parseFoundFinderPattern(i,a,s,h),m=c==null?null:c.get(ie.NEED_RESULT_POINT_CALLBACK);if(m!=null){let b=(h[0]+h[1])/2;s&&(b=i.getSize()-1-b),m.foundPossibleResultPoint(new Oe(b,a))}let w=this.decodeDataCharacter(i,d,!0),_=this.decodeDataCharacter(i,d,!1);return new Ph(1597*w.getValue()+_.getValue(),w.getChecksumPortion()+4*_.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,s,a){let c=this.getDataCharacterCounters();for(let q=0;q<c.length;q++)c[q]=0;if(a)Ft.recordPatternInReverse(i,s.getStartEnd()[0],c);else{Ft.recordPattern(i,s.getStartEnd()[1]+1,c);for(let q=0,te=c.length-1;q<te;q++,te--){let me=c[q];c[q]=c[te],c[te]=me}}let h=a?16:15,d=rt.sum(new Int32Array(c))/h,m=this.getOddCounts(),w=this.getEvenCounts(),_=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let q=0;q<c.length;q++){let te=c[q]/d,me=Math.floor(te+.5);me<1?me=1:me>8&&(me=8);let ge=Math.floor(q/2);q&1?(w[ge]=me,b[ge]=te-me):(m[ge]=me,_[ge]=te-me)}this.adjustOddEvenCounts(a,h);let M=0,R=0;for(let q=m.length-1;q>=0;q--)R*=9,R+=m[q],M+=m[q];let U=0,G=0;for(let q=w.length-1;q>=0;q--)U*=9,U+=w[q],G+=w[q];let Y=R+3*U;if(a){if(M&1||M>12||M<4)throw new re;let q=(12-M)/2,te=kt.OUTSIDE_ODD_WIDEST[q],me=9-te,ge=vi.getRSSvalue(m,te,!1),pe=vi.getRSSvalue(w,me,!0),Je=kt.OUTSIDE_EVEN_TOTAL_SUBSET[q],Ye=kt.OUTSIDE_GSUM[q];return new Zr(ge*Je+pe+Ye,Y)}else{if(G&1||G>10||G<4)throw new re;let q=(10-G)/2,te=kt.INSIDE_ODD_WIDEST[q],me=9-te,ge=vi.getRSSvalue(m,te,!0),pe=vi.getRSSvalue(w,me,!1),Je=kt.INSIDE_ODD_TOTAL_SUBSET[q],Ye=kt.INSIDE_GSUM[q];return new Zr(pe*Je+ge+Ye,Y)}}findFinderPattern(i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=i.getSize(),h=!1,d=0;for(;d<c&&(h=!i.get(d),s!==h);)d++;let m=0,w=d;for(let _=d;_<c;_++)if(i.get(_)!==h)a[m]++;else{if(m===3){if(hn.isFinderPattern(a))return[w,_];w+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,m--}else m++;a[m]=1,h=!h}throw new re}parseFoundFinderPattern(i,s,a,c){let h=i.get(c[0]),d=c[0]-1;for(;d>=0&&h!==i.get(d);)d--;d++;const m=c[0]-d,w=this.getDecodeFinderCounters(),_=new Int32Array(w.length);B.arraycopy(w,0,_,1,w.length-1),_[0]=m;const b=this.parseFinderValue(_,kt.FINDER_PATTERNS);let M=d,R=c[1];return a&&(M=i.getSize()-1-M,R=i.getSize()-1-R),new Gr(b,[d,c[1]],M,R,s)}adjustOddEvenCounts(i,s){let a=rt.sum(new Int32Array(this.getOddCounts())),c=rt.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,m=!1,w=!1;i?(a>12?d=!0:a<4&&(h=!0),c>12?w=!0:c<4&&(m=!0)):(a>11?d=!0:a<5&&(h=!0),c>10?w=!0:c<4&&(m=!0));let _=a+c-s,b=(a&1)===(i?1:0),M=(c&1)===1;if(_===1)if(b){if(M)throw new re;d=!0}else{if(!M)throw new re;w=!0}else if(_===-1)if(b){if(M)throw new re;h=!0}else{if(!M)throw new re;m=!0}else if(_===0){if(b){if(!M)throw new re;a<c?(h=!0,w=!0):(d=!0,m=!0)}else if(M)throw new re}else throw new re;if(h){if(d)throw new re;hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(w)throw new re;hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}kt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],kt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],kt.OUTSIDE_GSUM=[0,161,961,2015,2715],kt.INSIDE_GSUM=[0,336,1036,1516],kt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],kt.INSIDE_ODD_WIDEST=[2,4,6,8],kt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class sr extends Ft{constructor(i,s){super(),this.readers=[],this.verbose=s===!0;const a=i?i.get(ie.POSSIBLE_FORMATS):null,c=i&&i.get(ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(de.EAN_13)||a.includes(de.UPC_A)||a.includes(de.EAN_8)||a.includes(de.UPC_E))&&this.readers.push(new Na(i)),a.includes(de.CODE_39)&&this.readers.push(new Zt(c)),a.includes(de.CODE_128)&&this.readers.push(new ve),a.includes(de.ITF)&&this.readers.push(new gt),a.includes(de.RSS_14)&&this.readers.push(new kt),a.includes(de.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Na(i)),this.readers.push(new Zt),this.readers.push(new Na(i)),this.readers.push(new ve),this.readers.push(new gt),this.readers.push(new kt),this.readers.push(new he(this.verbose)))}decodeRow(i,s,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,s,a)}catch{}throw new re}reset(){this.readers.forEach(i=>i.reset())}}class zs extends Be{constructor(i=500,s){super(new sr(s),i,s)}}class ct{constructor(i,s,a){this.ecCodewords=i,this.ecBlocks=[s],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(i,s,a,c,h,d){this.versionNumber=i,this.symbolSizeRows=s,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=h,this.ecBlocks=d;let m=0;const w=d.getECCodewords(),_=d.getECBlocks();for(let b of _)m+=b.getCount()*(b.getDataCodewords()+w);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,s){if(i&1||s&1)throw new K;for(let a of qe.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===s)return a;throw new K}toString(){return""+this.versionNumber}static buildVersions(){return[new qe(1,10,10,8,8,new ct(5,new at(1,3))),new qe(2,12,12,10,10,new ct(7,new at(1,5))),new qe(3,14,14,12,12,new ct(10,new at(1,8))),new qe(4,16,16,14,14,new ct(12,new at(1,12))),new qe(5,18,18,16,16,new ct(14,new at(1,18))),new qe(6,20,20,18,18,new ct(18,new at(1,22))),new qe(7,22,22,20,20,new ct(20,new at(1,30))),new qe(8,24,24,22,22,new ct(24,new at(1,36))),new qe(9,26,26,24,24,new ct(28,new at(1,44))),new qe(10,32,32,14,14,new ct(36,new at(1,62))),new qe(11,36,36,16,16,new ct(42,new at(1,86))),new qe(12,40,40,18,18,new ct(48,new at(1,114))),new qe(13,44,44,20,20,new ct(56,new at(1,144))),new qe(14,48,48,22,22,new ct(68,new at(1,174))),new qe(15,52,52,24,24,new ct(42,new at(2,102))),new qe(16,64,64,14,14,new ct(56,new at(2,140))),new qe(17,72,72,16,16,new ct(36,new at(4,92))),new qe(18,80,80,18,18,new ct(48,new at(4,114))),new qe(19,88,88,20,20,new ct(56,new at(4,144))),new qe(20,96,96,22,22,new ct(68,new at(4,174))),new qe(21,104,104,24,24,new ct(56,new at(6,136))),new qe(22,120,120,18,18,new ct(68,new at(6,175))),new qe(23,132,132,20,20,new ct(62,new at(8,163))),new qe(24,144,144,22,22,new ct(62,new at(8,156),new at(2,155))),new qe(25,8,18,6,16,new ct(7,new at(1,5))),new qe(26,8,32,6,14,new ct(11,new at(1,10))),new qe(27,12,26,10,24,new ct(14,new at(1,16))),new qe(28,12,36,10,16,new ct(18,new at(1,22))),new qe(29,16,36,14,16,new ct(24,new at(1,32))),new qe(30,16,48,14,22,new ct(28,new at(1,49)))]}}qe.VERSIONS=qe.buildVersions();class nt{constructor(i){const s=i.getHeight();if(s<8||s>144||s&1)throw new K;this.version=nt.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const s=i.getHeight(),a=i.getWidth();return qe.getVersionForDimensions(s,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let s=0,a=4,c=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let m=!1,w=!1,_=!1,b=!1;do if(a===h&&c===0&&!m)i[s++]=this.readCorner1(h,d)&255,a-=2,c+=2,m=!0;else if(a===h-2&&c===0&&d&3&&!w)i[s++]=this.readCorner2(h,d)&255,a-=2,c+=2,w=!0;else if(a===h+4&&c===2&&!(d&7)&&!_)i[s++]=this.readCorner3(h,d)&255,a-=2,c+=2,_=!0;else if(a===h-2&&c===0&&(d&7)===4&&!b)i[s++]=this.readCorner4(h,d)&255,a-=2,c+=2,b=!0;else{do a<h&&c>=0&&!this.readMappingMatrix.get(c,a)&&(i[s++]=this.readUtah(a,c,h,d)&255),a-=2,c+=2;while(a>=0&&c<d);a+=1,c+=3;do a>=0&&c<d&&!this.readMappingMatrix.get(c,a)&&(i[s++]=this.readUtah(a,c,h,d)&255),a+=2,c-=2;while(a<h&&c>=0);a+=3,c+=1}while(a<h||c<d);if(s!==this.version.getTotalCodewords())throw new K;return i}readModule(i,s,a,c){return i<0&&(i+=a,s+=4-(a+4&7)),s<0&&(s+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(s,i),this.mappingBitMatrix.get(s,i)}readUtah(i,s,a,c){let h=0;return this.readModule(i-2,s-2,a,c)&&(h|=1),h<<=1,this.readModule(i-2,s-1,a,c)&&(h|=1),h<<=1,this.readModule(i-1,s-2,a,c)&&(h|=1),h<<=1,this.readModule(i-1,s-1,a,c)&&(h|=1),h<<=1,this.readModule(i-1,s,a,c)&&(h|=1),h<<=1,this.readModule(i,s-2,a,c)&&(h|=1),h<<=1,this.readModule(i,s-1,a,c)&&(h|=1),h<<=1,this.readModule(i,s,a,c)&&(h|=1),h}readCorner1(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,1,i,s)&&(a|=1),a<<=1,this.readModule(i-1,2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}readCorner2(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-4,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner3(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-3,i,s)&&(a|=1),a<<=1,this.readModule(1,s-2,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner4(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}extractDataRegion(i){const s=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==s)throw new E("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=s/c|0,m=a/h|0,w=d*c,_=m*h,b=new ke(_,w);for(let M=0;M<d;++M){const R=M*c;for(let U=0;U<m;++U){const G=U*h;for(let Y=0;Y<c;++Y){const q=M*(c+2)+1+Y,te=R+Y;for(let me=0;me<h;++me){const ge=U*(h+2)+1+me;if(i.get(ge,q)){const pe=G+me;b.set(pe,te)}}}}}return b}}class Et{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s){const a=s.getECBlocks();let c=0;const h=a.getECBlocks();for(let Y of h)c+=Y.getCount();const d=new Array(c);let m=0;for(let Y of h)for(let q=0;q<Y.getCount();q++){const te=Y.getDataCodewords(),me=a.getECCodewords()+te;d[m++]=new Et(te,new Uint8Array(me))}const _=d[0].codewords.length-a.getECCodewords(),b=_-1;let M=0;for(let Y=0;Y<b;Y++)for(let q=0;q<m;q++)d[q].codewords[Y]=i[M++];const R=s.getVersionNumber()===24,U=R?8:m;for(let Y=0;Y<U;Y++)d[Y].codewords[_-1]=i[M++];const G=d[0].codewords.length;for(let Y=_;Y<G;Y++)for(let q=0;q<m;q++){const te=R?(q+8)%m:q,me=R&&te>7?Y-1:Y;d[te].codewords[me]=i[M++]}if(M!==i.length)throw new E;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yr{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new E(""+i);let s=0,a=this.bitOffset,c=this.byteOffset;const h=this.bytes;if(a>0){const d=8-a,m=i<d?i:d,w=d-m,_=255>>8-m<<w;s=(h[c]&_)>>w,i-=m,a+=m,a===8&&(a=0,c++)}if(i>0){for(;i>=8;)s=s<<8|h[c]&255,c++,i-=8;if(i>0){const d=8-i,m=255>>d<<d;s=s<<i|(h[c]&m)>>d,a+=i}}return this.bitOffset=a,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tt||(Tt={}));class Bn{static decode(i){const s=new Yr(i),a=new De,c=new De,h=new Array;let d=Tt.ASCII_ENCODE;do if(d===Tt.ASCII_ENCODE)d=this.decodeAsciiSegment(s,a,c);else{switch(d){case Tt.C40_ENCODE:this.decodeC40Segment(s,a);break;case Tt.TEXT_ENCODE:this.decodeTextSegment(s,a);break;case Tt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,a);break;case Tt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,a);break;case Tt.BASE256_ENCODE:this.decodeBase256Segment(s,a,h);break;default:throw new K}d=Tt.ASCII_ENCODE}while(d!==Tt.PAD_ENCODE&&s.available()>0);return c.length()>0&&a.append(c.toString()),new Yn(i,a.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,s,a){let c=!1;do{let h=i.readBits(8);if(h===0)throw new K;if(h<=128)return c&&(h+=128),s.append(String.fromCharCode(h-1)),Tt.ASCII_ENCODE;if(h===129)return Tt.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&s.append("0"),s.append(""+d)}else switch(h){case 230:return Tt.C40_ENCODE;case 231:return Tt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:s.append("[)>05"),a.insert(0,"");break;case 237:s.append("[)>06"),a.insert(0,"");break;case 238:return Tt.ANSIX12_ENCODE;case 239:return Tt.TEXT_ENCODE;case 240:return Tt.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new K;break}}while(i.available()>0);return Tt.ASCII_ENCODE}static decodeC40Segment(i,s){let a=!1;const c=[];let h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let m=0;m<3;m++){const w=c[m];switch(h){case 0:if(w<3)h=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else throw new K;break;case 1:a?(s.append(String.fromCharCode(w+128)),a=!1):s.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else switch(w){case 27:s.append("");break;case 30:a=!0;break;default:throw new K}h=0;break;case 3:a?(s.append(String.fromCharCode(w+224)),a=!1):s.append(String.fromCharCode(w+96)),h=0;break;default:throw new K}}}while(i.available()>0)}static decodeTextSegment(i,s){let a=!1,c=[],h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let m=0;m<3;m++){const w=c[m];switch(h){case 0:if(w<3)h=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else throw new K;break;case 1:a?(s.append(String.fromCharCode(w+128)),a=!1):s.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else switch(w){case 27:s.append("");break;case 30:a=!0;break;default:throw new K}h=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_),h=0}else throw new K;break;default:throw new K}}}while(i.available()>0)}static decodeAnsiX12Segment(i,s){const a=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),a);for(let h=0;h<3;h++){const d=a[h];switch(d){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(d<14)s.append(String.fromCharCode(d+44));else if(d<40)s.append(String.fromCharCode(d+51));else throw new K;break}}}while(i.available()>0)}static parseTwoBytes(i,s,a){let c=(i<<8)+s-1,h=Math.floor(c/1600);a[0]=h,c-=h*1600,h=Math.floor(c/40),a[1]=h,a[2]=c-h*40}static decodeEdifactSegment(i,s){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let c=i.readBits(6);if(c===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}c&32||(c|=64),s.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,s,a){let c=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),c++);let d;if(h===0?d=i.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(i.readBits(8),c++),d<0)throw new K;const m=new Uint8Array(d);for(let w=0;w<d;w++){if(i.available()<8)throw new K;m[w]=this.unrandomize255State(i.readBits(8),c++)}a.push(m);try{s.append(Pe.decode(m,ye.ISO88591))}catch(w){throw new si("Platform does not support required encoding: "+w.message)}}static unrandomize255State(i,s){const a=149*s%255+1,c=i-a;return c>=0?c:c+256}}Bn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Bn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Bn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Bn.TEXT_SHIFT2_SET_CHARS=Bn.C40_SHIFT2_SET_CHARS,Bn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ra{constructor(){this.rsDecoder=new Wr(it.DATA_MATRIX_FIELD_256)}decode(i){const s=new nt(i),a=s.getVersion(),c=s.readCodewords(),h=Et.getDataBlocks(c,a);let d=0;for(let _ of h)d+=_.getNumDataCodewords();const m=new Uint8Array(d),w=h.length;for(let _=0;_<w;_++){const b=h[_],M=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(M,R);for(let U=0;U<R;U++)m[U*w+_]=M[U]}return Bn.decode(m)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new O}for(let c=0;c<s;c++)i[c]=a[c]}}class Le{constructor(i){this.image=i,this.rectangleDetector=new zi(this.image)}detect(){const i=this.rectangleDetector.detect();let s=this.detectSolid1(i);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new re;s=this.shiftToModuleCenter(s);const a=s[0],c=s[1],h=s[2],d=s[3];let m=this.transitionsBetween(a,d)+1,w=this.transitionsBetween(h,d)+1;(m&1)===1&&(m+=1),(w&1)===1&&(w+=1),4*m<7*w&&4*w<7*m&&(m=w=Math.max(m,w));let _=Le.sampleGrid(this.image,a,c,h,d,m,w);return new Ds(_,[a,c,h,d])}static shiftPoint(i,s,a){let c=(s.getX()-i.getX())/(a+1),h=(s.getY()-i.getY())/(a+1);return new Oe(i.getX()+c,i.getY()+h)}static moveAway(i,s,a){let c=i.getX(),h=i.getY();return c<s?c-=1:c+=1,h<a?h-=1:h+=1,new Oe(c,h)}detectSolid1(i){let s=i[0],a=i[1],c=i[3],h=i[2],d=this.transitionsBetween(s,a),m=this.transitionsBetween(a,c),w=this.transitionsBetween(c,h),_=this.transitionsBetween(h,s),b=d,M=[h,s,a,c];return b>m&&(b=m,M[0]=s,M[1]=a,M[2]=c,M[3]=h),b>w&&(b=w,M[0]=a,M[1]=c,M[2]=h,M[3]=s),b>_&&(M[0]=c,M[1]=h,M[2]=s,M[3]=a),M}detectSolid2(i){let s=i[0],a=i[1],c=i[2],h=i[3],d=this.transitionsBetween(s,h),m=Le.shiftPoint(a,c,(d+1)*4),w=Le.shiftPoint(c,a,(d+1)*4),_=this.transitionsBetween(m,s),b=this.transitionsBetween(w,h);return _<b?(i[0]=s,i[1]=a,i[2]=c,i[3]=h):(i[0]=a,i[1]=c,i[2]=h,i[3]=s),i}correctTopRight(i){let s=i[0],a=i[1],c=i[2],h=i[3],d=this.transitionsBetween(s,h),m=this.transitionsBetween(a,h),w=Le.shiftPoint(s,a,(m+1)*4),_=Le.shiftPoint(c,a,(d+1)*4);d=this.transitionsBetween(w,h),m=this.transitionsBetween(_,h);let b=new Oe(h.getX()+(c.getX()-a.getX())/(d+1),h.getY()+(c.getY()-a.getY())/(d+1)),M=new Oe(h.getX()+(s.getX()-a.getX())/(m+1),h.getY()+(s.getY()-a.getY())/(m+1));if(!this.isValid(b))return this.isValid(M)?M:null;if(!this.isValid(M))return b;let R=this.transitionsBetween(w,b)+this.transitionsBetween(_,b),U=this.transitionsBetween(w,M)+this.transitionsBetween(_,M);return R>U?b:M}shiftToModuleCenter(i){let s=i[0],a=i[1],c=i[2],h=i[3],d=this.transitionsBetween(s,h)+1,m=this.transitionsBetween(c,h)+1,w=Le.shiftPoint(s,a,m*4),_=Le.shiftPoint(c,a,d*4);d=this.transitionsBetween(w,h)+1,m=this.transitionsBetween(_,h)+1,(d&1)===1&&(d+=1),(m&1)===1&&(m+=1);let b=(s.getX()+a.getX()+c.getX()+h.getX())/4,M=(s.getY()+a.getY()+c.getY()+h.getY())/4;s=Le.moveAway(s,b,M),a=Le.moveAway(a,b,M),c=Le.moveAway(c,b,M),h=Le.moveAway(h,b,M);let R,U;return w=Le.shiftPoint(s,a,m*4),w=Le.shiftPoint(w,h,d*4),R=Le.shiftPoint(a,s,m*4),R=Le.shiftPoint(R,c,d*4),_=Le.shiftPoint(c,h,m*4),_=Le.shiftPoint(_,a,d*4),U=Le.shiftPoint(h,c,m*4),U=Le.shiftPoint(U,s,d*4),[w,R,_,U]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,s,a,c,h,d,m){return Ui.getInstance().sampleGrid(i,d,m,.5,.5,d-.5,.5,d-.5,m-.5,.5,m-.5,s.getX(),s.getY(),h.getX(),h.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(i,s){let a=Math.trunc(i.getX()),c=Math.trunc(i.getY()),h=Math.trunc(s.getX()),d=Math.trunc(s.getY()),m=Math.abs(d-c)>Math.abs(h-a);if(m){let Y=a;a=c,c=Y,Y=h,h=d,d=Y}let w=Math.abs(h-a),_=Math.abs(d-c),b=-w/2,M=c<d?1:-1,R=a<h?1:-1,U=0,G=this.image.get(m?c:a,m?a:c);for(let Y=a,q=c;Y!==h;Y+=R){let te=this.image.get(m?q:Y,m?Y:q);if(te!==G&&(U++,G=te),b+=_,b>0){if(q===d)break;q+=M,b-=w}}return U}}class pt{constructor(){this.decoder=new Ra}decode(i,s=null){let a,c;if(s!=null&&s.has(ie.PURE_BARCODE)){const _=pt.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(_),c=pt.NO_POINTS}else{const _=new Le(i.getBlackMatrix()).detect();a=this.decoder.decode(_.getBits()),c=_.getPoints()}const h=a.getRawBytes(),d=new Te(a.getText(),h,8*h.length,c,de.DATA_MATRIX,B.currentTimeMillis()),m=a.getByteSegments();m!=null&&d.putMetadata(ft.BYTE_SEGMENTS,m);const w=a.getECLevel();return w!=null&&d.putMetadata(ft.ERROR_CORRECTION_LEVEL,w),d}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s==null||a==null)throw new re;const c=this.moduleSize(s,i);let h=s[1];const d=a[1];let m=s[0];const _=(a[0]-m+1)/c,b=(d-h+1)/c;if(_<=0||b<=0)throw new re;const M=c/2;h+=M,m+=M;const R=new ke(_,b);for(let U=0;U<b;U++){const G=h+U*c;for(let Y=0;Y<_;Y++)i.get(m+Y*c,G)&&R.set(Y,U)}return R}static moduleSize(i,s){const a=s.getWidth();let c=i[0];const h=i[1];for(;c<a&&s.get(c,h);)c++;if(c===a)throw new re;const d=c-i[0];if(d===0)throw new re;return d}}pt.NO_POINTS=[];class Pa extends Be{constructor(i=500){super(new pt,i)}}var Hi;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(Hi||(Hi={}));class Qe{constructor(i,s,a){this.value=i,this.stringValue=s,this.bits=a,Qe.FOR_BITS.set(a,this),Qe.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Qe.L;case"M":return Qe.M;case"Q":return Qe.Q;case"H":return Qe.H;default:throw new A(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Qe))return!1;const s=i;return this.value===s.value}static forBits(i){if(i<0||i>=Qe.FOR_BITS.size)throw new E;return Qe.FOR_BITS.get(i)}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.L=new Qe(Hi.L,"L",1),Qe.M=new Qe(Hi.M,"M",0),Qe.Q=new Qe(Hi.Q,"Q",3),Qe.H=new Qe(Hi.H,"H",2);class pn{constructor(i){this.errorCorrectionLevel=Qe.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,s){return D.bitCount(i^s)}static decodeFormatInformation(i,s){const a=pn.doDecodeFormatInformation(i,s);return a!==null?a:pn.doDecodeFormatInformation(i^pn.FORMAT_INFO_MASK_QR,s^pn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,s){let a=Number.MAX_SAFE_INTEGER,c=0;for(const h of pn.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===i||d===s)return new pn(h[1]);let m=pn.numBitsDiffering(i,d);m<a&&(c=h[1],a=m),i!==s&&(m=pn.numBitsDiffering(s,d),m<a&&(c=h[1],a=m))}return a<=3?new pn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof pn))return!1;const s=i;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}pn.FORMAT_INFO_MASK_QR=21522,pn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(i,...s){this.ecCodewordsPerBlock=i,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const s=this.ecBlocks;for(const a of s)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class z{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(i,s,...a){this.versionNumber=i,this.alignmentPatternCenters=s,this.ecBlocks=a;let c=0;const h=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const m of d)c+=m.getCount()*(m.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new K;try{return this.getVersionForNumber((i-17)/4)}catch{throw new K}}static getVersionForNumber(i){if(i<1||i>40)throw new E;return _e.VERSIONS[i-1]}static decodeVersionInformation(i){let s=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<_e.VERSION_DECODE_INFO.length;c++){const h=_e.VERSION_DECODE_INFO[c];if(h===i)return _e.getVersionForNumber(c+7);const d=pn.numBitsDiffering(i,h);d<s&&(a=c+7,s=d)}return s<=3?_e.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),s=new ke(i);s.setRegion(0,0,9,9),s.setRegion(i-8,0,8,9),s.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const h=this.alignmentPatternCenters[c]-2;for(let d=0;d<a;d++)c===0&&(d===0||d===a-1)||c===a-1&&d===0||s.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return s.setRegion(6,9,1,i-17),s.setRegion(9,6,i-17,1),this.versionNumber>6&&(s.setRegion(i-11,0,3,6),s.setRegion(0,i-11,6,3)),s}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new Q(7,new z(1,19)),new Q(10,new z(1,16)),new Q(13,new z(1,13)),new Q(17,new z(1,9))),new _e(2,Int32Array.from([6,18]),new Q(10,new z(1,34)),new Q(16,new z(1,28)),new Q(22,new z(1,22)),new Q(28,new z(1,16))),new _e(3,Int32Array.from([6,22]),new Q(15,new z(1,55)),new Q(26,new z(1,44)),new Q(18,new z(2,17)),new Q(22,new z(2,13))),new _e(4,Int32Array.from([6,26]),new Q(20,new z(1,80)),new Q(18,new z(2,32)),new Q(26,new z(2,24)),new Q(16,new z(4,9))),new _e(5,Int32Array.from([6,30]),new Q(26,new z(1,108)),new Q(24,new z(2,43)),new Q(18,new z(2,15),new z(2,16)),new Q(22,new z(2,11),new z(2,12))),new _e(6,Int32Array.from([6,34]),new Q(18,new z(2,68)),new Q(16,new z(4,27)),new Q(24,new z(4,19)),new Q(28,new z(4,15))),new _e(7,Int32Array.from([6,22,38]),new Q(20,new z(2,78)),new Q(18,new z(4,31)),new Q(18,new z(2,14),new z(4,15)),new Q(26,new z(4,13),new z(1,14))),new _e(8,Int32Array.from([6,24,42]),new Q(24,new z(2,97)),new Q(22,new z(2,38),new z(2,39)),new Q(22,new z(4,18),new z(2,19)),new Q(26,new z(4,14),new z(2,15))),new _e(9,Int32Array.from([6,26,46]),new Q(30,new z(2,116)),new Q(22,new z(3,36),new z(2,37)),new Q(20,new z(4,16),new z(4,17)),new Q(24,new z(4,12),new z(4,13))),new _e(10,Int32Array.from([6,28,50]),new Q(18,new z(2,68),new z(2,69)),new Q(26,new z(4,43),new z(1,44)),new Q(24,new z(6,19),new z(2,20)),new Q(28,new z(6,15),new z(2,16))),new _e(11,Int32Array.from([6,30,54]),new Q(20,new z(4,81)),new Q(30,new z(1,50),new z(4,51)),new Q(28,new z(4,22),new z(4,23)),new Q(24,new z(3,12),new z(8,13))),new _e(12,Int32Array.from([6,32,58]),new Q(24,new z(2,92),new z(2,93)),new Q(22,new z(6,36),new z(2,37)),new Q(26,new z(4,20),new z(6,21)),new Q(28,new z(7,14),new z(4,15))),new _e(13,Int32Array.from([6,34,62]),new Q(26,new z(4,107)),new Q(22,new z(8,37),new z(1,38)),new Q(24,new z(8,20),new z(4,21)),new Q(22,new z(12,11),new z(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new Q(30,new z(3,115),new z(1,116)),new Q(24,new z(4,40),new z(5,41)),new Q(20,new z(11,16),new z(5,17)),new Q(24,new z(11,12),new z(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new Q(22,new z(5,87),new z(1,88)),new Q(24,new z(5,41),new z(5,42)),new Q(30,new z(5,24),new z(7,25)),new Q(24,new z(11,12),new z(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new Q(24,new z(5,98),new z(1,99)),new Q(28,new z(7,45),new z(3,46)),new Q(24,new z(15,19),new z(2,20)),new Q(30,new z(3,15),new z(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new Q(28,new z(1,107),new z(5,108)),new Q(28,new z(10,46),new z(1,47)),new Q(28,new z(1,22),new z(15,23)),new Q(28,new z(2,14),new z(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new Q(30,new z(5,120),new z(1,121)),new Q(26,new z(9,43),new z(4,44)),new Q(28,new z(17,22),new z(1,23)),new Q(28,new z(2,14),new z(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new Q(28,new z(3,113),new z(4,114)),new Q(26,new z(3,44),new z(11,45)),new Q(26,new z(17,21),new z(4,22)),new Q(26,new z(9,13),new z(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new Q(28,new z(3,107),new z(5,108)),new Q(26,new z(3,41),new z(13,42)),new Q(30,new z(15,24),new z(5,25)),new Q(28,new z(15,15),new z(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new Q(28,new z(4,116),new z(4,117)),new Q(26,new z(17,42)),new Q(28,new z(17,22),new z(6,23)),new Q(30,new z(19,16),new z(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new Q(28,new z(2,111),new z(7,112)),new Q(28,new z(17,46)),new Q(30,new z(7,24),new z(16,25)),new Q(24,new z(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new Q(30,new z(4,121),new z(5,122)),new Q(28,new z(4,47),new z(14,48)),new Q(30,new z(11,24),new z(14,25)),new Q(30,new z(16,15),new z(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new Q(30,new z(6,117),new z(4,118)),new Q(28,new z(6,45),new z(14,46)),new Q(30,new z(11,24),new z(16,25)),new Q(30,new z(30,16),new z(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new Q(26,new z(8,106),new z(4,107)),new Q(28,new z(8,47),new z(13,48)),new Q(30,new z(7,24),new z(22,25)),new Q(30,new z(22,15),new z(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new Q(28,new z(10,114),new z(2,115)),new Q(28,new z(19,46),new z(4,47)),new Q(28,new z(28,22),new z(6,23)),new Q(30,new z(33,16),new z(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new Q(30,new z(8,122),new z(4,123)),new Q(28,new z(22,45),new z(3,46)),new Q(30,new z(8,23),new z(26,24)),new Q(30,new z(12,15),new z(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new z(3,117),new z(10,118)),new Q(28,new z(3,45),new z(23,46)),new Q(30,new z(4,24),new z(31,25)),new Q(30,new z(11,15),new z(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new z(7,116),new z(7,117)),new Q(28,new z(21,45),new z(7,46)),new Q(30,new z(1,23),new z(37,24)),new Q(30,new z(19,15),new z(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new z(5,115),new z(10,116)),new Q(28,new z(19,47),new z(10,48)),new Q(30,new z(15,24),new z(25,25)),new Q(30,new z(23,15),new z(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new z(13,115),new z(3,116)),new Q(28,new z(2,46),new z(29,47)),new Q(30,new z(42,24),new z(1,25)),new Q(30,new z(23,15),new z(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new z(17,115)),new Q(28,new z(10,46),new z(23,47)),new Q(30,new z(10,24),new z(35,25)),new Q(30,new z(19,15),new z(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new z(17,115),new z(1,116)),new Q(28,new z(14,46),new z(21,47)),new Q(30,new z(29,24),new z(19,25)),new Q(30,new z(11,15),new z(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new z(13,115),new z(6,116)),new Q(28,new z(14,46),new z(23,47)),new Q(30,new z(44,24),new z(7,25)),new Q(30,new z(59,16),new z(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new z(12,121),new z(7,122)),new Q(28,new z(12,47),new z(26,48)),new Q(30,new z(39,24),new z(14,25)),new Q(30,new z(22,15),new z(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new z(6,121),new z(14,122)),new Q(28,new z(6,47),new z(34,48)),new Q(30,new z(46,24),new z(10,25)),new Q(30,new z(2,15),new z(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new z(17,122),new z(4,123)),new Q(28,new z(29,46),new z(14,47)),new Q(30,new z(49,24),new z(10,25)),new Q(30,new z(24,15),new z(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new z(4,122),new z(18,123)),new Q(28,new z(13,46),new z(32,47)),new Q(30,new z(48,24),new z(14,25)),new Q(30,new z(42,15),new z(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new z(20,117),new z(4,118)),new Q(28,new z(40,47),new z(7,48)),new Q(30,new z(43,24),new z(22,25)),new Q(30,new z(10,15),new z(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new z(19,118),new z(6,119)),new Q(28,new z(18,47),new z(31,48)),new Q(30,new z(34,24),new z(34,25)),new Q(30,new z(20,15),new z(61,16)))];var It;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(It||(It={}));class mn{constructor(i,s){this.value=i,this.isMasked=s}unmaskBitMatrix(i,s){for(let a=0;a<s;a++)for(let c=0;c<s;c++)this.isMasked(a,c)&&i.flip(c,a)}}mn.values=new Map([[It.DATA_MASK_000,new mn(It.DATA_MASK_000,(N,i)=>(N+i&1)===0)],[It.DATA_MASK_001,new mn(It.DATA_MASK_001,(N,i)=>(N&1)===0)],[It.DATA_MASK_010,new mn(It.DATA_MASK_010,(N,i)=>i%3===0)],[It.DATA_MASK_011,new mn(It.DATA_MASK_011,(N,i)=>(N+i)%3===0)],[It.DATA_MASK_100,new mn(It.DATA_MASK_100,(N,i)=>(Math.floor(N/2)+Math.floor(i/3)&1)===0)],[It.DATA_MASK_101,new mn(It.DATA_MASK_101,(N,i)=>N*i%6===0)],[It.DATA_MASK_110,new mn(It.DATA_MASK_110,(N,i)=>N*i%6<3)],[It.DATA_MASK_111,new mn(It.DATA_MASK_111,(N,i)=>(N+i+N*i%3&1)===0)]]);class Us{constructor(i){const s=i.getHeight();if(s<21||(s&3)!==1)throw new K;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const s=this.bitMatrix.getHeight();let a=0;const c=s-7;for(let h=s-1;h>=c;h--)a=this.copyBit(8,h,a);for(let h=s-8;h<s;h++)a=this.copyBit(h,8,a);if(this.parsedFormatInfo=pn.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new K}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),s=Math.floor((i-17)/4);if(s<=6)return _e.getVersionForNumber(s);let a=0;const c=i-11;for(let d=5;d>=0;d--)for(let m=i-9;m>=c;m--)a=this.copyBit(m,d,a);let h=_e.decodeVersionInformation(a);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;a=0;for(let d=5;d>=0;d--)for(let m=i-9;m>=c;m--)a=this.copyBit(d,m,a);if(h=_e.decodeVersionInformation(a),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new K}copyBit(i,s,a){return(this.isMirror?this.bitMatrix.get(s,i):this.bitMatrix.get(i,s))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),s=this.readVersion(),a=mn.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const h=s.buildFunctionPattern();let d=!0;const m=new Uint8Array(s.getTotalCodewords());let w=0,_=0,b=0;for(let M=c-1;M>0;M-=2){M===6&&M--;for(let R=0;R<c;R++){const U=d?c-1-R:R;for(let G=0;G<2;G++)h.get(M-G,U)||(b++,_<<=1,this.bitMatrix.get(M-G,U)&&(_|=1),b===8&&(m[w++]=_,b=0,_=0))}d=!d}if(w!==s.getTotalCodewords())throw new K;return m}remask(){if(this.parsedFormatInfo===null)return;const i=mn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let s=0,a=i.getWidth();s<a;s++)for(let c=s+1,h=i.getHeight();c<h;c++)i.get(s,c)!==i.get(c,s)&&(i.flip(c,s),i.flip(s,c))}}class Vs{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s,a){if(i.length!==s.getTotalCodewords())throw new E;const c=s.getECBlocksForLevel(a);let h=0;const d=c.getECBlocks();for(const G of d)h+=G.getCount();const m=new Array(h);let w=0;for(const G of d)for(let Y=0;Y<G.getCount();Y++){const q=G.getDataCodewords(),te=c.getECCodewordsPerBlock()+q;m[w++]=new Vs(q,new Uint8Array(te))}const _=m[0].codewords.length;let b=m.length-1;for(;b>=0&&m[b].codewords.length!==_;)b--;b++;const M=_-c.getECCodewordsPerBlock();let R=0;for(let G=0;G<M;G++)for(let Y=0;Y<w;Y++)m[Y].codewords[G]=i[R++];for(let G=b;G<w;G++)m[G].codewords[M]=i[R++];const U=m[0].codewords.length;for(let G=M;G<U;G++)for(let Y=0;Y<w;Y++){const q=Y<b?G:G+1;m[Y].codewords[q]=i[R++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gn;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(gn||(gn={}));class Fe{constructor(i,s,a,c){this.value=i,this.stringValue=s,this.characterCountBitsForVersions=a,this.bits=c,Fe.FOR_BITS.set(c,this),Fe.FOR_VALUE.set(i,this)}static forBits(i){const s=Fe.FOR_BITS.get(i);if(s===void 0)throw new E;return s}getCharacterCountBits(i){const s=i.getVersionNumber();let a;return s<=9?a=0:s<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Fe))return!1;const s=i;return this.value===s.value}toString(){return this.stringValue}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.TERMINATOR=new Fe(gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Fe.NUMERIC=new Fe(gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Fe.ALPHANUMERIC=new Fe(gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Fe.STRUCTURED_APPEND=new Fe(gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Fe.BYTE=new Fe(gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Fe.ECI=new Fe(gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Fe.KANJI=new Fe(gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Fe.FNC1_FIRST_POSITION=new Fe(gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Fe.FNC1_SECOND_POSITION=new Fe(gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Fe.HANZI=new Fe(gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class At{static decode(i,s,a,c){const h=new Yr(i);let d=new De;const m=new Array;let w=-1,_=-1;try{let b=null,M=!1,R;do{if(h.available()<4)R=Fe.TERMINATOR;else{const U=h.readBits(4);R=Fe.forBits(U)}switch(R){case Fe.TERMINATOR:break;case Fe.FNC1_FIRST_POSITION:case Fe.FNC1_SECOND_POSITION:M=!0;break;case Fe.STRUCTURED_APPEND:if(h.available()<16)throw new K;w=h.readBits(8),_=h.readBits(8);break;case Fe.ECI:const U=At.parseECIValue(h);if(b=$.getCharacterSetECIByValue(U),b===null)throw new K;break;case Fe.HANZI:const G=h.readBits(4),Y=h.readBits(R.getCharacterCountBits(s));G===At.GB2312_SUBSET&&At.decodeHanziSegment(h,d,Y);break;default:const q=h.readBits(R.getCharacterCountBits(s));switch(R){case Fe.NUMERIC:At.decodeNumericSegment(h,d,q);break;case Fe.ALPHANUMERIC:At.decodeAlphanumericSegment(h,d,q,M);break;case Fe.BYTE:At.decodeByteSegment(h,d,q,b,m,c);break;case Fe.KANJI:At.decodeKanjiSegment(h,d,q);break;default:throw new K}break}}while(R!==Fe.TERMINATOR)}catch{throw new K}return new Yn(i,d.toString(),m.length===0?null:m,a===null?null:a.toString(),w,_)}static decodeHanziSegment(i,s,a){if(a*13>i.available())throw new K;const c=new Uint8Array(2*a);let h=0;for(;a>0;){const d=i.readBits(13);let m=d/96<<8&4294967295|d%96;m<959?m+=41377:m+=42657,c[h]=m>>8&255,c[h+1]=m&255,h+=2,a--}try{s.append(Pe.decode(c,ye.GB2312))}catch(d){throw new K(d)}}static decodeKanjiSegment(i,s,a){if(a*13>i.available())throw new K;const c=new Uint8Array(2*a);let h=0;for(;a>0;){const d=i.readBits(13);let m=d/192<<8&4294967295|d%192;m<7936?m+=33088:m+=49472,c[h]=m>>8,c[h+1]=m,h+=2,a--}try{s.append(Pe.decode(c,ye.SHIFT_JIS))}catch(d){throw new K(d)}}static decodeByteSegment(i,s,a,c,h,d){if(8*a>i.available())throw new K;const m=new Uint8Array(a);for(let _=0;_<a;_++)m[_]=i.readBits(8);let w;c===null?w=ye.guessEncoding(m,d):w=c.getName();try{s.append(Pe.decode(m,w))}catch(_){throw new K(_)}h.push(m)}static toAlphaNumericChar(i){if(i>=At.ALPHANUMERIC_CHARS.length)throw new K;return At.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,a,c){const h=s.length();for(;a>1;){if(i.available()<11)throw new K;const d=i.readBits(11);s.append(At.toAlphaNumericChar(Math.floor(d/45))),s.append(At.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(i.available()<6)throw new K;s.append(At.toAlphaNumericChar(i.readBits(6)))}if(c)for(let d=h;d<s.length();d++)s.charAt(d)==="%"&&(d<s.length()-1&&s.charAt(d+1)==="%"?s.deleteCharAt(d+1):s.setCharAt(d,""))}static decodeNumericSegment(i,s,a){for(;a>=3;){if(i.available()<10)throw new K;const c=i.readBits(10);if(c>=1e3)throw new K;s.append(At.toAlphaNumericChar(Math.floor(c/100))),s.append(At.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(At.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(i.available()<7)throw new K;const c=i.readBits(7);if(c>=100)throw new K;s.append(At.toAlphaNumericChar(Math.floor(c/10))),s.append(At.toAlphaNumericChar(c%10))}else if(a===1){if(i.available()<4)throw new K;const c=i.readBits(4);if(c>=10)throw new K;s.append(At.toAlphaNumericChar(c))}}static parseECIValue(i){const s=i.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const a=i.readBits(8);return(s&63)<<8&4294967295|a}if((s&224)===192){const a=i.readBits(16);return(s&31)<<16&4294967295|a}throw new K}}At.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",At.GB2312_SUBSET=1;class Hs{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const s=i[0];i[0]=i[2],i[2]=s}}class La{constructor(){this.rsDecoder=new Wr(it.QR_CODE_FIELD_256)}decodeBooleanArray(i,s){return this.decodeBitMatrix(ke.parseFromBooleanArray(i),s)}decodeBitMatrix(i,s){const a=new Us(i);let c=null;try{return this.decodeBitMatrixParser(a,s)}catch(h){c=h}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const h=this.decodeBitMatrixParser(a,s);return h.setOther(new Hs(!0)),h}catch(h){throw c!==null?c:h}}decodeBitMatrixParser(i,s){const a=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),d=Vs.getDataBlocks(h,a,c);let m=0;for(const b of d)m+=b.getNumDataCodewords();const w=new Uint8Array(m);let _=0;for(const b of d){const M=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(M,R);for(let U=0;U<R;U++)w[_++]=M[U]}return At.decode(w,a,c,s)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new O}for(let c=0;c<s;c++)i[c]=a[c]}}class Ws extends Oe{constructor(i,s,a){super(i,s),this.estimatedModuleSize=a}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const c=(this.getX()+s)/2,h=(this.getY()+i)/2,d=(this.estimatedModuleSize+a)/2;return new Ws(c,h,d)}}class _r{constructor(i,s,a,c,h,d,m){this.image=i,this.startX=s,this.startY=a,this.width=c,this.height=h,this.moduleSize=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,s=this.height,a=this.width,c=i+a,h=this.startY+s/2,d=new Int32Array(3),m=this.image;for(let w=0;w<s;w++){const _=h+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));d[0]=0,d[1]=0,d[2]=0;let b=i;for(;b<c&&!m.get(b,_);)b++;let M=0;for(;b<c;){if(m.get(b,_))if(M===1)d[1]++;else if(M===2){if(this.foundPatternCross(d)){const R=this.handlePossibleCenter(d,_,b);if(R!==null)return R}d[0]=d[2],d[1]=1,d[2]=0,M=1}else d[++M]++;else M===1&&M++,d[M]++;b++}if(this.foundPatternCross(d)){const R=this.handlePossibleCenter(d,_,c);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(i,s){return s-i[2]-i[1]/2}foundPatternCross(i){const s=this.moduleSize,a=s/2;for(let c=0;c<3;c++)if(Math.abs(s-i[c])>=a)return!1;return!0}crossCheckVertical(i,s,a,c){const h=this.image,d=h.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let w=i;for(;w>=0&&h.get(s,w)&&m[1]<=a;)m[1]++,w--;if(w<0||m[1]>a)return NaN;for(;w>=0&&!h.get(s,w)&&m[0]<=a;)m[0]++,w--;if(m[0]>a)return NaN;for(w=i+1;w<d&&h.get(s,w)&&m[1]<=a;)m[1]++,w++;if(w===d||m[1]>a)return NaN;for(;w<d&&!h.get(s,w)&&m[2]<=a;)m[2]++,w++;if(m[2]>a)return NaN;const _=m[0]+m[1]+m[2];return 5*Math.abs(_-c)>=2*c?NaN:this.foundPatternCross(m)?_r.centerFromEnd(m,w):NaN}handlePossibleCenter(i,s,a){const c=i[0]+i[1]+i[2],h=_r.centerFromEnd(i,a),d=this.crossCheckVertical(s,h,2*i[1],c);if(!isNaN(d)){const m=(i[0]+i[1]+i[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(m,d,h))return _.combineEstimate(d,h,m);const w=new Ws(h,d,m);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class To extends Oe{constructor(i,s,a,c){super(i,s),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const c=this.count+1,h=(this.count*this.getX()+s)/c,d=(this.count*this.getY()+i)/c,m=(this.count*this.estimatedModuleSize+a)/c;return new To(h,d,m,c)}}class Da{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const s=i!=null&&i.get(ie.TRY_HARDER)!==void 0,a=i!=null&&i.get(ie.PURE_BARCODE)!==void 0,c=this.image,h=c.getHeight(),d=c.getWidth();let m=Math.floor(3*h/(4*$t.MAX_MODULES));(m<$t.MIN_SKIP||s)&&(m=$t.MIN_SKIP);let w=!1;const _=new Int32Array(5);for(let M=m-1;M<h&&!w;M+=m){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let R=0;for(let U=0;U<d;U++)if(c.get(U,M))(R&1)===1&&R++,_[R]++;else if(R&1)_[R]++;else if(R===4)if($t.foundPatternCross(_)){if(this.handlePossibleCenter(_,M,U,a)===!0)if(m=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>_[2]&&(M+=Y-_[2]-m,U=d-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,R=3;continue}R=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,R=3;else _[++R]++;$t.foundPatternCross(_)&&this.handlePossibleCenter(_,M,d,a)===!0&&(m=_[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Oe.orderBestPatterns(b),new Da(b)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let h=0;h<5;h++){const d=i[h];if(d===0)return!1;s+=d}if(s<7)return!1;const a=s/7,c=a/2;return Math.abs(a-i[0])<c&&Math.abs(a-i[1])<c&&Math.abs(3*a-i[2])<3*c&&Math.abs(a-i[3])<c&&Math.abs(a-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,a,c){const h=this.getCrossCheckStateCount();let d=0;const m=this.image;for(;i>=d&&s>=d&&m.get(s-d,i-d);)h[2]++,d++;if(i<d||s<d)return!1;for(;i>=d&&s>=d&&!m.get(s-d,i-d)&&h[1]<=a;)h[1]++,d++;if(i<d||s<d||h[1]>a)return!1;for(;i>=d&&s>=d&&m.get(s-d,i-d)&&h[0]<=a;)h[0]++,d++;if(h[0]>a)return!1;const w=m.getHeight(),_=m.getWidth();for(d=1;i+d<w&&s+d<_&&m.get(s+d,i+d);)h[2]++,d++;if(i+d>=w||s+d>=_)return!1;for(;i+d<w&&s+d<_&&!m.get(s+d,i+d)&&h[3]<a;)h[3]++,d++;if(i+d>=w||s+d>=_||h[3]>=a)return!1;for(;i+d<w&&s+d<_&&m.get(s+d,i+d)&&h[4]<a;)h[4]++,d++;if(h[4]>=a)return!1;const b=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(b-c)<2*c&&$t.foundPatternCross(h)}crossCheckVertical(i,s,a,c){const h=this.image,d=h.getHeight(),m=this.getCrossCheckStateCount();let w=i;for(;w>=0&&h.get(s,w);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(s,w)&&m[1]<=a;)m[1]++,w--;if(w<0||m[1]>a)return NaN;for(;w>=0&&h.get(s,w)&&m[0]<=a;)m[0]++,w--;if(m[0]>a)return NaN;for(w=i+1;w<d&&h.get(s,w);)m[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(s,w)&&m[3]<a;)m[3]++,w++;if(w===d||m[3]>=a)return NaN;for(;w<d&&h.get(s,w)&&m[4]<a;)m[4]++,w++;if(m[4]>=a)return NaN;const _=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(_-c)>=2*c?NaN:$t.foundPatternCross(m)?$t.centerFromEnd(m,w):NaN}crossCheckHorizontal(i,s,a,c){const h=this.image,d=h.getWidth(),m=this.getCrossCheckStateCount();let w=i;for(;w>=0&&h.get(w,s);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(w,s)&&m[1]<=a;)m[1]++,w--;if(w<0||m[1]>a)return NaN;for(;w>=0&&h.get(w,s)&&m[0]<=a;)m[0]++,w--;if(m[0]>a)return NaN;for(w=i+1;w<d&&h.get(w,s);)m[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(w,s)&&m[3]<a;)m[3]++,w++;if(w===d||m[3]>=a)return NaN;for(;w<d&&h.get(w,s)&&m[4]<a;)m[4]++,w++;if(m[4]>=a)return NaN;const _=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(_-c)>=c?NaN:$t.foundPatternCross(m)?$t.centerFromEnd(m,w):NaN}handlePossibleCenter(i,s,a,c){const h=i[0]+i[1]+i[2]+i[3]+i[4];let d=$t.centerFromEnd(i,a),m=this.crossCheckVertical(s,Math.floor(d),i[2],h);if(!isNaN(m)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(m),i[2],h),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(m),Math.floor(d),i[2],h)))){const w=h/7;let _=!1;const b=this.possibleCenters;for(let M=0,R=b.length;M<R;M++){const U=b[M];if(U.aboutEquals(w,m,d)){b[M]=U.combineEstimate(m,d,w),_=!0;break}}if(!_){const M=new To(d,m,w);b.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const a of this.possibleCenters)if(a.getCount()>=$t.CENTER_QUORUM)if(s==null)s=a;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-a.getX())-Math.abs(s.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=$t.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize());if(i<3)return!1;const c=s/a;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-c);return h<=.05*s}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new re;const s=this.possibleCenters;let a;if(i>3){let c=0,h=0;for(const w of this.possibleCenters){const _=w.getEstimatedModuleSize();c+=_,h+=_*_}a=c/i;let d=Math.sqrt(h/i-a*a);s.sort((w,_)=>{const b=Math.abs(_.getEstimatedModuleSize()-a),M=Math.abs(w.getEstimatedModuleSize()-a);return b<M?-1:b>M?1:0});const m=Math.max(.2*a,d);for(let w=0;w<s.length&&s.length>3;w++){const _=s[w];Math.abs(_.getEstimatedModuleSize()-a)>m&&(s.splice(w,1),w--)}}if(s.length>3){let c=0;for(const h of s)c+=h.getEstimatedModuleSize();a=c/s.length,s.sort((h,d)=>{if(d.getCount()===h.getCount()){const m=Math.abs(d.getEstimatedModuleSize()-a),w=Math.abs(h.getEstimatedModuleSize()-a);return m<w?1:m>w?-1:0}else return d.getCount()-h.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class He{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(ie.NEED_RESULT_POINT_CALLBACK);const a=new $t(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const s=i.getTopLeft(),a=i.getTopRight(),c=i.getBottomLeft(),h=this.calculateModuleSize(s,a,c);if(h<1)throw new re("No pattern found in proccess finder.");const d=He.computeDimension(s,a,c,h),m=_e.getProvisionalVersionForDimension(d),w=m.getDimensionForVersion()-7;let _=null;if(m.getAlignmentPatternCenters().length>0){const U=a.getX()-s.getX()+c.getX(),G=a.getY()-s.getY()+c.getY(),Y=1-3/w,q=Math.floor(s.getX()+Y*(U-s.getX())),te=Math.floor(s.getY()+Y*(G-s.getY()));for(let me=4;me<=16;me<<=1)try{_=this.findAlignmentInRegion(h,q,te,me);break}catch(ge){if(!(ge instanceof re))throw ge}}const b=He.createTransform(s,a,c,_,d),M=He.sampleGrid(this.image,b,d);let R;return _===null?R=[c,s,a]:R=[c,s,a,_],new Ds(M,R)}static createTransform(i,s,a,c,h){const d=h-3.5;let m,w,_,b;return c!==null?(m=c.getX(),w=c.getY(),_=d-3,b=_):(m=s.getX()-i.getX()+a.getX(),w=s.getY()-i.getY()+a.getY(),_=d,b=d),Dn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,_,b,3.5,d,i.getX(),i.getY(),s.getX(),s.getY(),m,w,a.getX(),a.getY())}static sampleGrid(i,s,a){return Ui.getInstance().sampleGridWithTransform(i,a,a,s)}static computeDimension(i,s,a,c){const h=rt.round(Oe.distance(i,s)/c),d=rt.round(Oe.distance(i,a)/c);let m=Math.floor((h+d)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new re("Dimensions could be not found.")}return m}calculateModuleSize(i,s,a){return(this.calculateModuleSizeOneWay(i,s)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,s){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,s,a,c){let h=this.sizeOfBlackWhiteBlackRun(i,s,a,c),d=1,m=i-(a-i);m<0?(d=i/(i-m),m=0):m>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let w=Math.floor(s-(c-s)*d);return d=1,w<0?(d=s/(s-w),w=0):w>=this.image.getHeight()&&(d=(this.image.getHeight()-1-s)/(w-s),w=this.image.getHeight()-1),m=Math.floor(i+(m-i)*d),h+=this.sizeOfBlackWhiteBlackRun(i,s,m,w),h-1}sizeOfBlackWhiteBlackRun(i,s,a,c){const h=Math.abs(c-s)>Math.abs(a-i);if(h){let U=i;i=s,s=U,U=a,a=c,c=U}const d=Math.abs(a-i),m=Math.abs(c-s);let w=-d/2;const _=i<a?1:-1,b=s<c?1:-1;let M=0;const R=a+_;for(let U=i,G=s;U!==R;U+=_){const Y=h?G:U,q=h?U:G;if(M===1===this.image.get(Y,q)){if(M===2)return rt.distance(U,G,i,s);M++}if(w+=m,w>0){if(G===c)break;G+=b,w-=d}}return M===2?rt.distance(a+_,c,i,s):NaN}findAlignmentInRegion(i,s,a,c){const h=Math.floor(c*i),d=Math.max(0,s-h),m=Math.min(this.image.getWidth()-1,s+h);if(m-d<i*3)throw new re("Alignment top exceeds estimated module size.");const w=Math.max(0,a-h),_=Math.min(this.image.getHeight()-1,a+h);if(_-w<i*3)throw new re("Alignment bottom exceeds estimated module size.");return new _r(this.image,d,w,m-d,_-w,i,this.resultPointCallback).find()}}class sn{constructor(){this.decoder=new La}getDecoder(){return this.decoder}decode(i,s){let a,c;if(s!=null&&s.get(ie.PURE_BARCODE)!==void 0){const w=sn.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(w,s),c=sn.NO_POINTS}else{const w=new He(i.getBlackMatrix()).detect(s);a=this.decoder.decodeBitMatrix(w.getBits(),s),c=w.getPoints()}a.getOther()instanceof Hs&&a.getOther().applyMirroredCorrection(c);const h=new Te(a.getText(),a.getRawBytes(),void 0,c,de.QR_CODE,void 0),d=a.getByteSegments();d!==null&&h.putMetadata(ft.BYTE_SEGMENTS,d);const m=a.getECLevel();return m!==null&&h.putMetadata(ft.ERROR_CORRECTION_LEVEL,m),a.hasStructuredAppend()&&(h.putMetadata(ft.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),h.putMetadata(ft.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s===null||a===null)throw new re;const c=this.moduleSize(s,i);let h=s[1],d=a[1],m=s[0],w=a[0];if(m>=w||h>=d)throw new re;if(d-h!==w-m&&(w=m+(d-h),w>=i.getWidth()))throw new re;const _=Math.round((w-m+1)/c),b=Math.round((d-h+1)/c);if(_<=0||b<=0)throw new re;if(b!==_)throw new re;const M=Math.floor(c/2);h+=M,m+=M;const R=m+Math.floor((_-1)*c)-w;if(R>0){if(R>M)throw new re;m-=R}const U=h+Math.floor((b-1)*c)-d;if(U>0){if(U>M)throw new re;h-=U}const G=new ke(_,b);for(let Y=0;Y<b;Y++){const q=h+Math.floor(Y*c);for(let te=0;te<_;te++)i.get(m+Math.floor(te*c),q)&&G.set(te,Y)}return G}static moduleSize(i,s){const a=s.getHeight(),c=s.getWidth();let h=i[0],d=i[1],m=!0,w=0;for(;h<c&&d<a;){if(m!==s.get(h,d)){if(++w===5)break;m=!m}h++,d++}if(h===c||d===a)throw new re;return(h-i[0])/7}}sn.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(i){return rt.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ce.EMPTY_INT_ARRAY;const s=new Int32Array(i.length);let a=0;for(const c of i)s[a++]=c;return s}static getCodeword(i){const s=F.binarySearch(Ce.SYMBOL_TABLE,i&262143);return s<0?-1:(Ce.CODEWORD_TABLE[s]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fc{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ge{static detectMultiple(i,s,a){let c=i.getBlackMatrix(),h=Ge.detect(a,c);return h.length||(c=c.clone(),c.rotate180(),h=Ge.detect(a,c)),new fc(c,h)}static detect(i,s){const a=new Array;let c=0,h=0,d=!1;for(;c<s.getHeight();){const m=Ge.findVertices(s,c,h);if(m[0]==null&&m[3]==null){if(!d)break;d=!1,h=0;for(const w of a)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=Ge.ROW_STEP;continue}if(d=!0,a.push(m),!i)break;m[2]!=null?(h=Math.trunc(m[2].getX()),c=Math.trunc(m[2].getY())):(h=Math.trunc(m[4].getX()),c=Math.trunc(m[4].getY()))}return a}static findVertices(i,s,a){const c=i.getHeight(),h=i.getWidth(),d=new Array(8);return Ge.copyToResult(d,Ge.findRowsWithPattern(i,c,h,s,a,Ge.START_PATTERN),Ge.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY())),Ge.copyToResult(d,Ge.findRowsWithPattern(i,c,h,s,a,Ge.STOP_PATTERN),Ge.INDEXES_STOP_PATTERN),d}static copyToResult(i,s,a){for(let c=0;c<a.length;c++)i[a[c]]=s[c]}static findRowsWithPattern(i,s,a,c,h,d){const m=new Array(4);let w=!1;const _=new Int32Array(d.length);for(;c<s;c+=Ge.ROW_STEP){let M=Ge.findGuardPattern(i,h,c,a,!1,d,_);if(M!=null){for(;c>0;){const R=Ge.findGuardPattern(i,h,--c,a,!1,d,_);if(R!=null)M=R;else{c++;break}}m[0]=new Oe(M[0],c),m[1]=new Oe(M[1],c),w=!0;break}}let b=c+1;if(w){let M=0,R=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;b<s;b++){const U=Ge.findGuardPattern(i,R[0],b,a,!1,d,_);if(U!=null&&Math.abs(R[0]-U[0])<Ge.MAX_PATTERN_DRIFT&&Math.abs(R[1]-U[1])<Ge.MAX_PATTERN_DRIFT)R=U,M=0;else{if(M>Ge.SKIPPED_ROW_COUNT_MAX)break;M++}}b-=M+1,m[2]=new Oe(R[0],b),m[3]=new Oe(R[1],b)}return b-c<Ge.BARCODE_MIN_HEIGHT&&F.fill(m,null),m}static findGuardPattern(i,s,a,c,h,d,m){F.fillWithin(m,0,m.length,0);let w=s,_=0;for(;i.get(w,a)&&w>0&&_++<Ge.MAX_PIXEL_DRIFT;)w--;let b=w,M=0,R=d.length;for(let U=h;b<c;b++)if(i.get(b,a)!==U)m[M]++;else{if(M===R-1){if(Ge.patternMatchVariance(m,d,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return new Int32Array([w,b]);w+=m[0]+m[1],B.arraycopy(m,2,m,0,M-1),m[M-1]=0,m[M]=0,M--}else M++;m[M]=1,U=!U}return M===R-1&&Ge.patternMatchVariance(m,d,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE?new Int32Array([w,b-1]):null}static patternMatchVariance(i,s,a){let c=i.length,h=0,d=0;for(let _=0;_<c;_++)h+=i[_],d+=s[_];if(h<d)return 1/0;let m=h/d;a*=m;let w=0;for(let _=0;_<c;_++){let b=i[_],M=s[_]*m,R=b>M?b-M:M-b;if(R>a)return 1/0;w+=R}return w/h}}Ge.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ge.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ge.MAX_AVG_VARIANCE=.42,Ge.MAX_INDIVIDUAL_VARIANCE=.8,Ge.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ge.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ge.MAX_PIXEL_DRIFT=3,Ge.MAX_PATTERN_DRIFT=5,Ge.SKIPPED_ROW_COUNT_MAX=25,Ge.ROW_STEP=5,Ge.BARCODE_MIN_HEIGHT=10;class Kt{constructor(i,s){if(s.length===0)throw new E;this.field=i;let a=s.length;if(a>1&&s[0]===0){let c=1;for(;c<a&&s[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),B.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let h of this.coefficients)c=this.field.add(c,h);return c}let s=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)s=this.field.add(this.field.multiply(i,s),this.coefficients[c]);return s}add(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){let d=s;s=a,a=d}let c=new Int32Array(a.length),h=a.length-s.length;B.arraycopy(a,0,c,0,h);for(let d=h;d<a.length;d++)c[d]=this.field.add(s[d-h],a[d]);return new Kt(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Kt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Kt(this.field,new Int32Array([0]));let s=this.coefficients,a=s.length,c=i.coefficients,h=c.length,d=new Int32Array(a+h-1);for(let m=0;m<a;m++){let w=s[m];for(let _=0;_<h;_++)d[m+_]=this.field.add(d[m+_],this.field.multiply(w,c[_]))}return new Kt(this.field,d)}negative(){let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.subtract(0,this.coefficients[a]);return new Kt(this.field,s)}multiplyScalar(i){if(i===0)return new Kt(this.field,new Int32Array([0]));if(i===1)return this;let s=this.coefficients.length,a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new Kt(this.field,a)}multiplyByMonomial(i,s){if(i<0)throw new E;if(s===0)return new Kt(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+i);for(let h=0;h<a;h++)c[h]=this.field.multiply(this.coefficients[h],s);return new Kt(this.field,c)}toString(){let i=new De;for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(s===0||a!==1)&&i.append(a),s!==0&&(s===1?i.append("x"):(i.append("x^"),i.append(s))))}return i.toString()}}class ka{add(i,s){return(i+s)%this.modulus}subtract(i,s){return(this.modulus+i-s)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}inverse(i){if(i===0)throw new ji;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Wi extends ka{constructor(i,s){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let c=0;c<i;c++)this.expTable[c]=a,a=a*s%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Kt(this,new Int32Array([0])),this.one=new Kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new E;if(s===0)return this.zero;let a=new Int32Array(i+1);return a[0]=s,new Kt(this,a)}}Wi.PDF417_GF=new Wi(Ce.NUMBER_OF_CODEWORDS,3);class Io{constructor(){this.field=Wi.PDF417_GF}decode(i,s,a){let c=new Kt(this.field,i),h=new Int32Array(s),d=!1;for(let G=s;G>0;G--){let Y=c.evaluateAt(this.field.exp(G));h[s-G]=Y,Y!==0&&(d=!0)}if(!d)return 0;let m=this.field.getOne();if(a!=null)for(const G of a){let Y=this.field.exp(i.length-1-G),q=new Kt(this.field,new Int32Array([this.field.subtract(0,Y),1]));m=m.multiply(q)}let w=new Kt(this.field,h),_=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),w,s),b=_[0],M=_[1],R=this.findErrorLocations(b),U=this.findErrorMagnitudes(M,b,R);for(let G=0;G<R.length;G++){let Y=i.length-1-this.field.log(R[G]);if(Y<0)throw O.getChecksumInstance();i[Y]=this.field.subtract(i[Y],U[G])}return R.length}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){let R=i;i=s,s=R}let c=i,h=s,d=this.field.getZero(),m=this.field.getOne();for(;h.getDegree()>=Math.round(a/2);){let R=c,U=d;if(c=h,d=m,c.isZero())throw O.getChecksumInstance();h=R;let G=this.field.getZero(),Y=c.getCoefficient(c.getDegree()),q=this.field.inverse(Y);for(;h.getDegree()>=c.getDegree()&&!h.isZero();){let te=h.getDegree()-c.getDegree(),me=this.field.multiply(h.getCoefficient(h.getDegree()),q);G=G.add(this.field.buildMonomial(te,me)),h=h.subtract(c.multiplyByMonomial(te,me))}m=G.multiply(d).subtract(U).negative()}let w=m.getCoefficient(0);if(w===0)throw O.getChecksumInstance();let _=this.field.inverse(w),b=m.multiply(_),M=h.multiply(_);return[b,M]}findErrorLocations(i){let s=i.getDegree(),a=new Int32Array(s),c=0;for(let h=1;h<this.field.getSize()&&c<s;h++)i.evaluateAt(h)===0&&(a[c]=this.field.inverse(h),c++);if(c!==s)throw O.getChecksumInstance();return a}findErrorMagnitudes(i,s,a){let c=s.getDegree(),h=new Int32Array(c);for(let _=1;_<=c;_++)h[c-_]=this.field.multiply(_,s.getCoefficient(_));let d=new Kt(this.field,h),m=a.length,w=new Int32Array(m);for(let _=0;_<m;_++){let b=this.field.inverse(a[_]),M=this.field.subtract(0,i.evaluateAt(b)),R=this.field.inverse(d.evaluateAt(b));w[_]=this.field.multiply(M,R)}return w}}class ai{constructor(i,s,a,c,h){i instanceof ai?this.constructor_2(i):this.constructor_1(i,s,a,c,h)}constructor_1(i,s,a,c,h){const d=s==null||a==null,m=c==null||h==null;if(d&&m)throw new re;d?(s=new Oe(0,c.getY()),a=new Oe(0,h.getY())):m&&(c=new Oe(i.getWidth()-1,s.getY()),h=new Oe(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=s,this.bottomLeft=a,this.topRight=c,this.bottomRight=h,this.minX=Math.trunc(Math.min(s.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),h.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,s){return i==null?s:s==null?i:new ai(i.image,i.topLeft,i.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(i,s,a){let c=this.topLeft,h=this.bottomLeft,d=this.topRight,m=this.bottomRight;if(i>0){let w=a?this.topLeft:this.topRight,_=Math.trunc(w.getY()-i);_<0&&(_=0);let b=new Oe(w.getX(),_);a?c=b:d=b}if(s>0){let w=a?this.bottomLeft:this.bottomRight,_=Math.trunc(w.getY()+s);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let b=new Oe(w.getX(),_);a?h=b:m=b}return new ai(this.image,c,h,d,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class on{constructor(i,s,a,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=a,this.rowCount=s+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class li{constructor(){this.buffer=""}static form(i,s){let a=-1;function c(d,m,w,_,b,M){if(d==="%%")return"%";if(s[++a]===void 0)return;d=_?parseInt(_.substr(1)):void 0;let R=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(d);break;case"p":U=parseFloat(s[a]).toPrecision(d);break;case"e":U=parseFloat(s[a]).toExponential(d);break;case"x":U=parseInt(s[a]).toString(R||16);break;case"d":U=parseFloat(parseInt(s[a],R||10).toPrecision(d)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(R);let G=parseInt(w),Y=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=m!==void 0?U+Y:Y+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,c)}format(i,...s){this.buffer+=li.form(i,s)}toString(){return this.buffer}}class Xr{constructor(i){this.boundingBox=new ai(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let a=1;a<Xr.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(i)-a;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(i)+a,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new li;let s=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,a.getRowNumber(),a.getValue())}return i.toString()}}Xr.MAX_NEARBY_DISTANCE=5;class Kr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let s=this.values.get(i);s==null&&(s=0),s++,this.values.set(i,s)}getValue(){let i=-1,s=new Array;for(const[a,c]of this.values.entries()){const h={getKey:()=>a,getValue:()=>c};h.getValue()>i?(i=h.getValue(),s=[],s.push(h.getKey())):h.getValue()===i&&s.push(h.getKey())}return Ce.toIntArray(s)}getConfidence(i){return this.values.get(i)}}class dc extends Xr{constructor(i,s){super(i),this._isLeft=s}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,i);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=-1,_=1,b=0;for(let M=d;M<m;M++){if(s[M]==null)continue;let R=s[M],U=R.getRowNumber()-w;if(U===0)b++;else if(U===1)_=Math.max(_,b),b=1,w=R.getRowNumber();else if(U<0||R.getRowNumber()>=i.getRowCount()||U>M)s[M]=null;else{let G;_>2?G=(_-2)*U:G=U;let Y=G>=M;for(let q=1;q<=G&&!Y;q++)Y=s[M-q]!=null;Y?s[M]=null:(w=R.getRowNumber(),b=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let s=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(i){let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.getCodewords(),w=-1;for(let _=h;_<d;_++){if(m[_]==null)continue;let b=m[_];b.setRowNumberAsRowIndicatorColumn();let M=b.getRowNumber()-w;M===0||(M===1?w=b.getRowNumber():b.getRowNumber()>=i.getRowCount()?m[_]=null:w=b.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),s=new Kr,a=new Kr,c=new Kr,h=new Kr;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let w=m.getValue()%30,_=m.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:a.setValue(w*3+1);break;case 1:h.setValue(w/3),c.setValue(w%3);break;case 2:s.setValue(w+1);break}}if(s.getValue().length===0||a.getValue().length===0||c.getValue().length===0||h.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let d=new on(s.getValue()[0],a.getValue()[0],c.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,s){for(let a=0;a<i.length;a++){let c=i[a];if(i[a]==null)continue;let h=c.getValue()%30,d=c.getRowNumber();if(d>s.getRowCount()){i[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==s.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(h/3)!==s.getErrorCorrectionLevel()||h%3!==s.getRowCountLowerPart())&&(i[a]=null);break;case 2:h+1!==s.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class qr{constructor(i,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ce.MAX_CODEWORDS_IN_BARCODE,s;do s=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let a=this.detectionResultColumns[s].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&s[a]!=null&&i[a].getRowNumber()===s[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let h=this.detectionResultColumns[c].getCodewords()[a];h!=null&&(h.setRowNumber(i[a].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let c=s[a].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let m=this.detectionResultColumns[d].getCodewords()[a];m!=null&&(h=qr.adjustRowNumberIfValid(c,h,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,s=this.detectionResultColumns[0].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let c=s[a].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let m=this.detectionResultColumns[d].getCodewords()[a];m!=null&&(h=qr.adjustRowNumberIfValid(c,h,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,s,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),s=0):++s),s}adjustRowNumbers(i,s,a){if(!this.detectionResultColumns[i-1])return;let c=a[s],h=this.detectionResultColumns[i-1].getCodewords(),d=h;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=h[s],m[3]=d[s],s>0&&(m[0]=a[s-1],m[4]=h[s-1],m[5]=d[s-1]),s>1&&(m[8]=a[s-2],m[10]=h[s-2],m[11]=d[s-2]),s<a.length-1&&(m[1]=a[s+1],m[6]=h[s+1],m[7]=d[s+1]),s<a.length-2&&(m[9]=a[s+2],m[12]=h[s+2],m[13]=d[s+2]);for(let w of m)if(qr.adjustRowNumber(c,w))return}static adjustRowNumber(i,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===i.getBucket()?(i.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,s){this.detectionResultColumns[i]=s}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new li;for(let a=0;a<i.getCodewords().length;a++){s.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){s.format("    |   ");continue}let h=this.detectionResultColumns[c].getCodewords()[a];if(h==null){s.format("    |   ");continue}s.format(" %3d|%3d",h.getRowNumber(),h.getValue())}s.format("%n")}return s.toString()}}class Cr{constructor(i,s,a,c){this.rowNumber=Cr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Cr.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Cr.BARCODE_ROW_UNKNOWN=-1;class Sn{static initialize(){for(let i=0;i<Ce.SYMBOL_TABLE.length;i++){let s=Ce.SYMBOL_TABLE[i],a=s&1;for(let c=0;c<Ce.BARS_IN_MODULE;c++){let h=0;for(;(s&1)===a;)h+=1,s>>=1;a=s&1,Sn.RATIOS_TABLE[i]||(Sn.RATIOS_TABLE[i]=new Array(Ce.BARS_IN_MODULE)),Sn.RATIOS_TABLE[i][Ce.BARS_IN_MODULE-c-1]=Math.fround(h/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let s=Sn.getDecodedCodewordValue(Sn.sampleBitCounts(i));return s!==-1?s:Sn.getClosestDecodedValue(i)}static sampleBitCounts(i){let s=rt.sum(i),a=new Int32Array(Ce.BARS_IN_MODULE),c=0,h=0;for(let d=0;d<Ce.MODULES_IN_CODEWORD;d++){let m=s/(2*Ce.MODULES_IN_CODEWORD)+d*s/Ce.MODULES_IN_CODEWORD;h+i[c]<=m&&(h+=i[c],c++),a[c]++}return a}static getDecodedCodewordValue(i){let s=Sn.getBitValue(i);return Ce.getCodeword(s)===-1?-1:s}static getBitValue(i){let s=0;for(let a=0;a<i.length;a++)for(let c=0;c<i[a];c++)s=s<<1|(a%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(i){let s=rt.sum(i),a=new Array(Ce.BARS_IN_MODULE);if(s>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(i[d]/s);let c=Ls.MAX_VALUE,h=-1;this.bSymbolTableReady||Sn.initialize();for(let d=0;d<Sn.RATIOS_TABLE.length;d++){let m=0,w=Sn.RATIOS_TABLE[d];for(let _=0;_<Ce.BARS_IN_MODULE;_++){let b=Math.fround(w[_]-a[_]);if(m+=Math.fround(b*b),m>=c)break}m<c&&(c=m,h=Ce.SYMBOL_TABLE[d])}return h}}Sn.bSymbolTableReady=!1,Sn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(N=>new Array(Ce.BARS_IN_MODULE));class Ba{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class et{static parseLong(i,s=void 0){return parseInt(i,s)}}class pc extends x{}pc.kind="NullPointerException";class ci{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,s,a){if(i==null)throw new pc;if(s<0||s>i.length||a<0||s+a>i.length||s+a<0)throw new V;if(a===0)return;for(let c=0;c<a;c++)this.write(i[s+c])}flush(){}close(){}}class Zs extends x{}class mc extends ci{constructor(i=32){if(super(),this.count=0,i<0)throw new E("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Zs;a=D.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,s,a){if(s<0||s>i.length||a<0||s+a-i.length>0)throw new V;this.ensureCapacity(this.count+a),B.arraycopy(i,s,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var mt;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(mt||(mt={}));function No(){if(typeof window<"u")return window.BigInt||null;if(typeof Do<"u")return Do.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Mo;function Zi(N){if(typeof Mo>"u"&&(Mo=No()),Mo===null)throw new Error("BigInt is not supported!");return Mo(N)}function Lh(){let N=[];N[0]=Zi(1);let i=Zi(900);N[1]=i;for(let s=2;s<16;s++)N[s]=N[s-1]*i;return N}class se{static decode(i,s){let a=new De(""),c=$.ISO8859_1;a.enableDecoding(c);let h=1,d=i[h++],m=new Ba;for(;h<i[0];){switch(d){case se.TEXT_COMPACTION_MODE_LATCH:h=se.textCompaction(i,h,a);break;case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:h=se.byteCompaction(d,i,c,h,a);break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[h++]);break;case se.NUMERIC_COMPACTION_MODE_LATCH:h=se.numericCompaction(i,h,a);break;case se.ECI_CHARSET:$.getCharacterSetECIByValue(i[h++]);break;case se.ECI_GENERAL_PURPOSE:h+=2;break;case se.ECI_USER_DEFINED:h++;break;case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=se.decodeMacroBlock(i,h,m);break;case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:throw new K;default:h--,h=se.textCompaction(i,h,a);break}if(h<i.length)d=i[h++];else throw K.getFormatInstance()}if(a.length()===0)throw K.getFormatInstance();let w=new Yn(null,a.toString(),null,s);return w.setOther(m),w}static decodeMacroBlock(i,s,a){if(s+se.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw K.getFormatInstance();let c=new Int32Array(se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<se.NUMBER_OF_SEQUENCE_CODEWORDS;m++,s++)c[m]=i[s];a.setSegmentIndex(D.parseInt(se.decodeBase900toBase10(c,se.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new De;s=se.textCompaction(i,s,h),a.setFileId(h.toString());let d=-1;for(i[s]===se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=s+1);s<i[0];)switch(i[s]){case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,i[s]){case se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new De;s=se.textCompaction(i,s+1,m),a.setFileName(m.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new De;s=se.textCompaction(i,s+1,w),a.setSender(w.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new De;s=se.textCompaction(i,s+1,_),a.setAddressee(_.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new De;s=se.numericCompaction(i,s+1,b),a.setSegmentCount(D.parseInt(b.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new De;s=se.numericCompaction(i,s+1,M),a.setTimestamp(et.parseLong(M.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new De;s=se.numericCompaction(i,s+1,R),a.setChecksum(D.parseInt(R.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new De;s=se.numericCompaction(i,s+1,U),a.setFileSize(et.parseLong(U.toString()));break;default:throw K.getFormatInstance()}break;case se.MACRO_PDF417_TERMINATOR:s++,a.setLastSegment(!0);break;default:throw K.getFormatInstance()}if(d!==-1){let m=s-d;a.isLastSegment()&&m--,a.setOptionalData(F.copyOfRange(i,d,d+m))}return s}static textCompaction(i,s,a){let c=new Int32Array((i[0]-s)*2),h=new Int32Array((i[0]-s)*2),d=0,m=!1;for(;s<i[0]&&!m;){let w=i[s++];if(w<se.TEXT_COMPACTION_MODE_LATCH)c[d]=w/30,c[d+1]=w%30,d+=2;else switch(w){case se.TEXT_COMPACTION_MODE_LATCH:c[d++]=se.TEXT_COMPACTION_MODE_LATCH;break;case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:s--,m=!0;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=i[s++],h[d]=w,d++;break}}return se.decodeTextCompaction(c,h,d,a),s}static decodeTextCompaction(i,s,a,c){let h=mt.ALPHA,d=mt.ALPHA,m=0;for(;m<a;){let w=i[m],_="";switch(h){case mt.ALPHA:if(w<26)_=String.fromCharCode(65+w);else switch(w){case 26:_=" ";break;case se.LL:h=mt.LOWER;break;case se.ML:h=mt.MIXED;break;case se.PS:d=h,h=mt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case se.TEXT_COMPACTION_MODE_LATCH:h=mt.ALPHA;break}break;case mt.LOWER:if(w<26)_=String.fromCharCode(97+w);else switch(w){case 26:_=" ";break;case se.AS:d=h,h=mt.ALPHA_SHIFT;break;case se.ML:h=mt.MIXED;break;case se.PS:d=h,h=mt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case se.TEXT_COMPACTION_MODE_LATCH:h=mt.ALPHA;break}break;case mt.MIXED:if(w<se.PL)_=se.MIXED_CHARS[w];else switch(w){case se.PL:h=mt.PUNCT;break;case 26:_=" ";break;case se.LL:h=mt.LOWER;break;case se.AL:h=mt.ALPHA;break;case se.PS:d=h,h=mt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case se.TEXT_COMPACTION_MODE_LATCH:h=mt.ALPHA;break}break;case mt.PUNCT:if(w<se.PAL)_=se.PUNCT_CHARS[w];else switch(w){case se.PAL:h=mt.ALPHA;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case se.TEXT_COMPACTION_MODE_LATCH:h=mt.ALPHA;break}break;case mt.ALPHA_SHIFT:if(h=d,w<26)_=String.fromCharCode(65+w);else switch(w){case 26:_=" ";break;case se.TEXT_COMPACTION_MODE_LATCH:h=mt.ALPHA;break}break;case mt.PUNCT_SHIFT:if(h=d,w<se.PAL)_=se.PUNCT_CHARS[w];else switch(w){case se.PAL:h=mt.ALPHA;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case se.TEXT_COMPACTION_MODE_LATCH:h=mt.ALPHA;break}break}_!==""&&c.append(_),m++}}static byteCompaction(i,s,a,c,h){let d=new mc,m=0,w=0,_=!1;switch(i){case se.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),M=s[c++];for(;c<s[0]&&!_;)switch(b[m++]=M,w=900*w+M,M=s[c++],M){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:c--,_=!0;break;default:if(m%5===0&&m>0){for(let R=0;R<6;++R)d.write(Number(Zi(w)>>Zi(8*(5-R))));w=0,m=0}break}c===s[0]&&M<se.TEXT_COMPACTION_MODE_LATCH&&(b[m++]=M);for(let R=0;R<m;R++)d.write(b[R]);break;case se.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!_;){let R=s[c++];if(R<se.TEXT_COMPACTION_MODE_LATCH)m++,w=900*w+R;else switch(R){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:c--,_=!0;break}if(m%5===0&&m>0){for(let U=0;U<6;++U)d.write(Number(Zi(w)>>Zi(8*(5-U))));w=0,m=0}}break}return h.append(Pe.decode(d.toByteArray(),a)),c}static numericCompaction(i,s,a){let c=0,h=!1,d=new Int32Array(se.MAX_NUMERIC_CODEWORDS);for(;s<i[0]&&!h;){let m=i[s++];if(s===i[0]&&(h=!0),m<se.TEXT_COMPACTION_MODE_LATCH)d[c]=m,c++;else switch(m){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:s--,h=!0;break}(c%se.MAX_NUMERIC_CODEWORDS===0||m===se.NUMERIC_COMPACTION_MODE_LATCH||h)&&c>0&&(a.append(se.decodeBase900toBase10(d,c)),c=0)}return s}static decodeBase900toBase10(i,s){let a=Zi(0);for(let h=0;h<s;h++)a+=se.EXP900[s-h-1]*Zi(i[h]);let c=a.toString();if(c.charAt(0)!=="1")throw new K;return c.substring(1)}}se.TEXT_COMPACTION_MODE_LATCH=900,se.BYTE_COMPACTION_MODE_LATCH=901,se.NUMERIC_COMPACTION_MODE_LATCH=902,se.BYTE_COMPACTION_MODE_LATCH_6=924,se.ECI_USER_DEFINED=925,se.ECI_GENERAL_PURPOSE=926,se.ECI_CHARSET=927,se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,se.MACRO_PDF417_TERMINATOR=922,se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,se.MAX_NUMERIC_CODEWORDS=15,se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,se.PL=25,se.LL=27,se.AS=27,se.ML=28,se.AL=28,se.PS=29,se.PAL=29,se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",se.EXP900=No()?Lh():[],se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xe{constructor(){}static decode(i,s,a,c,h,d,m){let w=new ai(i,s,a,c,h),_=null,b=null,M;for(let G=!0;;G=!1){if(s!=null&&(_=Xe.getRowIndicatorColumn(i,w,s,!0,d,m)),c!=null&&(b=Xe.getRowIndicatorColumn(i,w,c,!1,d,m)),M=Xe.merge(_,b),M==null)throw re.getNotFoundInstance();let Y=M.getBoundingBox();if(G&&Y!=null&&(Y.getMinY()<w.getMinY()||Y.getMaxY()>w.getMaxY()))w=Y;else break}M.setBoundingBox(w);let R=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,_),M.setDetectionResultColumn(R,b);let U=_!=null;for(let G=1;G<=R;G++){let Y=U?G:R-G;if(M.getDetectionResultColumn(Y)!==void 0)continue;let q;Y===0||Y===R?q=new dc(w,Y===0):q=new Xr(w),M.setDetectionResultColumn(Y,q);let te=-1,me=te;for(let ge=w.getMinY();ge<=w.getMaxY();ge++){if(te=Xe.getStartColumn(M,Y,ge,U),te<0||te>w.getMaxX()){if(me===-1)continue;te=me}let pe=Xe.detectCodeword(i,w.getMinX(),w.getMaxX(),U,te,ge,d,m);pe!=null&&(q.setCodeword(ge,pe),me=te,d=Math.min(d,pe.getWidth()),m=Math.max(m,pe.getWidth()))}}return Xe.createDecoderResult(M)}static merge(i,s){if(i==null&&s==null)return null;let a=Xe.getBarcodeMetadata(i,s);if(a==null)return null;let c=ai.merge(Xe.adjustBoundingBox(i),Xe.adjustBoundingBox(s));return new qr(a,c)}static adjustBoundingBox(i){if(i==null)return null;let s=i.getRowHeights();if(s==null)return null;let a=Xe.getMax(s),c=0;for(let m of s)if(c+=a-m,m>0)break;let h=i.getCodewords();for(let m=0;c>0&&h[m]==null;m++)c--;let d=0;for(let m=s.length-1;m>=0&&(d+=a-s[m],!(s[m]>0));m--);for(let m=h.length-1;d>0&&h[m]==null;m--)d--;return i.getBoundingBox().addMissingRows(c,d,i.isLeft())}static getMax(i){let s=-1;for(let a of i)s=Math.max(s,a);return s}static getBarcodeMetadata(i,s){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let c;return s==null||(c=s.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(i,s,a,c,h,d){let m=new dc(s,c);for(let w=0;w<2;w++){let _=w===0?1:-1,b=Math.trunc(Math.trunc(a.getX()));for(let M=Math.trunc(Math.trunc(a.getY()));M<=s.getMaxY()&&M>=s.getMinY();M+=_){let R=Xe.detectCodeword(i,0,i.getWidth(),c,b,M,h,d);R!=null&&(m.setCodeword(M,R),c?b=R.getStartX():b=R.getEndX())}}return m}static adjustCodewordCount(i,s){let a=s[0][1],c=a.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Xe.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(h<1||h>Ce.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();a.setValue(h)}else c[0]!==h&&a.setValue(h)}static createDecoderResult(i){let s=Xe.createBarcodeMatrix(i);Xe.adjustCodewordCount(i,s);let a=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],d=new Array;for(let w=0;w<i.getBarcodeRowCount();w++)for(let _=0;_<i.getBarcodeColumnCount();_++){let b=s[w][_+1].getValue(),M=w*i.getBarcodeColumnCount()+_;b.length===0?a.push(M):b.length===1?c[M]=b[0]:(d.push(M),h.push(b))}let m=new Array(h.length);for(let w=0;w<m.length;w++)m[w]=h[w];return Xe.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,Ce.toIntArray(a),Ce.toIntArray(d),m)}static createDecoderResultFromAmbiguousValues(i,s,a,c,h){let d=new Int32Array(c.length),m=100;for(;m-- >0;){for(let w=0;w<d.length;w++)s[c[w]]=h[w][d[w]];try{return Xe.decodeCodewords(s,i,a)}catch(w){if(!(w instanceof O))throw w}if(d.length===0)throw O.getChecksumInstance();for(let w=0;w<d.length;w++)if(d[w]<h[w].length-1){d[w]++;break}else if(d[w]=0,w===d.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(i){let s=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let h=0;h<s[c].length;h++)s[c][h]=new Kr;let a=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let h of c.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=s.length)continue;s[d][a].setValue(h.getValue())}}}a++}return s}static isValidBarcodeColumn(i,s){return s>=0&&s<=i.getBarcodeColumnCount()+1}static getStartColumn(i,s,a,c){let h=c?1:-1,d=null;if(Xe.isValidBarcodeColumn(i,s-h)&&(d=i.getDetectionResultColumn(s-h).getCodeword(a)),d!=null)return c?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(s).getCodewordNearby(a),d!=null)return c?d.getStartX():d.getEndX();if(Xe.isValidBarcodeColumn(i,s-h)&&(d=i.getDetectionResultColumn(s-h).getCodewordNearby(a)),d!=null)return c?d.getEndX():d.getStartX();let m=0;for(;Xe.isValidBarcodeColumn(i,s-h);){s-=h;for(let w of i.getDetectionResultColumn(s).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+h*m*(w.getEndX()-w.getStartX());m++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,s,a,c,h,d,m,w){h=Xe.adjustCodewordStartColumn(i,s,a,c,h,d);let _=Xe.getModuleBitCount(i,s,a,c,h,d);if(_==null)return null;let b,M=rt.sum(_);if(c)b=h+M;else{for(let G=0;G<_.length/2;G++){let Y=_[G];_[G]=_[_.length-1-G],_[_.length-1-G]=Y}b=h,h=b-M}if(!Xe.checkCodewordSkew(M,m,w))return null;let R=Sn.getDecodedValue(_),U=Ce.getCodeword(R);return U===-1?null:new Cr(h,b,Xe.getCodewordBucketNumber(R),U)}static getModuleBitCount(i,s,a,c,h,d){let m=h,w=new Int32Array(8),_=0,b=c?1:-1,M=c;for(;(c?m<a:m>=s)&&_<w.length;)i.get(m,d)===M?(w[_]++,m+=b):(_++,M=!M);return _===w.length||m===(c?a:s)&&_===w.length-1?w:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,s,a,c,h,d){let m=h,w=c?-1:1;for(let _=0;_<2;_++){for(;(c?m>=s:m<a)&&c===i.get(m,d);){if(Math.abs(h-m)>Xe.CODEWORD_SKEW_SIZE)return h;m+=w}w=-w,c=!c}return m}static checkCodewordSkew(i,s,a){return s-Xe.CODEWORD_SKEW_SIZE<=i&&i<=a+Xe.CODEWORD_SKEW_SIZE}static decodeCodewords(i,s,a){if(i.length===0)throw K.getFormatInstance();let c=1<<s+1,h=Xe.correctErrors(i,a,c);Xe.verifyCodewordCount(i,c);let d=se.decode(i,""+s);return d.setErrorsCorrected(h),d.setErasures(a.length),d}static correctErrors(i,s,a){if(s!=null&&s.length>a/2+Xe.MAX_ERRORS||a<0||a>Xe.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return Xe.errorCorrection.decode(i,a,s)}static verifyCodewordCount(i,s){if(i.length<4)throw K.getFormatInstance();let a=i[0];if(a>i.length)throw K.getFormatInstance();if(a===0)if(s<i.length)i[0]=i.length-s;else throw K.getFormatInstance()}static getBitCountForCodeword(i){let s=new Int32Array(8),a=0,c=s.length-1;for(;!((i&1)!==a&&(a=i&1,c--,c<0));)s[c]++,i>>=1;return s}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Xe.getCodewordBucketNumber(Xe.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let s=new li;for(let a=0;a<i.length;a++){s.format("Row %2d: ",a);for(let c=0;c<i[a].length;c++){let h=i[a][c];h.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}s.format("%n")}return s.toString()}}Xe.CODEWORD_SKEW_SIZE=2,Xe.MAX_ERRORS=3,Xe.MAX_EC_CODEWORDS=512,Xe.errorCorrection=new Io;class an{decode(i,s=null){let a=an.decode(i,s,!1);if(a==null||a.length===0||a[0]==null)throw re.getNotFoundInstance();return a[0]}decodeMultiple(i,s=null){try{return an.decode(i,s,!0)}catch(a){throw a instanceof K||a instanceof O?re.getNotFoundInstance():a}}static decode(i,s,a){const c=new Array,h=Ge.detectMultiple(i,s,a);for(const d of h.getPoints()){const m=Xe.decode(h.getBits(),d[4],d[5],d[6],d[7],an.getMinCodewordWidth(d),an.getMaxCodewordWidth(d)),w=new Te(m.getText(),m.getRawBytes(),void 0,d,de.PDF_417);w.putMetadata(ft.ERROR_CORRECTION_LEVEL,m.getECLevel());const _=m.getOther();_!=null&&w.putMetadata(ft.PDF417_EXTRA_METADATA,_),c.push(w)}return c.map(d=>d)}static getMaxWidth(i,s){return i==null||s==null?0:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMinWidth(i,s){return i==null||s==null?D.MAX_VALUE:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(an.getMaxWidth(i[0],i[4]),an.getMaxWidth(i[6],i[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(an.getMaxWidth(i[1],i[5]),an.getMaxWidth(i[7],i[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(an.getMinWidth(i[0],i[4]),an.getMinWidth(i[6],i[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(an.getMinWidth(i[1],i[5]),an.getMinWidth(i[7],i[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fn extends x{}Fn.kind="ReaderException";class gc{constructor(i,s){this.verbose=i===!0,s&&this.setHints(s)}decode(i,s){return s&&this.setHints(s),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const s=!r(i)&&i.get(ie.TRY_HARDER)===!0,a=r(i)?null:i.get(ie.POSSIBLE_FORMATS),c=new Array;if(!r(a)){const h=a.some(d=>d===de.UPC_A||d===de.UPC_E||d===de.EAN_13||d===de.EAN_8||d===de.CODABAR||d===de.CODE_39||d===de.CODE_93||d===de.CODE_128||d===de.ITF||d===de.RSS_14||d===de.RSS_EXPANDED);h&&!s&&c.push(new sr(i,this.verbose)),a.includes(de.QR_CODE)&&c.push(new sn),a.includes(de.DATA_MATRIX)&&c.push(new pt),a.includes(de.AZTEC)&&c.push(new ks),a.includes(de.PDF_417)&&c.push(new an),h&&s&&c.push(new sr(i,this.verbose))}c.length===0&&(s||c.push(new sr(i,this.verbose)),c.push(new sn),c.push(new pt),c.push(new ks),c.push(new an),s&&c.push(new sr(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Fn("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(i,this.hints)}catch(a){if(a instanceof Fn)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class xc extends Be{constructor(i=null,s=500){const a=new gc;a.setHints(i),super(a,s)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class or extends Be{constructor(i=500){super(new an,i)}}class yc extends Be{constructor(i=500){super(new sn,i)}}var Oo;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(Oo||(Oo={}));var jt=Oo;class Fa{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new St(i,Int32Array.from([1])))}buildGenerator(i){const s=this.cachedGenerators;if(i>=s.length){let a=s[s.length-1];const c=this.field;for(let h=s.length;h<=i;h++){const d=a.multiply(new St(c,Int32Array.from([1,c.exp(h-1+c.getGeneratorBase())])));s.push(d),a=d}}return s[i]}encode(i,s){if(s===0)throw new E("No error correction bytes");const a=i.length-s;if(a<=0)throw new E("No data bytes provided");const c=this.buildGenerator(s),h=new Int32Array(a);B.arraycopy(i,0,h,0,a);let d=new St(this.field,h);d=d.multiplyByMonomial(s,1);const w=d.divide(c)[1].getCoefficients(),_=s-w.length;for(let b=0;b<_;b++)i[a+b]=0;B.arraycopy(w,0,i,a+_,w.length)}}class Rt{constructor(){}static applyMaskPenaltyRule1(i){return Rt.applyMaskPenaltyRule1Internal(i,!0)+Rt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0;const a=i.getArray(),c=i.getWidth(),h=i.getHeight();for(let d=0;d<h-1;d++){const m=a[d];for(let w=0;w<c-1;w++){const _=m[w];_===m[w+1]&&_===a[d+1][w]&&_===a[d+1][w+1]&&s++}}return Rt.N2*s}static applyMaskPenaltyRule3(i){let s=0;const a=i.getArray(),c=i.getWidth(),h=i.getHeight();for(let d=0;d<h;d++)for(let m=0;m<c;m++){const w=a[d];m+6<c&&w[m]===1&&w[m+1]===0&&w[m+2]===1&&w[m+3]===1&&w[m+4]===1&&w[m+5]===0&&w[m+6]===1&&(Rt.isWhiteHorizontal(w,m-4,m)||Rt.isWhiteHorizontal(w,m+7,m+11))&&s++,d+6<h&&a[d][m]===1&&a[d+1][m]===0&&a[d+2][m]===1&&a[d+3][m]===1&&a[d+4][m]===1&&a[d+5][m]===0&&a[d+6][m]===1&&(Rt.isWhiteVertical(a,m,d-4,d)||Rt.isWhiteVertical(a,m,d+7,d+11))&&s++}return s*Rt.N3}static isWhiteHorizontal(i,s,a){s=Math.max(s,0),a=Math.min(a,i.length);for(let c=s;c<a;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,s,a,c){a=Math.max(a,0),c=Math.min(c,i.length);for(let h=a;h<c;h++)if(i[h][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0;const a=i.getArray(),c=i.getWidth(),h=i.getHeight();for(let w=0;w<h;w++){const _=a[w];for(let b=0;b<c;b++)_[b]===1&&s++}const d=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-d)*10/d)*Rt.N4}static getDataMaskBit(i,s,a){let c,h;switch(i){case 0:c=a+s&1;break;case 1:c=a&1;break;case 2:c=s%3;break;case 3:c=(a+s)%3;break;case 4:c=Math.floor(a/2)+Math.floor(s/3)&1;break;case 5:h=a*s,c=(h&1)+h%3;break;case 6:h=a*s,c=(h&1)+h%3&1;break;case 7:h=a*s,c=h%3+(a+s&1)&1;break;default:throw new E("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,s){let a=0;const c=s?i.getHeight():i.getWidth(),h=s?i.getWidth():i.getHeight(),d=i.getArray();for(let m=0;m<c;m++){let w=0,_=-1;for(let b=0;b<h;b++){const M=s?d[m][b]:d[b][m];M===_?w++:(w>=5&&(a+=Rt.N1+(w-5)),w=1,_=M)}w>=5&&(a+=Rt.N1+(w-5))}return a}}Rt.N1=3,Rt.N2=3,Rt.N3=40,Rt.N4=10;class Gs{constructor(i,s){this.width=i,this.height=s;const a=new Array(s);for(let c=0;c!==s;c++)a[c]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,s){return this.bytes[s][i]}getArray(){return this.bytes}setNumber(i,s,a){this.bytes[s][i]=a}setBoolean(i,s,a){this.bytes[s][i]=a?1:0}clear(i){for(const s of this.bytes)F.fill(s,i)}equals(i){if(!(i instanceof Gs))return!1;const s=i;if(this.width!==s.width||this.height!==s.height)return!1;for(let a=0,c=this.height;a<c;++a){const h=this.bytes[a],d=s.bytes[a];for(let m=0,w=this.width;m<w;++m)if(h[m]!==d[m])return!1}return!0}toString(){const i=new De;for(let s=0,a=this.height;s<a;++s){const c=this.bytes[s];for(let h=0,d=this.width;h<d;++h)switch(c[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Er{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new De;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Er.NUM_MASK_PATTERNS}}Er.NUM_MASK_PATTERNS=8;class xt extends x{}xt.kind="WriterException";class je{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,s,a,c,h){je.clearMatrix(h),je.embedBasicPatterns(a,h),je.embedTypeInfo(s,c,h),je.maybeEmbedVersionInfo(a,h),je.embedDataBits(i,c,h)}static embedBasicPatterns(i,s){je.embedPositionDetectionPatternsAndSeparators(s),je.embedDarkDotAtLeftBottomCorner(s),je.maybeEmbedPositionAdjustmentPatterns(i,s),je.embedTimingPatterns(s)}static embedTypeInfo(i,s,a){const c=new Z;je.makeTypeInfoBits(i,s,c);for(let h=0,d=c.getSize();h<d;++h){const m=c.get(c.getSize()-1-h),w=je.TYPE_INFO_COORDINATES[h],_=w[0],b=w[1];if(a.setBoolean(_,b,m),h<8){const M=a.getWidth()-h-1;a.setBoolean(M,8,m)}else{const R=a.getHeight()-7+(h-8);a.setBoolean(8,R,m)}}}static maybeEmbedVersionInfo(i,s){if(i.getVersionNumber()<7)return;const a=new Z;je.makeVersionInfoBits(i,a);let c=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const m=a.get(c);c--,s.setBoolean(h,s.getHeight()-11+d,m),s.setBoolean(s.getHeight()-11+d,h,m)}}static embedDataBits(i,s,a){let c=0,h=-1,d=a.getWidth()-1,m=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);m>=0&&m<a.getHeight();){for(let w=0;w<2;++w){const _=d-w;if(!je.isEmpty(a.get(_,m)))continue;let b;c<i.getSize()?(b=i.get(c),++c):b=!1,s!==255&&Rt.getDataMaskBit(s,_,m)&&(b=!b),a.setBoolean(_,m,b)}m+=h}h=-h,m+=h,d-=2}if(c!==i.getSize())throw new xt("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-D.numberOfLeadingZeros(i)}static calculateBCHCode(i,s){if(s===0)throw new E("0 polynomial");const a=je.findMSBSet(s);for(i<<=a-1;je.findMSBSet(i)>=a;)i^=s<<je.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,s,a){if(!Er.isValidMaskPattern(s))throw new xt("Invalid mask pattern");const c=i.getBits()<<3|s;a.appendBits(c,5);const h=je.calculateBCHCode(c,je.TYPE_INFO_POLY);a.appendBits(h,10);const d=new Z;if(d.appendBits(je.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new xt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,s){s.appendBits(i.getVersionNumber(),6);const a=je.calculateBCHCode(i.getVersionNumber(),je.VERSION_INFO_POLY);if(s.appendBits(a,12),s.getSize()!==18)throw new xt("should not happen but we got: "+s.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let s=8;s<i.getWidth()-8;++s){const a=(s+1)%2;je.isEmpty(i.get(s,6))&&i.setNumber(s,6,a),je.isEmpty(i.get(6,s))&&i.setNumber(6,s,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new xt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,s,a){for(let c=0;c<8;++c){if(!je.isEmpty(a.get(i+c,s)))throw new xt;a.setNumber(i+c,s,0)}}static embedVerticalSeparationPattern(i,s,a){for(let c=0;c<7;++c){if(!je.isEmpty(a.get(i,s+c)))throw new xt;a.setNumber(i,s+c,0)}}static embedPositionAdjustmentPattern(i,s,a){for(let c=0;c<5;++c){const h=je.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)a.setNumber(i+d,s+c,h[d])}}static embedPositionDetectionPattern(i,s,a){for(let c=0;c<7;++c){const h=je.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)a.setNumber(i+d,s+c,h[d])}}static embedPositionDetectionPatternsAndSeparators(i){const s=je.POSITION_DETECTION_PATTERN[0].length;je.embedPositionDetectionPattern(0,0,i),je.embedPositionDetectionPattern(i.getWidth()-s,0,i),je.embedPositionDetectionPattern(0,i.getWidth()-s,i);const a=8;je.embedHorizontalSeparationPattern(0,a-1,i),je.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),je.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const c=7;je.embedVerticalSeparationPattern(c,0,i),je.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),je.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,s){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,c=je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let h=0,d=c.length;h!==d;h++){const m=c[h];if(m>=0)for(let w=0;w!==d;w++){const _=c[w];_>=0&&je.isEmpty(s.get(_,m))&&je.embedPositionAdjustmentPattern(_-2,m-2,s)}}}}je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),je.VERSION_INFO_POLY=7973,je.TYPE_INFO_POLY=1335,je.TYPE_INFO_MASK_PATTERN=21522;class Dh{constructor(i,s){this.dataBytes=i,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ct{constructor(){}static calculateMaskPenalty(i){return Rt.applyMaskPenaltyRule1(i)+Rt.applyMaskPenaltyRule2(i)+Rt.applyMaskPenaltyRule3(i)+Rt.applyMaskPenaltyRule4(i)}static encode(i,s,a=null){let c=Ct.DEFAULT_BYTE_MODE_ENCODING;const h=a!==null&&a.get(jt.CHARACTER_SET)!==void 0;h&&(c=a.get(jt.CHARACTER_SET).toString());const d=this.chooseMode(i,c),m=new Z;if(d===Fe.BYTE&&(h||Ct.DEFAULT_BYTE_MODE_ENCODING!==c)){const ge=$.getCharacterSetECIByName(c);ge!==void 0&&this.appendECI(ge,m)}this.appendModeInfo(d,m);const w=new Z;this.appendBytes(i,d,w,c);let _;if(a!==null&&a.get(jt.QR_VERSION)!==void 0){const ge=Number.parseInt(a.get(jt.QR_VERSION).toString(),10);_=_e.getVersionForNumber(ge);const pe=this.calculateBitsNeeded(d,m,w,_);if(!this.willFit(pe,_,s))throw new xt("Data too big for requested version")}else _=this.recommendVersion(s,d,m,w);const b=new Z;b.appendBitArray(m);const M=d===Fe.BYTE?w.getSizeInBytes():i.length;this.appendLengthInfo(M,_,d,b),b.appendBitArray(w);const R=_.getECBlocksForLevel(s),U=_.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(U,b);const G=this.interleaveWithECBytes(b,_.getTotalCodewords(),U,R.getNumBlocks()),Y=new Er;Y.setECLevel(s),Y.setMode(d),Y.setVersion(_);const q=_.getDimensionForVersion(),te=new Gs(q,q),me=this.chooseMaskPattern(G,s,_,te);return Y.setMaskPattern(me),je.buildMatrix(G,s,_,me,te),Y.setMatrix(te),Y}static recommendVersion(i,s,a,c){const h=this.calculateBitsNeeded(s,a,c,_e.getVersionForNumber(1)),d=this.chooseVersion(h,i),m=this.calculateBitsNeeded(s,a,c,d);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,s,a,c){return s.getSize()+i.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(i){return i<Ct.ALPHANUMERIC_TABLE.length?Ct.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,s=null){if($.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(i))return Fe.KANJI;let a=!1,c=!1;for(let h=0,d=i.length;h<d;++h){const m=i.charAt(h);if(Ct.isDigit(m))a=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)c=!0;else return Fe.BYTE}return c?Fe.ALPHANUMERIC:a?Fe.NUMERIC:Fe.BYTE}static isOnlyDoubleByteKanji(i){let s;try{s=Pe.encode(i,$.SJIS)}catch{return!1}const a=s.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const h=s[c]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,s,a,c){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let m=0;m<Er.NUM_MASK_PATTERNS;m++){je.buildMatrix(i,s,a,m,c);let w=this.calculateMaskPenalty(c);w<h&&(h=w,d=m)}return d}static chooseVersion(i,s){for(let a=1;a<=40;a++){const c=_e.getVersionForNumber(a);if(Ct.willFit(i,c,s))return c}throw new xt("Data too big")}static willFit(i,s,a){const c=s.getTotalCodewords(),d=s.getECBlocksForLevel(a).getTotalECCodewords(),m=c-d,w=(i+7)/8;return m>=w}static terminateBits(i,s){const a=i*8;if(s.getSize()>a)throw new xt("data bits cannot fit in the QR Code"+s.getSize()+" > "+a);for(let d=0;d<4&&s.getSize()<a;++d)s.appendBit(!1);const c=s.getSize()&7;if(c>0)for(let d=c;d<8;d++)s.appendBit(!1);const h=i-s.getSizeInBytes();for(let d=0;d<h;++d)s.appendBits(d&1?17:236,8);if(s.getSize()!==a)throw new xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,s,a,c,h,d){if(c>=a)throw new xt("Block ID too large");const m=i%a,w=a-m,_=Math.floor(i/a),b=_+1,M=Math.floor(s/a),R=M+1,U=_-M,G=b-R;if(U!==G)throw new xt("EC bytes mismatch");if(a!==w+m)throw new xt("RS blocks mismatch");if(i!==(M+U)*w+(R+G)*m)throw new xt("Total bytes mismatch");c<w?(h[0]=M,d[0]=U):(h[0]=R,d[0]=G)}static interleaveWithECBytes(i,s,a,c){if(i.getSizeInBytes()!==a)throw new xt("Number of bits and data bytes does not match");let h=0,d=0,m=0;const w=new Array;for(let b=0;b<c;++b){const M=new Int32Array(1),R=new Int32Array(1);Ct.getNumDataBytesAndNumECBytesForBlockID(s,a,c,b,M,R);const U=M[0],G=new Uint8Array(U);i.toBytes(8*h,G,0,U);const Y=Ct.generateECBytes(G,R[0]);w.push(new Dh(G,Y)),d=Math.max(d,U),m=Math.max(m,Y.length),h+=M[0]}if(a!==h)throw new xt("Data bytes does not match offset");const _=new Z;for(let b=0;b<d;++b)for(const M of w){const R=M.getDataBytes();b<R.length&&_.appendBits(R[b],8)}for(let b=0;b<m;++b)for(const M of w){const R=M.getErrorCorrectionBytes();b<R.length&&_.appendBits(R[b],8)}if(s!==_.getSizeInBytes())throw new xt("Interleaving error: "+s+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(i,s){const a=i.length,c=new Int32Array(a+s);for(let d=0;d<a;d++)c[d]=i[d]&255;new Fa(it.QR_CODE_FIELD_256).encode(c,s);const h=new Uint8Array(s);for(let d=0;d<s;d++)h[d]=c[a+d];return h}static appendModeInfo(i,s){s.appendBits(i.getBits(),4)}static appendLengthInfo(i,s,a,c){const h=a.getCharacterCountBits(s);if(i>=1<<h)throw new xt(i+" is bigger than "+((1<<h)-1));c.appendBits(i,h)}static appendBytes(i,s,a,c){switch(s){case Fe.NUMERIC:Ct.appendNumericBytes(i,a);break;case Fe.ALPHANUMERIC:Ct.appendAlphanumericBytes(i,a);break;case Fe.BYTE:Ct.append8BitBytes(i,a,c);break;case Fe.KANJI:Ct.appendKanjiBytes(i,a);break;default:throw new xt("Invalid mode: "+s)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const s=Ct.getDigit(i);return s>=0&&s<=9}static appendNumericBytes(i,s){const a=i.length;let c=0;for(;c<a;){const h=Ct.getDigit(i.charAt(c));if(c+2<a){const d=Ct.getDigit(i.charAt(c+1)),m=Ct.getDigit(i.charAt(c+2));s.appendBits(h*100+d*10+m,10),c+=3}else if(c+1<a){const d=Ct.getDigit(i.charAt(c+1));s.appendBits(h*10+d,7),c+=2}else s.appendBits(h,4),c++}}static appendAlphanumericBytes(i,s){const a=i.length;let c=0;for(;c<a;){const h=Ct.getAlphanumericCode(i.charCodeAt(c));if(h===-1)throw new xt;if(c+1<a){const d=Ct.getAlphanumericCode(i.charCodeAt(c+1));if(d===-1)throw new xt;s.appendBits(h*45+d,11),c+=2}else s.appendBits(h,6),c++}}static append8BitBytes(i,s,a){let c;try{c=Pe.encode(i,a)}catch(h){throw new xt(h)}for(let h=0,d=c.length;h!==d;h++){const m=c[h];s.appendBits(m,8)}}static appendKanjiBytes(i,s){let a;try{a=Pe.encode(i,$.SJIS)}catch(h){throw new xt(h)}const c=a.length;for(let h=0;h<c;h+=2){const d=a[h]&255,m=a[h+1]&255,w=d<<8&4294967295|m;let _=-1;if(w>=33088&&w<=40956?_=w-33088:w>=57408&&w<=60351&&(_=w-49472),_===-1)throw new xt("Invalid byte sequence");const b=(_>>8)*192+(_&255);s.appendBits(b,13)}}static appendECI(i,s){s.appendBits(Fe.ECI.getBits(),4),s.appendBits(i.getValue(),8)}}Ct.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ct.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class ar{write(i,s,a,c=null){if(i.length===0)throw new E("Found empty contents");if(s<0||a<0)throw new E("Requested dimensions are too small: "+s+"x"+a);let h=Qe.L,d=ar.QUIET_ZONE_SIZE;c!==null&&(c.get(jt.ERROR_CORRECTION)!==void 0&&(h=Qe.fromString(c.get(jt.ERROR_CORRECTION).toString())),c.get(jt.MARGIN)!==void 0&&(d=Number.parseInt(c.get(jt.MARGIN).toString(),10)));const m=Ct.encode(i,h,c);return this.renderResult(m,s,a,d)}writeToDom(i,s,a,c,h=null){typeof i=="string"&&(i=document.querySelector(i));const d=this.write(s,a,c,h);i&&i.appendChild(d)}renderResult(i,s,a,c){const h=i.getMatrix();if(h===null)throw new si;const d=h.getWidth(),m=h.getHeight(),w=d+c*2,_=m+c*2,b=Math.max(s,w),M=Math.max(a,_),R=Math.min(Math.floor(b/w),Math.floor(M/_)),U=Math.floor((b-d*R)/2),G=Math.floor((M-m*R)/2),Y=this.createSVGElement(b,M);for(let q=0,te=G;q<m;q++,te+=R)for(let me=0,ge=U;me<d;me++,ge+=R)if(h.get(me,q)===1){const pe=this.createSvgRectElement(ge,te,R,R);Y.appendChild(pe)}return Y}createSVGElement(i,s){const a=document.createElementNS(ar.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",s.toString()),a}createSvgRectElement(i,s,a,c){const h=document.createElementNS(ar.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",s.toString()),h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",c.toString()),h.setAttributeNS(null,"fill","#000000"),h}}ar.QUIET_ZONE_SIZE=4,ar.SVG_NS="http://www.w3.org/2000/svg";class Gi{encode(i,s,a,c,h){if(i.length===0)throw new E("Found empty contents");if(s!==de.QR_CODE)throw new E("Can only encode QR_CODE, but got "+s);if(a<0||c<0)throw new E(`Requested dimensions are too small: ${a}x${c}`);let d=Qe.L,m=Gi.QUIET_ZONE_SIZE;h!==null&&(h.get(jt.ERROR_CORRECTION)!==void 0&&(d=Qe.fromString(h.get(jt.ERROR_CORRECTION).toString())),h.get(jt.MARGIN)!==void 0&&(m=Number.parseInt(h.get(jt.MARGIN).toString(),10)));const w=Ct.encode(i,d,h);return Gi.renderResult(w,a,c,m)}static renderResult(i,s,a,c){const h=i.getMatrix();if(h===null)throw new si;const d=h.getWidth(),m=h.getHeight(),w=d+c*2,_=m+c*2,b=Math.max(s,w),M=Math.max(a,_),R=Math.min(Math.floor(b/w),Math.floor(M/_)),U=Math.floor((b-d*R)/2),G=Math.floor((M-m*R)/2),Y=new ke(b,M);for(let q=0,te=G;q<m;q++,te+=R)for(let me=0,ge=U;me<d;me++,ge+=R)h.get(me,q)===1&&Y.setRegion(ge,te,R,R);return Y}}Gi.QUIET_ZONE_SIZE=4;class Ar{encode(i,s,a,c,h){let d;switch(s){case de.QR_CODE:d=new Gi;break;default:throw new E("No encoder available for format "+s)}return d.encode(i,s,a,c,h)}}class Ei extends ce{constructor(i,s,a,c,h,d,m,w){if(super(d,m),this.yuvData=i,this.dataWidth=s,this.dataHeight=a,this.left=c,this.top=h,c+d>s||h+m>a)throw new E("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(d,m)}getRow(i,s){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,c,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;const a=i*s,c=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return B.arraycopy(this.yuvData,h,c,0,a),c;for(let d=0;d<s;d++){const m=d*i;B.arraycopy(this.yuvData,h,c,m,i),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,s,a,c){return new Ei(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,a,c,!1)}renderThumbnail(){const i=this.getWidth()/Ei.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Ei.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*s),c=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<s;d++){const m=d*i;for(let w=0;w<i;w++){const _=c[h+w*Ei.THUMBNAIL_SCALE_FACTOR]&255;a[m+w]=4278190080|_*65793}h+=this.dataWidth*Ei.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Ei.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ei.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){const a=this.yuvData;for(let c=0,h=this.top*this.dataWidth+this.left;c<s;c++,h+=this.dataWidth){const d=h+i/2;for(let m=h,w=h+i-1;m<d;m++,w--){const _=a[m];a[m]=a[w],a[w]=_}}}invert(){return new X(this)}}Ei.THUMBNAIL_SCALE_FACTOR=2;class Sr extends ce{constructor(i,s,a,c,h,d,m){if(super(s,a),this.dataWidth=c,this.dataHeight=h,this.left=d,this.top=m,i.BYTES_PER_ELEMENT===4){const w=s*a,_=new Uint8ClampedArray(w);for(let b=0;b<w;b++){const M=i[b],R=M>>16&255,U=M>>7&510,G=M&255;_[b]=(R+U+G)/4&255}this.luminances=_}else this.luminances=i;if(c===void 0&&(this.dataWidth=s),h===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+a>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(i,s){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,c,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.luminances;const a=i*s,c=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return B.arraycopy(this.luminances,h,c,0,a),c;for(let d=0;d<s;d++){const m=d*i;B.arraycopy(this.luminances,h,c,m,i),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,s,a,c){return new Sr(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+i,this.top+s)}invert(){return new X(this)}}class jn extends ${static forName(i){return this.getCharacterSetECIByName(i)}}class Ro{}Ro.ISO_8859_1=$.ISO8859_1;class ja{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class wc{static singletonList(i){return[i]}static min(i,s){return i.sort(s)[0]}}class za{constructor(i){this.previous=i}getPrevious(){return this.previous}}class lr extends za{constructor(i,s,a){super(i),this.value=s,this.bitCount=a}appendTo(i,s){i.appendBits(this.value,this.bitCount)}add(i,s){return new lr(this,i,s)}addBinaryShift(i,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new lr(this,i,s)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+D.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Ua extends lr{constructor(i,s,a){super(i,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=a}appendTo(i,s){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(s[this.binaryShiftStart+a],8)}addBinaryShift(i,s){return new Ua(this,i,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function kh(N,i,s){return new Ua(N,i,s)}function Qr(N,i,s){return new lr(N,i,s)}const Bh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],en=0,Yi=1,Kn=2,Ai=3,Si=4,Jr=new lr(null,0,0),Va=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ys(N){for(let i of N)F.fill(i,-1);return N[en][Si]=0,N[Yi][Si]=0,N[Yi][en]=28,N[Ai][Si]=0,N[Kn][Si]=0,N[Kn][en]=15,N}const Ha=Ys(F.createInt32Array(6,6));class zn{constructor(i,s,a,c){this.token=i,this.mode=s,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,s){let a=this.bitCount,c=this.token;if(i!==this.mode){let d=Va[this.mode][i];c=Qr(c,d&65535,d>>16),a+=d>>16}let h=i===Kn?4:5;return c=Qr(c,s,h),new zn(c,i,0,a+h)}shiftAndAppend(i,s){let a=this.token,c=this.mode===Kn?4:5;return a=Qr(a,Ha[this.mode][i],c),a=Qr(a,s,5),new zn(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let s=this.token,a=this.mode,c=this.bitCount;if(this.mode===Si||this.mode===Kn){let m=Va[a][en];s=Qr(s,m&65535,m>>16),c+=m>>16,a=en}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new zn(s,a,this.binaryShiftByteCount+1,c+h);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=kh(s,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new zn(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let s=this.bitCount+(Va[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?s+=zn.calculateBinaryShiftCost(i)-zn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(s+=10),s<=i.bitCount}toBitArray(i){let s=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())s.unshift(c);let a=new Z;for(const c of s)c.appendTo(a,i);return a}toString(){return ye.format("%s bits=%d bytes=%d",Bh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}zn.INITIAL_STATE=new zn(Jr,en,0,0);function Fh(N){const i=ye.getCharCode(" "),s=ye.getCharCode("."),a=ye.getCharCode(",");N[en][i]=1;const c=ye.getCharCode("Z"),h=ye.getCharCode("A");for(let R=h;R<=c;R++)N[en][R]=R-h+2;N[Yi][i]=1;const d=ye.getCharCode("z"),m=ye.getCharCode("a");for(let R=m;R<=d;R++)N[Yi][R]=R-m+2;N[Kn][i]=1;const w=ye.getCharCode("9"),_=ye.getCharCode("0");for(let R=_;R<=w;R++)N[Kn][R]=R-_+2;N[Kn][a]=12,N[Kn][s]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<b.length;R++)N[Ai][ye.getCharCode(b[R])]=R;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<M.length;R++)ye.getCharCode(M[R])>0&&(N[Si][ye.getCharCode(M[R])]=R);return N}const bi=Fh(F.createInt32Array(5,256));class cr{constructor(i){this.text=i}encode(){const i=ye.getCharCode(" "),s=ye.getCharCode(`
`);let a=wc.singletonList(zn.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,m=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ye.getCharCode("\r"):d=m===s?2:0;break;case ye.getCharCode("."):d=m===i?3:0;break;case ye.getCharCode(","):d=m===i?4:0;break;case ye.getCharCode(":"):d=m===i?5:0;break;default:d=0}d>0?(a=cr.updateStateListForPair(a,h,d),h++):a=this.updateStateListForChar(a,h)}return wc.min(a,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,s){const a=[];for(let c of i)this.updateStateForChar(c,s,a);return cr.simplifyStates(a)}updateStateForChar(i,s,a){let c=this.text[s]&255,h=bi[i.getMode()][c]>0,d=null;for(let m=0;m<=Si;m++){let w=bi[m][c];if(w>0){if(d==null&&(d=i.endBinaryShift(s)),!h||m===i.getMode()||m===Kn){const _=d.latchAndAppend(m,w);a.push(_)}if(!h&&Ha[i.getMode()][m]>=0){const _=d.shiftAndAppend(m,w);a.push(_)}}}if(i.getBinaryShiftByteCount()>0||bi[i.getMode()][c]===0){let m=i.addBinaryShiftChar(s);a.push(m)}}static updateStateListForPair(i,s,a){const c=[];for(let h of i)this.updateStateForPair(h,s,a,c);return this.simplifyStates(c)}static updateStateForPair(i,s,a,c){let h=i.endBinaryShift(s);if(c.push(h.latchAndAppend(Si,a)),i.getMode()!==Si&&c.push(h.shiftAndAppend(Si,a)),a===3||a===4){let d=h.latchAndAppend(Kn,16-a).latchAndAppend(Kn,1);c.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(d)}}static simplifyStates(i){let s=[];for(const a of i){let c=!0;for(const h of s){if(h.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(h)&&(s=s.filter(d=>d!==h))}c&&s.push(a)}return s}}class st{constructor(){}static encodeBytes(i){return st.encode(i,st.DEFAULT_EC_PERCENT,st.DEFAULT_AZTEC_LAYERS)}static encode(i,s,a){let c=new cr(i).encode(),h=D.truncDivision(c.getSize()*s,100)+11,d=c.getSize()+h,m,w,_,b,M;if(a!==st.DEFAULT_AZTEC_LAYERS){if(m=a<0,w=Math.abs(a),w>(m?st.MAX_NB_BITS_COMPACT:st.MAX_NB_BITS))throw new E(ye.format("Illegal value %s for layers",a));_=st.totalBitsInLayer(w,m),b=st.WORD_SIZE[w];let pe=_-_%b;if(M=st.stuffBits(c,b),M.getSize()+h>pe)throw new E("Data to large for user specified layer");if(m&&M.getSize()>b*64)throw new E("Data to large for user specified layer")}else{b=0,M=null;for(let pe=0;;pe++){if(pe>st.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(m=pe<=3,w=m?pe+1:pe,_=st.totalBitsInLayer(w,m),d>_)continue;(M==null||b!==st.WORD_SIZE[w])&&(b=st.WORD_SIZE[w],M=st.stuffBits(c,b));let Je=_-_%b;if(!(m&&M.getSize()>b*64)&&M.getSize()+h<=Je)break}}let R=st.generateCheckWords(M,_,b),U=M.getSize()/b,G=st.generateModeMessage(m,w,U),Y=(m?11:14)+w*4,q=new Int32Array(Y),te;if(m){te=Y;for(let pe=0;pe<q.length;pe++)q[pe]=pe}else{te=Y+1+2*D.truncDivision(D.truncDivision(Y,2)-1,15);let pe=D.truncDivision(Y,2),Je=D.truncDivision(te,2);for(let Ye=0;Ye<pe;Ye++){let Pt=Ye+D.truncDivision(Ye,15);q[pe-Ye-1]=Je-Pt-1,q[pe+Ye]=Je+Pt+1}}let me=new ke(te);for(let pe=0,Je=0;pe<w;pe++){let Ye=(w-pe)*4+(m?9:12);for(let Pt=0;Pt<Ye;Pt++){let bn=Pt*2;for(let Tn=0;Tn<2;Tn++)R.get(Je+bn+Tn)&&me.set(q[pe*2+Tn],q[pe*2+Pt]),R.get(Je+Ye*2+bn+Tn)&&me.set(q[pe*2+Pt],q[Y-1-pe*2-Tn]),R.get(Je+Ye*4+bn+Tn)&&me.set(q[Y-1-pe*2-Tn],q[Y-1-pe*2-Pt]),R.get(Je+Ye*6+bn+Tn)&&me.set(q[Y-1-pe*2-Pt],q[pe*2+Tn])}Je+=Ye*8}if(st.drawModeMessage(me,m,te,G),m)st.drawBullsEye(me,D.truncDivision(te,2),5);else{st.drawBullsEye(me,D.truncDivision(te,2),7);for(let pe=0,Je=0;pe<D.truncDivision(Y,2)-1;pe+=15,Je+=16)for(let Ye=D.truncDivision(te,2)&1;Ye<te;Ye+=2)me.set(D.truncDivision(te,2)-Je,Ye),me.set(D.truncDivision(te,2)+Je,Ye),me.set(Ye,D.truncDivision(te,2)-Je),me.set(Ye,D.truncDivision(te,2)+Je)}let ge=new ja;return ge.setCompact(m),ge.setSize(te),ge.setLayers(w),ge.setCodeWords(U),ge.setMatrix(me),ge}static drawBullsEye(i,s,a){for(let c=0;c<a;c+=2)for(let h=s-c;h<=s+c;h++)i.set(h,s-c),i.set(h,s+c),i.set(s-c,h),i.set(s+c,h);i.set(s-a,s-a),i.set(s-a+1,s-a),i.set(s-a,s-a+1),i.set(s+a,s-a),i.set(s+a,s-a+1),i.set(s+a,s+a-1)}static generateModeMessage(i,s,a){let c=new Z;return i?(c.appendBits(s-1,2),c.appendBits(a-1,6),c=st.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(a-1,11),c=st.generateCheckWords(c,40,4)),c}static drawModeMessage(i,s,a,c){let h=D.truncDivision(a,2);if(s)for(let d=0;d<7;d++){let m=h-3+d;c.get(d)&&i.set(m,h-5),c.get(d+7)&&i.set(h+5,m),c.get(20-d)&&i.set(m,h+5),c.get(27-d)&&i.set(h-5,m)}else for(let d=0;d<10;d++){let m=h-5+d+D.truncDivision(d,5);c.get(d)&&i.set(m,h-7),c.get(d+10)&&i.set(h+7,m),c.get(29-d)&&i.set(m,h+7),c.get(39-d)&&i.set(h-7,m)}}static generateCheckWords(i,s,a){let c=i.getSize()/a,h=new Fa(st.getGF(a)),d=D.truncDivision(s,a),m=st.bitsToWords(i,a,d);h.encode(m,d-c);let w=s%a,_=new Z;_.appendBits(0,w);for(const b of Array.from(m))_.appendBits(b,a);return _}static bitsToWords(i,s,a){let c=new Int32Array(a),h,d;for(h=0,d=i.getSize()/s;h<d;h++){let m=0;for(let w=0;w<s;w++)m|=i.get(h*s+w)?1<<s-w-1:0;c[h]=m}return c}static getGF(i){switch(i){case 4:return it.AZTEC_PARAM;case 6:return it.AZTEC_DATA_6;case 8:return it.AZTEC_DATA_8;case 10:return it.AZTEC_DATA_10;case 12:return it.AZTEC_DATA_12;default:throw new E("Unsupported word size "+i)}}static stuffBits(i,s){let a=new Z,c=i.getSize(),h=(1<<s)-2;for(let d=0;d<c;d+=s){let m=0;for(let w=0;w<s;w++)(d+w>=c||i.get(d+w))&&(m|=1<<s-1-w);(m&h)===h?(a.appendBits(m&h,s),d--):m&h?a.appendBits(m,s):(a.appendBits(m|1,s),d--)}return a}static totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}st.DEFAULT_EC_PERCENT=33,st.DEFAULT_AZTEC_LAYERS=0,st.MAX_NB_BITS=32,st.MAX_NB_BITS_COMPACT=4,st.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $r{encode(i,s,a,c){return this.encodeWithHints(i,s,a,c,null)}encodeWithHints(i,s,a,c,h){let d=Ro.ISO_8859_1,m=st.DEFAULT_EC_PERCENT,w=st.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(jt.CHARACTER_SET)&&(d=jn.forName(h.get(jt.CHARACTER_SET).toString())),h.has(jt.ERROR_CORRECTION)&&(m=D.parseInt(h.get(jt.ERROR_CORRECTION).toString())),h.has(jt.AZTEC_LAYERS)&&(w=D.parseInt(h.get(jt.AZTEC_LAYERS).toString()))),$r.encodeLayers(i,s,a,c,d,m,w)}static encodeLayers(i,s,a,c,h,d,m){if(s!==de.AZTEC)throw new E("Can only encode AZTEC, but got "+s);let w=st.encode(ye.getBytes(i,h),d,m);return $r.renderResult(w,a,c)}static renderResult(i,s,a){let c=i.getMatrix();if(c==null)throw new si;let h=c.getWidth(),d=c.getHeight(),m=Math.max(s,h),w=Math.max(a,d),_=Math.min(m/h,w/d),b=(m-h*_)/2,M=(w-d*_)/2,R=new ke(m,w);for(let U=0,G=M;U<d;U++,G+=_)for(let Y=0,q=b;Y<h;Y++,q+=_)c.get(Y,U)&&R.setRegion(q,G,_,_);return R}}n.AbstractExpandedDecoder=bo,n.ArgumentException=A,n.ArithmeticException=ji,n.AztecCode=ja,n.AztecCodeReader=ks,n.AztecCodeWriter=$r,n.AztecDecoder=dt,n.AztecDetector=ba,n.AztecDetectorResult=Ea,n.AztecEncoder=st,n.AztecHighLevelEncoder=cr,n.AztecPoint=_n,n.BarcodeFormat=de,n.Binarizer=k,n.BinaryBitmap=I,n.BitArray=Z,n.BitMatrix=ke,n.BitSource=Yr,n.BrowserAztecCodeReader=Nh,n.BrowserBarcodeReader=zs,n.BrowserCodeReader=Be,n.BrowserDatamatrixCodeReader=Pa,n.BrowserMultiFormatReader=xc,n.BrowserPDF417Reader=or,n.BrowserQRCodeReader=yc,n.BrowserQRCodeSvgWriter=ar,n.CharacterSetECI=$,n.ChecksumException=O,n.Code128Reader=ve,n.Code39Reader=Zt,n.DataMatrixDecodedBitStreamParser=Bn,n.DataMatrixReader=pt,n.DecodeHintType=ie,n.DecoderResult=Yn,n.DefaultGridSampler=Sa,n.DetectorResult=Ds,n.EAN13Reader=ir,n.EncodeHintType=jt,n.Exception=x,n.FormatException=K,n.GenericGF=it,n.GenericGFPoly=St,n.GlobalHistogramBinarizer=Ae,n.GridSampler=Aa,n.GridSamplerInstance=Ui,n.HTMLCanvasElementLuminanceSource=ee,n.HybridBinarizer=Ne,n.ITFReader=gt,n.IllegalArgumentException=E,n.IllegalStateException=si,n.InvertedLuminanceSource=X,n.LuminanceSource=ce,n.MathUtils=rt,n.MultiFormatOneDReader=sr,n.MultiFormatReader=gc,n.MultiFormatWriter=Ar,n.NotFoundException=re,n.OneDReader=Ft,n.PDF417DecodedBitStreamParser=se,n.PDF417DecoderErrorCorrection=Io,n.PDF417Reader=an,n.PDF417ResultMetadata=Ba,n.PerspectiveTransform=Dn,n.PlanarYUVLuminanceSource=Ei,n.QRCodeByteMatrix=Gs,n.QRCodeDataMask=mn,n.QRCodeDecodedBitStreamParser=At,n.QRCodeDecoderErrorCorrectionLevel=Qe,n.QRCodeDecoderFormatInformation=pn,n.QRCodeEncoder=Ct,n.QRCodeEncoderQRCode=Er,n.QRCodeMaskUtil=Rt,n.QRCodeMatrixUtil=je,n.QRCodeMode=Fe,n.QRCodeReader=sn,n.QRCodeVersion=_e,n.QRCodeWriter=Gi,n.RGBLuminanceSource=Sr,n.RSS14Reader=kt,n.RSSExpandedReader=he,n.ReaderException=Fn,n.ReedSolomonDecoder=Wr,n.ReedSolomonEncoder=Fa,n.ReedSolomonException=Hr,n.Result=Te,n.ResultMetadataType=ft,n.ResultPoint=Oe,n.StringUtils=ye,n.UnsupportedOperationException=Ee,n.VideoInputDevice=ue,n.WhiteRectangleDetector=zi,n.WriterException=xt,n.ZXingArrays=F,n.ZXingCharset=jn,n.ZXingInteger=D,n.ZXingStandardCharsets=Ro,n.ZXingStringBuilder=De,n.ZXingStringEncoding=Pe,n.ZXingSystem=B,n.createAbstractExpandedDecoder=js,Object.defineProperty(n,"__esModule",{value:!0})})})(qd,qd.exports);var zt=qd.exports;const O8=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Wg=function(){function e(t,n,r){if(this.formatMap=new Map([[Ie.QR_CODE,zt.BarcodeFormat.QR_CODE],[Ie.AZTEC,zt.BarcodeFormat.AZTEC],[Ie.CODABAR,zt.BarcodeFormat.CODABAR],[Ie.CODE_39,zt.BarcodeFormat.CODE_39],[Ie.CODE_93,zt.BarcodeFormat.CODE_93],[Ie.CODE_128,zt.BarcodeFormat.CODE_128],[Ie.DATA_MATRIX,zt.BarcodeFormat.DATA_MATRIX],[Ie.MAXICODE,zt.BarcodeFormat.MAXICODE],[Ie.ITF,zt.BarcodeFormat.ITF],[Ie.EAN_13,zt.BarcodeFormat.EAN_13],[Ie.EAN_8,zt.BarcodeFormat.EAN_8],[Ie.PDF_417,zt.BarcodeFormat.PDF_417],[Ie.RSS_14,zt.BarcodeFormat.RSS_14],[Ie.RSS_EXPANDED,zt.BarcodeFormat.RSS_EXPANDED],[Ie.UPC_A,zt.BarcodeFormat.UPC_A],[Ie.UPC_E,zt.BarcodeFormat.UPC_E],[Ie.UPC_EAN_EXTENSION,zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!O8)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var l=this.createZXingFormats(t),u=new Map;u.set(zt.DecodeHintType.POSSIBLE_FORMATS,l),u.set(zt.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,l){try{r(n.decode(t))}catch(u){l(u)}})},e.prototype.decode=function(t){var n=new zt.MultiFormatReader(this.verbose,this.hints),r=new zt.HTMLCanvasElementLuminanceSource(t),l=new zt.BinaryBitmap(new zt.HybridBinarizer(r)),u=n.decode(l);return{text:u.text,format:Pv.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,l){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,l=t;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),R8=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(A){try{x(r.next(A))}catch(E){p(E)}}function v(A){try{x(r.throw(A))}catch(E){p(E)}}function x(A){A.done?u(A.value):l(A.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},P8=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(A){return v([x,A])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(A){x=[6,A],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Zg=function(){function e(t,n,r){if(this.formatMap=new Map([[Ie.QR_CODE,"qr_code"],[Ie.AZTEC,"aztec"],[Ie.CODABAR,"codabar"],[Ie.CODE_39,"code_39"],[Ie.CODE_93,"code_93"],[Ie.CODE_128,"code_128"],[Ie.DATA_MATRIX,"data_matrix"],[Ie.ITF,"itf"],[Ie.EAN_13,"ean_13"],[Ie.EAN_8,"ean_8"],[Ie.PDF_417,"pdf417"],[Ie.UPC_A,"upc_a"],[Ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return R8(this,void 0,void 0,function(){var n,r;return P8(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Pv.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,l=0,u=t;l<u.length;l++){var p=u[l],y=p.boundingBox.width*p.boundingBox.height;y>r&&(r=y,n=p)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,l=t;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,l){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Gg=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(A){try{x(r.next(A))}catch(E){p(E)}}function v(A){try{x(r.throw(A))}catch(E){p(E)}}function x(A){A.done?u(A.value):l(A.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},Yg=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(A){return v([x,A])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(A){x=[6,A],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},L8=function(){function e(t,n,r,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Zg.isSupported()?(this.primaryDecoder=new Zg(t,r,l),this.secondaryDecoder=new Wg(t,r,l)):this.primaryDecoder=new Wg(t,r,l)}return e.prototype.decodeAsync=function(t){return Gg(this,void 0,void 0,function(){var n;return Yg(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Gg(this,void 0,void 0,function(){var n,r;return Yg(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(r=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var l=r[n];t+=l}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),P1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wu=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(A){try{x(r.next(A))}catch(E){p(E)}}function v(A){try{x(r.throw(A))}catch(E){p(E)}}function x(A){A.done?u(A.value):l(A.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},Zu=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(A){return v([x,A])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(A){x=[6,A],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Bv=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),D8=function(e){P1(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var l={advanced:[r]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Bv),k8=function(e){P1(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(D8),B8=function(e){P1(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Bv),F8=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new k8(this.track)},e.prototype.torchFeature=function(){return new B8(this.track)},e}(),j8=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,l),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,l){return Wu(this,void 0,void 0,function(){var u,p;return Zu(this,function(y){switch(y.label){case 0:return u=new e(t,n,l),r.aspectRatio?(p={aspectRatio:r.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:y.sent(),y.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Wu(this,void 0,void 0,function(){return Zu(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var l=t.mediaStream.getVideoTracks(),u=l.length,p=0;t.mediaStream.getVideoTracks().forEach(function(y){t.mediaStream.removeTrack(y),y.stop(),++p,p>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new F8(this.getFirstTrackOrFail())},e}(),z8=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Wu(this,void 0,void 0,function(){return Zu(this,function(l){return[2,j8.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Wu(this,void 0,void 0,function(){var n,r;return Zu(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=l.sent(),[2,new e(r)]}})})},e}(),Xg=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(A){try{x(r.next(A))}catch(E){p(E)}}function v(A){try{x(r.throw(A))}catch(E){p(E)}}function x(A){A.done?u(A.value):l(A.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},Kg=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(A){return v([x,A])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(A){x=[6,A],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},U8=function(){function e(){}return e.failIfNotSupported=function(){return Xg(this,void 0,void 0,function(){return Kg(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Xg(this,void 0,void 0,function(){return Kg(this,function(n){return[2,z8.create(t)]})})},e}(),V8=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(A){try{x(r.next(A))}catch(E){p(E)}}function v(A){try{x(r.throw(A))}catch(E){p(E)}}function x(A){A.done?u(A.value):l(A.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},H8=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(A){return v([x,A])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(A){x=[6,A],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},W8=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Jo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Jo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return V8(this,void 0,void 0,function(){var t,n,r,l,u,p,y;return H8(this,function(v){switch(v.label){case 0:return t=function(x){for(var A=x.getVideoTracks(),E=0,I=A;E<I.length;E++){var O=I[E];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),l=[],u=0,p=r;u<p.length;u++)y=p[u],y.kind==="videoinput"&&l.push({id:y.deviceId,label:y.label});return t(n),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(u){for(var p=[],y=0,v=u;y<v.length;y++){var x=v[y];x.kind==="video"&&p.push({id:x.id,label:x.label})}t(p)},l=MediaStreamTrack;l.getSources(r)})},e}(),Gt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Gt||(Gt={}));var Z8=function(){function e(){this.state=Gt.NOT_STARTED,this.onGoingTransactionNewState=Gt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Gt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Gt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Gt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Gt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Gt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Gt.UNKNOWN:throw"Transition from unknown is not allowed";case Gt.NOT_STARTED:this.failIfNewStateIs(t,[Gt.PAUSED]);break;case Gt.SCANNING:break;case Gt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,l=n;r<l.length;r++){var u=l[r];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),G8=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Gt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Gt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Gt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Gt.PAUSED},e}(),Y8=function(){function e(){}return e.create=function(){return new G8(new Z8)},e}(),X8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=function(e){X8(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Qi),K8=function(){function e(t,n){this.logger=n,this.fps=ui.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ui.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?kv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!fr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),qg=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Dv(this.verbose),this.qrcode=new L8(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Y8.create()}return e.prototype.start=function(t,n,r,l){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;l?p=l:p=this.verbose?this.logger.log:function(){};var y=K8.create(n,this.logger);this.clearElement();var v=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,A=document.getElementById(this.elementId);A.clientWidth?A.clientWidth:ui.DEFAULT_WIDTH,A.style.position="relative",this.shouldScan=!0,this.element=A;var E=this,I=this.stateManagerProxy.startTransition(Gt.SCANNING);return new Promise(function(O,k){var B=x?y.videoConstraints:E.createVideoConstraints(t);if(!B){I.cancel(),k("videoConstraints should be defined");return}var V={};(!x||y.aspectRatio)&&(V.aspectRatio=y.aspectRatio);var j={onRenderSurfaceReady:function(F,D){E.setupUi(F,D,y),E.isScanning=!0,E.foreverScan(y,r,p)}};U8.failIfNotSupported().then(function(F){F.create(B).then(function(D){return D.render(u.element,V,j).then(function(Z){E.renderedCamera=Z,I.execute(),O(null)}).catch(function(Z){I.cancel(),k(Z)})}).catch(function(D){I.cancel(),k(Jo.errorGettingUserMedia(D))})}).catch(function(F){I.cancel(),k(Jo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Gt.PAUSED),this.showPausedState(),(fr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Gt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Gt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var u=document.getElementById(ui.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),r(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,u){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var y=p.width,v=p.height,x=document.getElementById(r.elementId),A=x.clientWidth?x.clientWidth:ui.DEFAULT_WIDTH,E=Math.max(x.clientHeight?x.clientHeight:v,ui.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(y,v,A,E);if(n){var O=r.createCanvasElement(A,E,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=A,k.canvas.height=E,k.drawImage(p,0,0,y,v,I.x,I.y,I.width,I.height)}var B=ui.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(p.width,I.width),j=Math.max(p.height,I.height),F=V+2*B,D=j+2*B,Z=r.createCanvasElement(F,D);x.appendChild(Z);var ne=Z.getContext("2d");if(!ne)throw"Unable to get 2d context from canvas";ne.canvas.width=F,ne.canvas.height=D,ne.drawImage(p,0,0,y,v,B,B,V,j);try{r.qrcode.decodeRobustlyAsync(Z).then(function(ie){l(Vg.createFromQrcodeResult(ie))}).catch(u)}catch(ie){u("QR code parse error, error = ".concat(ie))}},p.onerror=u,p.onabort=u,p.onstalled=u,p.onsuspend=u,p.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return W8.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!kv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ie.QR_CODE,Ie.AZTEC,Ie.CODABAR,Ie.CODE_39,Ie.CODE_93,Ie.CODE_128,Ie.DATA_MATRIX,Ie.MAXICODE,Ie.ITF,Ie.EAN_13,Ie.EAN_8,Ie.PDF_417,Ie.RSS_14,Ie.RSS_EXPANDED,Ie.UPC_A,Ie.UPC_E,Ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],l=0,u=t.formatsToSupport;l<u.length;l++){var p=u[l];N8(p)?r.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(fr(t))return!0;if(!fr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(fr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return fr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var l=this,u=r.qrbox;this.validateQrboxConfig(u);var p=this.toQrdimensions(t,n,u),y=function(x){if(x<ui.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ui.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};y(p.width),y(p.height),p.width=v(p.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var l=fr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(t,n,l);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=r.isShadedBoxEnabled()&&u.height<=n,y={x:0,y:0,width:t,height:n},v=p?this.getShadedRegionBounds(t,n,u):y,x=this.createCanvasElement(v.width,v.height),A={willReadFrequently:!0},E=x.getContext("2d",A);E.canvas.width=v.width,E.canvas.height=v.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,t,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=E,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Jo.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,Vg.createFromQrcodeResult(l)),r.possiblyUpdateShaders(!0),!0}).catch(function(l){r.possiblyUpdateShaders(!1);var u=Jo.codeParseError(l);return n(u,Lv.createFrom(u)),!1})},e.prototype.foreverScan=function(t,n,r){var l=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),p=u.videoWidth/u.clientWidth,y=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*p,x=this.qrRegion.height*y,A=this.qrRegion.x*p,E=this.qrRegion.y*y;this.context.drawImage(u,A,E,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,n,r)},l.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(O){!O&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,r).finally(function(){I()})):I()}).catch(function(O){l.logger.logError("Error happend while scanning context",O),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",l={user:!0,environment:!0},u="exact",p=function(k){if(k in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},y=Object.keys(t);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var v=Object.keys(t)[0];if(v!==n&&v!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===n){var x=t.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(u in x){if(p(x["".concat(u)]))return{facingMode:{exact:x["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var A=typeof x;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(u in E)return{deviceId:{exact:E["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var I=typeof E;throw"Invalid type of 'deviceId' = ".concat(I)}}}var O=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},e.prototype.computeCanvasDrawConfig=function(t,n,r,l){if(t<=r&&n<=l){var u=(r-t)/2,p=(l-n)/2;return{x:u,y:p,width:t,height:n}}else{var y=t,v=n;return t>r&&(n=r/t*n,t=r),n>l&&(t=l/n*t,n=l),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(v)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ui.BORDER_SHADER_MATCH_COLOR:ui.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var l=t,u=n,p=document.createElement("canvas");return p.style.width="".concat(l,"px"),p.style.height="".concat(u,"px"),p.style.display="none",p.id=fr(r)?"qr-canvas":r,p},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,l){if(!(n-l.width<1||r-l.height<1)){var u=document.createElement("div");u.style.position="absolute";var p=(n-l.width)/2,y=(r-l.height)/2;if(u.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(ui.SHADED_REGION_ELEMENT_ID),n-l.width<11||r-l.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(u,x,v,-v,null,0,!0),this.insertShaderBorders(u,x,v,-v,null,0,!1),this.insertShaderBorders(u,x,v,null,-v,0,!0),this.insertShaderBorders(u,x,v,null,-v,0,!1),this.insertShaderBorders(u,v,x+v,-v,null,-v,!0),this.insertShaderBorders(u,v,x+v,null,-v,-v,!0),this.insertShaderBorders(u,v,x+v,-v,null,-v,!1),this.insertShaderBorders(u,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,n,r,l,u,p,y){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=ui.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(n,"px"),v.style.height="".concat(r,"px"),l!==null&&(v.style.top="".concat(l,"px")),u!==null&&(v.style.bottom="".concat(u,"px")),y?v.style.left="".concat(p,"px"):v.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),t.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),L1="data:image/svg+xml;base64,",q8=L1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Q8=L1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Qg=L1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",J8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Jg=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),$8=function(){function e(){this.data=Jg.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Jg.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),eN=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Hg.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(l);var u=document.createElement("a");u.innerText=Hg.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),tN=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Qg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=J8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Qg,this.infoIcon.style.opacity="0.6")},e}(),nN=function(){function e(){var t=this;this.infoDiv=new eN,this.infoIcon=new tN(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),iN=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(A){try{x(r.next(A))}catch(E){p(E)}}function v(A){try{x(r.throw(A))}catch(E){p(E)}}function x(A){A.done?u(A.value):l(A.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},rN=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(A){return v([x,A])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(A){x=[6,A],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},$g=function(){function e(){}return e.hasPermissions=function(){return iN(this,void 0,void 0,function(){var t,n,r,l;return rN(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=u.sent(),n=0,r=t;n<r.length;n++)if(l=r[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),is=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Ts.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ts.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Qi.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Qi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,l=t;r<l.length;r++){var u=l[r];if(!Qi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return t},e}(),di=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Rr=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(di.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),Fv=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(A){try{x(r.next(A))}catch(E){p(E)}}function v(A){try{x(r.throw(A))}catch(E){p(E)}}function x(A){A.done?u(A.value):l(A.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},jv=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(A){return v([x,A])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(A){x=[6,A],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ex=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Fv(this,void 0,void 0,function(){var t,n;return jv(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?yt.torchOffButton():yt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?yt.torchOnFailedMessage():yt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),sN=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Rr.createElement("button",di.TORCH_BUTTON_ID),this.torchController=new ex(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=yt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(u){return Fv(r,void 0,void 0,function(){return jv(this,function(p){switch(p.label){case 0:return[4,l.torchController.flipState()];case 1:return p.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(di.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(di.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(di.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(di.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new ex(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=yt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,l){var u=new e(n,l);return u.render(t,r),u},e}(),oN=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Rr.createElement("button",di.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(y){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Rr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(y){if(!(y==null||y.target==null)){var v=y.target;if(!(v.files&&v.files.length===0)){var x=v.files,A=x[0],E=A.name;u.setImageNameToButton(E),r(A)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(y){y.stopPropagation(),y.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var v=y.dataTransfer;if(v){var x=v.files;if(!x||x.length===0)return;for(var A=!1,E=0;E<x.length;++E){var I=x.item(E);if(I){var O=/image.*/;if(I.type.match(O)){A=!0;var k=I.name;u.setImageNameToButton(k),r(I),p.innerText=yt.dragAndDropMessage();break}}}A||(p.innerText=yt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=yt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),l=t.length,u=t.substring(l-8,l);t="".concat(r,"....").concat(u)}var p=yt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var t=yt.fileSelectionChooseImage()+" - "+yt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var l=new e(t,n,r);return l},e}(),aN=function(){function e(t){this.selectElement=Rr.createElement("select",di.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var l=yt.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var u=1,p=0,y=this.cameras;p<y.length;p++){var v=y[p],x=v.id,A=v.label==null?x:v.label;(!A||A==="")&&(A=[yt.anonymousCameraPrefix(),u++].join(" "));var E=document.createElement("option");E.value=x,E.innerText=A,this.options.push(E),this.selectElement.appendChild(E)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var l=r[n];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),lN=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Rr.createElement("input",di.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,l){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),hi;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(hi||(hi={}));function cN(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function uN(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var hN=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new is(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Dv(this.verbose),this.persistedDataManager=new $8,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,p){if(t)t(u,p);else{if(r.lastMatchFound===u)return;r.lastMatchFound=u,r.setHeaderMessage(yt.lastMatch(u),hi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,p){n&&n(u,p)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new qg(this.getScanRegionId(),uN(this.config,this.verbose))},e.prototype.pause=function(t){(fr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,l){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(u){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(u){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",u),l(u)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Qi.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Qi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Qi.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Qi.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Qi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Qi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Qi.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),is.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),u=this.getDashboardId();l.id=u,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new nN;r.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(yt.cameraPermissionRequesting());var u=function(){r||l.createPermissionButton(t,n)};qg.getCameras().then(function(p){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),p&&p.length>0?(t.removeChild(n),l.renderCameraSelection(p)):(l.setHeaderMessage(yt.noCameraFound(),hi.STATUS_WARNING),u())}).catch(function(p){l.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:u(),l.setHeaderMessage(p,hi.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,l=Rr.createElement("button",this.getCameraPermissionButtonId());l.innerText=yt.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,r.createCameraListUi(t,n,l)}),n.appendChild(l)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(is.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){$g.hasPermissions().then(function(l){l?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(l){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=is.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var l=document.createElement("div");l.style.textAlign="center",r.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,l),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=is.isFileScanType(this.currentScanType),r=this,l=function(u){if(!r.html5Qrcode)throw"html5Qrcode not defined";is.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(yt.loadingImage()),r.html5Qrcode.scanFileV2(u,!0).then(function(p){r.resetHeaderMessage(),r.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){r.setHeaderMessage(p,hi.STATUS_WARNING),r.qrCodeErrorCallback(p,Lv.createFrom(p))}))};this.fileSelectionUi=oN.create(t,n,l)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var u=lN.create(l,!1),p=function(B){var V=B.zoomFeature();if(V.isSupported()){u.setOnCameraZoomValueChangeCallback(function(F){V.apply(F)});var j=1;n.config.defaultZoomValueIfSupported&&(j=n.config.defaultZoomValueIfSupported),j=M8(j,V.min(),V.max()),u.setValues(V.min(),V.max(),j,V.step()),u.show()}},y=aN.create(l,t),v=document.createElement("span"),x=Rr.createElement("button",di.CAMERA_START_BUTTON_ID);x.innerText=yt.scanButtonStartScanningText(),v.appendChild(x);var A=Rr.createElement("button",di.CAMERA_STOP_BUTTON_ID);A.innerText=yt.scanButtonStopScanningText(),A.style.display="none",A.disabled=!0,v.appendChild(A);var E,I=function(B){if(!B.torchFeature().isSupported()){E&&E.hide();return}E?E.updateTorchCapability(B.torchFeature()):E=sN.create(v,B.torchFeature(),{display:"none",marginLeft:"5px"},function(V){r.setHeaderMessage(V,hi.STATUS_WARNING)}),E.show()};l.appendChild(v);var O=function(B){B||(x.style.display="none"),x.innerText=yt.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=yt.scanButtonScanningStarting(),y.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var V=y.getValue();r.persistedDataManager.setLastUsedCameraId(V),r.html5Qrcode.start(V,cN(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(j){A.disabled=!1,A.style.display="inline-block",O(!1);var F=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&I(F),n.config.showZoomSliderIfSupported===!0&&p(F)}).catch(function(j){r.showHideScanTypeSwapLink(!0),y.enable(),O(!0),r.setHeaderMessage(j,hi.STATUS_WARNING)})}),y.hasSingleItem()&&x.click(),A.addEventListener("click",function(B){if(!r.html5Qrcode)throw"html5Qrcode not defined";A.disabled=!0,r.html5Qrcode.stop().then(function(V){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),y.enable(),x.disabled=!1,A.style.display="none",x.style.display="inline-block",E&&(E.reset(),E.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(V){A.disabled=!1,r.setHeaderMessage(V,hi.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var k=r.persistedDataManager.getLastUsedCameraId();y.hasValue(k)?(y.setValue(k),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=yt.textIfCameraScanSelected(),r=yt.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var p=Rr.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=is.isCameraScanType(this.currentScanType)?n:r,p.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,is.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),p.innerText=r,t.currentScanType=Ts.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),p.innerText=n,t.currentScanType=Ts.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),u.appendChild(p),l.appendChild(u)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){$g.hasPermissions().then(function(r){if(r){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=hi.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case hi.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case hi.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case hi.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=q8,this.cameraScanImage.alt=yt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Q8,this.fileScanImage.alt=yt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return di.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return di.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function fN({onScan:e,onClose:t}){const[n,r]=H.useState(""),[l,u]=H.useState("camera");H.useEffect(()=>{if(l==="camera"){const y=new hN("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1});return y.render(v=>{y.clear(),e(v)},v=>{}),()=>{y.clear()}}},[l,e]);const p=y=>{y.preventDefault(),n.trim()&&e(n.trim())};return S.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col pt-safe",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 text-white",children:[S.jsx("h2",{className:"text-lg font-bold",children:"Scan AWB Barcode"}),S.jsx("button",{onClick:t,className:"p-2",children:S.jsx(F4,{})})]}),S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:l==="camera"?S.jsx("div",{id:"reader",className:"w-full max-w-sm rounded-xl overflow-hidden bg-gray-800 border-2 border-primary-500"}):S.jsxs("form",{onSubmit:p,className:"w-full max-w-sm space-y-4",children:[S.jsx("input",{autoFocus:!0,className:"w-full p-4 rounded-xl bg-gray-800 text-white border border-gray-700 outline-none focus:border-primary-500 text-center text-2xl tracking-widest",placeholder:"ENTER AWB #",value:n,onChange:y=>r(y.target.value.toUpperCase())}),S.jsx("button",{className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold",children:"Submit Manually"})]})}),S.jsxs("div",{className:"p-8 flex justify-center gap-4",children:[S.jsxs("button",{onClick:()=>u("camera"),className:`p-4 rounded-full flex items-center gap-2 ${l==="camera"?"bg-primary-600 text-white":"bg-gray-800 text-gray-400"}`,children:[S.jsx(x4,{size:24})," ",S.jsx("span",{children:"Camera"})]}),S.jsxs("button",{onClick:()=>u("manual"),className:`p-4 rounded-full flex items-center gap-2 ${l==="manual"?"bg-primary-600 text-white":"bg-gray-800 text-gray-400"}`,children:[S.jsx(b4,{size:24})," ",S.jsx("span",{children:"Manual"})]})]})]})}function lc(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function dN(e,t){let n;const r=()=>{if(n)return n;const l=indexedDB.open(e);return l.onupgradeneeded=()=>l.result.createObjectStore(t),n=lc(l),n.then(u=>{u.onclose=()=>n=void 0},()=>{}),n};return(l,u)=>r().then(p=>u(p.transaction(t,l).objectStore(t)))}let Rf;function D1(){return Rf||(Rf=dN("keyval-store","keyval")),Rf}function pN(e,t=D1()){return t("readonly",n=>lc(n.get(e)))}function zv(e,t,n=D1()){return n("readwrite",r=>(r.put(t,e),lc(r.transaction)))}function mN(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},lc(e.transaction)}function gN(e=D1()){return e("readonly",t=>{if(t.getAllKeys)return lc(t.getAllKeys());const n=[];return mN(t,r=>n.push(r.key)).then(()=>n)})}const xN=async(e,t,n={})=>{const r=`${e}-${t}-${Date.now()}`,l={id:r,awb:e,event_id:t,payload:n,timestamp:new Date().toISOString(),status:"pending"};return await zv(`queue-${r}`,l),l},Uv=async()=>{const t=(await gN()).filter(r=>r.startsWith("queue-"));return(await Promise.all(t.map(r=>pN(r)))).sort((r,l)=>new Date(l.timestamp)-new Date(r.timestamp))},yN=async e=>{const n=(await Uv()).filter(r=>r.status==="pending");for(const r of n)try{await M1(e,{awb:r.awb,event_id:r.event_id,timestamp:r.timestamp,payload:r.payload}),r.status="synced",await zv(`queue-${r.id}`,r)}catch(l){console.error("Sync failed for item",r.id,l)}};function wN({awb:e,onBack:t,onComplete:n}){const[r,l]=H.useState([]),[u,p]=H.useState(null),[y,v]=H.useState(!0),[x,A]=H.useState(!1),[E,I]=H.useState("");H.useEffect(()=>{(async()=>{try{const B=localStorage.getItem("token"),V=await Rv(B);l(V)}catch{I("Failed to load status options")}finally{v(!1)}})()},[]);const O=async()=>{if(u){A(!0);try{const k=localStorage.getItem("token");await M1(k,{awb:e,event_id:u,timestamp:new Date().toISOString()}),n("SUCCESS")}catch{await xN(e,u),n("QUEUED")}finally{A(!1)}}};return S.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[S.jsxs("div",{className:"p-4 flex items-center gap-4 bg-white dark:bg-gray-800 shadow-sm",children:[S.jsx("button",{onClick:t,className:"p-2 -ml-2 text-gray-600",children:S.jsx(Zl,{})}),S.jsxs("div",{children:[S.jsx("h1",{className:"font-bold text-gray-900 dark:text-white",children:"Update AWB"}),S.jsx("p",{className:"text-xs text-primary-600 font-mono tracking-wider",children:e})]})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:y?S.jsx("div",{className:"flex justify-center p-8",children:S.jsx(Gl,{className:"animate-spin text-primary-500"})}):E?S.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl flex items-center gap-3",children:[S.jsx($w,{size:20})," ",E]}):r.map(k=>S.jsxs("button",{onClick:()=>p(k.event_id),className:`w-full p-4 rounded-2xl text-left border-2 transition-all ${u===k.event_id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-white dark:border-gray-800 bg-white dark:bg-gray-800"}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:k.label}),u===k.event_id&&S.jsx(w4,{className:"text-primary-500",size:20})]}),S.jsx("p",{className:"text-sm text-gray-500",children:k.description})]},k.event_id))}),S.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 shadow-up",children:S.jsx("button",{disabled:!u||x,onClick:O,className:"w-full py-4 bg-primary-600 disabled:opacity-50 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:x?S.jsx(Gl,{className:"animate-spin"}):"Confirm Status Update"})})]})}function tx(){const[e,t]=H.useState(!1),[n,r]=H.useState(null),[l,u]=H.useState(null),[p,y]=H.useState(""),v=Vr(),{user:x}=So();H.useEffect(()=>{const k=localStorage.getItem("token");k&&yN(k);const B=new Date().getHours();B<12?y("Good Morning"):B<18?y("Good Afternoon"):y("Good Evening")},[]);const A=k=>{r(k),t(!1)},E=k=>{u({awb:n,outcome:k}),r(null),setTimeout(()=>u(null),3e3)};if(n)return S.jsx(wN,{awb:n,onBack:()=>r(null),onComplete:E});const I={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return S.jsxs(lt.div,{initial:"hidden",animate:"visible",exit:{opacity:0,y:-20},variants:I,className:"flex flex-col min-h-screen relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"0s"}}),S.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"3s"}}),S.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-glow-md animate-float",children:S.jsx("span",{className:"text-white font-black italic tracking-tighter text-xl",children:"AN"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-lg font-black text-gradient leading-none",children:"AryNik"}),S.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[S.jsxs("span",{className:"relative flex h-2 w-2",children:[S.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),S.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),S.jsx("span",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"Online"})]})]})]}),S.jsx("div",{className:"w-10 h-10 rounded-full glass-light flex items-center justify-center border border-white/10",children:S.jsx(k4,{size:18,className:"text-violet-400"})})]}),S.jsxs("main",{className:"flex-1 p-6 space-y-8 pb-32 relative z-10",children:[S.jsxs(lt.div,{variants:O,children:[S.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:p}),S.jsxs("p",{className:"text-slate-400 font-medium",children:[(x==null?void 0:x.name)||"Driver","  Ready to deliver excellence"]})]}),S.jsx(lt.div,{variants:O,children:S.jsx(I8,{})}),l&&S.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-4 rounded-2xl flex items-center gap-4 shadow-lg ${l.outcome==="SUCCESS"?"bg-gradient-to-r from-emerald-500 to-emerald-600 shadow-emerald-500/20":"bg-gradient-to-r from-violet-500 to-purple-600 shadow-violet-500/20"}`,children:[S.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:S.jsx(Hd,{size:20,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("span",{className:"font-black text-sm uppercase tracking-wide text-white",children:["Update ",l.outcome==="SUCCESS"?"Confirmed":"Queued"]}),S.jsx("p",{className:"text-xs font-bold text-white/80",children:l.awb})]})]}),S.jsxs(lt.div,{variants:O,className:"space-y-4",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Quick Actions"}),S.jsxs(lt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(!0),className:"w-full py-12 bg-gradient-to-br from-violet-600 via-purple-600 to-violet-700 rounded-[32px] shadow-glow-lg flex flex-col items-center justify-center text-white space-y-5 relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 shimmer opacity-30"}),S.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -ml-12 -mb-12"}),S.jsx("div",{className:"p-6 bg-white/10 rounded-3xl backdrop-blur-sm border border-white/20 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-inner-glow",children:S.jsx(P4,{size:52,strokeWidth:1.5,className:"animate-glow"})}),S.jsxs("div",{className:"text-center relative z-10",children:[S.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Scan Package"}),S.jsxs("p",{className:"text-violet-100 text-xs font-bold opacity-90 uppercase tracking-widest mt-1 flex items-center justify-center gap-2",children:[S.jsx(ov,{size:12}),"Tap to open scanner"]})]})]}),((x==null?void 0:x.role)==="Manager"||(x==null?void 0:x.role)==="Admin"||(x==null?void 0:x.role)==="Driver")&&S.jsxs(lt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v("/shipments"),className:"w-full p-5 glass-strong rounded-[28px] shadow-lg flex items-center gap-4 text-left group border-iridescent",children:[S.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-[20px] group-hover:shadow-glow-sm transition-all duration-300",children:S.jsx(C1,{size:24,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("h3",{className:"font-black text-white uppercase text-sm tracking-tight flex items-center gap-2",children:["Search Shipments",S.jsx("span",{className:"text-[8px] bg-emerald-500/20 text-emerald-400 px-2 py-0.5 rounded-full font-bold",children:"LIVE"})]}),S.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mt-0.5 flex items-center gap-1",children:[S.jsx(E1,{size:10}),"Real-time tracking"]})]}),S.jsx("div",{className:"w-10 h-10 rounded-full glass-light flex items-center justify-center group-hover:translate-x-1 transition-transform border border-white/10",children:S.jsx(pa,{className:"text-slate-400",size:18})})]})]})]}),e&&S.jsx(fN,{onScan:A,onClose:()=>t(!1)})]})}const vN="modulepreload",_N=function(e){return"/arynik1/"+e},nx={},CN=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=Promise.allSettled(n.map(v=>{if(v=_N(v),v in nx)return;nx[v]=!0;const x=v.endsWith(".css"),A=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${A}`))return;const E=document.createElement("link");if(E.rel=x?"stylesheet":vN,x||(E.as="script"),E.crossOrigin="",E.href=v,y&&E.setAttribute("nonce",y),document.head.appendChild(E),x)return new Promise((I,O)=>{E.addEventListener("load",I),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(p){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p}return l.then(p=>{for(const y of p||[])y.status==="rejected"&&u(y.reason);return t().catch(u)})};function EN(){const[e,t]=H.useState(""),[n,r]=H.useState(""),[l,u]=H.useState(!1),[p,y]=H.useState(""),{login:v}=So(),x=Vr(),A=async E=>{var I,O;E.preventDefault(),y(""),u(!0);try{const{login:k}=await CN(async()=>{const{login:V}=await Promise.resolve().then(()=>T8);return{login:V}},void 0),B=await k(e,n);if(B&&B.access_token)await v(B.access_token,B.role),x("/");else throw new Error("Invalid response from server")}catch(k){console.error("Login error:",k),y(((O=(I=k.response)==null?void 0:I.data)==null?void 0:O.detail)||k.message||"Invalid credentials. Please try again.")}finally{u(!1)}};return S.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600/20 via-purple-600/10 to-pink-600/20 animate-pulse-slow"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600/10 via-transparent to-emerald-600/10"}),[...Array(20)].map((E,I)=>S.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*8}s`,animationDuration:`${8+Math.random()*4}s`}},I)),S.jsx("div",{className:"absolute top-10 left-20 w-72 h-72 bg-violet-500/30 rounded-full blur-3xl animate-float",style:{animationDelay:"0s"}}),S.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-pink-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"4s"}}),S.jsx("div",{className:"absolute top-40 right-40 w-60 h-60 bg-blue-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"relative z-10 w-full max-w-md animate-scale-in",children:[S.jsxs("div",{className:"text-center mb-8 animate-slide-down",children:[S.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-3xl shadow-glow-md mb-4 animate-float",children:S.jsx(rv,{className:"w-10 h-10 text-white"})}),S.jsx("h1",{className:"text-4xl font-black text-gradient mb-2 tracking-tight",children:"AryNik Driver"}),S.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Welcome back, let's get started"})]}),S.jsxs("form",{onSubmit:A,className:"glass-strong rounded-3xl p-8 border-iridescent space-y-6 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"}),S.jsxs("div",{className:"relative",children:[S.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400 mb-2 flex items-center gap-2",children:[S.jsx(A1,{size:14,className:"text-violet-400"}),"Username"]}),S.jsx("input",{type:"text",value:e,onChange:E=>t(E.target.value),className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300",placeholder:"Enter your username",required:!0,autoFocus:!0})]}),S.jsxs("div",{className:"relative",children:[S.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400 mb-2 flex items-center gap-2",children:[S.jsx(T4,{size:14,className:"text-violet-400"}),"Password"]}),S.jsx("input",{type:"password",value:n,onChange:E=>r(E.target.value),className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300",placeholder:"Enter your password",required:!0})]}),p&&S.jsx("div",{className:"bg-rose-500/10 border border-rose-500/30 text-rose-400 px-4 py-3 rounded-xl text-sm font-medium animate-slide-down",children:p}),S.jsx("button",{type:"submit",disabled:l,className:"btn-premium w-full py-4 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-glow-md hover:shadow-glow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 text-sm uppercase tracking-wider magnetic",children:l?S.jsxs(S.Fragment,{children:[S.jsx(Gl,{className:"animate-spin",size:20}),"Authenticating..."]}):S.jsxs(S.Fragment,{children:[S.jsx(I4,{size:20}),"Login to Dashboard"]})}),S.jsxs("p",{className:"text-center text-xs text-slate-500 mt-4",children:["Demo: ",S.jsx("span",{className:"text-violet-400 font-mono",children:"demo / demo"})]})]}),S.jsx("p",{className:"text-center text-xs text-slate-600 mt-6",children:"Secure driver authentication  AryNik  2026"})]})]})}function AN(){const[e,t]=H.useState([]),[n,r]=H.useState(!0),[l,u]=H.useState(!1),p=Vr(),y=async(O=!1)=>{O?u(!0):r(!0);try{const k=await Uv();let B=[];try{const j=localStorage.getItem("token");B=(await O1(j)).map(D=>({...D,id:D.id,status:"synced",label:D.event_id}))}catch{console.log("Could not fetch server logs, showing local only")}const V=[...k,...B].sort((j,F)=>new Date(F.timestamp)-new Date(j.timestamp));t(V)}finally{r(!1),u(!1)}};H.useEffect(()=>{y()},[]);const v=O=>O==="synced"?{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30",icon:Hd,label:"Synced"}:{bg:"bg-violet-500/20",text:"text-violet-400",border:"border-violet-500/30",icon:Hc,label:"Pending"},x=e.filter(O=>O.status==="synced").length,A=e.filter(O=>O.status!=="synced").length,E={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},I={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-20 right-0 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"px-4 py-4 flex items-center justify-between glass-strong sticky top-0 z-30 backdrop-blur-xl border-b border-white/10 animate-slide-down",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>p(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:S.jsx(Zl,{size:20})}),S.jsxs("div",{children:[S.jsx("h1",{className:"font-black text-lg text-gradient tracking-tight",children:"Update History"}),S.jsx("p",{className:"text-xs text-slate-500 font-medium mt-0.5",children:"Recent activity timeline"})]})]}),S.jsx("button",{onClick:()=>y(!0),className:`p-2.5 rounded-xl glass-light hover:bg-violet-500/20 text-violet-400 transition-all border border-white/10 ${l?"animate-spin":""}`,children:S.jsx(_1,{size:20})})]}),S.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3 relative z-10",children:[S.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-strong p-4 rounded-2xl border-iridescent",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:S.jsx(Hd,{size:14,className:"text-emerald-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Synced"})]}),S.jsx("p",{className:"text-2xl font-black text-gradient-blue",children:x})]}),S.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"glass-strong p-4 rounded-2xl border-iridescent",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg",children:S.jsx(Hc,{size:14,className:"text-violet-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Pending"})]}),S.jsx("p",{className:"text-2xl font-black text-gradient-purple",children:A})]})]}),S.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32 relative z-10",children:n?S.jsxs("div",{className:"text-center py-20",children:[S.jsxs("div",{className:"relative inline-block",children:[S.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),S.jsx(xo,{className:"animate-spin relative z-10 text-violet-400 mx-auto",size:48})]}),S.jsx("p",{className:"mt-6 text-sm font-bold text-slate-500 uppercase tracking-wide",children:"Loading history..."})]}):e.length===0?S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(Hc,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No recent updates"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Your activity will appear here"})]}):S.jsx(lt.div,{variants:E,initial:"hidden",animate:"visible",className:"space-y-3 py-2",children:e.map((O,k)=>{const B=v(O.status),V=B.icon;return S.jsxs(lt.div,{variants:I,className:"glass-strong p-5 rounded-2xl border border-white/10 relative overflow-hidden group hover:border-violet-500/30 transition-all",children:[k<e.length-1&&S.jsx("div",{className:"absolute left-11 top-full w-0.5 h-3 bg-gradient-to-b from-white/10 to-transparent"}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${B.bg} rounded-2xl flex items-center justify-center border ${B.border}`,children:S.jsx(V,{size:20,className:B.text,strokeWidth:2.5})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-mono text-slate-500 tracking-wider",children:O.awb}),S.jsx("h3",{className:"font-bold text-white mt-1",children:O.event_id||O.label})]}),S.jsx("span",{className:`text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border ${B.bg} ${B.text} ${B.border}`,children:B.label})]}),S.jsxs("p",{className:"text-[10px] text-slate-400 font-medium flex items-center gap-1.5",children:[S.jsx(Hc,{size:10}),new Date(O.timestamp).toLocaleString()]}),O.error_message&&S.jsxs("div",{className:"mt-3 px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-2",children:[S.jsx($w,{size:14,className:"text-red-400 mt-0.5 flex-shrink-0"}),S.jsx("p",{className:"text-xs text-red-400 font-medium",children:O.error_message})]})]})]})]},k)})})})]})}function SN(){const{user:e,logout:t}=So(),n=Vr(),[r,l]=H.useState(Ps()),u=()=>{t(),n("/login",{replace:!0})},p=()=>{Mv(r),window.location.reload()},y=[{title:"Preferences",items:[{icon:m4,label:"Notifications",value:"Enabled",color:"violet"},{icon:C4,label:"Language",value:"English",color:"emerald"},{icon:O4,label:"Dark Mode",value:"Auto",color:"amber"}]},{title:"Account",items:[{icon:D4,label:"Security",value:null,color:"violet"},{icon:S4,label:"App Info",value:"v1.0.0",color:"slate"}]}],v=I=>{const O={violet:"bg-violet-500/20",emerald:"bg-emerald-500/20",amber:"bg-amber-500/20",slate:"bg-slate-500/20"};return O[I]||O.slate},x=I=>{const O={violet:"text-violet-400",emerald:"text-emerald-400",amber:"text-amber-400",slate:"text-slate-400"};return O[I]||O.slate},A={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return S.jsxs(lt.div,{initial:"hidden",animate:"visible",exit:{opacity:0,y:-20},variants:A,className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-violet-700"}),S.jsx("div",{className:"absolute inset-0 shimmer opacity-20"}),S.jsxs("header",{className:"relative z-10 px-6 pt-6 pb-4",children:[S.jsx("h1",{className:"text-xl font-black text-white uppercase tracking-tight mb-1",children:"Settings"}),S.jsx("p",{className:"text-sm text-violet-100 font-medium",children:"Manage your preferences"})]}),S.jsxs("div",{className:"relative z-10 px-8 pb-8 flex flex-col items-center",children:[S.jsx(lt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-28 h-28 bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-xl rounded-[32px] shadow-2xl flex items-center justify-center text-white mb-5 border-4 border-white/30 animate-float",children:S.jsx(A1,{size:56,strokeWidth:1.5})}),S.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight mb-2",children:(e==null?void 0:e.username)||"Driver"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-[10px] font-black bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full uppercase tracking-widest border border-white/30",children:(e==null?void 0:e.role)||"Carrier"}),S.jsxs("span",{className:"text-[10px] font-bold text-violet-200 uppercase tracking-widest",children:["ID: ",(e==null?void 0:e.driver_id)||"N/A"]})]})]})]}),S.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 relative z-10 -mt-6",children:[S.jsxs(lt.div,{variants:E,className:"space-y-3",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Connection"}),S.jsxs("div",{className:"glass-strong rounded-2xl overflow-hidden border-iridescent p-4 space-y-3",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"API Base URL"}),S.jsx("input",{value:r,onChange:I=>l(I.target.value),placeholder:"https://YOUR-BACKEND",className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 text-sm font-medium"}),S.jsxs("p",{className:"text-[10px] text-slate-500 font-medium leading-relaxed",children:["Tip: on GitHub Pages (HTTPS), your backend must be HTTPS. You can also set via URL: ",S.jsx("span",{className:"font-mono text-slate-400",children:"?api=https://YOUR-BACKEND"})]}),S.jsx("button",{onClick:p,className:"w-full btn-premium py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white rounded-xl font-bold shadow-lg hover:shadow-glow-md transition-all text-sm uppercase tracking-wider",children:"Apply API URL"})]})]}),y.map((I,O)=>S.jsxs(lt.div,{variants:E,className:"space-y-3",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:I.title}),S.jsx("div",{className:"glass-strong rounded-2xl overflow-hidden border-iridescent",children:I.items.map((k,B)=>{const V=k.icon;return S.jsxs("button",{className:`w-full p-4 flex items-center gap-4 hover:bg-white/5 transition-all group ${B<I.items.length-1?"border-b border-white/5":""}`,children:[S.jsx("div",{className:`p-3 ${v(k.color)} rounded-xl group-hover:scale-110 transition-transform`,children:S.jsx(V,{className:x(k.color),size:20,strokeWidth:2})}),S.jsx("span",{className:"flex-1 text-left font-bold text-white",children:k.label}),k.value&&S.jsx("span",{className:"text-xs text-slate-400 font-medium",children:k.value}),S.jsx(pa,{className:"text-slate-500 group-hover:text-violet-400 group-hover:translate-x-1 transition-all",size:18})]},B)})})]},O)),S.jsxs(lt.div,{variants:E,className:"glass-strong p-5 rounded-2xl border-iridescent relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-amber-600/5 opacity-0 group-hover:opacity-100 transition-opacity"}),S.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[S.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl shadow-glow-sm",children:S.jsx(rv,{size:24,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"font-black text-white text-sm",children:"Premium Features"}),S.jsx("p",{className:"text-[10px] text-slate-400 font-medium mt-1",children:"Unlock advanced analytics & insights"})]}),S.jsx(pa,{className:"text-amber-400",size:20})]})]}),S.jsxs(lt.button,{variants:E,onClick:u,whileTap:{scale:.98},className:"w-full btn-premium py-4 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-400 hover:to-rose-500 text-white rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg hover:shadow-glow-md transition-all",children:[S.jsx(N4,{size:20,strokeWidth:2.5}),"Sign Out"]})]}),S.jsxs(lt.div,{variants:E,className:"p-6 text-center relative z-10",children:[S.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Powered by Postis Bridge"}),S.jsx("p",{className:"text-[9px] text-slate-600 font-medium mt-1",children:" 2025 AryNik Driver App"})]})]})}const Vv="https://router.project-osrm.org/route/v1/driving";async function bN(e,t){if(!e||!t)return null;try{const n=`${Vv}/${e.lon},${e.lat};${t.lon},${t.lat}?overview=full&geometries=geojson`,r=await vt.get(n);return r.data.code==="Ok"&&r.data.routes.length>0?r.data.routes[0].geometry:null}catch(n){return console.error("Error fetching route:",n),null}}async function TN(e){const t=Array.isArray(e)?e.filter(Boolean):[];if(t.length<2)return null;const n=t.map(r=>`${r.lon},${r.lat}`).join(";");try{const r=`${Vv}/${n}?overview=full&geometries=geojson&steps=false`,l=await vt.get(r);return l.data.code==="Ok"&&l.data.routes.length>0?l.data.routes[0].geometry:null}catch(r){return console.error("Error fetching multi-route:",r),null}}function Hv(e,t){const n=H.useRef(t);H.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const IN=1;function NN(e){return Object.freeze({__version:IN,map:e})}function Wv(e,t){return Object.freeze({...e,...t})}const Zv=H.createContext(null),Gv=Zv.Provider;function Eh(){const e=H.useContext(Zv);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Yv(e){function t(n,r){const{instance:l,context:u}=e(n).current;return H.useImperativeHandle(r,()=>l),n.children==null?null:uo.createElement(Gv,{value:u},n.children)}return H.forwardRef(t)}function MN(e){function t(n,r){const[l,u]=H.useState(!1),{instance:p}=e(n,u).current;H.useImperativeHandle(r,()=>p),H.useEffect(function(){l&&p.update()},[p,l,n.children]);const y=p._contentNode;return y?_y.createPortal(n.children,y):null}return H.forwardRef(t)}function ON(e){function t(n,r){const{instance:l}=e(n).current;return H.useImperativeHandle(r,()=>l),null}return H.forwardRef(t)}function k1(e,t){const n=H.useRef();H.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Ah(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function RN(e,t){return function(r,l){const u=Eh(),p=e(Ah(r,u),u);return Hv(u.map,r.attribution),k1(p.current,r.eventHandlers),t(p.current,u,r,l),p}}var Qd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Do,function(n){var r="1.9.4";function l(o){var f,g,C,T;for(g=1,C=arguments.length;g<C;g++){T=arguments[g];for(f in T)o[f]=T[f]}return o}var u=Object.create||function(){function o(){}return function(f){return o.prototype=f,new o}}();function p(o,f){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var C=g.call(arguments,2);return function(){return o.apply(f,C.length?C.concat(g.call(arguments)):arguments)}}var y=0;function v(o){return"_leaflet_id"in o||(o._leaflet_id=++y),o._leaflet_id}function x(o,f,g){var C,T,P,W;return W=function(){C=!1,T&&(P.apply(g,T),T=!1)},P=function(){C?T=arguments:(o.apply(g,arguments),setTimeout(W,f),C=!0)},P}function A(o,f,g){var C=f[1],T=f[0],P=C-T;return o===C&&g?o:((o-T)%P+P)%P+T}function E(){return!1}function I(o,f){if(f===!1)return o;var g=Math.pow(10,f===void 0?6:f);return Math.round(o*g)/g}function O(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function k(o){return O(o).split(/\s+/)}function B(o,f){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var g in f)o.options[g]=f[g];return o.options}function V(o,f,g){var C=[];for(var T in o)C.push(encodeURIComponent(g?T.toUpperCase():T)+"="+encodeURIComponent(o[T]));return(!f||f.indexOf("?")===-1?"?":"&")+C.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function F(o,f){return o.replace(j,function(g,C){var T=f[C];if(T===void 0)throw new Error("No value provided for variable "+g);return typeof T=="function"&&(T=T(f)),T})}var D=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function Z(o,f){for(var g=0;g<o.length;g++)if(o[g]===f)return g;return-1}var ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ie(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var K=0;function le(o){var f=+new Date,g=Math.max(0,16-(f-K));return K=f+g,window.setTimeout(o,g)}var $=window.requestAnimationFrame||ie("RequestAnimationFrame")||le,Ee=window.cancelAnimationFrame||ie("CancelAnimationFrame")||ie("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Pe(o,f,g){if(g&&$===le)o.call(f);else return $.call(window,p(o,f))}function ye(o){o&&Ee.call(window,o)}var De={__proto__:null,extend:l,create:u,bind:p,get lastId(){return y},stamp:v,throttle:x,wrapNum:A,falseFn:E,formatNum:I,trim:O,splitWords:k,setOptions:B,getParamString:V,template:F,isArray:D,indexOf:Z,emptyImageUrl:ne,requestFn:$,cancelFn:Ee,requestAnimFrame:Pe,cancelAnimFrame:ye};function ke(){}ke.extend=function(o){var f=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=f.__super__=this.prototype,C=u(g);C.constructor=f,f.prototype=C;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(f[T]=this[T]);return o.statics&&l(f,o.statics),o.includes&&(re(o.includes),l.apply(null,[C].concat(o.includes))),l(C,o),delete C.statics,delete C.includes,C.options&&(C.options=g.options?u(g.options):{},l(C.options,o.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,W=C._initHooks.length;P<W;P++)C._initHooks[P].call(this)}},f},ke.include=function(o){var f=this.prototype.options;return l(this.prototype,o),o.options&&(this.prototype.options=f,this.mergeOptions(o.options)),this},ke.mergeOptions=function(o){return l(this.prototype.options,o),this},ke.addInitHook=function(o){var f=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function re(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=D(o)?o:[o];for(var f=0;f<o.length;f++)o[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ae={on:function(o,f,g){if(typeof o=="object")for(var C in o)this._on(C,o[C],f);else{o=k(o);for(var T=0,P=o.length;T<P;T++)this._on(o[T],f,g)}return this},off:function(o,f,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var C in o)this._off(C,o[C],f);else{o=k(o);for(var T=arguments.length===1,P=0,W=o.length;P<W;P++)T?this._off(o[P]):this._off(o[P],f,g)}return this},_on:function(o,f,g,C){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(o,f,g)===!1){g===this&&(g=void 0);var T={fn:f,ctx:g};C&&(T.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(T)}},_off:function(o,f,g){var C,T,P;if(this._events&&(C=this._events[o],!!C)){if(arguments.length===1){if(this._firingCount)for(T=0,P=C.length;T<P;T++)C[T].fn=E;delete this._events[o];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var W=this._listens(o,f,g);if(W!==!1){var J=C[W];this._firingCount&&(J.fn=E,this._events[o]=C=C.slice()),C.splice(W,1)}}},fire:function(o,f,g){if(!this.listens(o,g))return this;var C=l({},f,{type:o,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var T=this._events[o];if(T){this._firingCount=this._firingCount+1||1;for(var P=0,W=T.length;P<W;P++){var J=T[P],oe=J.fn;J.once&&this.off(o,oe,J.ctx),oe.call(J.ctx||this,C)}this._firingCount--}}return g&&this._propagateEvent(C),this},listens:function(o,f,g,C){typeof o!="string"&&console.warn('"string" type argument expected');var T=f;typeof f!="function"&&(C=!!f,T=void 0,g=void 0);var P=this._events&&this._events[o];if(P&&P.length&&this._listens(o,T,g)!==!1)return!0;if(C){for(var W in this._eventParents)if(this._eventParents[W].listens(o,f,g,C))return!0}return!1},_listens:function(o,f,g){if(!this._events)return!1;var C=this._events[o]||[];if(!f)return!!C.length;g===this&&(g=void 0);for(var T=0,P=C.length;T<P;T++)if(C[T].fn===f&&C[T].ctx===g)return T;return!1},once:function(o,f,g){if(typeof o=="object")for(var C in o)this._on(C,o[C],f,!0);else{o=k(o);for(var T=0,P=o.length;T<P;T++)this._on(o[T],f,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[v(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[v(o)],this},_propagateEvent:function(o){for(var f in this._eventParents)this._eventParents[f].fire(o.type,l({layer:o.target,propagatedFrom:o.target},o),!0)}};Ae.addEventListener=Ae.on,Ae.removeEventListener=Ae.clearAllEventListeners=Ae.off,Ae.addOneTimeEventListener=Ae.once,Ae.fireEvent=Ae.fire,Ae.hasEventListeners=Ae.listens;var Ne=ke.extend(Ae);function ce(o,f,g){this.x=g?Math.round(o):o,this.y=g?Math.round(f):f}var X=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ce.prototype={clone:function(){return new ce(this.x,this.y)},add:function(o){return this.clone()._add(ee(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ee(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ce(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ce(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(o){o=ee(o);var f=o.x-this.x,g=o.y-this.y;return Math.sqrt(f*f+g*g)},equals:function(o){return o=ee(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ee(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function ee(o,f,g){return o instanceof ce?o:D(o)?new ce(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ce(o.x,o.y):new ce(o,f,g)}function ue(o,f){if(o)for(var g=f?[o,f]:o,C=0,T=g.length;C<T;C++)this.extend(g[C])}ue.prototype={extend:function(o){var f,g;if(!o)return this;if(o instanceof ce||typeof o[0]=="number"||"x"in o)f=g=ee(o);else if(o=we(o),f=o.min,g=o.max,!f||!g)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=g.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var f,g;return typeof o[0]=="number"||o instanceof ce?o=ee(o):o=we(o),o instanceof ue?(f=o.min,g=o.max):f=g=o,f.x>=this.min.x&&g.x<=this.max.x&&f.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=we(o);var f=this.min,g=this.max,C=o.min,T=o.max,P=T.x>=f.x&&C.x<=g.x,W=T.y>=f.y&&C.y<=g.y;return P&&W},overlaps:function(o){o=we(o);var f=this.min,g=this.max,C=o.min,T=o.max,P=T.x>f.x&&C.x<g.x,W=T.y>f.y&&C.y<g.y;return P&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var f=this.min,g=this.max,C=Math.abs(f.x-g.x)*o,T=Math.abs(f.y-g.y)*o;return we(ee(f.x-C,f.y-T),ee(g.x+C,g.y+T))},equals:function(o){return o?(o=we(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function we(o,f){return!o||o instanceof ue?o:new ue(o,f)}function Be(o,f){if(o)for(var g=f?[o,f]:o,C=0,T=g.length;C<T;C++)this.extend(g[C])}Be.prototype={extend:function(o){var f=this._southWest,g=this._northEast,C,T;if(o instanceof ze)C=o,T=o;else if(o instanceof Be){if(C=o._southWest,T=o._northEast,!C||!T)return this}else return o?this.extend(de(o)||Te(o)):this;return!f&&!g?(this._southWest=new ze(C.lat,C.lng),this._northEast=new ze(T.lat,T.lng)):(f.lat=Math.min(C.lat,f.lat),f.lng=Math.min(C.lng,f.lng),g.lat=Math.max(T.lat,g.lat),g.lng=Math.max(T.lng,g.lng)),this},pad:function(o){var f=this._southWest,g=this._northEast,C=Math.abs(f.lat-g.lat)*o,T=Math.abs(f.lng-g.lng)*o;return new Be(new ze(f.lat-C,f.lng-T),new ze(g.lat+C,g.lng+T))},getCenter:function(){return new ze((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ze(this.getNorth(),this.getWest())},getSouthEast:function(){return new ze(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ze||"lat"in o?o=de(o):o=Te(o);var f=this._southWest,g=this._northEast,C,T;return o instanceof Be?(C=o.getSouthWest(),T=o.getNorthEast()):C=T=o,C.lat>=f.lat&&T.lat<=g.lat&&C.lng>=f.lng&&T.lng<=g.lng},intersects:function(o){o=Te(o);var f=this._southWest,g=this._northEast,C=o.getSouthWest(),T=o.getNorthEast(),P=T.lat>=f.lat&&C.lat<=g.lat,W=T.lng>=f.lng&&C.lng<=g.lng;return P&&W},overlaps:function(o){o=Te(o);var f=this._southWest,g=this._northEast,C=o.getSouthWest(),T=o.getNorthEast(),P=T.lat>f.lat&&C.lat<g.lat,W=T.lng>f.lng&&C.lng<g.lng;return P&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,f){return o?(o=Te(o),this._southWest.equals(o.getSouthWest(),f)&&this._northEast.equals(o.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(o,f){return o instanceof Be?o:new Be(o,f)}function ze(o,f,g){if(isNaN(o)||isNaN(f))throw new Error("Invalid LatLng object: ("+o+", "+f+")");this.lat=+o,this.lng=+f,g!==void 0&&(this.alt=+g)}ze.prototype={equals:function(o,f){if(!o)return!1;o=de(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(f===void 0?1e-9:f)},toString:function(o){return"LatLng("+I(this.lat,o)+", "+I(this.lng,o)+")"},distanceTo:function(o){return ft.distance(this,de(o))},wrap:function(){return ft.wrapLatLng(this)},toBounds:function(o){var f=180*o/40075017,g=f/Math.cos(Math.PI/180*this.lat);return Te([this.lat-f,this.lng-g],[this.lat+f,this.lng+g])},clone:function(){return new ze(this.lat,this.lng,this.alt)}};function de(o,f,g){return o instanceof ze?o:D(o)&&typeof o[0]!="object"?o.length===3?new ze(o[0],o[1],o[2]):o.length===2?new ze(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ze(o.lat,"lng"in o?o.lng:o.lon,o.alt):f===void 0?null:new ze(o,f,g)}var Ke={latLngToPoint:function(o,f){var g=this.projection.project(o),C=this.scale(f);return this.transformation._transform(g,C)},pointToLatLng:function(o,f){var g=this.scale(f),C=this.transformation.untransform(o,g);return this.projection.unproject(C)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var f=this.projection.bounds,g=this.scale(o),C=this.transformation.transform(f.min,g),T=this.transformation.transform(f.max,g);return new ue(C,T)},infinite:!1,wrapLatLng:function(o){var f=this.wrapLng?A(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?A(o.lat,this.wrapLat,!0):o.lat,C=o.alt;return new ze(g,f,C)},wrapLatLngBounds:function(o){var f=o.getCenter(),g=this.wrapLatLng(f),C=f.lat-g.lat,T=f.lng-g.lng;if(C===0&&T===0)return o;var P=o.getSouthWest(),W=o.getNorthEast(),J=new ze(P.lat-C,P.lng-T),oe=new ze(W.lat-C,W.lng-T);return new Be(J,oe)}},ft=l({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(o,f){var g=Math.PI/180,C=o.lat*g,T=f.lat*g,P=Math.sin((f.lat-o.lat)*g/2),W=Math.sin((f.lng-o.lng)*g/2),J=P*P+Math.cos(C)*Math.cos(T)*W*W,oe=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*oe}}),Yn=6378137,Xn={R:Yn,MAX_LATITUDE:85.0511287798,project:function(o){var f=Math.PI/180,g=this.MAX_LATITUDE,C=Math.max(Math.min(g,o.lat),-g),T=Math.sin(C*f);return new ce(this.R*o.lng*f,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(o){var f=180/Math.PI;return new ze((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*f,o.x*f/this.R)},bounds:function(){var o=Yn*Math.PI;return new ue([-o,-o],[o,o])}()};function St(o,f,g,C){if(D(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=f,this._c=g,this._d=C}St.prototype={transform:function(o,f){return this._transform(o.clone(),f)},_transform:function(o,f){return f=f||1,o.x=f*(this._a*o.x+this._b),o.y=f*(this._c*o.y+this._d),o},untransform:function(o,f){return f=f||1,new ce((o.x/f-this._b)/this._a,(o.y/f-this._d)/this._c)}};function ji(o,f,g,C){return new St(o,f,g,C)}var it=l({},ft,{code:"EPSG:3857",projection:Xn,transformation:function(){var o=.5/(Math.PI*Xn.R);return ji(o,.5,-o,.5)}()}),Hr=l({},it,{code:"EPSG:900913"});function si(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Wr(o,f){var g="",C,T,P,W,J,oe;for(C=0,P=o.length;C<P;C++){for(J=o[C],T=0,W=J.length;T<W;T++)oe=J[T],g+=(T?"L":"M")+oe.x+" "+oe.y;g+=f?Re.svg?"z":"x":""}return g||"M0 0"}var Xt=document.documentElement.style,dt="ActiveXObject"in window,rt=dt&&!document.addEventListener,Ls="msLaunchUri"in navigator&&!("documentMode"in document),Oe=Ot("webkit"),Ds=Ot("android"),Ea=Ot("android 2")||Ot("android 3"),zi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Aa=Ds&&Ot("Google")&&zi<537&&!("AudioNode"in window),Dn=!!window.opera,Sa=!Ls&&Ot("chrome"),Ui=Ot("gecko")&&!Oe&&!Dn&&!dt,_n=!Sa&&Ot("safari"),ba=Ot("phantom"),ks="OTransition"in Xt,Nh=navigator.platform.indexOf("Win")===0,Ft=dt&&"transition"in Xt,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ea,Zt="MozPerspective"in Xt,gt=!window.L_DISABLE_3D&&(Ft||ve||Zt)&&!ks&&!ba,_t=typeof orientation<"u"||Ot("mobile"),Bs=_t&&Oe,Ta=_t&&ve,Ia=!window.PointerEvent&&window.MSPointerEvent,ot=!!(window.PointerEvent||Ia),ir="ontouchstart"in window||!!window.TouchEvent,uc=!window.L_NO_TOUCH&&(ir||ot),hc=_t&&Dn,oi=_t&&Ui,Na=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hn=function(){var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",E,f),window.removeEventListener("testPassiveEventSupport",E,f)}catch{}return o}(),Zr=function(){return!!document.createElement("canvas").getContext}(),Gr=!!(document.createElementNS&&si("svg").createSVGRect),vi=!!Gr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mh=!Gr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var f=o.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),yr=navigator.platform.indexOf("Mac")===0,Ma=navigator.platform.indexOf("Linux")===0;function Ot(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Re={ie:dt,ielt9:rt,edge:Ls,webkit:Oe,android:Ds,android23:Ea,androidStock:Aa,opera:Dn,chrome:Sa,gecko:Ui,safari:_n,phantom:ba,opera12:ks,win:Nh,ie3d:Ft,webkit3d:ve,gecko3d:Zt,any3d:gt,mobile:_t,mobileWebkit:Bs,mobileWebkit3d:Ta,msPointer:Ia,pointer:ot,touch:uc,touchNative:ir,mobileOpera:hc,mobileGecko:oi,retina:Na,passiveEvents:hn,canvas:Zr,svg:Gr,vml:Mh,inlineSvg:vi,mac:yr,linux:Ma},kn=Re.msPointer?"MSPointerDown":"pointerdown",Se=Re.msPointer?"MSPointerMove":"pointermove",wr=Re.msPointer?"MSPointerUp":"pointerup",bo=Re.msPointer?"MSPointerCancel":"pointercancel",fn={touchstart:kn,touchmove:Se,touchend:wr,touchcancel:bo},vr={touchstart:rr,touchmove:js,touchend:js,touchcancel:js},Vi={},Fs=!1;function _i(o,f,g){return f==="touchstart"&&bt(),vr[f]?(g=vr[f].bind(this,g),o.addEventListener(fn[f],g,!1),g):(console.warn("wrong event specified:",f),E)}function Oh(o,f,g){if(!fn[f]){console.warn("wrong event specified:",f);return}o.removeEventListener(fn[f],g,!1)}function Rh(o){Vi[o.pointerId]=o}function Ci(o){Vi[o.pointerId]&&(Vi[o.pointerId]=o)}function dn(o){delete Vi[o.pointerId]}function bt(){Fs||(document.addEventListener(kn,Rh,!0),document.addEventListener(Se,Ci,!0),document.addEventListener(wr,dn,!0),document.addEventListener(bo,dn,!0),Fs=!0)}function js(o,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var g in Vi)f.touches.push(Vi[g]);f.changedTouches=[f],o(f)}}function rr(o,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&on(f),js(o,f)}function Oa(o){var f={},g,C;for(C in o)g=o[C],f[C]=g&&g.bind?g.bind(o):g;return o=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var he=200;function Ph(o,f){o.addEventListener("dblclick",f);var g=0,C;function T(P){if(P.detail!==1){C=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var W=Xr(P);if(!(W.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!W.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var J=Date.now();J-g<=he?(C++,C===2&&f(Oa(P))):C=1,g=J}}}return o.addEventListener("click",T),{dblclick:f,simDblclick:T}}function kt(o,f){o.removeEventListener("dblclick",f.dblclick),o.removeEventListener("click",f.simDblclick)}var sr=Q(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zs=Q(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ct=zs==="webkitTransition"||zs==="OTransition"?zs+"End":"transitionend";function at(o){return typeof o=="string"?document.getElementById(o):o}function qe(o,f){var g=o.style[f]||o.currentStyle&&o.currentStyle[f];if((!g||g==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(o,null);g=C?C[f]:null}return g==="auto"?null:g}function nt(o,f,g){var C=document.createElement(o);return C.className=f||"",g&&g.appendChild(C),C}function Et(o){var f=o.parentNode;f&&f.removeChild(o)}function Yr(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Tt(o){var f=o.parentNode;f&&f.lastChild!==o&&f.appendChild(o)}function Bn(o){var f=o.parentNode;f&&f.firstChild!==o&&f.insertBefore(o,f.firstChild)}function Ra(o,f){if(o.classList!==void 0)return o.classList.contains(f);var g=Hi(o);return g.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(g)}function Le(o,f){if(o.classList!==void 0)for(var g=k(f),C=0,T=g.length;C<T;C++)o.classList.add(g[C]);else if(!Ra(o,f)){var P=Hi(o);Pa(o,(P?P+" ":"")+f)}}function pt(o,f){o.classList!==void 0?o.classList.remove(f):Pa(o,O((" "+Hi(o)+" ").replace(" "+f+" "," ")))}function Pa(o,f){o.className.baseVal===void 0?o.className=f:o.className.baseVal=f}function Hi(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Qe(o,f){"opacity"in o.style?o.style.opacity=f:"filter"in o.style&&pn(o,f)}function pn(o,f){var g=!1,C="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(C)}catch{if(f===1)return}f=Math.round(f*100),g?(g.Enabled=f!==100,g.Opacity=f):o.style.filter+=" progid:"+C+"(opacity="+f+")"}function Q(o){for(var f=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in f)return o[g];return!1}function z(o,f,g){var C=f||new ce(0,0);o.style[sr]=(Re.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(g?" scale("+g+")":"")}function _e(o,f){o._leaflet_pos=f,Re.any3d?z(o,f):(o.style.left=f.x+"px",o.style.top=f.y+"px")}function It(o){return o._leaflet_pos||new ce(0,0)}var mn,Us,Vs;if("onselectstart"in document)mn=function(){He(window,"selectstart",on)},Us=function(){Ce(window,"selectstart",on)};else{var gn=Q(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mn=function(){if(gn){var o=document.documentElement.style;Vs=o[gn],o[gn]="none"}},Us=function(){gn&&(document.documentElement.style[gn]=Vs,Vs=void 0)}}function Fe(){He(window,"dragstart",on)}function At(){Ce(window,"dragstart",on)}var Hs,La;function Ws(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(_r(),Hs=o,La=o.style.outlineStyle,o.style.outlineStyle="none",He(window,"keydown",_r))}function _r(){Hs&&(Hs.style.outlineStyle=La,Hs=void 0,La=void 0,Ce(window,"keydown",_r))}function To(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Da(o){var f=o.getBoundingClientRect();return{x:f.width/o.offsetWidth||1,y:f.height/o.offsetHeight||1,boundingClientRect:f}}var $t={__proto__:null,TRANSFORM:sr,TRANSITION:zs,TRANSITION_END:ct,get:at,getStyle:qe,create:nt,remove:Et,empty:Yr,toFront:Tt,toBack:Bn,hasClass:Ra,addClass:Le,removeClass:pt,setClass:Pa,getClass:Hi,setOpacity:Qe,testProp:Q,setTransform:z,setPosition:_e,getPosition:It,get disableTextSelection(){return mn},get enableTextSelection(){return Us},disableImageDrag:Fe,enableImageDrag:At,preventOutline:Ws,restoreOutline:_r,getSizedParentNode:To,getScale:Da};function He(o,f,g,C){if(f&&typeof f=="object")for(var T in f)Kt(o,T,f[T],g);else{f=k(f);for(var P=0,W=f.length;P<W;P++)Kt(o,f[P],g,C)}return this}var sn="_leaflet_events";function Ce(o,f,g,C){if(arguments.length===1)fc(o),delete o[sn];else if(f&&typeof f=="object")for(var T in f)ka(o,T,f[T],g);else if(f=k(f),arguments.length===2)fc(o,function(J){return Z(f,J)!==-1});else for(var P=0,W=f.length;P<W;P++)ka(o,f[P],g,C);return this}function fc(o,f){for(var g in o[sn]){var C=g.split(/\d/)[0];(!f||f(C))&&ka(o,C,null,null,g)}}var Ge={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kt(o,f,g,C){var T=f+v(g)+(C?"_"+v(C):"");if(o[sn]&&o[sn][T])return this;var P=function(J){return g.call(C||o,J||window.event)},W=P;!Re.touchNative&&Re.pointer&&f.indexOf("touch")===0?P=_i(o,f,P):Re.touch&&f==="dblclick"?P=Ph(o,P):"addEventListener"in o?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?o.addEventListener(Ge[f]||f,P,Re.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(P=function(J){J=J||window.event,Cr(o,J)&&W(J)},o.addEventListener(Ge[f],P,!1)):o.addEventListener(f,W,!1):o.attachEvent("on"+f,P),o[sn]=o[sn]||{},o[sn][T]=P}function ka(o,f,g,C,T){T=T||f+v(g)+(C?"_"+v(C):"");var P=o[sn]&&o[sn][T];if(!P)return this;!Re.touchNative&&Re.pointer&&f.indexOf("touch")===0?Oh(o,f,P):Re.touch&&f==="dblclick"?kt(o,P):"removeEventListener"in o?o.removeEventListener(Ge[f]||f,P,!1):o.detachEvent("on"+f,P),o[sn][T]=null}function Wi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Io(o){return Kt(o,"wheel",Wi),this}function ai(o){return He(o,"mousedown touchstart dblclick contextmenu",Wi),o._leaflet_disable_click=!0,this}function on(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function li(o){return on(o),Wi(o),this}function Xr(o){if(o.composedPath)return o.composedPath();for(var f=[],g=o.target;g;)f.push(g),g=g.parentNode;return f}function Kr(o,f){if(!f)return new ce(o.clientX,o.clientY);var g=Da(f),C=g.boundingClientRect;return new ce((o.clientX-C.left)/g.x-f.clientLeft,(o.clientY-C.top)/g.y-f.clientTop)}var dc=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qr(o){return Re.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/dc:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Cr(o,f){var g=f.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var Sn={__proto__:null,on:He,off:Ce,stopPropagation:Wi,disableScrollPropagation:Io,disableClickPropagation:ai,preventDefault:on,stop:li,getPropagationPath:Xr,getMousePosition:Kr,getWheelDelta:qr,isExternalTarget:Cr,addListener:He,removeListener:Ce},Ba=Ne.extend({run:function(o,f,g,C){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=It(o),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pe(this._animate,this),this._step()},_step:function(o){var f=+new Date-this._startTime,g=this._duration*1e3;f<g?this._runFrame(this._easeOut(f/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,f){var g=this._startPos.add(this._offset.multiplyBy(o));f&&g._round(),_e(this._el,g),this.fire("step")},_complete:function(){ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),et=Ne.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,f){f=B(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(de(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zs&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),He(this._proxy,ct,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,f,g){if(f=f===void 0?this._zoom:this._limitZoom(f),o=this._limitCenter(de(o),f,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=l({animate:g.animate},g.zoom),g.pan=l({animate:g.animate,duration:g.duration},g.pan));var C=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,f,g.zoom):this._tryAnimatedPan(o,g.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(o,f,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,f){return this._loaded?this.setView(this.getCenter(),o,{zoom:f}):(this._zoom=o,this)},zoomIn:function(o,f){return o=o||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,f)},zoomOut:function(o,f){return o=o||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,f)},setZoomAround:function(o,f,g){var C=this.getZoomScale(f),T=this.getSize().divideBy(2),P=o instanceof ce?o:this.latLngToContainerPoint(o),W=P.subtract(T).multiplyBy(1-1/C),J=this.containerPointToLatLng(T.add(W));return this.setView(J,f,{zoom:g})},_getBoundsCenterZoom:function(o,f){f=f||{},o=o.getBounds?o.getBounds():Te(o);var g=ee(f.paddingTopLeft||f.padding||[0,0]),C=ee(f.paddingBottomRight||f.padding||[0,0]),T=this.getBoundsZoom(o,!1,g.add(C));if(T=typeof f.maxZoom=="number"?Math.min(f.maxZoom,T):T,T===1/0)return{center:o.getCenter(),zoom:T};var P=C.subtract(g).divideBy(2),W=this.project(o.getSouthWest(),T),J=this.project(o.getNorthEast(),T),oe=this.unproject(W.add(J).divideBy(2).add(P),T);return{center:oe,zoom:T}},fitBounds:function(o,f){if(o=Te(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,f);return this.setView(g.center,g.zoom,f)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,f){return this.setView(o,this._zoom,{pan:f})},panBy:function(o,f){if(o=ee(o).round(),f=f||{},!o.x&&!o.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,f.duration||.25,f.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,f,g){if(g=g||{},g.animate===!1||!Re.any3d)return this.setView(o,f,g);this._stop();var C=this.project(this.getCenter()),T=this.project(o),P=this.getSize(),W=this._zoom;o=de(o),f=f===void 0?W:f;var J=Math.max(P.x,P.y),oe=J*this.getZoomScale(W,f),fe=T.distanceTo(C)||1,be=1.42,Ue=be*be;function $e(tn){var _c=tn?-1:1,h_=tn?oe:J,f_=oe*oe-J*J+_c*Ue*Ue*fe*fe,d_=2*h_*Ue*fe,zh=f_/d_,ep=Math.sqrt(zh*zh+1)-zh,p_=ep<1e-9?-18:Math.log(ep);return p_}function Un(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function xn(tn){return(Math.exp(tn)+Math.exp(-tn))/2}function Ii(tn){return Un(tn)/xn(tn)}var qn=$e(0);function Po(tn){return J*(xn(qn)/xn(qn+be*tn))}function a_(tn){return J*(xn(qn)*Ii(qn+be*tn)-Un(qn))/Ue}function l_(tn){return 1-Math.pow(1-tn,1.5)}var c_=Date.now(),J1=($e(1)-qn)/be,u_=g.duration?1e3*g.duration:1e3*J1*.8;function $1(){var tn=(Date.now()-c_)/u_,_c=l_(tn)*J1;tn<=1?(this._flyToFrame=Pe($1,this),this._move(this.unproject(C.add(T.subtract(C).multiplyBy(a_(_c)/fe)),W),this.getScaleZoom(J/Po(_c),W),{flyTo:!0})):this._move(o,f)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),$1.call(this),this},flyToBounds:function(o,f){var g=this._getBoundsCenterZoom(o,f);return this.flyTo(g.center,g.zoom,f)},setMaxBounds:function(o){return o=Te(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var f=this.options.minZoom;return this.options.minZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var f=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,f){this._enforcingBounds=!0;var g=this.getCenter(),C=this._limitCenter(g,this._zoom,Te(o));return g.equals(C)||this.panTo(C,f),this._enforcingBounds=!1,this},panInside:function(o,f){f=f||{};var g=ee(f.paddingTopLeft||f.padding||[0,0]),C=ee(f.paddingBottomRight||f.padding||[0,0]),T=this.project(this.getCenter()),P=this.project(o),W=this.getPixelBounds(),J=we([W.min.add(g),W.max.subtract(C)]),oe=J.getSize();if(!J.contains(P)){this._enforcingBounds=!0;var fe=P.subtract(J.getCenter()),be=J.extend(P).getSize().subtract(oe);T.x+=fe.x<0?-be.x:be.x,T.y+=fe.y<0?-be.y:be.y,this.panTo(this.unproject(T),f),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=l({animate:!1,pan:!0},o===!0?{animate:!0}:o);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),C=f.divideBy(2).round(),T=g.divideBy(2).round(),P=C.subtract(T);return!P.x&&!P.y?this:(o.animate&&o.pan?this.panBy(P):(o.pan&&this._rawPanBy(P),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=l({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=p(this._handleGeolocationResponse,this),g=p(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,g,o):navigator.geolocation.getCurrentPosition(f,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var f=o.code,g=o.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var f=o.coords.latitude,g=o.coords.longitude,C=new ze(f,g),T=C.toBounds(o.coords.accuracy*2),P=this._locateOptions;if(P.setView){var W=this.getBoundsZoom(T);this.setView(C,P.maxZoom?Math.min(W,P.maxZoom):W)}var J={latlng:C,bounds:T,timestamp:o.timestamp};for(var oe in o.coords)typeof o.coords[oe]=="number"&&(J[oe]=o.coords[oe]);this.fire("locationfound",J)}},addHandler:function(o,f){if(!f)return this;var g=this[o]=new f(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Et(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Et(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,f){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),C=nt("div",g,f||this._mapPane);return o&&(this._panes[o]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),f=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new Be(f,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,f,g){o=Te(o),g=ee(g||[0,0]);var C=this.getZoom()||0,T=this.getMinZoom(),P=this.getMaxZoom(),W=o.getNorthWest(),J=o.getSouthEast(),oe=this.getSize().subtract(g),fe=we(this.project(J,C),this.project(W,C)).getSize(),be=Re.any3d?this.options.zoomSnap:1,Ue=oe.x/fe.x,$e=oe.y/fe.y,Un=f?Math.max(Ue,$e):Math.min(Ue,$e);return C=this.getScaleZoom(Un,C),be&&(C=Math.round(C/(be/100))*(be/100),C=f?Math.ceil(C/be)*be:Math.floor(C/be)*be),Math.max(T,Math.min(P,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,f){var g=this._getTopLeftPoint(o,f);return new ue(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,f){var g=this.options.crs;return f=f===void 0?this._zoom:f,g.scale(o)/g.scale(f)},getScaleZoom:function(o,f){var g=this.options.crs;f=f===void 0?this._zoom:f;var C=g.zoom(o*g.scale(f));return isNaN(C)?1/0:C},project:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(de(o),f)},unproject:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(ee(o),f)},layerPointToLatLng:function(o){var f=ee(o).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(o){var f=this.project(de(o))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(de(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Te(o))},distance:function(o,f){return this.options.crs.distance(de(o),de(f))},containerPointToLayerPoint:function(o){return ee(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ee(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var f=this.containerPointToLayerPoint(ee(o));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(o)))},mouseEventToContainerPoint:function(o){return Kr(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var f=this._container=at(o);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");He(f,"scroll",this._onScroll,this),this._containerId=v(f)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,Le(o,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=qe(o,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(o.markerPane,"leaflet-zoom-hide"),Le(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,f,g){_e(this._mapPane,new ce(0,0));var C=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var T=this._zoom!==f;this._moveStart(T,g)._move(o,f)._moveEnd(T),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(o,f){return o&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(o,f,g,C){f===void 0&&(f=this._zoom);var T=this._zoom!==f;return this._zoom=f,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),C?g&&g.pinch&&this.fire("zoom",g):((T||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){_e(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[v(this._container)]=this;var f=o?Ce:He;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ye(this._resizeRequest),this._resizeRequest=Pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,f){for(var g=[],C,T=f==="mouseout"||f==="mouseover",P=o.target||o.srcElement,W=!1;P;){if(C=this._targets[v(P)],C&&(f==="click"||f==="preclick")&&this._draggableMoved(C)){W=!0;break}if(C&&C.listens(f,!0)&&(T&&!Cr(P,o)||(g.push(C),T))||P===this._container)break;P=P.parentNode}return!g.length&&!W&&!T&&this.listens(f,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var f=o.target||o.srcElement;if(!(!this._loaded||f._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(f))){var g=o.type;g==="mousedown"&&Ws(f),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,f,g){if(o.type==="click"){var C=l({},o);C.type="preclick",this._fireDOMEvent(C,C.type,g)}var T=this._findEventTargets(o,f);if(g){for(var P=[],W=0;W<g.length;W++)g[W].listens(f,!0)&&P.push(g[W]);T=P.concat(T)}if(T.length){f==="contextmenu"&&on(o);var J=T[0],oe={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var fe=J.getLatLng&&(!J._radius||J._radius<=10);oe.containerPoint=fe?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(o),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=fe?J.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(W=0;W<T.length;W++)if(T[W].fire(f,oe,!0),oe.originalEvent._stopped||T[W].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,f=this._handlers.length;o<f;o++)this._handlers[o].disable()},whenReady:function(o,f){return this._loaded?o.call(f||this,{target:this}):this.on("load",o,f),this},_getMapPanePos:function(){return It(this._mapPane)||new ce(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,f){var g=o&&f!==void 0?this._getNewPixelOrigin(o,f):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,f){var g=this.getSize()._divideBy(2);return this.project(o,f)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,f,g){var C=this._getNewPixelOrigin(g,f);return this.project(o,f)._subtract(C)},_latLngBoundsToNewLayerBounds:function(o,f,g){var C=this._getNewPixelOrigin(g,f);return we([this.project(o.getSouthWest(),f)._subtract(C),this.project(o.getNorthWest(),f)._subtract(C),this.project(o.getSouthEast(),f)._subtract(C),this.project(o.getNorthEast(),f)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,f,g){if(!g)return o;var C=this.project(o,f),T=this.getSize().divideBy(2),P=new ue(C.subtract(T),C.add(T)),W=this._getBoundsOffset(P,g,f);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?o:this.unproject(C.add(W),f)},_limitOffset:function(o,f){if(!f)return o;var g=this.getPixelBounds(),C=new ue(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(C,f))},_getBoundsOffset:function(o,f,g){var C=we(this.project(f.getNorthEast(),g),this.project(f.getSouthWest(),g)),T=C.min.subtract(o.min),P=C.max.subtract(o.max),W=this._rebound(T.x,-P.x),J=this._rebound(T.y,-P.y);return new ce(W,J)},_rebound:function(o,f){return o+f>0?Math.round(o-f)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(f))},_limitZoom:function(o){var f=this.getMinZoom(),g=this.getMaxZoom(),C=Re.any3d?this.options.zoomSnap:1;return C&&(o=Math.round(o/C)*C),Math.max(f,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,f){var g=this._getCenterOffset(o)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,f),!0)},_createAnimProxy:function(){var o=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(f){var g=sr,C=this._proxy.style[g];z(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),C===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Et(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),f=this.getZoom();z(this._proxy,this.project(o,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,f,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(f),T=this._getCenterOffset(o)._divideBy(1-1/C);return g.animate!==!0&&!this.getSize().contains(T)?!1:(Pe(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,f,!0)},this),!0)},_animateZoom:function(o,f,g,C){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=f,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:f,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pc(o,f){return new et(o,f)}var ci=ke.extend({options:{position:"topright"},initialize:function(o){B(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var f=this._map;return f&&f.removeControl(this),this.options.position=o,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var f=this._container=this.onAdd(o),g=this.getPosition(),C=o._controlCorners[g];return Le(f,"leaflet-control"),g.indexOf("bottom")!==-1?C.insertBefore(f,C.firstChild):C.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Et(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Zs=function(o){return new ci(o)};et.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},f="leaflet-",g=this._controlContainer=nt("div",f+"control-container",this._container);function C(T,P){var W=f+T+" "+f+P;o[T+P]=nt("div",W,g)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Et(this._controlCorners[o]);Et(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mc=ci.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,f,g,C){return g<C?-1:C<g?1:0}},initialize:function(o,f,g){B(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in o)this._addLayer(o[C],C);for(C in f)this._addLayer(f[C],C,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ci.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,f){return this._addLayer(o,f),this._map?this._update():this},addOverlay:function(o,f){return this._addLayer(o,f,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var f=this._getLayer(v(o));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",f=this._container=nt("div",o),g=this.options.collapsed;f.setAttribute("aria-haspopup",!0),ai(f),Io(f);var C=this._section=nt("section",o+"-list");g&&(this._map.on("click",this.collapse,this),He(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=nt("a",o+"-toggle",f);T.href="#",T.title="Layers",T.setAttribute("role","button"),He(T,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){on(P),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=nt("div",o+"-base",C),this._separator=nt("div",o+"-separator",C),this._overlaysList=nt("div",o+"-overlays",C),f.appendChild(C)},_getLayer:function(o){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&v(this._layers[f].layer)===o)return this._layers[f]},_addLayer:function(o,f,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:f,overlay:g}),this.options.sortLayers&&this._layers.sort(p(function(C,T){return this.options.sortFunction(C.layer,T.layer,C.name,T.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yr(this._baseLayersList),Yr(this._overlaysList),this._layerControlInputs=[];var o,f,g,C,T=0;for(g=0;g<this._layers.length;g++)C=this._layers[g],this._addItem(C),f=f||C.overlay,o=o||!C.overlay,T+=C.overlay?0:1;return this.options.hideSingleBase&&(o=o&&T>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=f&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var f=this._getLayer(v(o.target)),g=f.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,f)},_createRadioElement:function(o,f){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(f?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=g,C.firstChild},_addItem:function(o){var f=document.createElement("label"),g=this._map.hasLayer(o.layer),C;o.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=g):C=this._createRadioElement("leaflet-base-layers_"+v(this),g),this._layerControlInputs.push(C),C.layerId=v(o.layer),He(C,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+o.name;var P=document.createElement("span");f.appendChild(P),P.appendChild(C),P.appendChild(T);var W=o.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,f,g,C=[],T=[];this._handlingClick=!0;for(var P=o.length-1;P>=0;P--)f=o[P],g=this._getLayer(f.layerId).layer,f.checked?C.push(g):f.checked||T.push(g);for(P=0;P<T.length;P++)this._map.hasLayer(T[P])&&this._map.removeLayer(T[P]);for(P=0;P<C.length;P++)this._map.hasLayer(C[P])||this._map.addLayer(C[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,f,g,C=this._map.getZoom(),T=o.length-1;T>=0;T--)f=o[T],g=this._getLayer(f.layerId).layer,f.disabled=g.options.minZoom!==void 0&&C<g.options.minZoom||g.options.maxZoom!==void 0&&C>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,He(o,"click",on),this.expand();var f=this;setTimeout(function(){Ce(o,"click",on),f._preventClick=!1})}}),mt=function(o,f,g){return new mc(o,f,g)},No=ci.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var f="leaflet-control-zoom",g=nt("div",f+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,f+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,f+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,f,g,C,T){var P=nt("a",g,C);return P.innerHTML=o,P.href="#",P.title=f,P.setAttribute("role","button"),P.setAttribute("aria-label",f),ai(P),He(P,"click",li),He(P,"click",T,this),He(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var o=this._map,f="leaflet-disabled";pt(this._zoomInButton,f),pt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Le(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Le(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new No,this.addControl(this.zoomControl))});var Mo=function(o){return new No(o)},Zi=ci.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var f="leaflet-control-scale",g=nt("div",f),C=this.options;return this._addScales(C,f+"-line",g),o.on(C.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,f,g){o.metric&&(this._mScale=nt("div",f,g)),o.imperial&&(this._iScale=nt("div",f,g))},_update:function(){var o=this._map,f=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,f]),o.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var f=this._getRoundNum(o),g=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,g,f/o)},_updateImperial:function(o){var f=o*3.2808399,g,C,T;f>5280?(g=f/5280,C=this._getRoundNum(g),this._updateScale(this._iScale,C+" mi",C/g)):(T=this._getRoundNum(f),this._updateScale(this._iScale,T+" ft",T/f))},_updateScale:function(o,f,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=f},_getRoundNum:function(o){var f=Math.pow(10,(Math.floor(o)+"").length-1),g=o/f;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,f*g}}),Lh=function(o){return new Zi(o)},se='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xe=ci.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?se+" ":"")+"Leaflet</a>"},initialize:function(o){B(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),ai(this._container);for(var f in o._layers)o._layers[f].getAttribution&&this.addAttribution(o._layers[f].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var f in this._attributions)this._attributions[f]&&o.push(f);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new Xe().addTo(this)});var an=function(o){return new Xe(o)};ci.Layers=mc,ci.Zoom=No,ci.Scale=Zi,ci.Attribution=Xe,Zs.layers=mt,Zs.zoom=Mo,Zs.scale=Lh,Zs.attribution=an;var Fn=ke.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fn.addTo=function(o,f){return o.addHandler(f,this),this};var gc={Events:Ae},xc=Re.touch?"touchstart mousedown":"mousedown",or=Ne.extend({options:{clickTolerance:3},initialize:function(o,f,g,C){B(this,C),this._element=o,this._dragStartTarget=f||o,this._preventOutline=g},enable:function(){this._enabled||(He(this._dragStartTarget,xc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(or._dragging===this&&this.finishDrag(!0),Ce(this._dragStartTarget,xc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ra(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){or._dragging===this&&this.finishDrag();return}if(!(or._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(or._dragging=this,this._preventOutline&&Ws(this._element),Fe(),mn(),!this._moving)){this.fire("down");var f=o.touches?o.touches[0]:o,g=To(this._element);this._startPoint=new ce(f.clientX,f.clientY),this._startPos=It(this._element),this._parentScale=Da(g);var C=o.type==="mousedown";He(document,C?"mousemove":"touchmove",this._onMove,this),He(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var f=o.touches&&o.touches.length===1?o.touches[0]:o,g=new ce(f.clientX,f.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,on(o),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),_e(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ce(document,"mousemove touchmove",this._onMove,this),Ce(document,"mouseup touchend touchcancel",this._onUp,this),At(),Us();var f=this._moved&&this._moving;this._moving=!1,or._dragging=!1,f&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function yc(o,f,g){var C,T=[1,4,2,8],P,W,J,oe,fe,be,Ue,$e;for(P=0,be=o.length;P<be;P++)o[P]._code=Ar(o[P],f);for(J=0;J<4;J++){for(Ue=T[J],C=[],P=0,be=o.length,W=be-1;P<be;W=P++)oe=o[P],fe=o[W],oe._code&Ue?fe._code&Ue||($e=Gi(fe,oe,Ue,f,g),$e._code=Ar($e,f),C.push($e)):(fe._code&Ue&&($e=Gi(fe,oe,Ue,f,g),$e._code=Ar($e,f),C.push($e)),C.push(oe));o=C}return o}function Oo(o,f){var g,C,T,P,W,J,oe,fe,be;if(!o||o.length===0)throw new Error("latlngs not passed");jn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ue=de([0,0]),$e=Te(o),Un=$e.getNorthWest().distanceTo($e.getSouthWest())*$e.getNorthEast().distanceTo($e.getNorthWest());Un<1700&&(Ue=jt(o));var xn=o.length,Ii=[];for(g=0;g<xn;g++){var qn=de(o[g]);Ii.push(f.project(de([qn.lat-Ue.lat,qn.lng-Ue.lng])))}for(J=oe=fe=0,g=0,C=xn-1;g<xn;C=g++)T=Ii[g],P=Ii[C],W=T.y*P.x-P.y*T.x,oe+=(T.x+P.x)*W,fe+=(T.y+P.y)*W,J+=W*3;J===0?be=Ii[0]:be=[oe/J,fe/J];var Po=f.unproject(ee(be));return de([Po.lat+Ue.lat,Po.lng+Ue.lng])}function jt(o){for(var f=0,g=0,C=0,T=0;T<o.length;T++){var P=de(o[T]);f+=P.lat,g+=P.lng,C++}return de([f/C,g/C])}var Fa={__proto__:null,clipPolygon:yc,polygonCenter:Oo,centroid:jt};function Rt(o,f){if(!f||!o.length)return o.slice();var g=f*f;return o=Dh(o,g),o=xt(o,g),o}function Gs(o,f,g){return Math.sqrt(Sr(o,f,g,!0))}function Er(o,f,g){return Sr(o,f,g)}function xt(o,f){var g=o.length,C=typeof Uint8Array<"u"?Uint8Array:Array,T=new C(g);T[0]=T[g-1]=1,je(o,T,f,0,g-1);var P,W=[];for(P=0;P<g;P++)T[P]&&W.push(o[P]);return W}function je(o,f,g,C,T){var P=0,W,J,oe;for(J=C+1;J<=T-1;J++)oe=Sr(o[J],o[C],o[T],!0),oe>P&&(W=J,P=oe);P>g&&(f[W]=1,je(o,f,g,C,W),je(o,f,g,W,T))}function Dh(o,f){for(var g=[o[0]],C=1,T=0,P=o.length;C<P;C++)Ei(o[C],o[T])>f&&(g.push(o[C]),T=C);return T<P-1&&g.push(o[P-1]),g}var Ct;function ar(o,f,g,C,T){var P=C?Ct:Ar(o,g),W=Ar(f,g),J,oe,fe;for(Ct=W;;){if(!(P|W))return[o,f];if(P&W)return!1;J=P||W,oe=Gi(o,f,J,g,T),fe=Ar(oe,g),J===P?(o=oe,P=fe):(f=oe,W=fe)}}function Gi(o,f,g,C,T){var P=f.x-o.x,W=f.y-o.y,J=C.min,oe=C.max,fe,be;return g&8?(fe=o.x+P*(oe.y-o.y)/W,be=oe.y):g&4?(fe=o.x+P*(J.y-o.y)/W,be=J.y):g&2?(fe=oe.x,be=o.y+W*(oe.x-o.x)/P):g&1&&(fe=J.x,be=o.y+W*(J.x-o.x)/P),new ce(fe,be,T)}function Ar(o,f){var g=0;return o.x<f.min.x?g|=1:o.x>f.max.x&&(g|=2),o.y<f.min.y?g|=4:o.y>f.max.y&&(g|=8),g}function Ei(o,f){var g=f.x-o.x,C=f.y-o.y;return g*g+C*C}function Sr(o,f,g,C){var T=f.x,P=f.y,W=g.x-T,J=g.y-P,oe=W*W+J*J,fe;return oe>0&&(fe=((o.x-T)*W+(o.y-P)*J)/oe,fe>1?(T=g.x,P=g.y):fe>0&&(T+=W*fe,P+=J*fe)),W=o.x-T,J=o.y-P,C?W*W+J*J:new ce(T,P)}function jn(o){return!D(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Ro(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),jn(o)}function ja(o,f){var g,C,T,P,W,J,oe,fe;if(!o||o.length===0)throw new Error("latlngs not passed");jn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var be=de([0,0]),Ue=Te(o),$e=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());$e<1700&&(be=jt(o));var Un=o.length,xn=[];for(g=0;g<Un;g++){var Ii=de(o[g]);xn.push(f.project(de([Ii.lat-be.lat,Ii.lng-be.lng])))}for(g=0,C=0;g<Un-1;g++)C+=xn[g].distanceTo(xn[g+1])/2;if(C===0)fe=xn[0];else for(g=0,P=0;g<Un-1;g++)if(W=xn[g],J=xn[g+1],T=W.distanceTo(J),P+=T,P>C){oe=(P-C)/T,fe=[J.x-oe*(J.x-W.x),J.y-oe*(J.y-W.y)];break}var qn=f.unproject(ee(fe));return de([qn.lat+be.lat,qn.lng+be.lng])}var wc={__proto__:null,simplify:Rt,pointToSegmentDistance:Gs,closestPointOnSegment:Er,clipSegment:ar,_getEdgeIntersection:Gi,_getBitCode:Ar,_sqClosestPointOnSegment:Sr,isFlat:jn,_flat:Ro,polylineCenter:ja},za={project:function(o){return new ce(o.lng,o.lat)},unproject:function(o){return new ze(o.y,o.x)},bounds:new ue([-180,-90],[180,90])},lr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var f=Math.PI/180,g=this.R,C=o.lat*f,T=this.R_MINOR/g,P=Math.sqrt(1-T*T),W=P*Math.sin(C),J=Math.tan(Math.PI/4-C/2)/Math.pow((1-W)/(1+W),P/2);return C=-g*Math.log(Math.max(J,1e-10)),new ce(o.lng*f*g,C)},unproject:function(o){for(var f=180/Math.PI,g=this.R,C=this.R_MINOR/g,T=Math.sqrt(1-C*C),P=Math.exp(-o.y/g),W=Math.PI/2-2*Math.atan(P),J=0,oe=.1,fe;J<15&&Math.abs(oe)>1e-7;J++)fe=T*Math.sin(W),fe=Math.pow((1-fe)/(1+fe),T/2),oe=Math.PI/2-2*Math.atan(P*fe)-W,W+=oe;return new ze(W*f,o.x*f/g)}},Ua={__proto__:null,LonLat:za,Mercator:lr,SphericalMercator:Xn},kh=l({},ft,{code:"EPSG:3395",projection:lr,transformation:function(){var o=.5/(Math.PI*lr.R);return ji(o,.5,-o,.5)}()}),Qr=l({},ft,{code:"EPSG:4326",projection:za,transformation:ji(1/180,1,-1/180,.5)}),Bh=l({},Ke,{projection:za,transformation:ji(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,f){var g=f.lng-o.lng,C=f.lat-o.lat;return Math.sqrt(g*g+C*C)},infinite:!0});Ke.Earth=ft,Ke.EPSG3395=kh,Ke.EPSG3857=it,Ke.EPSG900913=Hr,Ke.EPSG4326=Qr,Ke.Simple=Bh;var en=Ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[v(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[v(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var f=o.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var g=this.getEvents();f.on(g,this),this.once("remove",function(){f.off(g,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});et.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var f=v(o);return this._layers[f]?this:(this._layers[f]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var f=v(o);return this._layers[f]?(this._loaded&&o.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return v(o)in this._layers},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},_addLayers:function(o){o=o?D(o)?o:[o]:[];for(var f=0,g=o.length;f<g;f++)this.addLayer(o[f])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[v(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var f=v(o);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,f=-1/0,g=this._getZoomSpan();for(var C in this._zoomBoundLayers){var T=this._zoomBoundLayers[C].options;o=T.minZoom===void 0?o:Math.min(o,T.minZoom),f=T.maxZoom===void 0?f:Math.max(f,T.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yi=en.extend({initialize:function(o,f){B(this,f),this._layers={};var g,C;if(o)for(g=0,C=o.length;g<C;g++)this.addLayer(o[g])},addLayer:function(o){var f=this.getLayerId(o);return this._layers[f]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var f=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(o){var f=typeof o=="number"?o:this.getLayerId(o);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var f=Array.prototype.slice.call(arguments,1),g,C;for(g in this._layers)C=this._layers[g],C[o]&&C[o].apply(C,f);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return v(o)}}),Kn=function(o,f){return new Yi(o,f)},Ai=Yi.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Yi.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Yi.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Be;for(var f in this._layers){var g=this._layers[f];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Si=function(o,f){return new Ai(o,f)},Jr=ke.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){B(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,f){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(g,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(C,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(o,f){var g=this.options,C=g[f+"Size"];typeof C=="number"&&(C=[C,C]);var T=ee(C),P=ee(f==="shadow"&&g.shadowAnchor||g.iconAnchor||T&&T.divideBy(2,!0));o.className="leaflet-marker-"+f+" "+(g.className||""),P&&(o.style.marginLeft=-P.x+"px",o.style.marginTop=-P.y+"px"),T&&(o.style.width=T.x+"px",o.style.height=T.y+"px")},_createImg:function(o,f){return f=f||document.createElement("img"),f.src=o,f},_getIconUrl:function(o){return Re.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Va(o){return new Jr(o)}var Ys=Jr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ys.imagePath!="string"&&(Ys.imagePath=this._detectIconPath()),(this.options.imagePath||Ys.imagePath)+Jr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var f=function(g,C,T){var P=C.exec(g);return P&&P[T]};return o=f(o,/^url\((['"])?(.+)\1\)$/,2),o&&f(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=nt("div","leaflet-default-icon-path",document.body),f=qe(o,"background-image")||qe(o,"backgroundImage");if(document.body.removeChild(o),f=this._stripUrl(f),f)return f;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),Ha=Fn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new or(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var f=this._marker,g=f._map,C=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,P=It(f._icon),W=g.getPixelBounds(),J=g.getPixelOrigin(),oe=we(W.min._subtract(J).add(T),W.max._subtract(J).subtract(T));if(!oe.contains(P)){var fe=ee((Math.max(oe.max.x,P.x)-oe.max.x)/(W.max.x-oe.max.x)-(Math.min(oe.min.x,P.x)-oe.min.x)/(W.min.x-oe.min.x),(Math.max(oe.max.y,P.y)-oe.max.y)/(W.max.y-oe.max.y)-(Math.min(oe.min.y,P.y)-oe.min.y)/(W.min.y-oe.min.y)).multiplyBy(C);g.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),_e(f._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Pe(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ye(this._panRequest),this._panRequest=Pe(this._adjustPan.bind(this,o)))},_onDrag:function(o){var f=this._marker,g=f._shadow,C=It(f._icon),T=f._map.layerPointToLatLng(C);g&&_e(g,C),f._latlng=T,o.latlng=T,o.oldLatLng=this._oldLatLng,f.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),zn=en.extend({options:{icon:new Ys,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,f){B(this,f),this._latlng=de(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var f=this._latlng;return this._latlng=de(o),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),C=!1;g!==this._icon&&(this._icon&&this._removeIcon(),C=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),Le(g,f),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&He(g,"focus",this._panOnFocus,this);var T=o.icon.createShadow(this._shadow),P=!1;T!==this._shadow&&(this._removeShadow(),P=!0),T&&(Le(T,f),T.alt=""),this._shadow=T,o.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&P&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(this._icon,"focus",this._panOnFocus,this),Et(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Et(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&_e(this._icon,o),this._shadow&&_e(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ha)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ha(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Qe(this._icon,o),this._shadow&&Qe(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var f=this.options.icon.options,g=f.iconSize?ee(f.iconSize):ee(0,0),C=f.iconAnchor?ee(f.iconAnchor):ee(0,0);o.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:g.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fh(o,f){return new zn(o,f)}var bi=en.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return B(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cr=bi.extend({options:{fill:!0,radius:10},initialize:function(o,f){B(this,f),this._latlng=de(o),this._radius=this.options.radius},setLatLng:function(o){var f=this._latlng;return this._latlng=de(o),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var f=o&&o.radius||this._radius;return bi.prototype.setStyle.call(this,o),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,f=this._radiusY||o,g=this._clickTolerance(),C=[o+g,f+g];this._pxBounds=new ue(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function st(o,f){return new cr(o,f)}var $r=cr.extend({initialize:function(o,f,g){if(typeof f=="number"&&(f=l({},g,{radius:f})),B(this,f),this._latlng=de(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Be(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:bi.prototype.setStyle,_project:function(){var o=this._latlng.lng,f=this._latlng.lat,g=this._map,C=g.options.crs;if(C.distance===ft.distance){var T=Math.PI/180,P=this._mRadius/ft.R/T,W=g.project([f+P,o]),J=g.project([f-P,o]),oe=W.add(J).divideBy(2),fe=g.unproject(oe).lat,be=Math.acos((Math.cos(P*T)-Math.sin(f*T)*Math.sin(fe*T))/(Math.cos(f*T)*Math.cos(fe*T)))/T;(isNaN(be)||be===0)&&(be=P/Math.cos(Math.PI/180*f)),this._point=oe.subtract(g.getPixelOrigin()),this._radius=isNaN(be)?0:oe.x-g.project([fe,o-be]).x,this._radiusY=oe.y-W.y}else{var Ue=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ue).x}this._updateBounds()}});function N(o,f,g){return new $r(o,f,g)}var i=bi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,f){B(this,f),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var f=1/0,g=null,C=Sr,T,P,W=0,J=this._parts.length;W<J;W++)for(var oe=this._parts[W],fe=1,be=oe.length;fe<be;fe++){T=oe[fe-1],P=oe[fe];var Ue=C(o,T,P,!0);Ue<f&&(f=Ue,g=C(o,T,P))}return g&&(g.distance=Math.sqrt(f)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ja(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,f){return f=f||this._defaultShape(),o=de(o),f.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Be,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return jn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var f=[],g=jn(o),C=0,T=o.length;C<T;C++)g?(f[C]=de(o[C]),this._bounds.extend(f[C])):f[C]=this._convertLatLngs(o[C]);return f},_project:function(){var o=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),f=new ce(o,o);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(o,f,g){var C=o[0]instanceof ze,T=o.length,P,W;if(C){for(W=[],P=0;P<T;P++)W[P]=this._map.latLngToLayerPoint(o[P]),g.extend(W[P]);f.push(W)}else for(P=0;P<T;P++)this._projectLatlngs(o[P],f,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,g,C,T,P,W,J,oe;for(g=0,T=0,P=this._rings.length;g<P;g++)for(oe=this._rings[g],C=0,W=oe.length;C<W-1;C++)J=ar(oe[C],oe[C+1],o,C,!0),J&&(f[T]=f[T]||[],f[T].push(J[0]),(J[1]!==oe[C+1]||C===W-2)&&(f[T].push(J[1]),T++))}},_simplifyPoints:function(){for(var o=this._parts,f=this.options.smoothFactor,g=0,C=o.length;g<C;g++)o[g]=Rt(o[g],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,f){var g,C,T,P,W,J,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,P=this._parts.length;g<P;g++)for(J=this._parts[g],C=0,W=J.length,T=W-1;C<W;T=C++)if(!(!f&&C===0)&&Gs(o,J[T],J[C])<=oe)return!0;return!1}});function s(o,f){return new i(o,f)}i._flat=Ro;var a=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var f=i.prototype._convertLatLngs.call(this,o),g=f.length;return g>=2&&f[0]instanceof ze&&f[0].equals(f[g-1])&&f.pop(),f},_setLatLngs:function(o){i.prototype._setLatLngs.call(this,o),jn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return jn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,f=this.options.weight,g=new ce(f,f);if(o=new ue(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,T=this._rings.length,P;C<T;C++)P=yc(this._rings[C],o,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var f=!1,g,C,T,P,W,J,oe,fe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(P=0,oe=this._parts.length;P<oe;P++)for(g=this._parts[P],W=0,fe=g.length,J=fe-1;W<fe;J=W++)C=g[W],T=g[J],C.y>o.y!=T.y>o.y&&o.x<(T.x-C.x)*(o.y-C.y)/(T.y-C.y)+C.x&&(f=!f);return f||i.prototype._containsPoint.call(this,o,!0)}});function c(o,f){return new a(o,f)}var h=Ai.extend({initialize:function(o,f){B(this,f),this._layers={},o&&this.addData(o)},addData:function(o){var f=D(o)?o:o.features,g,C,T;if(f){for(g=0,C=f.length;g<C;g++)T=f[g],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var P=this.options;if(P.filter&&!P.filter(o))return this;var W=d(o,P);return W?(W.feature=U(o),W.defaultOptions=W.options,this.resetStyle(W),P.onEachFeature&&P.onEachFeature(o,W),this.addLayer(W)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=l({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(f){this._setLayerStyle(f,o)},this)},_setLayerStyle:function(o,f){o.setStyle&&(typeof f=="function"&&(f=f(o.feature)),o.setStyle(f))}});function d(o,f){var g=o.type==="Feature"?o.geometry:o,C=g?g.coordinates:null,T=[],P=f&&f.pointToLayer,W=f&&f.coordsToLatLng||w,J,oe,fe,be;if(!C&&!g)return null;switch(g.type){case"Point":return J=W(C),m(P,o,J,f);case"MultiPoint":for(fe=0,be=C.length;fe<be;fe++)J=W(C[fe]),T.push(m(P,o,J,f));return new Ai(T);case"LineString":case"MultiLineString":return oe=_(C,g.type==="LineString"?0:1,W),new i(oe,f);case"Polygon":case"MultiPolygon":return oe=_(C,g.type==="Polygon"?1:2,W),new a(oe,f);case"GeometryCollection":for(fe=0,be=g.geometries.length;fe<be;fe++){var Ue=d({geometry:g.geometries[fe],type:"Feature",properties:o.properties},f);Ue&&T.push(Ue)}return new Ai(T);case"FeatureCollection":for(fe=0,be=g.features.length;fe<be;fe++){var $e=d(g.features[fe],f);$e&&T.push($e)}return new Ai(T);default:throw new Error("Invalid GeoJSON object.")}}function m(o,f,g,C){return o?o(f,g):new zn(g,C&&C.markersInheritOptions&&C)}function w(o){return new ze(o[1],o[0],o[2])}function _(o,f,g){for(var C=[],T=0,P=o.length,W;T<P;T++)W=f?_(o[T],f-1,g):(g||w)(o[T]),C.push(W);return C}function b(o,f){return o=de(o),o.alt!==void 0?[I(o.lng,f),I(o.lat,f),I(o.alt,f)]:[I(o.lng,f),I(o.lat,f)]}function M(o,f,g,C){for(var T=[],P=0,W=o.length;P<W;P++)T.push(f?M(o[P],jn(o[P])?0:f-1,g,C):b(o[P],C));return!f&&g&&T.length>0&&T.push(T[0].slice()),T}function R(o,f){return o.feature?l({},o.feature,{geometry:f}):U(f)}function U(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var G={toGeoJSON:function(o){return R(this,{type:"Point",coordinates:b(this.getLatLng(),o)})}};zn.include(G),$r.include(G),cr.include(G),i.include({toGeoJSON:function(o){var f=!jn(this._latlngs),g=M(this._latlngs,f?1:0,!1,o);return R(this,{type:(f?"Multi":"")+"LineString",coordinates:g})}}),a.include({toGeoJSON:function(o){var f=!jn(this._latlngs),g=f&&!jn(this._latlngs[0]),C=M(this._latlngs,g?2:f?1:0,!0,o);return f||(C=[C]),R(this,{type:(g?"Multi":"")+"Polygon",coordinates:C})}}),Yi.include({toMultiPoint:function(o){var f=[];return this.eachLayer(function(g){f.push(g.toGeoJSON(o).geometry.coordinates)}),R(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(o){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(o);var g=f==="GeometryCollection",C=[];return this.eachLayer(function(T){if(T.toGeoJSON){var P=T.toGeoJSON(o);if(g)C.push(P.geometry);else{var W=U(P);W.type==="FeatureCollection"?C.push.apply(C,W.features):C.push(W)}}}),g?R(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Y(o,f){return new h(o,f)}var q=Y,te=en.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,f,g){this._url=o,this._bounds=Te(f),B(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Et(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Tt(this._image),this},bringToBack:function(){return this._map&&Bn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Te(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",f=this._image=o?this._url:nt("img");if(Le(f,"leaflet-image-layer"),this._zoomAnimated&&Le(f,"leaflet-zoom-animated"),this.options.className&&Le(f,this.options.className),f.onselectstart=E,f.onmousemove=E,f.onload=p(this.fire,this,"load"),f.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(o){var f=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;z(this._image,g,f)},_reset:function(){var o=this._image,f=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=f.getSize();_e(o,f.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){Qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),me=function(o,f,g){return new te(o,f,g)},ge=te.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",f=this._image=o?this._url:nt("video");if(Le(f,"leaflet-image-layer"),this._zoomAnimated&&Le(f,"leaflet-zoom-animated"),this.options.className&&Le(f,this.options.className),f.onselectstart=E,f.onmousemove=E,f.onloadeddata=p(this.fire,this,"load"),o){for(var g=f.getElementsByTagName("source"),C=[],T=0;T<g.length;T++)C.push(g[T].src);this._url=g.length>0?C:[f.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var W=nt("source");W.src=this._url[P],f.appendChild(W)}}});function pe(o,f,g){return new ge(o,f,g)}var Je=te.extend({_initImage:function(){var o=this._image=this._url;Le(o,"leaflet-image-layer"),this._zoomAnimated&&Le(o,"leaflet-zoom-animated"),this.options.className&&Le(o,this.options.className),o.onselectstart=E,o.onmousemove=E}});function Ye(o,f,g){return new Je(o,f,g)}var Pt=en.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,f){o&&(o instanceof ze||D(o))?(this._latlng=de(o),B(this,f)):(B(this,o),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Qe(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Qe(this._container,0),this._removeTimeout=setTimeout(p(Et,void 0,this._container),200)):Et(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=de(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Tt(this._container),this},bringToBack:function(){return this._map&&Bn(this._container),this},_prepareOpen:function(o){var f=this._source;if(!f._map)return!1;if(f instanceof Ai){f=null;var g=this._source._layers;for(var C in g)if(g[C]._map){f=g[C];break}if(!f)return!1;this._source=f}if(!o)if(f.getCenter)o=f.getCenter();else if(f.getLatLng)o=f.getLatLng();else if(f.getBounds)o=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")o.innerHTML=f;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),f=ee(this.options.offset),g=this._getAnchor();this._zoomAnimated?_e(this._container,o.add(g)):f=f.add(o).add(g);var C=this._containerBottom=-f.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=C+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(o,f,g,C){var T=f;return T instanceof o||(T=new o(C).setContent(f)),g&&T.setLatLng(g),T}}),en.include({_initOverlay:function(o,f,g,C){var T=g;return T instanceof o?(B(T,C),T._source=this):(T=f&&!C?f:new o(C,this),T.setContent(g)),T}});var bn=Pt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Pt.prototype.openOn.call(this,o)},onAdd:function(o){Pt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof bi||this._source.on("preclick",Wi))},onRemove:function(o){Pt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof bi||this._source.off("preclick",Wi))},getEvents:function(){var o=Pt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",f=this._container=nt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=nt("div",o+"-content-wrapper",f);if(this._contentNode=nt("div",o+"-content",g),ai(f),Io(this._contentNode),He(f,"contextmenu",Wi),this._tipContainer=nt("div",o+"-tip-container",f),this._tip=nt("div",o+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=nt("a",o+"-close-button",f);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',He(C,"click",function(T){on(T),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,f=o.style;f.width="",f.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),f.width=g+1+"px",f.whiteSpace="",f.height="";var C=o.offsetHeight,T=this.options.maxHeight,P="leaflet-popup-scrolled";T&&C>T?(f.height=T+"px",Le(o,P)):pt(o,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();_e(this._container,f.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,f=parseInt(qe(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+f,C=this._containerWidth,T=new ce(this._containerLeft,-g-this._containerBottom);T._add(It(this._container));var P=o.layerPointToContainerPoint(T),W=ee(this.options.autoPanPadding),J=ee(this.options.autoPanPaddingTopLeft||W),oe=ee(this.options.autoPanPaddingBottomRight||W),fe=o.getSize(),be=0,Ue=0;P.x+C+oe.x>fe.x&&(be=P.x+C-fe.x+oe.x),P.x-be-J.x<0&&(be=P.x-J.x),P.y+g+oe.y>fe.y&&(Ue=P.y+g-fe.y+oe.y),P.y-Ue-J.y<0&&(Ue=P.y-J.y),(be||Ue)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([be,Ue]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tn=function(o,f){return new bn(o,f)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(o,f,g){return this._initOverlay(bn,o,f,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),en.include({bindPopup:function(o,f){return this._popup=this._initOverlay(bn,this._popup,o,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ai||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){li(o);var f=o.layer||o.target;if(this._popup._source===f&&!(f instanceof bi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=f,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var ht=Pt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Pt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Pt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Pt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",f=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var f,g,C=this._map,T=this._container,P=C.latLngToContainerPoint(C.getCenter()),W=C.layerPointToContainerPoint(o),J=this.options.direction,oe=T.offsetWidth,fe=T.offsetHeight,be=ee(this.options.offset),Ue=this._getAnchor();J==="top"?(f=oe/2,g=fe):J==="bottom"?(f=oe/2,g=0):J==="center"?(f=oe/2,g=fe/2):J==="right"?(f=0,g=fe/2):J==="left"?(f=oe,g=fe/2):W.x<P.x?(J="right",f=0,g=fe/2):(J="left",f=oe+(be.x+Ue.x)*2,g=fe/2),o=o.subtract(ee(f,g,!0)).add(be).add(Ue),pt(T,"leaflet-tooltip-right"),pt(T,"leaflet-tooltip-left"),pt(T,"leaflet-tooltip-top"),pt(T,"leaflet-tooltip-bottom"),Le(T,"leaflet-tooltip-"+J),_e(T,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Qe(this._container,o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(f)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ln=function(o,f){return new ht(o,f)};et.include({openTooltip:function(o,f,g){return this._initOverlay(ht,o,f,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),en.include({bindTooltip:function(o,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ht,this._tooltip,o,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var f=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[f](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ai||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&(He(f,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),He(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var f=o.latlng,g,C;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),C=this._map.containerPointToLayerPoint(g),f=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(f)}});var In=Jr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var f=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Yr(f),f.appendChild(g.html)):f.innerHTML=g.html!==!1?g.html:"",g.bgPos){var C=ee(g.bgPos);f.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function es(o){return new In(o)}Jr.Default=Ys;var Ti=en.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){B(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Et(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Tt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ce?o:new ce(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var f=this.getPane().children,g=-o(-1/0,1/0),C=0,T=f.length,P;C<T;C++)P=f[C].style.zIndex,f[C]!==this._container&&P&&(g=o(g,+P));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){Qe(this._container,this.options.opacity);var o=+new Date,f=!1,g=!1;for(var C in this._tiles){var T=this._tiles[C];if(!(!T.current||!T.loaded)){var P=Math.min(1,(o-T.loaded)/200);Qe(T.el,P),P<1?f=!0:(T.active?g=!0:this._onOpaqueTile(T),T.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),f&&(ye(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,f=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=f-Math.abs(o-g),this._onUpdateLevel(g)):(Et(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var C=this._levels[o],T=this._map;return C||(C=this._levels[o]={},C.el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=f,C.origin=T.project(T.unproject(T.getPixelOrigin()),o).round(),C.zoom=o,this._setZoomTransform(C,T.getCenter(),T.getZoom()),E(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var o,f,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)f=this._tiles[o],f.retain=f.current;for(o in this._tiles)if(f=this._tiles[o],f.current&&!f.active){var C=f.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var f in this._tiles)this._tiles[f].coords.z===o&&this._removeTile(f)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Et(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,f,g,C){var T=Math.floor(o/2),P=Math.floor(f/2),W=g-1,J=new ce(+T,+P);J.z=+W;var oe=this._tileCoordsToKey(J),fe=this._tiles[oe];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),W>C?this._retainParent(T,P,W,C):!1)},_retainChildren:function(o,f,g,C){for(var T=2*o;T<2*o+2;T++)for(var P=2*f;P<2*f+2;P++){var W=new ce(T,P);W.z=g+1;var J=this._tileCoordsToKey(W),oe=this._tiles[J];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);g+1<C&&this._retainChildren(T,P,g+1,C)}},_resetView:function(o){var f=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var f=this.options;return f.minNativeZoom!==void 0&&o<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<o?f.maxNativeZoom:o},_setView:function(o,f,g,C){var T=Math.round(f);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var P=this.options.updateWhenZooming&&T!==this._tileZoom;(!C||P)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,f)},_setZoomTransforms:function(o,f){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,f)},_setZoomTransform:function(o,f,g){var C=this._map.getZoomScale(g,o.zoom),T=o.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(f,g)).round();Re.any3d?z(o.el,T,C):_e(o.el,T)},_resetGrid:function(){var o=this._map,f=o.options.crs,g=this._tileSize=this.getTileSize(),C=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,f.wrapLng[0]],C).x/g.x),Math.ceil(o.project([0,f.wrapLng[1]],C).x/g.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([f.wrapLat[0],0],C).y/g.x),Math.ceil(o.project([f.wrapLat[1],0],C).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var f=this._map,g=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),C=f.getZoomScale(g,this._tileZoom),T=f.project(o,this._tileZoom).floor(),P=f.getSize().divideBy(C*2);return new ue(T.subtract(P),T.add(P))},_update:function(o){var f=this._map;if(f){var g=this._clampZoom(f.getZoom());if(o===void 0&&(o=f.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(o),T=this._pxBoundsToTileRange(C),P=T.getCenter(),W=[],J=this.options.keepBuffer,oe=new ue(T.getBottomLeft().subtract([J,-J]),T.getTopRight().add([J,-J]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var be=this._tiles[fe].coords;(be.z!==this._tileZoom||!oe.contains(new ce(be.x,be.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var Ue=T.min.y;Ue<=T.max.y;Ue++)for(var $e=T.min.x;$e<=T.max.x;$e++){var Un=new ce($e,Ue);if(Un.z=this._tileZoom,!!this._isValidTile(Un)){var xn=this._tiles[this._tileCoordsToKey(Un)];xn?xn.current=!0:W.push(Un)}}if(W.sort(function(qn,Po){return qn.distanceTo(P)-Po.distanceTo(P)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ii=document.createDocumentFragment();for($e=0;$e<W.length;$e++)this._addTile(W[$e],Ii);this._level.el.appendChild(Ii)}}}},_isValidTile:function(o){var f=this._map.options.crs;if(!f.infinite){var g=this._globalTileRange;if(!f.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!f.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(o);return Te(this.options.bounds).overlaps(C)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var f=this._map,g=this.getTileSize(),C=o.scaleBy(g),T=C.add(g),P=f.unproject(C,o.z),W=f.unproject(T,o.z);return[P,W]},_tileCoordsToBounds:function(o){var f=this._tileCoordsToNwSe(o),g=new Be(f[0],f[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var f=o.split(":"),g=new ce(+f[0],+f[1]);return g.z=+f[2],g},_removeTile:function(o){var f=this._tiles[o];f&&(Et(f.el),delete this._tiles[o],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Le(o,"leaflet-tile");var f=this.getTileSize();o.style.width=f.x+"px",o.style.height=f.y+"px",o.onselectstart=E,o.onmousemove=E,Re.ielt9&&this.options.opacity<1&&Qe(o,this.options.opacity)},_addTile:function(o,f){var g=this._getTilePos(o),C=this._tileCoordsToKey(o),T=this.createTile(this._wrapCoords(o),p(this._tileReady,this,o));this._initTile(T),this.createTile.length<2&&Pe(p(this._tileReady,this,o,null,T)),_e(T,g),this._tiles[C]={el:T,coords:o,current:!0},f.appendChild(T),this.fire("tileloadstart",{tile:T,coords:o})},_tileReady:function(o,f,g){f&&this.fire("tileerror",{error:f,tile:g,coords:o});var C=this._tileCoordsToKey(o);g=this._tiles[C],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Qe(g.el,0),ye(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),f||(Le(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?Pe(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var f=new ce(this._wrapX?A(o.x,this._wrapX):o.x,this._wrapY?A(o.y,this._wrapY):o.y);return f.z=o.z,f},_pxBoundsToTileRange:function(o){var f=this.getTileSize();return new ue(o.min.unscaleBy(f).floor(),o.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function jh(o){return new Ti(o)}var ts=Ti.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,f){this._url=o,f=B(this,f),f.detectRetina&&Re.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,f){return this._url===o&&f===void 0&&(f=!0),this._url=o,f||this.redraw(),this},createTile:function(o,f){var g=document.createElement("img");return He(g,"load",p(this._tileOnLoad,this,f,g)),He(g,"error",p(this._tileOnError,this,f,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var f={r:Re.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(f.y=g),f["-y"]=g}return F(this._url,l(f,this.options))},_tileOnLoad:function(o,f){Re.ielt9?setTimeout(p(o,this,null,f),0):o(null,f)},_tileOnError:function(o,f,g){var C=this.options.errorTileUrl;C&&f.getAttribute("src")!==C&&(f.src=C),o(g,f)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,f=this.options.maxZoom,g=this.options.zoomReverse,C=this.options.zoomOffset;return g&&(o=f-o),o+C},_getSubdomain:function(o){var f=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var o,f;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(f=this._tiles[o].el,f.onload=E,f.onerror=E,!f.complete)){f.src=ne;var g=this._tiles[o].coords;Et(f),delete this._tiles[o],this.fire("tileabort",{tile:f,coords:g})}},_removeTile:function(o){var f=this._tiles[o];if(f)return f.el.setAttribute("src",ne),Ti.prototype._removeTile.call(this,o)},_tileReady:function(o,f,g){if(!(!this._map||g&&g.getAttribute("src")===ne))return Ti.prototype._tileReady.call(this,o,f,g)}});function j1(o,f){return new ts(o,f)}var z1=ts.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,f){this._url=o;var g=l({},this.defaultWmsParams);for(var C in f)C in this.options||(g[C]=f[C]);f=B(this,f);var T=f.detectRetina&&Re.retina?2:1,P=this.getTileSize();g.width=P.x*T,g.height=P.y*T,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,ts.prototype.onAdd.call(this,o)},getTileUrl:function(o){var f=this._tileCoordsToNwSe(o),g=this._crs,C=we(g.project(f[0]),g.project(f[1])),T=C.min,P=C.max,W=(this._wmsVersion>=1.3&&this._crs===Qr?[T.y,T.x,P.y,P.x]:[T.x,T.y,P.x,P.y]).join(","),J=ts.prototype.getTileUrl.call(this,o);return J+V(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(o,f){return l(this.wmsParams,o),f||this.redraw(),this}});function n_(o,f){return new z1(o,f)}ts.WMS=z1,j1.wms=n_;var br=en.extend({options:{padding:.1},initialize:function(o){B(this,o),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,f){var g=this._map.getZoomScale(f,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,f),P=C.multiplyBy(-g).add(T).subtract(this._map._getNewPixelOrigin(o,f));Re.any3d?z(this._container,P,g):_e(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,f=this._map.getSize(),g=this._map.containerPointToLayerPoint(f.multiplyBy(-o)).round();this._bounds=new ue(g,g.add(f.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),U1=br.extend({options:{tolerance:0},getEvents:function(){var o=br.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");He(o,"mousemove",this._onMouseMove,this),He(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),He(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ye(this._redrawRequest),delete this._ctx,Et(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var f in this._layers)o=this._layers[f],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){br.prototype._update.call(this);var o=this._bounds,f=this._container,g=o.getSize(),C=Re.retina?2:1;_e(f,o.min),f.width=C*g.x,f.height=C*g.y,f.style.width=g.x+"px",f.style.height=g.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[v(o)]=o;var f=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var f=o._order,g=f.next,C=f.prev;g?g.prev=C:this._drawLast=C,C?C.next=g:this._drawFirst=g,delete o._order,delete this._layers[v(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var f=o.options.dashArray.split(/[, ]+/),g=[],C,T;for(T=0;T<f.length;T++){if(C=Number(f[T]),isNaN(C))return;g.push(C)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Pe(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var f=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(o._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(o._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var f=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,f=this._redrawBounds;if(this._ctx.save(),f){var g=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)o=C.layer,(!f||o._pxBounds&&o._pxBounds.intersects(f))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,f){if(this._drawing){var g,C,T,P,W=o._parts,J=W.length,oe=this._ctx;if(J){for(oe.beginPath(),g=0;g<J;g++){for(C=0,T=W[g].length;C<T;C++)P=W[g][C],oe[C?"lineTo":"moveTo"](P.x,P.y);f&&oe.closePath()}this._fillStroke(oe,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var f=o._point,g=this._ctx,C=Math.max(Math.round(o._radius),1),T=(Math.max(Math.round(o._radiusY),1)||C)/C;T!==1&&(g.save(),g.scale(1,T)),g.beginPath(),g.arc(f.x,f.y/T,C,0,Math.PI*2,!1),T!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,f){var g=f.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(f.options&&f.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var f=this._map.mouseEventToLayerPoint(o),g,C,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(f)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(C=g);this._fireEvent(C?[C]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,f)}},_handleMouseOut:function(o){var f=this._hoveredLayer;f&&(pt(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,f){if(!this._mouseHoverThrottled){for(var g,C,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(f)&&(C=g);C!==this._hoveredLayer&&(this._handleMouseOut(o),C&&(Le(this._container,"leaflet-interactive"),this._fireEvent([C],o,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,f,g){this._map._fireDOMEvent(f,g||f.type,o)},_bringToFront:function(o){var f=o._order;if(f){var g=f.next,C=f.prev;if(g)g.prev=C;else return;C?C.next=g:g&&(this._drawFirst=g),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(o)}},_bringToBack:function(o){var f=o._order;if(f){var g=f.next,C=f.prev;if(C)C.next=g;else return;g?g.prev=C:C&&(this._drawLast=C),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(o)}}});function V1(o){return Re.canvas?new U1(o):null}var Wa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),i_={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(br.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var f=o._container=Wa("shape");Le(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",o._path=Wa("path"),f.appendChild(o._path),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){var f=o._container;this._container.appendChild(f),o.options.interactive&&o.addInteractiveTarget(f)},_removePath:function(o){var f=o._container;Et(f),o.removeInteractiveTarget(f),delete this._layers[v(o)]},_updateStyle:function(o){var f=o._stroke,g=o._fill,C=o.options,T=o._container;T.stroked=!!C.stroke,T.filled=!!C.fill,C.stroke?(f||(f=o._stroke=Wa("stroke")),T.appendChild(f),f.weight=C.weight+"px",f.color=C.color,f.opacity=C.opacity,C.dashArray?f.dashStyle=D(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=C.lineCap.replace("butt","flat"),f.joinstyle=C.lineJoin):f&&(T.removeChild(f),o._stroke=null),C.fill?(g||(g=o._fill=Wa("fill")),T.appendChild(g),g.color=C.fillColor||C.color,g.opacity=C.fillOpacity):g&&(T.removeChild(g),o._fill=null)},_updateCircle:function(o){var f=o._point.round(),g=Math.round(o._radius),C=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+f.x+","+f.y+" "+g+","+C+" 0,"+65535*360)},_setPath:function(o,f){o._path.v=f},_bringToFront:function(o){Tt(o._container)},_bringToBack:function(o){Bn(o._container)}},vc=Re.vml?Wa:si,Za=br.extend({_initContainer:function(){this._container=vc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Et(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){br.prototype._update.call(this);var o=this._bounds,f=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,g.setAttribute("width",f.x),g.setAttribute("height",f.y)),_e(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(o){var f=o._path=vc("path");o.options.className&&Le(f,o.options.className),o.options.interactive&&Le(f,"leaflet-interactive"),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Et(o._path),o.removeInteractiveTarget(o._path),delete this._layers[v(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var f=o._path,g=o.options;f&&(g.stroke?(f.setAttribute("stroke",g.color),f.setAttribute("stroke-opacity",g.opacity),f.setAttribute("stroke-width",g.weight),f.setAttribute("stroke-linecap",g.lineCap),f.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?f.setAttribute("stroke-dasharray",g.dashArray):f.removeAttribute("stroke-dasharray"),g.dashOffset?f.setAttribute("stroke-dashoffset",g.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),g.fill?(f.setAttribute("fill",g.fillColor||g.color),f.setAttribute("fill-opacity",g.fillOpacity),f.setAttribute("fill-rule",g.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(o,f){this._setPath(o,Wr(o._parts,f))},_updateCircle:function(o){var f=o._point,g=Math.max(Math.round(o._radius),1),C=Math.max(Math.round(o._radiusY),1)||g,T="a"+g+","+C+" 0 1,0 ",P=o._empty()?"M0 0":"M"+(f.x-g)+","+f.y+T+g*2+",0 "+T+-g*2+",0 ";this._setPath(o,P)},_setPath:function(o,f){o._path.setAttribute("d",f)},_bringToFront:function(o){Tt(o._path)},_bringToBack:function(o){Bn(o._path)}});Re.vml&&Za.include(i_);function H1(o){return Re.svg||Re.vml?new Za(o):null}et.include({getRenderer:function(o){var f=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var f=this._paneRenderers[o];return f===void 0&&(f=this._createRenderer({pane:o}),this._paneRenderers[o]=f),f},_createRenderer:function(o){return this.options.preferCanvas&&V1(o)||H1(o)}});var W1=a.extend({initialize:function(o,f){a.prototype.initialize.call(this,this._boundsToLatLngs(o),f)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Te(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function r_(o,f){return new W1(o,f)}Za.create=vc,Za.pointsToPath=Wr,h.geometryToLayer=d,h.coordsToLatLng=w,h.coordsToLatLngs=_,h.latLngToCoords=b,h.latLngsToCoords=M,h.getFeature=R,h.asFeature=U,et.mergeOptions({boxZoom:!0});var Z1=Fn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Et(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),mn(),Fe(),this._startPoint=this._map.mouseEventToContainerPoint(o),He(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var f=new ue(this._point,this._startPoint),g=f.getSize();_e(this._box,f.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Et(this._box),pt(this._container,"leaflet-crosshair")),Us(),At(),Ce(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var f=new Be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",Z1),et.mergeOptions({doubleClickZoom:!0});var G1=Fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var f=this._map,g=f.getZoom(),C=f.options.zoomDelta,T=o.originalEvent.shiftKey?g-C:g+C;f.options.doubleClickZoom==="center"?f.setZoom(T):f.setZoomAround(o.containerPoint,T)}});et.addInitHook("addHandler","doubleClickZoom",G1),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Y1=Fn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new or(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Te(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var f=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(f),this._prunePositions(f)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,f){return o-(o-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;o.x<f.min.x&&(o.x=this._viscousLimit(o.x,f.min.x)),o.y<f.min.y&&(o.y=this._viscousLimit(o.y,f.min.y)),o.x>f.max.x&&(o.x=this._viscousLimit(o.x,f.max.x)),o.y>f.max.y&&(o.y=this._viscousLimit(o.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,f=Math.round(o/2),g=this._initialWorldOffset,C=this._draggable._newPos.x,T=(C-f+g)%o+f-g,P=(C+f+g)%o-f-g,W=Math.abs(T+g)<Math.abs(P+g)?T:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(o){var f=this._map,g=f.options,C=!g.inertia||o.noInertia||this._times.length<2;if(f.fire("dragend",o),C)f.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,W=g.easeLinearity,J=T.multiplyBy(W/P),oe=J.distanceTo([0,0]),fe=Math.min(g.inertiaMaxSpeed,oe),be=J.multiplyBy(fe/oe),Ue=fe/(g.inertiaDeceleration*W),$e=be.multiplyBy(-Ue/2).round();!$e.x&&!$e.y?f.fire("moveend"):($e=f._limitOffset($e,f.options.maxBounds),Pe(function(){f.panBy($e,{duration:Ue,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",Y1),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var X1=Fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),He(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,f=document.documentElement,g=o.scrollTop||f.scrollTop,C=o.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(C,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var f=this._panKeys={},g=this.keyCodes,C,T;for(C=0,T=g.left.length;C<T;C++)f[g.left[C]]=[-1*o,0];for(C=0,T=g.right.length;C<T;C++)f[g.right[C]]=[o,0];for(C=0,T=g.down.length;C<T;C++)f[g.down[C]]=[0,o];for(C=0,T=g.up.length;C<T;C++)f[g.up[C]]=[0,-1*o]},_setZoomDelta:function(o){var f=this._zoomKeys={},g=this.keyCodes,C,T;for(C=0,T=g.zoomIn.length;C<T;C++)f[g.zoomIn[C]]=o;for(C=0,T=g.zoomOut.length;C<T;C++)f[g.zoomOut[C]]=-o},_addHooks:function(){He(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var f=o.keyCode,g=this._map,C;if(f in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(C=this._panKeys[f],o.shiftKey&&(C=ee(C).multiplyBy(3)),g.options.maxBounds&&(C=g._limitOffset(ee(C),g.options.maxBounds)),g.options.worldCopyJump){var T=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(C)));g.panTo(T)}else g.panBy(C)}else if(f in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;li(o)}}});et.addInitHook("addHandler","keyboard",X1),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var K1=Fn.extend({addHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var f=qr(o),g=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var C=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),C),li(o)},_performZoom:function(){var o=this._map,f=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,P=g?Math.ceil(T/g)*g:T,W=o._limitZoom(f+(this._delta>0?P:-P))-f;this._delta=0,this._startTime=null,W&&(o.options.scrollWheelZoom==="center"?o.setZoom(f+W):o.setZoomAround(this._lastMousePos,f+W))}});et.addInitHook("addHandler","scrollWheelZoom",K1);var s_=600;et.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var q1=Fn.extend({addHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var f=o.touches[0];this._startPos=this._newPos=new ce(f.clientX,f.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(He(document,"touchend",on),He(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),s_),He(document,"touchend touchcancel contextmenu",this._cancel,this),He(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ce(document,"touchend",on),Ce(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)},_onMove:function(o){var f=o.touches[0];this._newPos=new ce(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,f){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});g._simulated=!0,f.target.dispatchEvent(g)}});et.addInitHook("addHandler","tapHold",q1),et.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var Q1=Fn.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var f=this._map;if(!(!o.touches||o.touches.length!==2||f._animatingZoom||this._zooming)){var g=f.mouseEventToContainerPoint(o.touches[0]),C=f.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(g.add(C)._divideBy(2))),this._startDist=g.distanceTo(C),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend touchcancel",this._onTouchEnd,this),on(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var f=this._map,g=f.mouseEventToContainerPoint(o.touches[0]),C=f.mouseEventToContainerPoint(o.touches[1]),T=g.distanceTo(C)/this._startDist;if(this._zoom=f.getScaleZoom(T,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&T<1||this._zoom>f.getMaxZoom()&&T>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var P=g._add(C)._divideBy(2)._subtract(this._centerPoint);if(T===1&&P.x===0&&P.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),ye(this._animRequest);var W=p(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pe(W,this,!0),on(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ye(this._animRequest),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",Q1),et.BoxZoom=Z1,et.DoubleClickZoom=G1,et.Drag=Y1,et.Keyboard=X1,et.ScrollWheelZoom=K1,et.TapHold=q1,et.TouchZoom=Q1,n.Bounds=ue,n.Browser=Re,n.CRS=Ke,n.Canvas=U1,n.Circle=$r,n.CircleMarker=cr,n.Class=ke,n.Control=ci,n.DivIcon=In,n.DivOverlay=Pt,n.DomEvent=Sn,n.DomUtil=$t,n.Draggable=or,n.Evented=Ne,n.FeatureGroup=Ai,n.GeoJSON=h,n.GridLayer=Ti,n.Handler=Fn,n.Icon=Jr,n.ImageOverlay=te,n.LatLng=ze,n.LatLngBounds=Be,n.Layer=en,n.LayerGroup=Yi,n.LineUtil=wc,n.Map=et,n.Marker=zn,n.Mixin=gc,n.Path=bi,n.Point=ce,n.PolyUtil=Fa,n.Polygon=a,n.Polyline=i,n.Popup=bn,n.PosAnimation=Ba,n.Projection=Ua,n.Rectangle=W1,n.Renderer=br,n.SVG=Za,n.SVGOverlay=Je,n.TileLayer=ts,n.Tooltip=ht,n.Transformation=St,n.Util=De,n.VideoOverlay=ge,n.bind=p,n.bounds=we,n.canvas=V1,n.circle=N,n.circleMarker=st,n.control=Zs,n.divIcon=es,n.extend=l,n.featureGroup=Si,n.geoJSON=Y,n.geoJson=q,n.gridLayer=jh,n.icon=Va,n.imageOverlay=me,n.latLng=de,n.latLngBounds=Te,n.layerGroup=Kn,n.map=pc,n.marker=Fh,n.point=ee,n.polygon=c,n.polyline=s,n.popup=Tn,n.rectangle=r_,n.setOptions=B,n.stamp=v,n.svg=H1,n.svgOverlay=Ye,n.tileLayer=j1,n.tooltip=ln,n.transformation=ji,n.version=r,n.videoOverlay=pe;var o_=window.L;n.noConflict=function(){return window.L=o_,this},window.L=n})})(Qd,Qd.exports);var _a=Qd.exports;const cc=lx(_a);function Sh(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function bh(e,t){return t==null?function(r,l){const u=H.useRef();return u.current||(u.current=e(r,l)),u}:function(r,l){const u=H.useRef();u.current||(u.current=e(r,l));const p=H.useRef(r),{instance:y}=u.current;return H.useEffect(function(){p.current!==r&&(t(y,r,p.current),p.current=r)},[y,r,l]),u}}function Xv(e,t){H.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Kv(e){return function(n){const r=Eh(),l=e(Ah(n,r),r);return Hv(r.map,n.attribution),k1(l.current,n.eventHandlers),Xv(l.current,r),l}}function PN(e,t){const n=H.useRef();H.useEffect(function(){if(t.pathOptions!==n.current){const l=t.pathOptions??{};e.instance.setStyle(l),n.current=l}},[e,t])}function LN(e){return function(n){const r=Eh(),l=e(Ah(n,r),r);return k1(l.current,n.eventHandlers),Xv(l.current,r),PN(l.current,n),l}}function DN(e,t){const n=bh(e,t),r=Kv(n);return Yv(r)}function kN(e,t){const n=bh(e),r=RN(n,t);return MN(r)}function BN(e,t){const n=bh(e,t),r=LN(n);return Yv(r)}function FN(e,t){const n=bh(e,t),r=Kv(n);return ON(r)}function jN(e,t,n){const{opacity:r,zIndex:l}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),l!=null&&l!==n.zIndex&&e.setZIndex(l)}function qv(){return Eh().map}function Jd(){return Jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(this,arguments)}function zN({bounds:e,boundsOptions:t,center:n,children:r,className:l,id:u,placeholder:p,style:y,whenReady:v,zoom:x,...A},E){const[I]=H.useState({className:l,id:u,style:y}),[O,k]=H.useState(null);H.useImperativeHandle(E,()=>(O==null?void 0:O.map)??null,[O]);const B=H.useCallback(j=>{if(j!==null&&O===null){const F=new _a.Map(j,A);n!=null&&x!=null?F.setView(n,x):e!=null&&F.fitBounds(e,t),v!=null&&F.whenReady(v),k(NN(F))}},[]);H.useEffect(()=>()=>{O==null||O.map.remove()},[O]);const V=O?uo.createElement(Gv,{value:O},r):p??null;return uo.createElement("div",Jd({},I,{ref:B}),V)}const UN=H.forwardRef(zN),ix=DN(function({position:t,...n},r){const l=new _a.Marker(t,n);return Sh(l,Wv(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),VN=BN(function({positions:t,...n},r){const l=new _a.Polyline(t,n);return Sh(l,Wv(r,{overlayContainer:l}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),rx=kN(function(t,n){const r=new _a.Popup(t,n.overlayContainer);return Sh(r,n)},function(t,n,{position:r},l){H.useEffect(function(){const{instance:p}=t;function y(x){x.popup===p&&(p.update(),l(!0))}function v(x){x.popup===p&&l(!1)}return n.map.on({popupopen:y,popupclose:v}),n.overlayContainer==null?(r!=null&&p.setLatLng(r),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){var A;n.map.off({popupopen:y,popupclose:v}),(A=n.overlayContainer)==null||A.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,r])}),HN=FN(function({url:t,...n},r){const l=new _a.TileLayer(t,Ah(n,r));return Sh(l,r)},function(t,n,r){jN(t,n,r);const{url:l}=n;l!=null&&l!==r.url&&t.setUrl(l)});delete cc.Icon.Default.prototype._getIconUrl;cc.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const WN=e=>new cc.DivIcon({className:"custom-icon",html:`<div style="background-color: ${e}; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"></div>`,iconSize:[24,24],iconAnchor:[12,12]}),ZN=new cc.DivIcon({className:"truck-icon",html:`<div style="background-color: #0052cc; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.2);">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
    </div>`,iconSize:[32,32],iconAnchor:[16,16]});function GN({center:e}){const t=qv();return H.useEffect(()=>{e&&t.setView(e,t.getZoom())},[e,t]),null}function YN({points:e}){const t=qv();return H.useEffect(()=>{if(!t)return;const n=Array.isArray(e)?e.filter(Boolean):[];if(n.length!==0)try{const r=cc.latLngBounds(n);t.fitBounds(r,{padding:[30,30]})}catch{}},[e,t]),null}function Qv({shipments:e,routeGeometry:t,currentLocation:n}){const l=n?[n.lat,n.lon]:[44.4268,26.1025],[u,p]=H.useState([]);H.useEffect(()=>{if(t&&t.coordinates){const x=t.coordinates.map(A=>[A[1],A[0]]);p(x)}},[t]);const y=(e||[]).map(x=>{var k,B,V,j;const A=(x==null?void 0:x.latitude)??((B=(k=x==null?void 0:x.raw_data)==null?void 0:k.recipientLocation)==null?void 0:B.latitude),E=(x==null?void 0:x.longitude)??((j=(V=x==null?void 0:x.raw_data)==null?void 0:V.recipientLocation)==null?void 0:j.longitude),I=Number(A),O=Number(E);return!Number.isFinite(I)||!Number.isFinite(O)||Math.abs(I)<1e-4&&Math.abs(O)<1e-4?null:[I,O]}).filter(Boolean),v=[...n?[[n.lat,n.lon]]:[],...y,...u];return S.jsxs("div",{className:"h-[400px] w-full rounded-3xl overflow-hidden shadow-inner border border-white/20 relative z-0",children:[S.jsxs(UN,{center:l,zoom:13,style:{height:"100%",width:"100%"},zoomControl:!1,children:[S.jsx(HN,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),S.jsx(GN,{center:l}),S.jsx(YN,{points:v}),n&&S.jsx(ix,{position:[n.lat,n.lon],icon:ZN,children:S.jsx(rx,{children:S.jsx("div",{className:"font-sans font-bold text-brand-600",children:"You are here"})})}),e.map(x=>{var I,O,k,B;const A=Number((x==null?void 0:x.latitude)??((O=(I=x==null?void 0:x.raw_data)==null?void 0:I.recipientLocation)==null?void 0:O.latitude)),E=Number((x==null?void 0:x.longitude)??((B=(k=x==null?void 0:x.raw_data)==null?void 0:k.recipientLocation)==null?void 0:B.longitude));return!Number.isFinite(A)||!Number.isFinite(E)||Math.abs(A)<1e-4&&Math.abs(E)<1e-4?null:S.jsx(ix,{position:[A,E],icon:WN(x.status==="Delivered"?"#22c55e":"#f59e0b"),children:S.jsx(rx,{className:"glass-popup",children:S.jsxs("div",{className:"p-1 min-w-[150px]",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("span",{className:`w-2 h-2 rounded-full ${x.status==="Delivered"?"bg-green-500":"bg-amber-500"}`}),S.jsx("span",{className:"text-xs font-black uppercase text-slate-500 tracking-wider",children:x.awb})]}),S.jsx("p",{className:"font-bold text-slate-800 text-sm mb-1",children:x.recipient_name}),S.jsx("p",{className:"text-xs text-slate-500 truncate",children:x.delivery_address})]})})},x.awb)}),u.length>0&&S.jsx(VN,{positions:u,color:"#4c9aff",weight:4,opacity:.8,dashArray:"10, 10"})]}),S.jsx("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 z-[1000]",children:S.jsx("button",{className:"glass-strong p-3 rounded-xl text-white hover:text-brand-400 hover:border-brand-500/50 transition-all shadow-lg active:scale-95",onClick:x=>{x.stopPropagation()},children:S.jsx(nv,{size:20})})})]})}function Jv(){const[e,t]=H.useState(null),[n,r]=H.useState(null);return H.useEffect(()=>{if(!navigator.geolocation){r("Geolocation is not supported by your browser");return}const l=v=>{const{latitude:x,longitude:A,heading:E,speed:I}=v.coords;t({latitude:x,longitude:A,heading:E,speed:I})},u=v=>{r(v.message)},p={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},y=navigator.geolocation.watchPosition(l,u,p);return()=>navigator.geolocation.clearWatch(y)},[]),{location:e,error:n}}const $v="arynik_routes_v1",XN=e=>{try{return localStorage.getItem(e)}catch{return null}},KN=(e,t)=>{try{localStorage.setItem(e,t)}catch{}},$d=()=>new Date().toISOString(),qN=()=>{try{return crypto.randomUUID()}catch{return`route-${Date.now()}-${Math.floor(Math.random()*1e5)}`}},Th=e=>String(e||"").trim().toUpperCase(),Ca=()=>{const e=XN($v);if(!e)return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch{}return[]},B1=e=>{const t=Array.isArray(e)?e:[];return KN($v,JSON.stringify(t)),t},cu=()=>Ca().filter(Boolean).sort((e,t)=>String(t.updated_at||"").localeCompare(String(e.updated_at||""))),Ih=e=>Ca().find(t=>t&&t.id===e)||null,e_=({name:e,driver_id:t,date:n}={})=>{const r=Ca(),l={id:qN(),name:String(e||"").trim()||"New Route",driver_id:t?String(t):null,date:n?String(n):new Date().toISOString().slice(0,10),awbs:[],created_at:$d(),updated_at:$d()};return r.unshift(l),B1(r),l},F1=(e,t={})=>{const n=Ca(),r=n.findIndex(p=>p&&p.id===e);if(r===-1)return null;const l=n[r]||{},u={...l,...t,id:l.id,updated_at:$d()};return n[r]=u,B1(n),u},QN=e=>{const t=Ca().filter(n=>n&&n.id!==e);return B1(t),!0},e0=(e,t)=>{const n=Th(t);if(!n)return null;const r=Ih(e);if(!r)return null;const l=Array.isArray(r.awbs)?r.awbs:[];return l.includes(n)?r:F1(e,{awbs:[...l,n]})},JN=(e,t)=>{const n=Th(t),r=Ih(e);if(!r)return null;const l=Array.isArray(r.awbs)?r.awbs:[];return F1(e,{awbs:l.filter(u=>u!==n)})},$N=(e,t)=>{if(!Ih(e))return null;const r=(Array.isArray(t)?t:[]).map(Th).filter(Boolean);return F1(e,{awbs:r})},eM=e=>{const t=Th(e);return t&&Ca().find(l=>Array.isArray(l==null?void 0:l.awbs)&&l.awbs.includes(t))||null};function tM(){const[e,t]=H.useState([]),[n,r]=H.useState(!0),[l,u]=H.useState(""),[p,y]=H.useState(null),[v,x]=H.useState("list"),[A,E]=H.useState(null),[I,O]=H.useState({open:!1,awb:null}),[k,B]=H.useState([]),[V,j]=H.useState(""),F=Vr(),{user:D}=So(),{location:Z}=Jv(),ne=async()=>{r(!0);try{const X=D.token,ee=await R1(X);t(ee)}catch(X){console.error("Failed to fetch shipments",X)}finally{r(!1)}};H.useEffect(()=>{ne()},[]),H.useEffect(()=>{B(cu())},[]);const ie=Z?{lat:Z.latitude,lon:Z.longitude}:null,K=async X=>{if(ie&&X.latitude&&X.longitude){const ee=await bN(ie,{lat:X.latitude,lon:X.longitude});E(ee)}x("map")},le=X=>{B(cu()),O({open:!0,awb:String(X||"").toUpperCase()})},$=X=>{const ee=I.awb;if(!ee)return;if(e0(X,ee)){const we=cu().find(Be=>Be.id===X);j(`Assigned ${ee} to ${(we==null?void 0:we.name)||"route"}`),setTimeout(()=>j(""),2500)}O({open:!1,awb:null})},Ee=()=>{const X=I.awb;if(!X)return;const ee=e_({name:`Route ${new Date().toLocaleDateString()}`,driver_id:(D==null?void 0:D.driver_id)||null,date:new Date().toISOString().slice(0,10)});e0(ee.id,X),O({open:!1,awb:null}),j(`Created route and assigned ${X}`),setTimeout(()=>j(""),2500),F(`/routes/${ee.id}`)},Pe=e.filter(X=>{var ee,ue;return((ee=X.awb)==null?void 0:ee.toLowerCase().includes(l.toLowerCase()))||X.recipient_name&&((ue=X.recipient_name)==null?void 0:ue.toLowerCase().includes(l.toLowerCase()))}),ye=20,[De,ke]=H.useState(1);H.useEffect(()=>{ke(1)},[l,v]);const re=Math.ceil(Pe.length/ye),Ae=v==="list"?Pe.slice((De-1)*ye,De*ye):Pe,Ne=X=>X==="Delivered"?"from-emerald-500 to-emerald-600":X==="In Transit"?"from-blue-500 to-blue-600":"from-amber-500 to-amber-600",ce=X=>X==="Delivered"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":X==="In Transit"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-amber-500/20 text-amber-400 border-amber-500/30";return S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-20 right-0 w-72 h-72 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"sticky top-0 z-40 glass-strong backdrop-blur-xl border-b border-white/10 pb-2 shadow-sm",children:[S.jsxs("div",{className:"p-4 flex items-center gap-4",children:[S.jsx("button",{onClick:()=>F(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:S.jsx(Zl,{})}),S.jsx("h1",{className:"flex-1 font-black text-xl text-gradient tracking-tight",children:"Shipments"}),S.jsxs("div",{className:"flex glass-strong p-1 rounded-xl border border-white/10",children:[S.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded-lg transition-all ${v==="list"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(ev,{size:20})}),S.jsx("button",{onClick:()=>x("map"),className:`p-2 rounded-lg transition-all ${v==="map"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(tv,{size:20})})]}),S.jsx("button",{onClick:ne,className:`p-2 rounded-xl glass-light hover:bg-violet-500/20 text-violet-400 transition-all border border-white/10 ${n?"animate-spin":""}`,children:S.jsx(_1,{size:20})})]}),S.jsx("div",{className:"px-4 pb-2",children:S.jsxs("div",{className:"relative group",children:[S.jsx(C1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-violet-400 transition-colors z-10",size:18}),S.jsx("input",{type:"text",placeholder:"Search AWB, Client...",className:"w-full pl-12 pr-4 py-3.5 glass-strong rounded-2xl outline-none focus:ring-2 focus:ring-violet-500/30 border border-white/10 text-sm font-medium text-white placeholder-slate-500 transition-all",value:l,onChange:X=>u(X.target.value)})]})})]}),S.jsx("div",{className:"flex-1 p-4 space-y-3 pb-32 relative z-10",children:S.jsxs(Cl,{mode:"wait",children:[V&&S.jsx(lt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"glass-strong p-4 rounded-2xl border border-emerald-500/20 text-emerald-300 text-xs font-bold",children:V}),n&&e.length===0?S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),S.jsx(Gl,{className:"animate-spin relative z-10 text-violet-400",size:48})]}),S.jsx("p",{className:"mt-6 font-bold text-xs uppercase tracking-widest text-slate-500",children:"Syncing Data..."})]}):Pe.length===0?S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(xo,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No shipments found"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Try adjusting your search"})]}):v==="map"?S.jsx(lt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-[70vh] w-full rounded-3xl overflow-hidden border-iridescent shadow-2xl",children:S.jsx(Qv,{shipments:Pe,currentLocation:ie,routeGeometry:A})}):S.jsxs("div",{className:"space-y-3",children:[Ae.map((X,ee)=>S.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ee*.05},className:`glass-strong rounded-3xl overflow-hidden transition-all duration-300 border border-white/10 ${p===ee?"ring-2 ring-violet-500/30 shadow-glow-sm":""}`,children:[S.jsxs("div",{onClick:()=>y(p===ee?null:ee),className:"p-5 flex items-center gap-4 cursor-pointer relative",children:[S.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shadow-sm bg-gradient-to-br ${Ne(X.status)}`,children:S.jsx(xo,{size:24,strokeWidth:2,className:"text-white"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[S.jsx("h3",{className:"font-mono text-[10px] font-black uppercase tracking-widest text-slate-500",children:X.awb}),S.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const ue=eM(X.awb);return ue?S.jsx("span",{className:"text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border bg-emerald-500/15 text-emerald-300 border-emerald-500/20",children:ue.name||"Route"}):null})(),S.jsx("span",{className:`text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border ${ce(X.status)}`,children:X.status||"Active"})]})]}),S.jsx("p",{className:"text-sm font-bold text-white truncate leading-tight mb-2",children:X.recipient_name}),S.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400",children:[S.jsx(M4,{size:11,strokeWidth:2.5}),S.jsx("p",{className:"text-[10px] font-medium truncate",children:X.delivery_address||X.locality||"No Address"})]})]}),S.jsx(pa,{className:`text-slate-500 transition-transform duration-300 ${p===ee?"rotate-90 text-violet-400":""}`,size:20})]}),S.jsx(Cl,{children:p===ee&&S.jsx(lt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:S.jsxs("div",{className:"p-5 space-y-4 bg-black/20 border-t border-white/5",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"glass-light p-4 rounded-2xl flex items-center gap-3 border border-white/10",children:[S.jsx("div",{className:"p-2 bg-violet-500/20 rounded-xl",children:S.jsx(R4,{size:16,className:"text-violet-400"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-wide mb-0.5",children:"Contact"}),S.jsx("p",{className:"text-xs font-bold text-white truncate",children:"--"})]})]}),S.jsxs("div",{className:"glass-light p-4 rounded-2xl flex items-center gap-3 border border-white/10",children:[S.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl",children:S.jsx(A1,{size:16,className:"text-emerald-400"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-wide mb-0.5",children:"Client"}),S.jsx("p",{className:"text-xs font-bold text-white truncate",children:X.recipient_name})]})]})]}),X.latitude&&X.longitude&&S.jsxs("button",{onClick:()=>K(X),className:"w-full btn-premium py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold rounded-xl shadow-sm flex items-center justify-center gap-2 text-sm",children:[S.jsx(nv,{size:16}),"View on Map"]}),S.jsxs("button",{onClick:()=>le(X.awb),className:"w-full btn-premium py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-sm flex items-center justify-center gap-2 text-sm",children:[S.jsx(lo,{size:16}),"Assign to Route"]})]})})})]},X.awb||ee)),re>1&&S.jsxs("div",{className:"flex items-center justify-between pt-4 glass-strong rounded-2xl p-4 border border-white/10",children:[S.jsx("button",{onClick:()=>ke(X=>Math.max(1,X-1)),disabled:De===1,className:"p-2 rounded-xl hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-white",children:S.jsx(Zl,{size:20})}),S.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:["Page ",De," of ",re]}),S.jsx("button",{onClick:()=>ke(X=>Math.min(re,X+1)),disabled:De===re,className:"p-2 rounded-xl hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-white",children:S.jsx(pa,{size:20})})]})]})]})}),S.jsx(Cl,{children:I.open&&S.jsx(lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-end justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>O({open:!1,awb:null}),children:S.jsxs(lt.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},className:"w-full max-w-md glass-strong rounded-3xl border-iridescent p-5 space-y-4",onClick:X=>X.stopPropagation(),children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Assign AWB"}),S.jsx("p",{className:"text-sm font-bold text-white font-mono mt-1",children:I.awb})]}),S.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-2xl bg-emerald-500/15 border border-emerald-500/20 text-emerald-300 text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all",children:"Create Route"})]}),S.jsx("div",{className:"space-y-2 max-h-[45vh] overflow-y-auto",children:k.length===0?S.jsx("p",{className:"text-xs text-slate-500",children:"No routes yet. Tap Create Route."}):k.map(X=>S.jsxs("button",{onClick:()=>$(X.id),className:"w-full p-4 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition-all text-left glass-light flex items-center justify-between gap-3",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-sm font-bold text-white truncate",children:X.name||"Route"}),S.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wide mt-1",children:[X.date,"  ",Array.isArray(X.awbs)?X.awbs.length:0," stops"]})]}),S.jsx("span",{className:"text-[10px] font-black text-emerald-300 uppercase tracking-wide",children:"Select"})]},X.id))})]})})})]})}function nM(){const[e,t]=H.useState(new Date),[n,r]=H.useState({}),[l,u]=H.useState(!0),p=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),y=new Date(e.getFullYear(),e.getMonth(),1).getDay(),v=()=>t(new Date(e.getFullYear(),e.getMonth()-1,1)),x=()=>t(new Date(e.getFullYear(),e.getMonth()+1,1)),A=e.toLocaleString("default",{month:"long"}),E=e.getFullYear();H.useEffect(()=>{(async()=>{u(!0);try{const V=localStorage.getItem("token"),j=new Date(e.getFullYear(),e.getMonth(),1).toISOString(),F=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59).toISOString(),Z=(await O1(V,{start_date:j,end_date:F})).reduce((ne,ie)=>{const K=new Date(ie.timestamp).getDate();return ne[K]||(ne[K]=[]),ne[K].push(ie),ne},{});r(Z)}catch(V){console.error("Failed to fetch monthly deliveries",V)}finally{u(!1)}})()},[e]);const I=[];for(let B=0;B<y;B+=1)I.push(S.jsx("div",{className:"h-24"},`empty-${B}`));for(let B=1;B<=p;B+=1){const V=n[B]||[],j=V.length>0,F=B===new Date().getDate()&&e.getMonth()===new Date().getMonth()&&e.getFullYear()===new Date().getFullYear();I.push(S.jsxs("div",{className:`h-24 border-t border-white/5 p-2 relative flex flex-col items-center justify-center gap-1 transition-all duration-300 hover:bg-white/5 cursor-pointer group ${F?"bg-violet-500/10 border-violet-500/30":""}`,children:[S.jsx("span",{className:`text-xs font-black absolute top-2 right-2 transition-all ${F?"text-violet-400":"text-slate-500 group-hover:text-violet-300"}`,children:B}),j&&S.jsxs("div",{className:"flex flex-col items-center animate-scale-in",children:[S.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl text-white shadow-glow-sm",children:S.jsx(xo,{size:16,strokeWidth:2.5})}),S.jsxs("span",{className:"text-[9px] font-black text-emerald-400 uppercase mt-1.5 tracking-wide",children:[V.length," AWB"]})]})]},B))}const O=Object.values(n).flat().length,k=O>0?(O/new Date().getDate()).toFixed(1):0;return S.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-black text-gradient tracking-tight",children:"Delivery Calendar"}),S.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"Track your monthly performance"})]}),S.jsx("div",{className:"w-12 h-12 rounded-2xl glass-light flex items-center justify-center border border-white/10",children:S.jsx(g4,{size:20,className:"text-violet-400"})})]}),S.jsxs("div",{className:"flex-1 p-4 pb-32 space-y-6 relative z-10",children:[S.jsxs("div",{className:"glass-strong rounded-[32px] shadow-2xl border-iridescent overflow-hidden animate-scale-in",children:[S.jsxs("div",{className:"p-6 flex items-center justify-between bg-gradient-to-r from-violet-600 via-purple-600 to-violet-700 text-white relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 shimmer opacity-20"}),S.jsx("button",{onClick:v,className:"p-2.5 hover:bg-white/20 rounded-xl transition-all active:scale-95 relative z-10 magnetic",children:S.jsx(v4,{size:20,strokeWidth:2.5})}),S.jsxs("h2",{className:"text-lg font-black uppercase tracking-widest relative z-10",children:[A," ",E]}),S.jsx("button",{onClick:x,className:"p-2.5 hover:bg-white/20 rounded-xl transition-all active:scale-95 relative z-10 magnetic",children:S.jsx(pa,{size:20,strokeWidth:2.5})})]}),S.jsxs("div",{className:"grid grid-cols-7 text-center py-4 bg-black/20 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:[S.jsx("div",{children:"Sun"}),S.jsx("div",{children:"Mon"}),S.jsx("div",{children:"Tue"}),S.jsx("div",{children:"Wed"}),S.jsx("div",{children:"Thu"}),S.jsx("div",{children:"Fri"}),S.jsx("div",{children:"Sat"})]}),S.jsxs("div",{className:"grid grid-cols-7 relative min-h-[400px]",children:[l&&S.jsx("div",{className:"absolute inset-0 glass-strong z-10 flex items-center justify-center backdrop-blur-sm",children:S.jsxs("div",{className:"text-center",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),S.jsx(Gl,{className:"animate-spin relative z-10 text-violet-400",size:48})]}),S.jsx("p",{className:"mt-6 font-bold text-xs uppercase tracking-widest text-slate-500",children:"Loading..."})]})}),I]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Monthly Insights"}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent animate-scale-in",style:{animationDelay:"0.1s"},children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg",children:S.jsx(xo,{size:16,className:"text-violet-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Total"})]}),S.jsx("p",{className:"text-3xl font-black text-gradient-purple",children:O}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-1",children:"Deliveries"})]}),S.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent animate-scale-in",style:{animationDelay:"0.2s"},children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:S.jsx(E1,{size:16,className:"text-emerald-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Average"})]}),S.jsx("p",{className:"text-3xl font-black text-gradient-blue",children:k}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-1",children:"Per Day"})]})]}),S.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent flex items-center gap-4 animate-scale-in",style:{animationDelay:"0.3s"},children:[S.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl shadow-glow-sm",children:S.jsx(ov,{size:24,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"text-sm font-black text-white",children:"Active Month"}),S.jsxs("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wide mt-1",children:[O," shipments processed in ",A]})]})]})]})]})]})}function iM(){const e=Vr(),{user:t}=So(),[n,r]=H.useState([]),[l,u]=H.useState(""),[p,y]=H.useState(new Date().toISOString().slice(0,10)),v=()=>r(cu());H.useEffect(()=>{v()},[]);const x=()=>{const I=String(l||"").trim()||`Route ${new Date().toLocaleDateString()}`,O=e_({name:I,driver_id:(t==null?void 0:t.driver_id)||null,date:p});u(""),v(),e(`/routes/${O.id}`)},A=E=>{window.confirm("Delete this route?")&&(QN(E),v())};return S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-10 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-violet-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-black text-gradient tracking-tight",children:"Routes"}),S.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"Create routes and allocate AWBs"})]}),S.jsx("div",{className:"w-12 h-12 rounded-2xl glass-light flex items-center justify-center border border-white/10",children:S.jsx(lo,{size:20,className:"text-emerald-400"})})]}),S.jsxs("div",{className:"flex-1 p-4 pb-32 space-y-6 relative z-10",children:[S.jsxs("div",{className:"glass-strong p-5 rounded-3xl border-iridescent space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"New Route"}),S.jsxs("span",{className:"text-[10px] font-bold text-slate-500",children:["Driver: ",S.jsx("span",{className:"text-slate-300 font-mono",children:(t==null?void 0:t.driver_id)||"N/A"})]})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[S.jsx("input",{value:l,onChange:E=>u(E.target.value),placeholder:"Route name (ex: Bacau AM)",className:"col-span-2 px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-2xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 transition-all duration-300 text-sm font-medium"}),S.jsx("input",{type:"date",value:p,onChange:E=>y(E.target.value),className:"px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-2xl text-white focus:outline-none focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 transition-all duration-300 text-sm font-medium"})]}),S.jsxs("button",{onClick:x,className:"w-full btn-premium py-4 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white rounded-2xl font-bold shadow-lg hover:shadow-glow-md transition-all flex items-center justify-center gap-2",children:[S.jsx(iv,{size:18}),"Create Route"]})]}),n.length===0?S.jsxs("div",{className:"text-center py-16 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(lo,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No routes yet"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Create your first route above"})]}):S.jsxs("div",{className:"space-y-3",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Your Routes"}),n.map(E=>S.jsx("div",{className:"glass-strong p-5 rounded-3xl border border-white/10 hover:border-emerald-500/30 transition-all group",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-600 to-emerald-700 flex items-center justify-center shadow-glow-sm",children:S.jsx(lo,{size:18,className:"text-white"})}),S.jsx("div",{className:"flex-1 min-w-0",children:S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-white font-black truncate",children:E.name||"Route"}),S.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wide mt-1",children:[E.date||"No date","  ",Array.isArray(E.awbs)?E.awbs.length:0," stops"]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>A(E.id),className:"p-2 rounded-xl glass-light border border-white/10 text-rose-400 hover:bg-rose-500/10 active:scale-95 transition-all",title:"Delete route",children:S.jsx(sv,{size:18})}),S.jsx("button",{onClick:()=>e(`/routes/${E.id}`),className:"p-2 rounded-xl glass-light border border-white/10 text-emerald-400 hover:bg-emerald-500/10 active:scale-95 transition-all",title:"Open route",children:S.jsx(p4,{size:18})})]})]})})]})},E.id))]})]})]})}const t_="arynik_geocode_cache_v1",rM=1100;let sx=0;const sM=e=>{try{return localStorage.getItem(e)}catch{return null}},oM=(e,t)=>{try{localStorage.setItem(e,t)}catch{}},aM=e=>new Promise(t=>setTimeout(t,e)),lM=()=>{const e=sM(t_);if(!e)return{};try{const t=JSON.parse(e);return t&&typeof t=="object"?t:{}}catch{return{}}},ox=e=>{oM(t_,JSON.stringify(e||{}))},cM=(e,{timeoutMs:t=15e3}={})=>new Promise((n,r)=>{const l=`__arynik_jsonp_${Date.now()}_${Math.floor(Math.random()*1e5)}`,u=document.createElement("script"),p=setTimeout(()=>{y(),r(new Error("Geocode timeout"))},t),y=()=>{clearTimeout(p);try{delete window[l]}catch{window[l]=void 0}u&&u.parentNode&&u.parentNode.removeChild(u)};window[l]=v=>{y(),n(v)},u.onerror=()=>{y(),r(new Error("Geocode network error"))},u.async=!0,u.src=`${e}${e.includes("?")?"&":"?"}json_callback=${encodeURIComponent(l)}`,document.body.appendChild(u)}),uM=async e=>{const t=String(e||"").trim();if(!t)return null;const n=lM();if(n[t]&&n[t].lat&&n[t].lon)return n[t];const r=rM-(Date.now()-sx);r>0&&await aM(r),sx=Date.now();const u=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(t)}`;try{const p=await cM(u),y=Array.isArray(p)?p[0]:null,v=y?Number(y.lat):NaN,x=y?Number(y.lon):NaN;if(!Number.isFinite(v)||!Number.isFinite(x))return n[t]={lat:null,lon:null,ts:Date.now()},ox(n),null;const A={lat:v,lon:x,display_name:y.display_name||t,ts:Date.now()};return n[t]=A,ox(n),A}catch(p){return console.warn("Geocode failed",p),null}},yn=e=>{const t=Number(e);return Number.isFinite(t)&&Math.abs(t)>1e-4},ax=(e,t)=>{const n=x=>x*Math.PI/180,l=n(t.lat-e.lat),u=n(t.lon-e.lon),p=n(e.lat),y=n(t.lat),v=Math.sin(l/2)**2+Math.cos(p)*Math.cos(y)*Math.sin(u/2)**2;return 2*6371*Math.asin(Math.sqrt(v))},hM=e=>{const t=String((e==null?void 0:e.delivery_address)||"").trim(),n=String((e==null?void 0:e.locality)||"").trim(),r=[];return t&&r.push(t),n&&!t.toLowerCase().includes(n.toLowerCase())&&r.push(n),r.push("Romania"),r.filter(Boolean).join(", ")};function fM(){const{routeId:e}=v3(),t=Vr(),{user:n}=So(),{location:r}=Jv(),[l,u]=H.useState(null),[p,y]=H.useState([]),[v,x]=H.useState(!0),[A,E]=H.useState(""),[I,O]=H.useState(""),[k,B]=H.useState("list"),[V,j]=H.useState({}),[F,D]=H.useState({active:!1,done:0,total:0,current:""}),[Z,ne]=H.useState(null),ie=r?{lat:r.latitude,lon:r.longitude}:null;H.useEffect(()=>{const X=Ih(e);u(X)},[e]);const K=async()=>{x(!0);try{const X=n==null?void 0:n.token,ee=await R1(X);y(Array.isArray(ee)?ee:[])}catch(X){console.warn("Failed to load shipments",X),y([])}finally{x(!1)}};H.useEffect(()=>{K()},[]);const le=H.useMemo(()=>{const X=new Map;return p.forEach(ee=>{ee!=null&&ee.awb&&X.set(String(ee.awb).toUpperCase(),ee)}),X},[p]),$=Array.isArray(l==null?void 0:l.awbs)?l.awbs:[],Ee=H.useMemo(()=>$.map(X=>{const ee=le.get(String(X).toUpperCase());return ee||{awb:X,status:"Unknown",recipient_name:"Unknown",delivery_address:"",locality:""}}),[$,le]),Pe=H.useMemo(()=>Ee.map(X=>{const ee=String((X==null?void 0:X.awb)||"").toUpperCase(),ue=V[ee],we=yn(X==null?void 0:X.latitude)?Number(X.latitude):(ue==null?void 0:ue.lat)??null,Be=yn(X==null?void 0:X.longitude)?Number(X.longitude):(ue==null?void 0:ue.lon)??null;return{...X,latitude:Number.isFinite(we)?we:null,longitude:Number.isFinite(Be)?Be:null}}),[Ee,V]),ye=H.useMemo(()=>{const X=String(A||"").trim().toLowerCase();if(!X)return[];const ee=new Set($.map(ue=>String(ue).toUpperCase()));return p.filter(ue=>{const we=String((ue==null?void 0:ue.awb)||"").toLowerCase(),Be=String((ue==null?void 0:ue.recipient_name)||"").toLowerCase();return(we.includes(X)||Be.includes(X))&&!ee.has(String((ue==null?void 0:ue.awb)||"").toUpperCase())}).slice(0,30)},[A,p,$]),De=X=>{if(!l)return;const ee=e0(l.id,X);u(ee),O(""),E("")},ke=X=>{if(!l)return;const ee=JN(l.id,X);u(ee)},re=async()=>{if(!Ee||Ee.length===0)return;D({active:!0,done:0,total:Ee.length,current:""});const X={...V};let ee=0;for(const ue of Ee){const we=String((ue==null?void 0:ue.awb)||"").toUpperCase();if(D({active:!0,done:ee,total:Ee.length,current:we}),yn(ue==null?void 0:ue.latitude)&&yn(ue==null?void 0:ue.longitude)){X[we]={lat:Number(ue.latitude),lon:Number(ue.longitude),ts:Date.now(),source:"shipment"},ee+=1;continue}if(X[we]&&yn(X[we].lat)&&yn(X[we].lon)){ee+=1;continue}const Be=hM(ue),Te=await uM(Be);Te&&yn(Te.lat)&&yn(Te.lon)&&(X[we]={lat:Te.lat,lon:Te.lon,ts:Date.now(),source:"geocode"}),ee+=1}j(X),D({active:!1,done:Ee.length,total:Ee.length,current:""})},Ae=async X=>{const ee=Array.isArray(X)?X:[],ue=[];if(ie&&yn(ie.lat)&&yn(ie.lon)&&ue.push(ie),ee.forEach(Be=>{yn(Be==null?void 0:Be.latitude)&&yn(Be==null?void 0:Be.longitude)&&ue.push({lat:Number(Be.latitude),lon:Number(Be.longitude)})}),ue.length<2){ne(null);return}const we=await TN(ue);ne(we)};H.useEffect(()=>{k==="map"&&(async()=>await re())()},[k,$.join("|")]),H.useEffect(()=>{k==="map"&&Ae(Pe)},[k,JSON.stringify(Pe.map(X=>[X.awb,X.latitude,X.longitude]))]);const Ne=()=>{if(!l)return;const X=Pe.map(Ke=>({awb:String((Ke==null?void 0:Ke.awb)||"").toUpperCase(),lat:Number(Ke==null?void 0:Ke.latitude),lon:Number(Ke==null?void 0:Ke.longitude)})).filter(Ke=>Ke.awb&&yn(Ke.lat)&&yn(Ke.lon));if(X.length<2)return;const ee=ie&&yn(ie.lat)&&yn(ie.lon)?{lat:Number(ie.lat),lon:Number(ie.lon)}:{lat:X[0].lat,lon:X[0].lon},ue=[...X],we=[];let Be=ee;for(;ue.length;){ue.sort((ft,Yn)=>ax(Be,ft)-ax(Be,Yn));const Ke=ue.shift();we.push(Ke),Be=Ke}const Te=we.map(Ke=>Ke.awb),ze=$.filter(Ke=>!Te.includes(String(Ke).toUpperCase())),de=$N(l.id,[...Te,...ze]);u(de)},ce=()=>{const X=Pe.filter(ze=>yn(ze==null?void 0:ze.latitude)&&yn(ze==null?void 0:ze.longitude)).map(ze=>`${Number(ze.latitude)},${Number(ze.longitude)}`);if(X.length===0)return;const ee=!ie,ue=ie?`${ie.lat},${ie.lon}`:X[0],we=X[X.length-1],Be=(ee?X.slice(1,-1):X.slice(0,-1)).join("|"),Te=new URL("https://www.google.com/maps/dir/");Te.searchParams.set("api","1"),Te.searchParams.set("origin",ue),Te.searchParams.set("destination",we),Be&&Te.searchParams.set("waypoints",Be),window.open(Te.toString(),"_blank","noopener,noreferrer")};return l?S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-10 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-violet-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"sticky top-0 z-40 glass-strong backdrop-blur-xl border-b border-white/10 pb-2 shadow-sm",children:[S.jsxs("div",{className:"p-4 flex items-center gap-4",children:[S.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:S.jsx(Zl,{})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h1",{className:"font-black text-xl text-gradient tracking-tight truncate",children:l.name}),S.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wide mt-1",children:[l.date,"  ",$.length," stops"]})]}),S.jsxs("div",{className:"flex glass-strong p-1 rounded-xl border border-white/10",children:[S.jsx("button",{onClick:()=>B("list"),className:`p-2 rounded-lg transition-all ${k==="list"?"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(ev,{size:20})}),S.jsx("button",{onClick:()=>B("map"),className:`p-2 rounded-lg transition-all ${k==="map"?"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(tv,{size:20})})]})]}),S.jsxs("div",{className:"px-4 pb-2 space-y-3",children:[S.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[S.jsx("input",{value:I,onChange:X=>O(X.target.value),placeholder:"Add AWB...",className:"col-span-2 w-full px-4 py-3.5 glass-strong rounded-2xl outline-none focus:ring-2 focus:ring-emerald-500/30 border border-white/10 text-sm font-medium text-white placeholder-slate-500 transition-all"}),S.jsxs("button",{onClick:()=>De(I),className:"btn-premium py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white rounded-2xl font-bold shadow-lg hover:shadow-glow-md transition-all flex items-center justify-center gap-2",children:[S.jsx(iv,{size:18}),"Add"]})]}),S.jsxs("div",{className:"relative group",children:[S.jsx(C1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors z-10",size:18}),S.jsx("input",{type:"text",placeholder:"Search shipments to add...",className:"w-full pl-12 pr-4 py-3.5 glass-strong rounded-2xl outline-none focus:ring-2 focus:ring-emerald-500/30 border border-white/10 text-sm font-medium text-white placeholder-slate-500 transition-all",value:A,onChange:X=>E(X.target.value)})]}),A&&ye.length>0&&S.jsx("div",{className:"glass-strong rounded-2xl border border-white/10 overflow-hidden",children:ye.map(X=>S.jsxs("button",{onClick:()=>De(X.awb),className:"w-full p-4 flex items-center gap-3 hover:bg-white/5 transition-all text-left border-b border-white/5 last:border-b-0",children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-500/15 border border-emerald-500/20 flex items-center justify-center",children:S.jsx(lo,{size:16,className:"text-emerald-400"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[10px] font-mono font-black text-slate-500 uppercase tracking-widest truncate",children:X.awb}),S.jsx("p",{className:"text-sm font-bold text-white truncate",children:X.recipient_name||"Unknown"}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:X.delivery_address||X.locality||""})]}),S.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-wide",children:"Add"})]},X.awb))})]})]}),S.jsx("div",{className:"flex-1 p-4 space-y-3 pb-32 relative z-10",children:k==="map"?S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"glass-strong rounded-2xl border border-white/10 p-4 flex items-center justify-between gap-2",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Route Map"}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:F.active?`Geocoding ${F.done}/${F.total} (${F.current})`:'Tap "Optimize" for a quick route order'})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:re,className:`p-2 rounded-xl glass-light border border-white/10 text-emerald-400 hover:bg-emerald-500/10 active:scale-95 transition-all ${F.active?"opacity-60 cursor-not-allowed":""}`,disabled:F.active,title:"Geocode stops",children:S.jsx(_1,{size:18,className:F.active?"animate-spin":""})}),S.jsx("button",{onClick:Ne,className:"p-2 rounded-xl glass-light border border-white/10 text-amber-400 hover:bg-amber-500/10 active:scale-95 transition-all",title:"Optimize order",children:S.jsx(B4,{size:18})}),S.jsx("button",{onClick:ce,className:"p-2 rounded-xl glass-light border border-white/10 text-slate-200 hover:bg-white/10 active:scale-95 transition-all",title:"Open in Google Maps",children:S.jsx(_4,{size:18})})]})]}),S.jsx("div",{className:"h-[70vh] w-full rounded-3xl overflow-hidden border-iridescent shadow-2xl",children:S.jsx(Qv,{shipments:Pe,currentLocation:ie,routeGeometry:Z})})]}):S.jsx(Cl,{mode:"wait",children:Ee.length===0?S.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(lo,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No stops yet"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Add an AWB above to allocate it to this route"})]}):S.jsx("div",{className:"space-y-3",children:Ee.map((X,ee)=>S.jsx(lt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ee*.02},className:"glass-strong p-5 rounded-3xl border border-white/10",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-500/15 border border-emerald-500/20 flex items-center justify-center text-emerald-400 font-black",children:ee+1}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[10px] font-mono font-black text-slate-500 uppercase tracking-widest truncate",children:X.awb}),S.jsx("p",{className:"text-sm font-bold text-white truncate mt-1",children:X.recipient_name||"Unknown"}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate mt-1",children:X.delivery_address||X.locality||""})]}),S.jsx("button",{onClick:()=>ke(X.awb),className:"p-2 rounded-xl glass-light border border-white/10 text-rose-400 hover:bg-rose-500/10 active:scale-95 transition-all",title:"Remove from route",children:S.jsx(sv,{size:18})})]})},`${X.awb}-${ee}`))})})})]}):S.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-400",children:"Route not found."})}const Zc=({children:e,allowedRoles:t})=>{const{user:n,loading:r}=So();return r?S.jsx("div",{children:"Loading..."}):n?t&&!t.includes(n.role)?S.jsx(Td,{to:"/",replace:!0}):e:S.jsx(Td,{to:"/login",replace:!0})};function dM(){return S.jsx(W3,{children:S.jsx(pM,{})})}const pM=()=>{const e=Co();return S.jsx(Cl,{mode:"wait",children:S.jsxs(B3,{location:e,children:[S.jsx(Oi,{path:"/login",element:S.jsx(EN,{})}),S.jsxs(Oi,{element:S.jsx(Zc,{children:S.jsx(U4,{})}),children:[S.jsx(Oi,{path:"/",element:S.jsx(tx,{})}),S.jsx(Oi,{path:"/home",element:S.jsx(tx,{})}),S.jsx(Oi,{path:"/history",element:S.jsx(AN,{})}),S.jsx(Oi,{path:"/shipments",element:S.jsx(Zc,{allowedRoles:["Manager","Admin","Driver"],children:S.jsx(tM,{})})}),S.jsx(Oi,{path:"/routes",element:S.jsx(Zc,{allowedRoles:["Manager","Admin","Driver"],children:S.jsx(iM,{})})}),S.jsx(Oi,{path:"/routes/:routeId",element:S.jsx(Zc,{allowedRoles:["Manager","Admin","Driver"],children:S.jsx(fM,{})})}),S.jsx(Oi,{path:"/settings",element:S.jsx(SN,{})}),S.jsx(Oi,{path:"/calendar",element:S.jsx(nM,{})})]}),S.jsx(Oi,{path:"*",element:S.jsx(Td,{to:"/",replace:!0})})]},e.pathname)})};Pf.createRoot(document.getElementById("root")).render(S.jsx(uo.StrictMode,{children:S.jsx(V4,{children:S.jsx(dM,{})})}));
