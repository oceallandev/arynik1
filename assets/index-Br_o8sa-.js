function zw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(r,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hg={exports:{}},Fc={},Wg={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),Vw=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),Zw=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Kw=Symbol.for("react.memo"),Qw=Symbol.for("react.lazy"),F1=Symbol.iterator;function qw(e){return e===null||typeof e!="object"?null:(e=F1&&e[F1]||e["@@iterator"],typeof e=="function"?e:null)}var Zg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gg=Object.assign,Yg={};function fa(e,t,n){this.props=e,this.context=t,this.refs=Yg,this.updater=n||Zg}fa.prototype.isReactComponent={};fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xg(){}Xg.prototype=fa.prototype;function Hd(e,t,n){this.props=e,this.context=t,this.refs=Yg,this.updater=n||Zg}var Wd=Hd.prototype=new Xg;Wd.constructor=Hd;Gg(Wd,fa.prototype);Wd.isPureReactComponent=!0;var j1=Array.isArray,Kg=Object.prototype.hasOwnProperty,Zd={current:null},Qg={key:!0,ref:!0,__self:!0,__source:!0};function qg(e,t,n){var r,l={},c=null,p=null;if(t!=null)for(r in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(c=""+t.key),t)Kg.call(t,r)&&!Qg.hasOwnProperty(r)&&(l[r]=t[r]);var x=arguments.length-2;if(x===1)l.children=n;else if(1<x){for(var w=Array(x),y=0;y<x;y++)w[y]=arguments[y+2];l.children=w}if(e&&e.defaultProps)for(r in x=e.defaultProps,x)l[r]===void 0&&(l[r]=x[r]);return{$$typeof:zl,type:e,key:c,ref:p,props:l,_owner:Zd.current}}function Jw(e,t){return{$$typeof:zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gd(e){return typeof e=="object"&&e!==null&&e.$$typeof===zl}function $w(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var z1=/\/+/g;function Ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$w(""+e.key):t.toString(36)}function Fu(e,t,n,r,l){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(c){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case zl:case Uw:p=!0}}if(p)return p=e,l=l(p),e=r===""?"."+Ph(p,0):r,j1(l)?(n="",e!=null&&(n=e.replace(z1,"$&/")+"/"),Fu(l,t,n,"",function(y){return y})):l!=null&&(Gd(l)&&(l=Jw(l,n+(!l.key||p&&p.key===l.key?"":(""+l.key).replace(z1,"$&/")+"/")+e)),t.push(l)),1;if(p=0,r=r===""?".":r+":",j1(e))for(var x=0;x<e.length;x++){c=e[x];var w=r+Ph(c,x);p+=Fu(c,t,n,w,l)}else if(w=qw(e),typeof w=="function")for(e=w.call(e),x=0;!(c=e.next()).done;)c=c.value,w=r+Ph(c,x++),p+=Fu(c,t,n,w,l);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function mu(e,t,n){if(e==null)return e;var r=[],l=0;return Fu(e,r,"","",function(c){return t.call(n,c,l++)}),r}function e_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wn={current:null},ju={transition:null},t_={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:ju,ReactCurrentOwner:Zd};function Jg(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:mu,forEach:function(e,t,n){mu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mu(e,function(){t++}),t},toArray:function(e){return mu(e,function(t){return t})||[]},only:function(e){if(!Gd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=fa;$e.Fragment=Vw;$e.Profiler=Ww;$e.PureComponent=Hd;$e.StrictMode=Hw;$e.Suspense=Xw;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t_;$e.act=Jg;$e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gg({},e.props),l=e.key,c=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,p=Zd.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(w in t)Kg.call(t,w)&&!Qg.hasOwnProperty(w)&&(r[w]=t[w]===void 0&&x!==void 0?x[w]:t[w])}var w=arguments.length-2;if(w===1)r.children=n;else if(1<w){x=Array(w);for(var y=0;y<w;y++)x[y]=arguments[y+2];r.children=x}return{$$typeof:zl,type:e.type,key:l,ref:c,props:r,_owner:p}};$e.createContext=function(e){return e={$$typeof:Gw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zw,_context:e},e.Consumer=e};$e.createElement=qg;$e.createFactory=function(e){var t=qg.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:Yw,render:e}};$e.isValidElement=Gd;$e.lazy=function(e){return{$$typeof:Qw,_payload:{_status:-1,_result:e},_init:e_}};$e.memo=function(e,t){return{$$typeof:Kw,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=ju.transition;ju.transition={};try{e()}finally{ju.transition=t}};$e.unstable_act=Jg;$e.useCallback=function(e,t){return Wn.current.useCallback(e,t)};$e.useContext=function(e){return Wn.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return Wn.current.useDeferredValue(e)};$e.useEffect=function(e,t){return Wn.current.useEffect(e,t)};$e.useId=function(){return Wn.current.useId()};$e.useImperativeHandle=function(e,t,n){return Wn.current.useImperativeHandle(e,t,n)};$e.useInsertionEffect=function(e,t){return Wn.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return Wn.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return Wn.current.useMemo(e,t)};$e.useReducer=function(e,t,n){return Wn.current.useReducer(e,t,n)};$e.useRef=function(e){return Wn.current.useRef(e)};$e.useState=function(e){return Wn.current.useState(e)};$e.useSyncExternalStore=function(e,t,n){return Wn.current.useSyncExternalStore(e,t,n)};$e.useTransition=function(){return Wn.current.useTransition()};$e.version="18.3.1";Wg.exports=$e;var W=Wg.exports;const oo=Vg(W),n_=zw({__proto__:null,default:oo},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_=W,r_=Symbol.for("react.element"),s_=Symbol.for("react.fragment"),o_=Object.prototype.hasOwnProperty,a_=i_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l_={key:!0,ref:!0,__self:!0,__source:!0};function $g(e,t,n){var r,l={},c=null,p=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(p=t.ref);for(r in t)o_.call(t,r)&&!l_.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:r_,type:e,key:c,ref:p,props:l,_owner:a_.current}}Fc.Fragment=s_;Fc.jsx=$g;Fc.jsxs=$g;Hg.exports=Fc;var b=Hg.exports,Ef={},ex={exports:{}},gi={},tx={exports:{}},nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,Me){var de=ae.length;ae.push(Me);e:for(;0<de;){var ve=de-1>>>1,Pe=ae[ve];if(0<l(Pe,Me))ae[ve]=Me,ae[de]=Pe,de=ve;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var Me=ae[0],de=ae.pop();if(de!==Me){ae[0]=de;e:for(var ve=0,Pe=ae.length,rt=Pe>>>1;ve<rt;){var Fe=2*(ve+1)-1,Ge=ae[Fe],he=Fe+1,Yt=ae[he];if(0>l(Ge,de))he<Pe&&0>l(Yt,Ge)?(ae[ve]=Yt,ae[he]=de,ve=he):(ae[ve]=Ge,ae[Fe]=de,ve=Fe);else if(he<Pe&&0>l(Yt,de))ae[ve]=Yt,ae[he]=de,ve=he;else break e}}return Me}function l(ae,Me){var de=ae.sortIndex-Me.sortIndex;return de!==0?de:ae.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var p=Date,x=p.now();e.unstable_now=function(){return p.now()-x}}var w=[],y=[],E=1,A=null,M=3,D=!1,F=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ae){for(var Me=n(y);Me!==null;){if(Me.callback===null)r(y);else if(Me.startTime<=ae)r(y),Me.sortIndex=Me.expirationTime,t(w,Me);else break;Me=n(y)}}function Z(ae){if(B=!1,R(ae),!F)if(n(w)!==null)F=!0,Ae(te);else{var Me=n(y);Me!==null&&Oe(Z,Me.startTime-ae)}}function te(ae,Me){F=!1,B&&(B=!1,z(oe),oe=-1),D=!0;var de=M;try{for(R(Me),A=n(w);A!==null&&(!(A.expirationTime>Me)||ae&&!Te());){var ve=A.callback;if(typeof ve=="function"){A.callback=null,M=A.priorityLevel;var Pe=ve(A.expirationTime<=Me);Me=e.unstable_now(),typeof Pe=="function"?A.callback=Pe:A===n(w)&&r(w),R(Me)}else r(w);A=n(w)}if(A!==null)var rt=!0;else{var Fe=n(y);Fe!==null&&Oe(Z,Fe.startTime-Me),rt=!1}return rt}finally{A=null,M=de,D=!1}}var se=!1,X=null,oe=-1,J=5,fe=-1;function Te(){return!(e.unstable_now()-fe<J)}function xe(){if(X!==null){var ae=e.unstable_now();fe=ae;var Me=!0;try{Me=X(!0,ae)}finally{Me?Be():(se=!1,X=null)}}else se=!1}var Be;if(typeof k=="function")Be=function(){k(xe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,re=De.port2;De.port1.onmessage=xe,Be=function(){re.postMessage(null)}}else Be=function(){V(xe,0)};function Ae(ae){X=ae,se||(se=!0,Be())}function Oe(ae,Me){oe=V(function(){ae(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){F||D||(F=!0,Ae(te))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return n(w)},e.unstable_next=function(ae){switch(M){case 1:case 2:case 3:var Me=3;break;default:Me=M}var de=M;M=Me;try{return ae()}finally{M=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,Me){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=M;M=ae;try{return Me()}finally{M=de}},e.unstable_scheduleCallback=function(ae,Me,de){var ve=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ve+de:ve):de=ve,ae){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=de+Pe,ae={id:E++,callback:Me,priorityLevel:ae,startTime:de,expirationTime:Pe,sortIndex:-1},de>ve?(ae.sortIndex=de,t(y,ae),n(w)===null&&ae===n(y)&&(B?(z(oe),oe=-1):B=!0,Oe(Z,de-ve))):(ae.sortIndex=Pe,t(w,ae),F||D||(F=!0,Ae(te))),ae},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(ae){var Me=M;return function(){var de=M;M=Me;try{return ae.apply(this,arguments)}finally{M=de}}}})(nx);tx.exports=nx;var u_=tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_=W,pi=u_;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ix=new Set,xl={};function mo(e,t){ta(e,t),ta(e+"Capture",t)}function ta(e,t){for(xl[e]=t,e=0;e<t.length;e++)ix.add(t[e])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=Object.prototype.hasOwnProperty,h_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U1={},V1={};function f_(e){return Af.call(V1,e)?!0:Af.call(U1,e)?!1:h_.test(e)?V1[e]=!0:(U1[e]=!0,!1)}function d_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function p_(e,t,n,r){if(t===null||typeof t>"u"||d_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zn(e,t,n,r,l,c,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=p}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new Zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new Zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new Zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new Zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new Zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new Zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new Zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new Zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new Zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yd=/[\-:]([a-z])/g;function Xd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yd,Xd);En[t]=new Zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yd,Xd);En[t]=new Zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yd,Xd);En[t]=new Zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new Zn(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new Zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kd(e,t,n,r){var l=En.hasOwnProperty(t)?En[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(p_(t,n,l,r)&&(n=null),r||l===null?f_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jr=c_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Po=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),Qd=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),sx=Symbol.for("react.context"),qd=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),bf=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),ox=Symbol.for("react.offscreen"),H1=Symbol.iterator;function Va(e){return e===null||typeof e!="object"?null:(e=H1&&e[H1]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Object.assign,Rh;function $a(e){if(Rh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rh=t&&t[1]||""}return`
`+Rh+e}var Lh=!1;function Dh(e,t){if(!e||Lh)return"";Lh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var r=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){r=y}e.call(t.prototype)}else{try{throw Error()}catch(y){r=y}e()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var l=y.stack.split(`
`),c=r.stack.split(`
`),p=l.length-1,x=c.length-1;1<=p&&0<=x&&l[p]!==c[x];)x--;for(;1<=p&&0<=x;p--,x--)if(l[p]!==c[x]){if(p!==1||x!==1)do if(p--,x--,0>x||l[p]!==c[x]){var w=`
`+l[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=x);break}}}finally{Lh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$a(e):""}function m_(e){switch(e.tag){case 5:return $a(e.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return e=Dh(e.type,!1),e;case 11:return e=Dh(e.type.render,!1),e;case 1:return e=Dh(e.type,!0),e;default:return""}}function If(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ro:return"Fragment";case Po:return"Portal";case Sf:return"Profiler";case Qd:return"StrictMode";case Tf:return"Suspense";case bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sx:return(e.displayName||"Context")+".Consumer";case rx:return(e._context.displayName||"Context")+".Provider";case qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:If(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return If(e(t))}catch{}}return null}function g_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return If(t);case 8:return t===Qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x_(e){var t=ax(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){r=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xu(e){e._valueTracker||(e._valueTracker=x_(e))}function lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ax(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nf(e,t){var n=t.checked;return Ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function W1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_s(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ux(e,t){t=t.checked,t!=null&&Kd(e,"checked",t,!1)}function Mf(e,t){ux(e,t);var n=_s(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Of(e,t.type,n):t.hasOwnProperty("defaultValue")&&Of(e,t.type,_s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Z1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Of(e,t,n){(t!=="number"||tc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var el=Array.isArray;function Ko(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_s(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Pf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ge(92));if(el(n)){if(1<n.length)throw Error(ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_s(n)}}function cx(e,t){var n=_s(t.value),r=_s(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Y1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yu,fx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y_=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(e){y_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rl[t]=rl[e]})});function dx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rl.hasOwnProperty(e)&&rl[e]?(""+t).trim():t+"px"}function px(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=dx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var v_=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lf(e,t){if(t){if(v_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Df(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function $d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bf=null,Qo=null,qo=null;function X1(e){if(e=Hl(e)){if(typeof Bf!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Hc(t),Bf(e.stateNode,e.type,t))}}function mx(e){Qo?qo?qo.push(e):qo=[e]:Qo=e}function gx(){if(Qo){var e=Qo,t=qo;if(qo=Qo=null,X1(e),t)for(e=0;e<t.length;e++)X1(t[e])}}function xx(e,t){return e(t)}function yx(){}var kh=!1;function vx(e,t,n){if(kh)return e(t,n);kh=!0;try{return xx(e,t,n)}finally{kh=!1,(Qo!==null||qo!==null)&&(yx(),gx())}}function vl(e,t){var n=e.stateNode;if(n===null)return null;var r=Hc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ge(231,t,typeof n));return n}var Ff=!1;if(Lr)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{Ff=!1}function w_(e,t,n,r,l,c,p,x,w){var y=Array.prototype.slice.call(arguments,3);try{t.apply(n,y)}catch(E){this.onError(E)}}var sl=!1,nc=null,ic=!1,jf=null,__={onError:function(e){sl=!0,nc=e}};function C_(e,t,n,r,l,c,p,x,w){sl=!1,nc=null,w_.apply(__,arguments)}function E_(e,t,n,r,l,c,p,x,w){if(C_.apply(this,arguments),sl){if(sl){var y=nc;sl=!1,nc=null}else throw Error(ge(198));ic||(ic=!0,jf=y)}}function go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function K1(e){if(go(e)!==e)throw Error(ge(188))}function A_(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return K1(l),e;if(c===r)return K1(l),t;c=c.sibling}throw Error(ge(188))}if(n.return!==r.return)n=l,r=c;else{for(var p=!1,x=l.child;x;){if(x===n){p=!0,n=l,r=c;break}if(x===r){p=!0,r=l,n=c;break}x=x.sibling}if(!p){for(x=c.child;x;){if(x===n){p=!0,n=c,r=l;break}if(x===r){p=!0,r=c,n=l;break}x=x.sibling}if(!p)throw Error(ge(189))}}if(n.alternate!==r)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?e:t}function _x(e){return e=A_(e),e!==null?Cx(e):null}function Cx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cx(e);if(t!==null)return t;e=e.sibling}return null}var Ex=pi.unstable_scheduleCallback,Q1=pi.unstable_cancelCallback,S_=pi.unstable_shouldYield,T_=pi.unstable_requestPaint,Qt=pi.unstable_now,b_=pi.unstable_getCurrentPriorityLevel,e0=pi.unstable_ImmediatePriority,Ax=pi.unstable_UserBlockingPriority,rc=pi.unstable_NormalPriority,I_=pi.unstable_LowPriority,Sx=pi.unstable_IdlePriority,jc=null,fr=null;function N_(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(jc,e,void 0,(e.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:P_,M_=Math.log,O_=Math.LN2;function P_(e){return e>>>=0,e===0?32:31-(M_(e)/O_|0)|0}var vu=64,wu=4194304;function tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,c=e.pingedLanes,p=n&268435455;if(p!==0){var x=p&~l;x!==0?r=tl(x):(c&=p,c!==0&&(r=tl(c)))}else p=n&~l,p!==0?r=tl(p):c!==0&&(r=tl(c));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qi(t),l=1<<n,r|=e[n],t&=~l;return r}function R_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var p=31-qi(c),x=1<<p,w=l[p];w===-1?(!(x&n)||x&r)&&(l[p]=R_(x,t)):w<=t&&(e.expiredLanes|=x),c&=~x}}function zf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tx(){var e=vu;return vu<<=1,!(vu&4194240)&&(vu=64),e}function Bh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ul(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qi(t),e[t]=n}function D_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-qi(n),c=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~c}}function t0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qi(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var xt=0;function bx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ix,n0,Nx,Mx,Ox,Uf=!1,_u=[],hs=null,fs=null,ds=null,wl=new Map,_l=new Map,os=[],k_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q1(e,t){switch(e){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function Wa(e,t,n,r,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Hl(t),t!==null&&n0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function B_(e,t,n,r,l){switch(t){case"focusin":return hs=Wa(hs,e,t,n,r,l),!0;case"dragenter":return fs=Wa(fs,e,t,n,r,l),!0;case"mouseover":return ds=Wa(ds,e,t,n,r,l),!0;case"pointerover":var c=l.pointerId;return wl.set(c,Wa(wl.get(c)||null,e,t,n,r,l)),!0;case"gotpointercapture":return c=l.pointerId,_l.set(c,Wa(_l.get(c)||null,e,t,n,r,l)),!0}return!1}function Px(e){var t=qs(e.target);if(t!==null){var n=go(t);if(n!==null){if(t=n.tag,t===13){if(t=wx(n),t!==null){e.blockedOn=t,Ox(e.priority,function(){Nx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kf=r,n.target.dispatchEvent(r),kf=null}else return t=Hl(n),t!==null&&n0(t),e.blockedOn=n,!1;t.shift()}return!0}function J1(e,t,n){zu(e)&&n.delete(t)}function F_(){Uf=!1,hs!==null&&zu(hs)&&(hs=null),fs!==null&&zu(fs)&&(fs=null),ds!==null&&zu(ds)&&(ds=null),wl.forEach(J1),_l.forEach(J1)}function Za(e,t){e.blockedOn===t&&(e.blockedOn=null,Uf||(Uf=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,F_)))}function Cl(e){function t(l){return Za(l,e)}if(0<_u.length){Za(_u[0],e);for(var n=1;n<_u.length;n++){var r=_u[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hs!==null&&Za(hs,e),fs!==null&&Za(fs,e),ds!==null&&Za(ds,e),wl.forEach(t),_l.forEach(t),n=0;n<os.length;n++)r=os[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)Px(n),n.blockedOn===null&&os.shift()}var Jo=jr.ReactCurrentBatchConfig,oc=!0;function j_(e,t,n,r){var l=xt,c=Jo.transition;Jo.transition=null;try{xt=1,i0(e,t,n,r)}finally{xt=l,Jo.transition=c}}function z_(e,t,n,r){var l=xt,c=Jo.transition;Jo.transition=null;try{xt=4,i0(e,t,n,r)}finally{xt=l,Jo.transition=c}}function i0(e,t,n,r){if(oc){var l=Vf(e,t,n,r);if(l===null)Yh(e,t,r,ac,n),q1(e,r);else if(B_(l,e,t,n,r))r.stopPropagation();else if(q1(e,r),t&4&&-1<k_.indexOf(e)){for(;l!==null;){var c=Hl(l);if(c!==null&&Ix(c),c=Vf(e,t,n,r),c===null&&Yh(e,t,r,ac,n),c===l)break;l=c}l!==null&&r.stopPropagation()}else Yh(e,t,r,null,n)}}var ac=null;function Vf(e,t,n,r){if(ac=null,e=$d(r),e=qs(e),e!==null)if(t=go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ac=e,null}function Rx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b_()){case e0:return 1;case Ax:return 4;case rc:case I_:return 16;case Sx:return 536870912;default:return 16}default:return 16}}var ls=null,r0=null,Uu=null;function Lx(){if(Uu)return Uu;var e,t=r0,n=t.length,r,l="value"in ls?ls.value:ls.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var p=n-e;for(r=1;r<=p&&t[n-r]===l[c-r];r++);return Uu=l.slice(e,1<r?1-r:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cu(){return!0}function $1(){return!1}function xi(e){function t(n,r,l,c,p){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(c):c[x]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Cu:$1,this.isPropagationStopped=$1,this}return Ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s0=xi(da),Vl=Ht({},da,{view:0,detail:0}),U_=xi(Vl),Fh,jh,Ga,zc=Ht({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ga&&(Ga&&e.type==="mousemove"?(Fh=e.screenX-Ga.screenX,jh=e.screenY-Ga.screenY):jh=Fh=0,Ga=e),Fh)},movementY:function(e){return"movementY"in e?e.movementY:jh}}),ep=xi(zc),V_=Ht({},zc,{dataTransfer:0}),H_=xi(V_),W_=Ht({},Vl,{relatedTarget:0}),zh=xi(W_),Z_=Ht({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),G_=xi(Z_),Y_=Ht({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X_=xi(Y_),K_=Ht({},da,{data:0}),tp=xi(K_),Q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=J_[e])?!!t[e]:!1}function o0(){return $_}var eC=Ht({},Vl,{key:function(e){if(e.key){var t=Q_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tC=xi(eC),nC=Ht({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=xi(nC),iC=Ht({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),rC=xi(iC),sC=Ht({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),oC=xi(sC),aC=Ht({},zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lC=xi(aC),uC=[9,13,27,32],a0=Lr&&"CompositionEvent"in window,ol=null;Lr&&"documentMode"in document&&(ol=document.documentMode);var cC=Lr&&"TextEvent"in window&&!ol,Dx=Lr&&(!a0||ol&&8<ol&&11>=ol),ip=" ",rp=!1;function kx(e,t){switch(e){case"keyup":return uC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function hC(e,t){switch(e){case"compositionend":return Bx(t);case"keypress":return t.which!==32?null:(rp=!0,ip);case"textInput":return e=t.data,e===ip&&rp?null:e;default:return null}}function fC(e,t){if(Lo)return e==="compositionend"||!a0&&kx(e,t)?(e=Lx(),Uu=r0=ls=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dx&&t.locale!=="ko"?null:t.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dC[e.type]:t==="textarea"}function Fx(e,t,n,r){mx(r),t=lc(t,"onChange"),0<t.length&&(n=new s0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var al=null,El=null;function pC(e){Kx(e,0)}function Uc(e){var t=Bo(e);if(lx(t))return e}function mC(e,t){if(e==="change")return t}var jx=!1;if(Lr){var Uh;if(Lr){var Vh="oninput"in document;if(!Vh){var op=document.createElement("div");op.setAttribute("oninput","return;"),Vh=typeof op.oninput=="function"}Uh=Vh}else Uh=!1;jx=Uh&&(!document.documentMode||9<document.documentMode)}function ap(){al&&(al.detachEvent("onpropertychange",zx),El=al=null)}function zx(e){if(e.propertyName==="value"&&Uc(El)){var t=[];Fx(t,El,e,$d(e)),vx(pC,t)}}function gC(e,t,n){e==="focusin"?(ap(),al=t,El=n,al.attachEvent("onpropertychange",zx)):e==="focusout"&&ap()}function xC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uc(El)}function yC(e,t){if(e==="click")return Uc(t)}function vC(e,t){if(e==="input"||e==="change")return Uc(t)}function wC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $i=typeof Object.is=="function"?Object.is:wC;function Al(e,t){if($i(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Af.call(t,l)||!$i(e[l],t[l]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,t){var n=lp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lp(n)}}function Ux(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ux(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vx(){for(var e=window,t=tc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tc(e.document)}return t}function l0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _C(e){var t=Vx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ux(n.ownerDocument.documentElement,n)){if(r!==null&&l0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(r.start,l);r=r.end===void 0?c:Math.min(r.end,l),!e.extend&&c>r&&(l=r,r=c,c=l),l=up(n,c);var p=up(n,r);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>r?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CC=Lr&&"documentMode"in document&&11>=document.documentMode,Do=null,Hf=null,ll=null,Wf=!1;function cp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wf||Do==null||Do!==tc(r)||(r=Do,"selectionStart"in r&&l0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&Al(ll,r)||(ll=r,r=lc(Hf,"onSelect"),0<r.length&&(t=new s0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Do)))}function Eu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ko={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},Hh={},Hx={};Lr&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Vc(e){if(Hh[e])return Hh[e];if(!ko[e])return e;var t=ko[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hx)return Hh[e]=t[n];return e}var Wx=Vc("animationend"),Zx=Vc("animationiteration"),Gx=Vc("animationstart"),Yx=Vc("transitionend"),Xx=new Map,hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(e,t){Xx.set(e,t),mo(t,[e])}for(var Wh=0;Wh<hp.length;Wh++){var Zh=hp[Wh],EC=Zh.toLowerCase(),AC=Zh[0].toUpperCase()+Zh.slice(1);Ts(EC,"on"+AC)}Ts(Wx,"onAnimationEnd");Ts(Zx,"onAnimationIteration");Ts(Gx,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(Yx,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SC=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function fp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,E_(r,t,void 0,e),e.currentTarget=null}function Kx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var p=r.length-1;0<=p;p--){var x=r[p],w=x.instance,y=x.currentTarget;if(x=x.listener,w!==c&&l.isPropagationStopped())break e;fp(l,x,y),c=w}else for(p=0;p<r.length;p++){if(x=r[p],w=x.instance,y=x.currentTarget,x=x.listener,w!==c&&l.isPropagationStopped())break e;fp(l,x,y),c=w}}}if(ic)throw e=jf,ic=!1,jf=null,e}function Rt(e,t){var n=t[Kf];n===void 0&&(n=t[Kf]=new Set);var r=e+"__bubble";n.has(r)||(Qx(t,e,2,!1),n.add(r))}function Gh(e,t,n){var r=0;t&&(r|=4),Qx(n,e,r,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[Au]){e[Au]=!0,ix.forEach(function(n){n!=="selectionchange"&&(SC.has(n)||Gh(n,!1,e),Gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Au]||(t[Au]=!0,Gh("selectionchange",!1,t))}}function Qx(e,t,n,r){switch(Rx(t)){case 1:var l=j_;break;case 4:l=z_;break;default:l=i0}n=l.bind(null,t,n,e),l=void 0,!Ff||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Yh(e,t,n,r,l){var c=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var x=r.stateNode.containerInfo;if(x===l||x.nodeType===8&&x.parentNode===l)break;if(p===4)for(p=r.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;p=p.return}for(;x!==null;){if(p=qs(x),p===null)return;if(w=p.tag,w===5||w===6){r=c=p;continue e}x=x.parentNode}}r=r.return}vx(function(){var y=c,E=$d(n),A=[];e:{var M=Xx.get(e);if(M!==void 0){var D=s0,F=e;switch(e){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":D=tC;break;case"focusin":F="focus",D=zh;break;case"focusout":F="blur",D=zh;break;case"beforeblur":case"afterblur":D=zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=H_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=rC;break;case Wx:case Zx:case Gx:D=G_;break;case Yx:D=oC;break;case"scroll":D=U_;break;case"wheel":D=lC;break;case"copy":case"cut":case"paste":D=X_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=np}var B=(t&4)!==0,V=!B&&e==="scroll",z=B?M!==null?M+"Capture":null:M;B=[];for(var k=y,R;k!==null;){R=k;var Z=R.stateNode;if(R.tag===5&&Z!==null&&(R=Z,z!==null&&(Z=vl(k,z),Z!=null&&B.push(Tl(k,Z,R)))),V)break;k=k.return}0<B.length&&(M=new D(M,F,null,n,E),A.push({event:M,listeners:B}))}}if(!(t&7)){e:{if(M=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",M&&n!==kf&&(F=n.relatedTarget||n.fromElement)&&(qs(F)||F[Dr]))break e;if((D||M)&&(M=E.window===E?E:(M=E.ownerDocument)?M.defaultView||M.parentWindow:window,D?(F=n.relatedTarget||n.toElement,D=y,F=F?qs(F):null,F!==null&&(V=go(F),F!==V||F.tag!==5&&F.tag!==6)&&(F=null)):(D=null,F=y),D!==F)){if(B=ep,Z="onMouseLeave",z="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(B=np,Z="onPointerLeave",z="onPointerEnter",k="pointer"),V=D==null?M:Bo(D),R=F==null?M:Bo(F),M=new B(Z,k+"leave",D,n,E),M.target=V,M.relatedTarget=R,Z=null,qs(E)===y&&(B=new B(z,k+"enter",F,n,E),B.target=R,B.relatedTarget=V,Z=B),V=Z,D&&F)t:{for(B=D,z=F,k=0,R=B;R;R=Mo(R))k++;for(R=0,Z=z;Z;Z=Mo(Z))R++;for(;0<k-R;)B=Mo(B),k--;for(;0<R-k;)z=Mo(z),R--;for(;k--;){if(B===z||z!==null&&B===z.alternate)break t;B=Mo(B),z=Mo(z)}B=null}else B=null;D!==null&&dp(A,M,D,B,!1),F!==null&&V!==null&&dp(A,V,F,B,!0)}}e:{if(M=y?Bo(y):window,D=M.nodeName&&M.nodeName.toLowerCase(),D==="select"||D==="input"&&M.type==="file")var te=mC;else if(sp(M))if(jx)te=vC;else{te=xC;var se=gC}else(D=M.nodeName)&&D.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(te=yC);if(te&&(te=te(e,y))){Fx(A,te,n,E);break e}se&&se(e,M,y),e==="focusout"&&(se=M._wrapperState)&&se.controlled&&M.type==="number"&&Of(M,"number",M.value)}switch(se=y?Bo(y):window,e){case"focusin":(sp(se)||se.contentEditable==="true")&&(Do=se,Hf=y,ll=null);break;case"focusout":ll=Hf=Do=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,cp(A,n,E);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":cp(A,n,E)}var X;if(a0)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else Lo?kx(e,n)&&(oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(oe="onCompositionStart");oe&&(Dx&&n.locale!=="ko"&&(Lo||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Lo&&(X=Lx()):(ls=E,r0="value"in ls?ls.value:ls.textContent,Lo=!0)),se=lc(y,oe),0<se.length&&(oe=new tp(oe,e,null,n,E),A.push({event:oe,listeners:se}),X?oe.data=X:(X=Bx(n),X!==null&&(oe.data=X)))),(X=cC?hC(e,n):fC(e,n))&&(y=lc(y,"onBeforeInput"),0<y.length&&(E=new tp("onBeforeInput","beforeinput",null,n,E),A.push({event:E,listeners:y}),E.data=X))}Kx(A,t)})}function Tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lc(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=vl(e,n),c!=null&&r.unshift(Tl(e,c,l)),c=vl(e,t),c!=null&&r.push(Tl(e,c,l))),e=e.return}return r}function Mo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dp(e,t,n,r,l){for(var c=t._reactName,p=[];n!==null&&n!==r;){var x=n,w=x.alternate,y=x.stateNode;if(w!==null&&w===r)break;x.tag===5&&y!==null&&(x=y,l?(w=vl(n,c),w!=null&&p.unshift(Tl(n,w,x))):l||(w=vl(n,c),w!=null&&p.push(Tl(n,w,x)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var TC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(TC,`
`).replace(bC,"")}function Su(e,t,n){if(t=pp(t),pp(e)!==t&&n)throw Error(ge(425))}function uc(){}var Zf=null,Gf=null;function Yf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,IC=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(e){return mp.resolve(null).then(e).catch(MC)}:Xf;function MC(e){setTimeout(function(){throw e})}function Xh(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Cl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Cl(t)}function ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pa=Math.random().toString(36).slice(2),hr="__reactFiber$"+pa,bl="__reactProps$"+pa,Dr="__reactContainer$"+pa,Kf="__reactEvents$"+pa,OC="__reactListeners$"+pa,PC="__reactHandles$"+pa;function qs(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dr]||n[hr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gp(e);e!==null;){if(n=e[hr])return n;e=gp(e)}return t}e=n,n=e.parentNode}return null}function Hl(e){return e=e[hr]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Hc(e){return e[bl]||null}var Qf=[],Fo=-1;function bs(e){return{current:e}}function Lt(e){0>Fo||(e.current=Qf[Fo],Qf[Fo]=null,Fo--)}function It(e,t){Fo++,Qf[Fo]=e.current,e.current=t}var Cs={},Rn=bs(Cs),qn=bs(!1),ao=Cs;function na(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Jn(e){return e=e.childContextTypes,e!=null}function cc(){Lt(qn),Lt(Rn)}function xp(e,t,n){if(Rn.current!==Cs)throw Error(ge(168));It(Rn,t),It(qn,n)}function qx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(ge(108,g_(e)||"Unknown",l));return Ht({},n,r)}function hc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,ao=Rn.current,It(Rn,e),It(qn,qn.current),!0}function yp(e,t,n){var r=e.stateNode;if(!r)throw Error(ge(169));n?(e=qx(e,t,ao),r.__reactInternalMemoizedMergedChildContext=e,Lt(qn),Lt(Rn),It(Rn,e)):Lt(qn),It(qn,n)}var Tr=null,Wc=!1,Kh=!1;function Jx(e){Tr===null?Tr=[e]:Tr.push(e)}function RC(e){Wc=!0,Jx(e)}function Is(){if(!Kh&&Tr!==null){Kh=!0;var e=0,t=xt;try{var n=Tr;for(xt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tr=null,Wc=!1}catch(l){throw Tr!==null&&(Tr=Tr.slice(e+1)),Ex(e0,Is),l}finally{xt=t,Kh=!1}}return null}var jo=[],zo=0,fc=null,dc=0,Oi=[],Pi=0,lo=null,br=1,Ir="";function Gs(e,t){jo[zo++]=dc,jo[zo++]=fc,fc=e,dc=t}function $x(e,t,n){Oi[Pi++]=br,Oi[Pi++]=Ir,Oi[Pi++]=lo,lo=e;var r=br;e=Ir;var l=32-qi(r)-1;r&=~(1<<l),n+=1;var c=32-qi(t)+l;if(30<c){var p=l-l%5;c=(r&(1<<p)-1).toString(32),r>>=p,l-=p,br=1<<32-qi(t)+l|n<<l|r,Ir=c+e}else br=1<<c|n<<l|r,Ir=e}function u0(e){e.return!==null&&(Gs(e,1),$x(e,1,0))}function c0(e){for(;e===fc;)fc=jo[--zo],jo[zo]=null,dc=jo[--zo],jo[zo]=null;for(;e===lo;)lo=Oi[--Pi],Oi[Pi]=null,Ir=Oi[--Pi],Oi[Pi]=null,br=Oi[--Pi],Oi[Pi]=null}var di=null,fi=null,kt=!1,Qi=null;function e2(e,t){var n=Ri(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,di=e,fi=ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,di=e,fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lo!==null?{id:br,overflow:Ir}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ri(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,di=e,fi=null,!0):!1;default:return!1}}function qf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jf(e){if(kt){var t=fi;if(t){var n=t;if(!vp(e,t)){if(qf(e))throw Error(ge(418));t=ps(n.nextSibling);var r=di;t&&vp(e,t)?e2(r,n):(e.flags=e.flags&-4097|2,kt=!1,di=e)}}else{if(qf(e))throw Error(ge(418));e.flags=e.flags&-4097|2,kt=!1,di=e}}}function wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;di=e}function Tu(e){if(e!==di)return!1;if(!kt)return wp(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yf(e.type,e.memoizedProps)),t&&(t=fi)){if(qf(e))throw t2(),Error(ge(418));for(;t;)e2(e,t),t=ps(t.nextSibling)}if(wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fi=ps(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fi=null}}else fi=di?ps(e.stateNode.nextSibling):null;return!0}function t2(){for(var e=fi;e;)e=ps(e.nextSibling)}function ia(){fi=di=null,kt=!1}function h0(e){Qi===null?Qi=[e]:Qi.push(e)}var LC=jr.ReactCurrentBatchConfig;function Ya(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var r=n.stateNode}if(!r)throw Error(ge(147,e));var l=r,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(p){var x=l.refs;p===null?delete x[c]:x[c]=p},t._stringRef=c,t)}if(typeof e!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,e))}return e}function bu(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _p(e){var t=e._init;return t(e._payload)}function n2(e){function t(z,k){if(e){var R=z.deletions;R===null?(z.deletions=[k],z.flags|=16):R.push(k)}}function n(z,k){if(!e)return null;for(;k!==null;)t(z,k),k=k.sibling;return null}function r(z,k){for(z=new Map;k!==null;)k.key!==null?z.set(k.key,k):z.set(k.index,k),k=k.sibling;return z}function l(z,k){return z=ys(z,k),z.index=0,z.sibling=null,z}function c(z,k,R){return z.index=R,e?(R=z.alternate,R!==null?(R=R.index,R<k?(z.flags|=2,k):R):(z.flags|=2,k)):(z.flags|=1048576,k)}function p(z){return e&&z.alternate===null&&(z.flags|=2),z}function x(z,k,R,Z){return k===null||k.tag!==6?(k=nf(R,z.mode,Z),k.return=z,k):(k=l(k,R),k.return=z,k)}function w(z,k,R,Z){var te=R.type;return te===Ro?E(z,k,R.props.children,Z,R.key):k!==null&&(k.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===is&&_p(te)===k.type)?(Z=l(k,R.props),Z.ref=Ya(z,k,R),Z.return=z,Z):(Z=Ku(R.type,R.key,R.props,null,z.mode,Z),Z.ref=Ya(z,k,R),Z.return=z,Z)}function y(z,k,R,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==R.containerInfo||k.stateNode.implementation!==R.implementation?(k=rf(R,z.mode,Z),k.return=z,k):(k=l(k,R.children||[]),k.return=z,k)}function E(z,k,R,Z,te){return k===null||k.tag!==7?(k=io(R,z.mode,Z,te),k.return=z,k):(k=l(k,R),k.return=z,k)}function A(z,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return k=nf(""+k,z.mode,R),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gu:return R=Ku(k.type,k.key,k.props,null,z.mode,R),R.ref=Ya(z,null,k),R.return=z,R;case Po:return k=rf(k,z.mode,R),k.return=z,k;case is:var Z=k._init;return A(z,Z(k._payload),R)}if(el(k)||Va(k))return k=io(k,z.mode,R,null),k.return=z,k;bu(z,k)}return null}function M(z,k,R,Z){var te=k!==null?k.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return te!==null?null:x(z,k,""+R,Z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case gu:return R.key===te?w(z,k,R,Z):null;case Po:return R.key===te?y(z,k,R,Z):null;case is:return te=R._init,M(z,k,te(R._payload),Z)}if(el(R)||Va(R))return te!==null?null:E(z,k,R,Z,null);bu(z,R)}return null}function D(z,k,R,Z,te){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return z=z.get(R)||null,x(k,z,""+Z,te);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case gu:return z=z.get(Z.key===null?R:Z.key)||null,w(k,z,Z,te);case Po:return z=z.get(Z.key===null?R:Z.key)||null,y(k,z,Z,te);case is:var se=Z._init;return D(z,k,R,se(Z._payload),te)}if(el(Z)||Va(Z))return z=z.get(R)||null,E(k,z,Z,te,null);bu(k,Z)}return null}function F(z,k,R,Z){for(var te=null,se=null,X=k,oe=k=0,J=null;X!==null&&oe<R.length;oe++){X.index>oe?(J=X,X=null):J=X.sibling;var fe=M(z,X,R[oe],Z);if(fe===null){X===null&&(X=J);break}e&&X&&fe.alternate===null&&t(z,X),k=c(fe,k,oe),se===null?te=fe:se.sibling=fe,se=fe,X=J}if(oe===R.length)return n(z,X),kt&&Gs(z,oe),te;if(X===null){for(;oe<R.length;oe++)X=A(z,R[oe],Z),X!==null&&(k=c(X,k,oe),se===null?te=X:se.sibling=X,se=X);return kt&&Gs(z,oe),te}for(X=r(z,X);oe<R.length;oe++)J=D(X,z,oe,R[oe],Z),J!==null&&(e&&J.alternate!==null&&X.delete(J.key===null?oe:J.key),k=c(J,k,oe),se===null?te=J:se.sibling=J,se=J);return e&&X.forEach(function(Te){return t(z,Te)}),kt&&Gs(z,oe),te}function B(z,k,R,Z){var te=Va(R);if(typeof te!="function")throw Error(ge(150));if(R=te.call(R),R==null)throw Error(ge(151));for(var se=te=null,X=k,oe=k=0,J=null,fe=R.next();X!==null&&!fe.done;oe++,fe=R.next()){X.index>oe?(J=X,X=null):J=X.sibling;var Te=M(z,X,fe.value,Z);if(Te===null){X===null&&(X=J);break}e&&X&&Te.alternate===null&&t(z,X),k=c(Te,k,oe),se===null?te=Te:se.sibling=Te,se=Te,X=J}if(fe.done)return n(z,X),kt&&Gs(z,oe),te;if(X===null){for(;!fe.done;oe++,fe=R.next())fe=A(z,fe.value,Z),fe!==null&&(k=c(fe,k,oe),se===null?te=fe:se.sibling=fe,se=fe);return kt&&Gs(z,oe),te}for(X=r(z,X);!fe.done;oe++,fe=R.next())fe=D(X,z,oe,fe.value,Z),fe!==null&&(e&&fe.alternate!==null&&X.delete(fe.key===null?oe:fe.key),k=c(fe,k,oe),se===null?te=fe:se.sibling=fe,se=fe);return e&&X.forEach(function(xe){return t(z,xe)}),kt&&Gs(z,oe),te}function V(z,k,R,Z){if(typeof R=="object"&&R!==null&&R.type===Ro&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case gu:e:{for(var te=R.key,se=k;se!==null;){if(se.key===te){if(te=R.type,te===Ro){if(se.tag===7){n(z,se.sibling),k=l(se,R.props.children),k.return=z,z=k;break e}}else if(se.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===is&&_p(te)===se.type){n(z,se.sibling),k=l(se,R.props),k.ref=Ya(z,se,R),k.return=z,z=k;break e}n(z,se);break}else t(z,se);se=se.sibling}R.type===Ro?(k=io(R.props.children,z.mode,Z,R.key),k.return=z,z=k):(Z=Ku(R.type,R.key,R.props,null,z.mode,Z),Z.ref=Ya(z,k,R),Z.return=z,z=Z)}return p(z);case Po:e:{for(se=R.key;k!==null;){if(k.key===se)if(k.tag===4&&k.stateNode.containerInfo===R.containerInfo&&k.stateNode.implementation===R.implementation){n(z,k.sibling),k=l(k,R.children||[]),k.return=z,z=k;break e}else{n(z,k);break}else t(z,k);k=k.sibling}k=rf(R,z.mode,Z),k.return=z,z=k}return p(z);case is:return se=R._init,V(z,k,se(R._payload),Z)}if(el(R))return F(z,k,R,Z);if(Va(R))return B(z,k,R,Z);bu(z,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,k!==null&&k.tag===6?(n(z,k.sibling),k=l(k,R),k.return=z,z=k):(n(z,k),k=nf(R,z.mode,Z),k.return=z,z=k),p(z)):n(z,k)}return V}var ra=n2(!0),i2=n2(!1),pc=bs(null),mc=null,Uo=null,f0=null;function d0(){f0=Uo=mc=null}function p0(e){var t=pc.current;Lt(pc),e._currentValue=t}function $f(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $o(e,t){mc=e,f0=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qn=!0),e.firstContext=null)}function Di(e){var t=e._currentValue;if(f0!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(mc===null)throw Error(ge(308));Uo=e,mc.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Js=null;function m0(e){Js===null?Js=[e]:Js.push(e)}function r2(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,m0(t)):(n.next=l.next,l.next=n),t.interleaved=n,kr(e,r)}function kr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rs=!1;function g0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ms(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,kr(e,n)}return l=r.interleaved,l===null?(t.next=t,m0(r)):(t.next=l.next,l.next=t),r.interleaved=t,kr(e,n)}function Hu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,t0(e,n)}}function Cp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=p:c=c.next=p,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gc(e,t,n,r){var l=e.updateQueue;rs=!1;var c=l.firstBaseUpdate,p=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var w=x,y=w.next;w.next=null,p===null?c=y:p.next=y,p=w;var E=e.alternate;E!==null&&(E=E.updateQueue,x=E.lastBaseUpdate,x!==p&&(x===null?E.firstBaseUpdate=y:x.next=y,E.lastBaseUpdate=w))}if(c!==null){var A=l.baseState;p=0,E=y=w=null,x=c;do{var M=x.lane,D=x.eventTime;if((r&M)===M){E!==null&&(E=E.next={eventTime:D,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var F=e,B=x;switch(M=t,D=n,B.tag){case 1:if(F=B.payload,typeof F=="function"){A=F.call(D,A,M);break e}A=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=B.payload,M=typeof F=="function"?F.call(D,A,M):F,M==null)break e;A=Ht({},A,M);break e;case 2:rs=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,M=l.effects,M===null?l.effects=[x]:M.push(x))}else D={eventTime:D,lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},E===null?(y=E=D,w=A):E=E.next=D,p|=M;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;M=x,x=M.next,M.next=null,l.lastBaseUpdate=M,l.shared.pending=null}}while(!0);if(E===null&&(w=A),l.baseState=w,l.firstBaseUpdate=y,l.lastBaseUpdate=E,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);co|=p,e.lanes=p,e.memoizedState=A}}function Ep(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(ge(191,l));l.call(r)}}}var Wl={},dr=bs(Wl),Il=bs(Wl),Nl=bs(Wl);function $s(e){if(e===Wl)throw Error(ge(174));return e}function x0(e,t){switch(It(Nl,t),It(Il,e),It(dr,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rf(t,e)}Lt(dr),It(dr,t)}function sa(){Lt(dr),Lt(Il),Lt(Nl)}function o2(e){$s(Nl.current);var t=$s(dr.current),n=Rf(t,e.type);t!==n&&(It(Il,e),It(dr,n))}function y0(e){Il.current===e&&(Lt(dr),Lt(Il))}var zt=bs(0);function xc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qh=[];function v0(){for(var e=0;e<Qh.length;e++)Qh[e]._workInProgressVersionPrimary=null;Qh.length=0}var Wu=jr.ReactCurrentDispatcher,qh=jr.ReactCurrentBatchConfig,uo=0,Vt=null,un=null,yn=null,yc=!1,ul=!1,Ml=0,DC=0;function In(){throw Error(ge(321))}function w0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$i(e[n],t[n]))return!1;return!0}function _0(e,t,n,r,l,c){if(uo=c,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wu.current=e===null||e.memoizedState===null?jC:zC,e=n(r,l),ul){c=0;do{if(ul=!1,Ml=0,25<=c)throw Error(ge(301));c+=1,yn=un=null,t.updateQueue=null,Wu.current=UC,e=n(r,l)}while(ul)}if(Wu.current=vc,t=un!==null&&un.next!==null,uo=0,yn=un=Vt=null,yc=!1,t)throw Error(ge(300));return e}function C0(){var e=Ml!==0;return Ml=0,e}function ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Vt.memoizedState=yn=e:yn=yn.next=e,yn}function ki(){if(un===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=un.next;var t=yn===null?Vt.memoizedState:yn.next;if(t!==null)yn=t,un=e;else{if(e===null)throw Error(ge(310));un=e,e={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},yn===null?Vt.memoizedState=yn=e:yn=yn.next=e}return yn}function Ol(e,t){return typeof t=="function"?t(e):t}function Jh(e){var t=ki(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=un,l=r.baseQueue,c=n.pending;if(c!==null){if(l!==null){var p=l.next;l.next=c.next,c.next=p}r.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,r=r.baseState;var x=p=null,w=null,y=c;do{var E=y.lane;if((uo&E)===E)w!==null&&(w=w.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:e(r,y.action);else{var A={lane:E,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};w===null?(x=w=A,p=r):w=w.next=A,Vt.lanes|=E,co|=E}y=y.next}while(y!==null&&y!==c);w===null?p=r:w.next=x,$i(r,t.memoizedState)||(Qn=!0),t.memoizedState=r,t.baseState=p,t.baseQueue=w,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Vt.lanes|=c,co|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $h(e){var t=ki(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do c=e(c,p.action),p=p.next;while(p!==l);$i(c,t.memoizedState)||(Qn=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,r]}function a2(){}function l2(e,t){var n=Vt,r=ki(),l=t(),c=!$i(r.memoizedState,l);if(c&&(r.memoizedState=l,Qn=!0),r=r.queue,E0(h2.bind(null,n,r,e),[e]),r.getSnapshot!==t||c||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,Pl(9,c2.bind(null,n,r,l,t),void 0,null),vn===null)throw Error(ge(349));uo&30||u2(n,t,l)}return l}function u2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function c2(e,t,n,r){t.value=n,t.getSnapshot=r,f2(t)&&d2(e)}function h2(e,t,n){return n(function(){f2(t)&&d2(e)})}function f2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$i(e,n)}catch{return!0}}function d2(e){var t=kr(e,1);t!==null&&Ji(t,e,1,-1)}function Ap(e){var t=ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},t.queue=e,e=e.dispatch=FC.bind(null,Vt,e),[t.memoizedState,e]}function Pl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function p2(){return ki().memoizedState}function Zu(e,t,n,r){var l=ur();Vt.flags|=e,l.memoizedState=Pl(1|t,n,void 0,r===void 0?null:r)}function Zc(e,t,n,r){var l=ki();r=r===void 0?null:r;var c=void 0;if(un!==null){var p=un.memoizedState;if(c=p.destroy,r!==null&&w0(r,p.deps)){l.memoizedState=Pl(t,n,c,r);return}}Vt.flags|=e,l.memoizedState=Pl(1|t,n,c,r)}function Sp(e,t){return Zu(8390656,8,e,t)}function E0(e,t){return Zc(2048,8,e,t)}function m2(e,t){return Zc(4,2,e,t)}function g2(e,t){return Zc(4,4,e,t)}function x2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y2(e,t,n){return n=n!=null?n.concat([e]):null,Zc(4,4,x2.bind(null,t,e),n)}function A0(){}function v2(e,t){var n=ki();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&w0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function w2(e,t){var n=ki();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&w0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _2(e,t,n){return uo&21?($i(n,t)||(n=Tx(),Vt.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qn=!0),e.memoizedState=n)}function kC(e,t){var n=xt;xt=n!==0&&4>n?n:4,e(!0);var r=qh.transition;qh.transition={};try{e(!1),t()}finally{xt=n,qh.transition=r}}function C2(){return ki().memoizedState}function BC(e,t,n){var r=xs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E2(e))A2(t,n);else if(n=r2(e,t,n,r),n!==null){var l=Hn();Ji(n,e,r,l),S2(n,t,r)}}function FC(e,t,n){var r=xs(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E2(e))A2(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,x=c(p,n);if(l.hasEagerState=!0,l.eagerState=x,$i(x,p)){var w=t.interleaved;w===null?(l.next=l,m0(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}finally{}n=r2(e,t,l,r),n!==null&&(l=Hn(),Ji(n,e,r,l),S2(n,t,r))}}function E2(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function A2(e,t){ul=yc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function S2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,t0(e,n)}}var vc={readContext:Di,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},jC={readContext:Di,useCallback:function(e,t){return ur().memoizedState=[e,t===void 0?null:t],e},useContext:Di,useEffect:Sp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zu(4194308,4,x2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zu(4,2,e,t)},useMemo:function(e,t){var n=ur();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ur();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=BC.bind(null,Vt,e),[r.memoizedState,e]},useRef:function(e){var t=ur();return e={current:e},t.memoizedState=e},useState:Ap,useDebugValue:A0,useDeferredValue:function(e){return ur().memoizedState=e},useTransition:function(){var e=Ap(!1),t=e[0];return e=kC.bind(null,e[1]),ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vt,l=ur();if(kt){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=t(),vn===null)throw Error(ge(349));uo&30||u2(r,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Sp(h2.bind(null,r,c,e),[e]),r.flags|=2048,Pl(9,c2.bind(null,r,c,n,t),void 0,null),n},useId:function(){var e=ur(),t=vn.identifierPrefix;if(kt){var n=Ir,r=br;n=(r&~(1<<32-qi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ml++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=DC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zC={readContext:Di,useCallback:v2,useContext:Di,useEffect:E0,useImperativeHandle:y2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:w2,useReducer:Jh,useRef:p2,useState:function(){return Jh(Ol)},useDebugValue:A0,useDeferredValue:function(e){var t=ki();return _2(t,un.memoizedState,e)},useTransition:function(){var e=Jh(Ol)[0],t=ki().memoizedState;return[e,t]},useMutableSource:a2,useSyncExternalStore:l2,useId:C2,unstable_isNewReconciler:!1},UC={readContext:Di,useCallback:v2,useContext:Di,useEffect:E0,useImperativeHandle:y2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:w2,useReducer:$h,useRef:p2,useState:function(){return $h(Ol)},useDebugValue:A0,useDeferredValue:function(e){var t=ki();return un===null?t.memoizedState=e:_2(t,un.memoizedState,e)},useTransition:function(){var e=$h(Ol)[0],t=ki().memoizedState;return[e,t]},useMutableSource:a2,useSyncExternalStore:l2,useId:C2,unstable_isNewReconciler:!1};function Yi(e,t){if(e&&e.defaultProps){t=Ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ed(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gc={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hn(),l=xs(e),c=Or(r,l);c.payload=t,n!=null&&(c.callback=n),t=ms(e,c,l),t!==null&&(Ji(t,e,l,r),Hu(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hn(),l=xs(e),c=Or(r,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=ms(e,c,l),t!==null&&(Ji(t,e,l,r),Hu(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hn(),r=xs(e),l=Or(n,r);l.tag=2,t!=null&&(l.callback=t),t=ms(e,l,r),t!==null&&(Ji(t,e,r,n),Hu(t,e,r))}};function Tp(e,t,n,r,l,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,p):t.prototype&&t.prototype.isPureReactComponent?!Al(n,r)||!Al(l,c):!0}function T2(e,t,n){var r=!1,l=Cs,c=t.contextType;return typeof c=="object"&&c!==null?c=Di(c):(l=Jn(t)?ao:Rn.current,r=t.contextTypes,c=(r=r!=null)?na(e,l):Cs),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function bp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gc.enqueueReplaceState(t,t.state,null)}function td(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},g0(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=Di(c):(c=Jn(t)?ao:Rn.current,l.context=na(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(ed(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Gc.enqueueReplaceState(l,l.state,null),gc(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function oa(e,t){try{var n="",r=t;do n+=m_(r),r=r.return;while(r);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function ef(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var VC=typeof WeakMap=="function"?WeakMap:Map;function b2(e,t,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_c||(_c=!0,fd=r),nd(e,t)},n}function I2(e,t,n){n=Or(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){nd(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){nd(e,t),typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Ip(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new VC;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=nE.bind(null,e,t,n),t.then(e,e))}function Np(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mp(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Or(-1,1),t.tag=2,ms(n,t,1))),n.lanes|=1),e)}var HC=jr.ReactCurrentOwner,Qn=!1;function Vn(e,t,n,r){t.child=e===null?i2(t,null,n,r):ra(t,e.child,n,r)}function Op(e,t,n,r,l){n=n.render;var c=t.ref;return $o(t,l),r=_0(e,t,n,r,c,l),n=C0(),e!==null&&!Qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Br(e,t,l)):(kt&&n&&u0(t),t.flags|=1,Vn(e,t,r,l),t.child)}function Pp(e,t,n,r,l){if(e===null){var c=n.type;return typeof c=="function"&&!P0(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,N2(e,t,c,r,l)):(e=Ku(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&l)){var p=c.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(p,r)&&e.ref===t.ref)return Br(e,t,l)}return t.flags|=1,e=ys(c,r),e.ref=t.ref,e.return=t,t.child=e}function N2(e,t,n,r,l){if(e!==null){var c=e.memoizedProps;if(Al(c,r)&&e.ref===t.ref)if(Qn=!1,t.pendingProps=r=c,(e.lanes&l)!==0)e.flags&131072&&(Qn=!0);else return t.lanes=e.lanes,Br(e,t,l)}return id(e,t,n,r,l)}function M2(e,t,n){var r=t.pendingProps,l=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Ho,ci),ci|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,It(Ho,ci),ci|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=c!==null?c.baseLanes:n,It(Ho,ci),ci|=r}else c!==null?(r=c.baseLanes|n,t.memoizedState=null):r=n,It(Ho,ci),ci|=r;return Vn(e,t,l,n),t.child}function O2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function id(e,t,n,r,l){var c=Jn(n)?ao:Rn.current;return c=na(t,c),$o(t,l),n=_0(e,t,n,r,c,l),r=C0(),e!==null&&!Qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Br(e,t,l)):(kt&&r&&u0(t),t.flags|=1,Vn(e,t,n,l),t.child)}function Rp(e,t,n,r,l){if(Jn(n)){var c=!0;hc(t)}else c=!1;if($o(t,l),t.stateNode===null)Gu(e,t),T2(t,n,r),td(t,n,r,l),r=!0;else if(e===null){var p=t.stateNode,x=t.memoizedProps;p.props=x;var w=p.context,y=n.contextType;typeof y=="object"&&y!==null?y=Di(y):(y=Jn(n)?ao:Rn.current,y=na(t,y));var E=n.getDerivedStateFromProps,A=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function";A||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==r||w!==y)&&bp(t,p,r,y),rs=!1;var M=t.memoizedState;p.state=M,gc(t,r,p,l),w=t.memoizedState,x!==r||M!==w||qn.current||rs?(typeof E=="function"&&(ed(t,n,E,r),w=t.memoizedState),(x=rs||Tp(t,n,x,r,M,w,y))?(A||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=w),p.props=r,p.state=w,p.context=y,r=x):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{p=t.stateNode,s2(e,t),x=t.memoizedProps,y=t.type===t.elementType?x:Yi(t.type,x),p.props=y,A=t.pendingProps,M=p.context,w=n.contextType,typeof w=="object"&&w!==null?w=Di(w):(w=Jn(n)?ao:Rn.current,w=na(t,w));var D=n.getDerivedStateFromProps;(E=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==A||M!==w)&&bp(t,p,r,w),rs=!1,M=t.memoizedState,p.state=M,gc(t,r,p,l);var F=t.memoizedState;x!==A||M!==F||qn.current||rs?(typeof D=="function"&&(ed(t,n,D,r),F=t.memoizedState),(y=rs||Tp(t,n,y,r,M,F,w)||!1)?(E||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,F,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,F,w)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=F),p.props=r,p.state=F,p.context=w,r=y):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),r=!1)}return rd(e,t,n,r,c,l)}function rd(e,t,n,r,l,c){O2(e,t);var p=(t.flags&128)!==0;if(!r&&!p)return l&&yp(t,n,!1),Br(e,t,c);r=t.stateNode,HC.current=t;var x=p&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&p?(t.child=ra(t,e.child,null,c),t.child=ra(t,null,x,c)):Vn(e,t,x,c),t.memoizedState=r.state,l&&yp(t,n,!0),t.child}function P2(e){var t=e.stateNode;t.pendingContext?xp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xp(e,t.context,!1),x0(e,t.containerInfo)}function Lp(e,t,n,r,l){return ia(),h0(l),t.flags|=256,Vn(e,t,n,r),t.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function od(e){return{baseLanes:e,cachePool:null,transitions:null}}function R2(e,t,n){var r=t.pendingProps,l=zt.current,c=!1,p=(t.flags&128)!==0,x;if((x=p)||(x=e!==null&&e.memoizedState===null?!1:(l&2)!==0),x?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),It(zt,l&1),e===null)return Jf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=r.children,e=r.fallback,c?(r=t.mode,c=t.child,p={mode:"hidden",children:p},!(r&1)&&c!==null?(c.childLanes=0,c.pendingProps=p):c=Kc(p,r,0,null),e=io(e,r,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=od(n),t.memoizedState=sd,e):S0(t,p));if(l=e.memoizedState,l!==null&&(x=l.dehydrated,x!==null))return WC(e,t,p,r,x,l,n);if(c){c=r.fallback,p=t.mode,l=e.child,x=l.sibling;var w={mode:"hidden",children:r.children};return!(p&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=w,t.deletions=null):(r=ys(l,w),r.subtreeFlags=l.subtreeFlags&14680064),x!==null?c=ys(x,c):(c=io(c,p,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,p=e.child.memoizedState,p=p===null?od(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},c.memoizedState=p,c.childLanes=e.childLanes&~n,t.memoizedState=sd,r}return c=e.child,e=c.sibling,r=ys(c,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function S0(e,t){return t=Kc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Iu(e,t,n,r){return r!==null&&h0(r),ra(t,e.child,null,n),e=S0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WC(e,t,n,r,l,c,p){if(n)return t.flags&256?(t.flags&=-257,r=ef(Error(ge(422))),Iu(e,t,p,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=r.fallback,l=t.mode,r=Kc({mode:"visible",children:r.children},l,0,null),c=io(c,l,p,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,t.mode&1&&ra(t,e.child,null,p),t.child.memoizedState=od(p),t.memoizedState=sd,c);if(!(t.mode&1))return Iu(e,t,p,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var x=r.dgst;return r=x,c=Error(ge(419)),r=ef(c,r,void 0),Iu(e,t,p,r)}if(x=(p&e.childLanes)!==0,Qn||x){if(r=vn,r!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|p)?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,kr(e,l),Ji(r,e,l,-1))}return O0(),r=ef(Error(ge(421))),Iu(e,t,p,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=iE.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,fi=ps(l.nextSibling),di=t,kt=!0,Qi=null,e!==null&&(Oi[Pi++]=br,Oi[Pi++]=Ir,Oi[Pi++]=lo,br=e.id,Ir=e.overflow,lo=t),t=S0(t,r.children),t.flags|=4096,t)}function Dp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$f(e.return,t,n)}function tf(e,t,n,r,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=l)}function L2(e,t,n){var r=t.pendingProps,l=r.revealOrder,c=r.tail;if(Vn(e,t,r.children,n),r=zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dp(e,n,t);else if(e.tag===19)Dp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(It(zt,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&xc(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),tf(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&xc(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}tf(t,!0,n,null,c);break;case"together":tf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,n=ys(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ys(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ZC(e,t,n){switch(t.tag){case 3:P2(t),ia();break;case 5:o2(t);break;case 1:Jn(t.type)&&hc(t);break;case 4:x0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;It(pc,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(It(zt,zt.current&1),t.flags|=128,null):n&t.child.childLanes?R2(e,t,n):(It(zt,zt.current&1),e=Br(e,t,n),e!==null?e.sibling:null);It(zt,zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return L2(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),It(zt,zt.current),r)break;return null;case 22:case 23:return t.lanes=0,M2(e,t,n)}return Br(e,t,n)}var D2,ad,k2,B2;D2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ad=function(){};k2=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,$s(dr.current);var c=null;switch(n){case"input":l=Nf(e,l),r=Nf(e,r),c=[];break;case"select":l=Ht({},l,{value:void 0}),r=Ht({},r,{value:void 0}),c=[];break;case"textarea":l=Pf(e,l),r=Pf(e,r),c=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uc)}Lf(n,r);var p;n=null;for(y in l)if(!r.hasOwnProperty(y)&&l.hasOwnProperty(y)&&l[y]!=null)if(y==="style"){var x=l[y];for(p in x)x.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(xl.hasOwnProperty(y)?c||(c=[]):(c=c||[]).push(y,null));for(y in r){var w=r[y];if(x=l!=null?l[y]:void 0,r.hasOwnProperty(y)&&w!==x&&(w!=null||x!=null))if(y==="style")if(x){for(p in x)!x.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in w)w.hasOwnProperty(p)&&x[p]!==w[p]&&(n||(n={}),n[p]=w[p])}else n||(c||(c=[]),c.push(y,n)),n=w;else y==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,x=x?x.__html:void 0,w!=null&&x!==w&&(c=c||[]).push(y,w)):y==="children"?typeof w!="string"&&typeof w!="number"||(c=c||[]).push(y,""+w):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(xl.hasOwnProperty(y)?(w!=null&&y==="onScroll"&&Rt("scroll",e),c||x===w||(c=[])):(c=c||[]).push(y,w))}n&&(c=c||[]).push("style",n);var y=c;(t.updateQueue=y)&&(t.flags|=4)}};B2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xa(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function GC(e,t,n){var r=t.pendingProps;switch(c0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(t),null;case 1:return Jn(t.type)&&cc(),Nn(t),null;case 3:return r=t.stateNode,sa(),Lt(qn),Lt(Rn),v0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qi!==null&&(md(Qi),Qi=null))),ad(e,t),Nn(t),null;case 5:y0(t);var l=$s(Nl.current);if(n=t.type,e!==null&&t.stateNode!=null)k2(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ge(166));return Nn(t),null}if(e=$s(dr.current),Tu(t)){r=t.stateNode,n=t.type;var c=t.memoizedProps;switch(r[hr]=t,r[bl]=c,e=(t.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(l=0;l<nl.length;l++)Rt(nl[l],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":W1(r,c),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Rt("invalid",r);break;case"textarea":G1(r,c),Rt("invalid",r)}Lf(n,c),l=null;for(var p in c)if(c.hasOwnProperty(p)){var x=c[p];p==="children"?typeof x=="string"?r.textContent!==x&&(c.suppressHydrationWarning!==!0&&Su(r.textContent,x,e),l=["children",x]):typeof x=="number"&&r.textContent!==""+x&&(c.suppressHydrationWarning!==!0&&Su(r.textContent,x,e),l=["children",""+x]):xl.hasOwnProperty(p)&&x!=null&&p==="onScroll"&&Rt("scroll",r)}switch(n){case"input":xu(r),Z1(r,c,!0);break;case"textarea":xu(r),Y1(r);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(r.onclick=uc)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=p.createElement(n,{is:r.is}):(e=p.createElement(n),n==="select"&&(p=e,r.multiple?p.multiple=!0:r.size&&(p.size=r.size))):e=p.createElementNS(e,n),e[hr]=t,e[bl]=r,D2(e,t,!1,!1),t.stateNode=e;e:{switch(p=Df(n,r),n){case"dialog":Rt("cancel",e),Rt("close",e),l=r;break;case"iframe":case"object":case"embed":Rt("load",e),l=r;break;case"video":case"audio":for(l=0;l<nl.length;l++)Rt(nl[l],e);l=r;break;case"source":Rt("error",e),l=r;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),l=r;break;case"details":Rt("toggle",e),l=r;break;case"input":W1(e,r),l=Nf(e,r),Rt("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Ht({},r,{value:void 0}),Rt("invalid",e);break;case"textarea":G1(e,r),l=Pf(e,r),Rt("invalid",e);break;default:l=r}Lf(n,l),x=l;for(c in x)if(x.hasOwnProperty(c)){var w=x[c];c==="style"?px(e,w):c==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&fx(e,w)):c==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&yl(e,w):typeof w=="number"&&yl(e,""+w):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xl.hasOwnProperty(c)?w!=null&&c==="onScroll"&&Rt("scroll",e):w!=null&&Kd(e,c,w,p))}switch(n){case"input":xu(e),Z1(e,r,!1);break;case"textarea":xu(e),Y1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_s(r.value));break;case"select":e.multiple=!!r.multiple,c=r.value,c!=null?Ko(e,!!r.multiple,c,!1):r.defaultValue!=null&&Ko(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=uc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nn(t),null;case 6:if(e&&t.stateNode!=null)B2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ge(166));if(n=$s(Nl.current),$s(dr.current),Tu(t)){if(r=t.stateNode,n=t.memoizedProps,r[hr]=t,(c=r.nodeValue!==n)&&(e=di,e!==null))switch(e.tag){case 3:Su(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=t,t.stateNode=r}return Nn(t),null;case 13:if(Lt(zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&fi!==null&&t.mode&1&&!(t.flags&128))t2(),ia(),t.flags|=98560,c=!1;else if(c=Tu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(ge(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(ge(317));c[hr]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nn(t),c=!1}else Qi!==null&&(md(Qi),Qi=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||zt.current&1?cn===0&&(cn=3):O0())),t.updateQueue!==null&&(t.flags|=4),Nn(t),null);case 4:return sa(),ad(e,t),e===null&&Sl(t.stateNode.containerInfo),Nn(t),null;case 10:return p0(t.type._context),Nn(t),null;case 17:return Jn(t.type)&&cc(),Nn(t),null;case 19:if(Lt(zt),c=t.memoizedState,c===null)return Nn(t),null;if(r=(t.flags&128)!==0,p=c.rendering,p===null)if(r)Xa(c,!1);else{if(cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=xc(e),p!==null){for(t.flags|=128,Xa(c,!1),r=p.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)c=n,e=r,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,e=p.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return It(zt,zt.current&1|2),t.child}e=e.sibling}c.tail!==null&&Qt()>aa&&(t.flags|=128,r=!0,Xa(c,!1),t.lanes=4194304)}else{if(!r)if(e=xc(p),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!kt)return Nn(t),null}else 2*Qt()-c.renderingStartTime>aa&&n!==1073741824&&(t.flags|=128,r=!0,Xa(c,!1),t.lanes=4194304);c.isBackwards?(p.sibling=t.child,t.child=p):(n=c.last,n!==null?n.sibling=p:t.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Qt(),t.sibling=null,n=zt.current,It(zt,r?n&1|2:n&1),t):(Nn(t),null);case 22:case 23:return M0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ci&1073741824&&(Nn(t),t.subtreeFlags&6&&(t.flags|=8192)):Nn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function YC(e,t){switch(c0(t),t.tag){case 1:return Jn(t.type)&&cc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(),Lt(qn),Lt(Rn),v0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return y0(t),null;case 13:if(Lt(zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(zt),null;case 4:return sa(),null;case 10:return p0(t.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var Nu=!1,On=!1,XC=typeof WeakSet=="function"?WeakSet:Set,be=null;function Vo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(e,t,r)}else n.current=null}function ld(e,t,n){try{n()}catch(r){Gt(e,t,r)}}var kp=!1;function KC(e,t){if(Zf=oc,e=Vx(),l0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var p=0,x=-1,w=-1,y=0,E=0,A=e,M=null;t:for(;;){for(var D;A!==n||l!==0&&A.nodeType!==3||(x=p+l),A!==c||r!==0&&A.nodeType!==3||(w=p+r),A.nodeType===3&&(p+=A.nodeValue.length),(D=A.firstChild)!==null;)M=A,A=D;for(;;){if(A===e)break t;if(M===n&&++y===l&&(x=p),M===c&&++E===r&&(w=p),(D=A.nextSibling)!==null)break;A=M,M=A.parentNode}A=D}n=x===-1||w===-1?null:{start:x,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:e,selectionRange:n},oc=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var B=F.memoizedProps,V=F.memoizedState,z=t.stateNode,k=z.getSnapshotBeforeUpdate(t.elementType===t.type?B:Yi(t.type,B),V);z.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(Z){Gt(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return F=kp,kp=!1,F}function cl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&ld(t,n,c)}l=l.next}while(l!==r)}}function Yc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ud(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function F2(e){var t=e.alternate;t!==null&&(e.alternate=null,F2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hr],delete t[bl],delete t[Kf],delete t[OC],delete t[PC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function j2(e){return e.tag===5||e.tag===3||e.tag===4}function Bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uc));else if(r!==4&&(e=e.child,e!==null))for(cd(e,t,n),e=e.sibling;e!==null;)cd(e,t,n),e=e.sibling}function hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}var _n=null,Xi=!1;function es(e,t,n){for(n=n.child;n!==null;)z2(e,t,n),n=n.sibling}function z2(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(jc,n)}catch{}switch(n.tag){case 5:On||Vo(n,t);case 6:var r=_n,l=Xi;_n=null,es(e,t,n),_n=r,Xi=l,_n!==null&&(Xi?(e=_n,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(Xi?(e=_n,n=n.stateNode,e.nodeType===8?Xh(e.parentNode,n):e.nodeType===1&&Xh(e,n),Cl(e)):Xh(_n,n.stateNode));break;case 4:r=_n,l=Xi,_n=n.stateNode.containerInfo,Xi=!0,es(e,t,n),_n=r,Xi=l;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var c=l,p=c.destroy;c=c.tag,p!==void 0&&(c&2||c&4)&&ld(n,t,p),l=l.next}while(l!==r)}es(e,t,n);break;case 1:if(!On&&(Vo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(x){Gt(n,t,x)}es(e,t,n);break;case 21:es(e,t,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,es(e,t,n),On=r):es(e,t,n);break;default:es(e,t,n)}}function Fp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XC),t.forEach(function(r){var l=rE.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Gi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var c=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 5:_n=x.stateNode,Xi=!1;break e;case 3:_n=x.stateNode.containerInfo,Xi=!0;break e;case 4:_n=x.stateNode.containerInfo,Xi=!0;break e}x=x.return}if(_n===null)throw Error(ge(160));z2(c,p,l),_n=null,Xi=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(y){Gt(l,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U2(t,e),t=t.sibling}function U2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gi(t,e),lr(e),r&4){try{cl(3,e,e.return),Yc(3,e)}catch(B){Gt(e,e.return,B)}try{cl(5,e,e.return)}catch(B){Gt(e,e.return,B)}}break;case 1:Gi(t,e),lr(e),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(Gi(t,e),lr(e),r&512&&n!==null&&Vo(n,n.return),e.flags&32){var l=e.stateNode;try{yl(l,"")}catch(B){Gt(e,e.return,B)}}if(r&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,p=n!==null?n.memoizedProps:c,x=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{x==="input"&&c.type==="radio"&&c.name!=null&&ux(l,c),Df(x,p);var y=Df(x,c);for(p=0;p<w.length;p+=2){var E=w[p],A=w[p+1];E==="style"?px(l,A):E==="dangerouslySetInnerHTML"?fx(l,A):E==="children"?yl(l,A):Kd(l,E,A,y)}switch(x){case"input":Mf(l,c);break;case"textarea":cx(l,c);break;case"select":var M=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var D=c.value;D!=null?Ko(l,!!c.multiple,D,!1):M!==!!c.multiple&&(c.defaultValue!=null?Ko(l,!!c.multiple,c.defaultValue,!0):Ko(l,!!c.multiple,c.multiple?[]:"",!1))}l[bl]=c}catch(B){Gt(e,e.return,B)}}break;case 6:if(Gi(t,e),lr(e),r&4){if(e.stateNode===null)throw Error(ge(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(B){Gt(e,e.return,B)}}break;case 3:if(Gi(t,e),lr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(B){Gt(e,e.return,B)}break;case 4:Gi(t,e),lr(e);break;case 13:Gi(t,e),lr(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(I0=Qt())),r&4&&Fp(e);break;case 22:if(E=n!==null&&n.memoizedState!==null,e.mode&1?(On=(y=On)||E,Gi(t,e),On=y):Gi(t,e),lr(e),r&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!E&&e.mode&1)for(be=e,E=e.child;E!==null;){for(A=be=E;be!==null;){switch(M=be,D=M.child,M.tag){case 0:case 11:case 14:case 15:cl(4,M,M.return);break;case 1:Vo(M,M.return);var F=M.stateNode;if(typeof F.componentWillUnmount=="function"){r=M,n=M.return;try{t=r,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(B){Gt(r,n,B)}}break;case 5:Vo(M,M.return);break;case 22:if(M.memoizedState!==null){zp(A);continue}}D!==null?(D.return=M,be=D):zp(A)}E=E.sibling}e:for(E=null,A=e;;){if(A.tag===5){if(E===null){E=A;try{l=A.stateNode,y?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(x=A.stateNode,w=A.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,x.style.display=dx("display",p))}catch(B){Gt(e,e.return,B)}}}else if(A.tag===6){if(E===null)try{A.stateNode.nodeValue=y?"":A.memoizedProps}catch(B){Gt(e,e.return,B)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;E===A&&(E=null),A=A.return}E===A&&(E=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Gi(t,e),lr(e),r&4&&Fp(e);break;case 21:break;default:Gi(t,e),lr(e)}}function lr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(j2(n)){var r=n;break e}n=n.return}throw Error(ge(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(yl(l,""),r.flags&=-33);var c=Bp(e);hd(e,c,l);break;case 3:case 4:var p=r.stateNode.containerInfo,x=Bp(e);cd(e,x,p);break;default:throw Error(ge(161))}}catch(w){Gt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QC(e,t,n){be=e,V2(e)}function V2(e,t,n){for(var r=(e.mode&1)!==0;be!==null;){var l=be,c=l.child;if(l.tag===22&&r){var p=l.memoizedState!==null||Nu;if(!p){var x=l.alternate,w=x!==null&&x.memoizedState!==null||On;x=Nu;var y=On;if(Nu=p,(On=w)&&!y)for(be=l;be!==null;)p=be,w=p.child,p.tag===22&&p.memoizedState!==null?Up(l):w!==null?(w.return=p,be=w):Up(l);for(;c!==null;)be=c,V2(c),c=c.sibling;be=l,Nu=x,On=y}jp(e)}else l.subtreeFlags&8772&&c!==null?(c.return=l,be=c):jp(e)}}function jp(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:On||Yc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!On)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Yi(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Ep(t,c,r);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ep(t,p,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var E=y.memoizedState;if(E!==null){var A=E.dehydrated;A!==null&&Cl(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}On||t.flags&512&&ud(t)}catch(M){Gt(t,t.return,M)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function zp(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function Up(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yc(4,t)}catch(w){Gt(t,n,w)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(w){Gt(t,l,w)}}var c=t.return;try{ud(t)}catch(w){Gt(t,c,w)}break;case 5:var p=t.return;try{ud(t)}catch(w){Gt(t,p,w)}}}catch(w){Gt(t,t.return,w)}if(t===e){be=null;break}var x=t.sibling;if(x!==null){x.return=t.return,be=x;break}be=t.return}}var qC=Math.ceil,wc=jr.ReactCurrentDispatcher,T0=jr.ReactCurrentOwner,Li=jr.ReactCurrentBatchConfig,lt=0,vn=null,rn=null,Cn=0,ci=0,Ho=bs(0),cn=0,Rl=null,co=0,Xc=0,b0=0,hl=null,Kn=null,I0=0,aa=1/0,Sr=null,_c=!1,fd=null,gs=null,Mu=!1,us=null,Cc=0,fl=0,dd=null,Yu=-1,Xu=0;function Hn(){return lt&6?Qt():Yu!==-1?Yu:Yu=Qt()}function xs(e){return e.mode&1?lt&2&&Cn!==0?Cn&-Cn:LC.transition!==null?(Xu===0&&(Xu=Tx()),Xu):(e=xt,e!==0||(e=window.event,e=e===void 0?16:Rx(e.type)),e):1}function Ji(e,t,n,r){if(50<fl)throw fl=0,dd=null,Error(ge(185));Ul(e,n,r),(!(lt&2)||e!==vn)&&(e===vn&&(!(lt&2)&&(Xc|=n),cn===4&&as(e,Cn)),$n(e,r),n===1&&lt===0&&!(t.mode&1)&&(aa=Qt()+500,Wc&&Is()))}function $n(e,t){var n=e.callbackNode;L_(e,t);var r=sc(e,e===vn?Cn:0);if(r===0)n!==null&&Q1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Q1(n),t===1)e.tag===0?RC(Vp.bind(null,e)):Jx(Vp.bind(null,e)),NC(function(){!(lt&6)&&Is()}),n=null;else{switch(bx(r)){case 1:n=e0;break;case 4:n=Ax;break;case 16:n=rc;break;case 536870912:n=Sx;break;default:n=rc}n=Q2(n,H2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function H2(e,t){if(Yu=-1,Xu=0,lt&6)throw Error(ge(327));var n=e.callbackNode;if(ea()&&e.callbackNode!==n)return null;var r=sc(e,e===vn?Cn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ec(e,r);else{t=r;var l=lt;lt|=2;var c=Z2();(vn!==e||Cn!==t)&&(Sr=null,aa=Qt()+500,no(e,t));do try{eE();break}catch(x){W2(e,x)}while(!0);d0(),wc.current=c,lt=l,rn!==null?t=0:(vn=null,Cn=0,t=cn)}if(t!==0){if(t===2&&(l=zf(e),l!==0&&(r=l,t=pd(e,l))),t===1)throw n=Rl,no(e,0),as(e,r),$n(e,Qt()),n;if(t===6)as(e,r);else{if(l=e.current.alternate,!(r&30)&&!JC(l)&&(t=Ec(e,r),t===2&&(c=zf(e),c!==0&&(r=c,t=pd(e,c))),t===1))throw n=Rl,no(e,0),as(e,r),$n(e,Qt()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(ge(345));case 2:Ys(e,Kn,Sr);break;case 3:if(as(e,r),(r&130023424)===r&&(t=I0+500-Qt(),10<t)){if(sc(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Hn(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Xf(Ys.bind(null,e,Kn,Sr),t);break}Ys(e,Kn,Sr);break;case 4:if(as(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var p=31-qi(r);c=1<<p,p=t[p],p>l&&(l=p),r&=~c}if(r=l,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qC(r/1960))-r,10<r){e.timeoutHandle=Xf(Ys.bind(null,e,Kn,Sr),r);break}Ys(e,Kn,Sr);break;case 5:Ys(e,Kn,Sr);break;default:throw Error(ge(329))}}}return $n(e,Qt()),e.callbackNode===n?H2.bind(null,e):null}function pd(e,t){var n=hl;return e.current.memoizedState.isDehydrated&&(no(e,t).flags|=256),e=Ec(e,t),e!==2&&(t=Kn,Kn=n,t!==null&&md(t)),e}function md(e){Kn===null?Kn=e:Kn.push.apply(Kn,e)}function JC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],c=l.getSnapshot;l=l.value;try{if(!$i(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function as(e,t){for(t&=~b0,t&=~Xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qi(t),r=1<<n;e[n]=-1,t&=~r}}function Vp(e){if(lt&6)throw Error(ge(327));ea();var t=sc(e,0);if(!(t&1))return $n(e,Qt()),null;var n=Ec(e,t);if(e.tag!==0&&n===2){var r=zf(e);r!==0&&(t=r,n=pd(e,r))}if(n===1)throw n=Rl,no(e,0),as(e,t),$n(e,Qt()),n;if(n===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e,Kn,Sr),$n(e,Qt()),null}function N0(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(aa=Qt()+500,Wc&&Is())}}function ho(e){us!==null&&us.tag===0&&!(lt&6)&&ea();var t=lt;lt|=1;var n=Li.transition,r=xt;try{if(Li.transition=null,xt=1,e)return e()}finally{xt=r,Li.transition=n,lt=t,!(lt&6)&&Is()}}function M0(){ci=Ho.current,Lt(Ho)}function no(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IC(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(c0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cc();break;case 3:sa(),Lt(qn),Lt(Rn),v0();break;case 5:y0(r);break;case 4:sa();break;case 13:Lt(zt);break;case 19:Lt(zt);break;case 10:p0(r.type._context);break;case 22:case 23:M0()}n=n.return}if(vn=e,rn=e=ys(e.current,null),Cn=ci=t,cn=0,Rl=null,b0=Xc=co=0,Kn=hl=null,Js!==null){for(t=0;t<Js.length;t++)if(n=Js[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,c=n.pending;if(c!==null){var p=c.next;c.next=l,r.next=p}n.pending=r}Js=null}return e}function W2(e,t){do{var n=rn;try{if(d0(),Wu.current=vc,yc){for(var r=Vt.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}yc=!1}if(uo=0,yn=un=Vt=null,ul=!1,Ml=0,T0.current=null,n===null||n.return===null){cn=1,Rl=t,rn=null;break}e:{var c=e,p=n.return,x=n,w=t;if(t=Cn,x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var y=w,E=x,A=E.tag;if(!(E.mode&1)&&(A===0||A===11||A===15)){var M=E.alternate;M?(E.updateQueue=M.updateQueue,E.memoizedState=M.memoizedState,E.lanes=M.lanes):(E.updateQueue=null,E.memoizedState=null)}var D=Np(p);if(D!==null){D.flags&=-257,Mp(D,p,x,c,t),D.mode&1&&Ip(c,y,t),t=D,w=y;var F=t.updateQueue;if(F===null){var B=new Set;B.add(w),t.updateQueue=B}else F.add(w);break e}else{if(!(t&1)){Ip(c,y,t),O0();break e}w=Error(ge(426))}}else if(kt&&x.mode&1){var V=Np(p);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Mp(V,p,x,c,t),h0(oa(w,x));break e}}c=w=oa(w,x),cn!==4&&(cn=2),hl===null?hl=[c]:hl.push(c),c=p;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var z=b2(c,w,t);Cp(c,z);break e;case 1:x=w;var k=c.type,R=c.stateNode;if(!(c.flags&128)&&(typeof k.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(gs===null||!gs.has(R)))){c.flags|=65536,t&=-t,c.lanes|=t;var Z=I2(c,x,t);Cp(c,Z);break e}}c=c.return}while(c!==null)}Y2(n)}catch(te){t=te,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function Z2(){var e=wc.current;return wc.current=vc,e===null?vc:e}function O0(){(cn===0||cn===3||cn===2)&&(cn=4),vn===null||!(co&268435455)&&!(Xc&268435455)||as(vn,Cn)}function Ec(e,t){var n=lt;lt|=2;var r=Z2();(vn!==e||Cn!==t)&&(Sr=null,no(e,t));do try{$C();break}catch(l){W2(e,l)}while(!0);if(d0(),lt=n,wc.current=r,rn!==null)throw Error(ge(261));return vn=null,Cn=0,cn}function $C(){for(;rn!==null;)G2(rn)}function eE(){for(;rn!==null&&!S_();)G2(rn)}function G2(e){var t=K2(e.alternate,e,ci);e.memoizedProps=e.pendingProps,t===null?Y2(e):rn=t,T0.current=null}function Y2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YC(n,t),n!==null){n.flags&=32767,rn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cn=6,rn=null;return}}else if(n=GC(n,t,ci),n!==null){rn=n;return}if(t=t.sibling,t!==null){rn=t;return}rn=t=e}while(t!==null);cn===0&&(cn=5)}function Ys(e,t,n){var r=xt,l=Li.transition;try{Li.transition=null,xt=1,tE(e,t,n,r)}finally{Li.transition=l,xt=r}return null}function tE(e,t,n,r){do ea();while(us!==null);if(lt&6)throw Error(ge(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(D_(e,c),e===vn&&(rn=vn=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mu||(Mu=!0,Q2(rc,function(){return ea(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=Li.transition,Li.transition=null;var p=xt;xt=1;var x=lt;lt|=4,T0.current=null,KC(e,n),U2(n,e),_C(Gf),oc=!!Zf,Gf=Zf=null,e.current=n,QC(n),T_(),lt=x,xt=p,Li.transition=c}else e.current=n;if(Mu&&(Mu=!1,us=e,Cc=l),c=e.pendingLanes,c===0&&(gs=null),N_(n.stateNode),$n(e,Qt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(_c)throw _c=!1,e=fd,fd=null,e;return Cc&1&&e.tag!==0&&ea(),c=e.pendingLanes,c&1?e===dd?fl++:(fl=0,dd=e):fl=0,Is(),null}function ea(){if(us!==null){var e=bx(Cc),t=Li.transition,n=xt;try{if(Li.transition=null,xt=16>e?16:e,us===null)var r=!1;else{if(e=us,us=null,Cc=0,lt&6)throw Error(ge(331));var l=lt;for(lt|=4,be=e.current;be!==null;){var c=be,p=c.child;if(be.flags&16){var x=c.deletions;if(x!==null){for(var w=0;w<x.length;w++){var y=x[w];for(be=y;be!==null;){var E=be;switch(E.tag){case 0:case 11:case 15:cl(8,E,c)}var A=E.child;if(A!==null)A.return=E,be=A;else for(;be!==null;){E=be;var M=E.sibling,D=E.return;if(F2(E),E===y){be=null;break}if(M!==null){M.return=D,be=M;break}be=D}}}var F=c.alternate;if(F!==null){var B=F.child;if(B!==null){F.child=null;do{var V=B.sibling;B.sibling=null,B=V}while(B!==null)}}be=c}}if(c.subtreeFlags&2064&&p!==null)p.return=c,be=p;else e:for(;be!==null;){if(c=be,c.flags&2048)switch(c.tag){case 0:case 11:case 15:cl(9,c,c.return)}var z=c.sibling;if(z!==null){z.return=c.return,be=z;break e}be=c.return}}var k=e.current;for(be=k;be!==null;){p=be;var R=p.child;if(p.subtreeFlags&2064&&R!==null)R.return=p,be=R;else e:for(p=k;be!==null;){if(x=be,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Yc(9,x)}}catch(te){Gt(x,x.return,te)}if(x===p){be=null;break e}var Z=x.sibling;if(Z!==null){Z.return=x.return,be=Z;break e}be=x.return}}if(lt=l,Is(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(jc,e)}catch{}r=!0}return r}finally{xt=n,Li.transition=t}}return!1}function Hp(e,t,n){t=oa(n,t),t=b2(e,t,1),e=ms(e,t,1),t=Hn(),e!==null&&(Ul(e,1,t),$n(e,t))}function Gt(e,t,n){if(e.tag===3)Hp(e,e,n);else for(;t!==null;){if(t.tag===3){Hp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){e=oa(n,e),e=I2(t,e,1),t=ms(t,e,1),e=Hn(),t!==null&&(Ul(t,1,e),$n(t,e));break}}t=t.return}}function nE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Hn(),e.pingedLanes|=e.suspendedLanes&n,vn===e&&(Cn&n)===n&&(cn===4||cn===3&&(Cn&130023424)===Cn&&500>Qt()-I0?no(e,0):b0|=n),$n(e,t)}function X2(e,t){t===0&&(e.mode&1?(t=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):t=1);var n=Hn();e=kr(e,t),e!==null&&(Ul(e,t,n),$n(e,n))}function iE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),X2(e,n)}function rE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(t),X2(e,n)}var K2;K2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qn.current)Qn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qn=!1,ZC(e,t,n);Qn=!!(e.flags&131072)}else Qn=!1,kt&&t.flags&1048576&&$x(t,dc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gu(e,t),e=t.pendingProps;var l=na(t,Rn.current);$o(t,n),l=_0(null,t,r,e,l,n);var c=C0();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jn(r)?(c=!0,hc(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,g0(t),l.updater=Gc,t.stateNode=l,l._reactInternals=t,td(t,r,e,n),t=rd(null,t,r,!0,c,n)):(t.tag=0,kt&&c&&u0(t),Vn(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gu(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=oE(r),e=Yi(r,e),l){case 0:t=id(null,t,r,e,n);break e;case 1:t=Rp(null,t,r,e,n);break e;case 11:t=Op(null,t,r,e,n);break e;case 14:t=Pp(null,t,r,Yi(r.type,e),n);break e}throw Error(ge(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Yi(r,l),id(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Yi(r,l),Rp(e,t,r,l,n);case 3:e:{if(P2(t),e===null)throw Error(ge(387));r=t.pendingProps,c=t.memoizedState,l=c.element,s2(e,t),gc(t,r,null,n);var p=t.memoizedState;if(r=p.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=oa(Error(ge(423)),t),t=Lp(e,t,r,n,l);break e}else if(r!==l){l=oa(Error(ge(424)),t),t=Lp(e,t,r,n,l);break e}else for(fi=ps(t.stateNode.containerInfo.firstChild),di=t,kt=!0,Qi=null,n=i2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===l){t=Br(e,t,n);break e}Vn(e,t,r,n)}t=t.child}return t;case 5:return o2(t),e===null&&Jf(t),r=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,p=l.children,Yf(r,l)?p=null:c!==null&&Yf(r,c)&&(t.flags|=32),O2(e,t),Vn(e,t,p,n),t.child;case 6:return e===null&&Jf(t),null;case 13:return R2(e,t,n);case 4:return x0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ra(t,null,r,n):Vn(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Yi(r,l),Op(e,t,r,l,n);case 7:return Vn(e,t,t.pendingProps,n),t.child;case 8:return Vn(e,t,t.pendingProps.children,n),t.child;case 12:return Vn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,c=t.memoizedProps,p=l.value,It(pc,r._currentValue),r._currentValue=p,c!==null)if($i(c.value,p)){if(c.children===l.children&&!qn.current){t=Br(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var x=c.dependencies;if(x!==null){p=c.child;for(var w=x.firstContext;w!==null;){if(w.context===r){if(c.tag===1){w=Or(-1,n&-n),w.tag=2;var y=c.updateQueue;if(y!==null){y=y.shared;var E=y.pending;E===null?w.next=w:(w.next=E.next,E.next=w),y.pending=w}}c.lanes|=n,w=c.alternate,w!==null&&(w.lanes|=n),$f(c.return,n,t),x.lanes|=n;break}w=w.next}}else if(c.tag===10)p=c.type===t.type?null:c.child;else if(c.tag===18){if(p=c.return,p===null)throw Error(ge(341));p.lanes|=n,x=p.alternate,x!==null&&(x.lanes|=n),$f(p,n,t),p=c.sibling}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}Vn(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,$o(t,n),l=Di(l),r=r(l),t.flags|=1,Vn(e,t,r,n),t.child;case 14:return r=t.type,l=Yi(r,t.pendingProps),l=Yi(r.type,l),Pp(e,t,r,l,n);case 15:return N2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Yi(r,l),Gu(e,t),t.tag=1,Jn(r)?(e=!0,hc(t)):e=!1,$o(t,n),T2(t,r,l),td(t,r,l,n),rd(null,t,r,!0,e,n);case 19:return L2(e,t,n);case 22:return M2(e,t,n)}throw Error(ge(156,t.tag))};function Q2(e,t){return Ex(e,t)}function sE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(e,t,n,r){return new sE(e,t,n,r)}function P0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oE(e){if(typeof e=="function")return P0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qd)return 11;if(e===Jd)return 14}return 2}function ys(e,t){var n=e.alternate;return n===null?(n=Ri(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,l,c){var p=2;if(r=e,typeof e=="function")P0(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Ro:return io(n.children,l,c,t);case Qd:p=8,l|=8;break;case Sf:return e=Ri(12,n,t,l|2),e.elementType=Sf,e.lanes=c,e;case Tf:return e=Ri(13,n,t,l),e.elementType=Tf,e.lanes=c,e;case bf:return e=Ri(19,n,t,l),e.elementType=bf,e.lanes=c,e;case ox:return Kc(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rx:p=10;break e;case sx:p=9;break e;case qd:p=11;break e;case Jd:p=14;break e;case is:p=16,r=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Ri(p,n,t,l),t.elementType=e,t.type=r,t.lanes=c,t}function io(e,t,n,r){return e=Ri(7,e,r,t),e.lanes=n,e}function Kc(e,t,n,r){return e=Ri(22,e,r,t),e.elementType=ox,e.lanes=n,e.stateNode={isHidden:!1},e}function nf(e,t,n){return e=Ri(6,e,null,t),e.lanes=n,e}function rf(e,t,n){return t=Ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aE(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function R0(e,t,n,r,l,c,p,x,w){return e=new aE(e,t,n,x,w),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Ri(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},g0(c),e}function lE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function q2(e){if(!e)return Cs;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var n=e.type;if(Jn(n))return qx(e,n,t)}return t}function J2(e,t,n,r,l,c,p,x,w){return e=R0(n,r,!0,e,l,c,p,x,w),e.context=q2(null),n=e.current,r=Hn(),l=xs(n),c=Or(r,l),c.callback=t??null,ms(n,c,l),e.current.lanes=l,Ul(e,l,r),$n(e,r),e}function Qc(e,t,n,r){var l=t.current,c=Hn(),p=xs(l);return n=q2(n),t.context===null?t.context=n:t.pendingContext=n,t=Or(c,p),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ms(l,t,p),e!==null&&(Ji(e,l,p,c),Hu(e,l,p)),p}function Ac(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function L0(e,t){Wp(e,t),(e=e.alternate)&&Wp(e,t)}function uE(){return null}var $2=typeof reportError=="function"?reportError:function(e){console.error(e)};function D0(e){this._internalRoot=e}qc.prototype.render=D0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Qc(e,t,null,null)};qc.prototype.unmount=D0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ho(function(){Qc(null,e,null,null)}),t[Dr]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<os.length&&t!==0&&t<os[n].priority;n++);os.splice(n,0,e),n===0&&Px(e)}};function k0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zp(){}function cE(e,t,n,r,l){if(l){if(typeof r=="function"){var c=r;r=function(){var y=Ac(p);c.call(y)}}var p=J2(t,r,e,0,null,!1,!1,"",Zp);return e._reactRootContainer=p,e[Dr]=p.current,Sl(e.nodeType===8?e.parentNode:e),ho(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var x=r;r=function(){var y=Ac(w);x.call(y)}}var w=R0(e,0,!1,null,null,!1,!1,"",Zp);return e._reactRootContainer=w,e[Dr]=w.current,Sl(e.nodeType===8?e.parentNode:e),ho(function(){Qc(t,w,n,r)}),w}function $c(e,t,n,r,l){var c=n._reactRootContainer;if(c){var p=c;if(typeof l=="function"){var x=l;l=function(){var w=Ac(p);x.call(w)}}Qc(t,p,e,l)}else p=cE(n,t,e,l,r);return Ac(p)}Ix=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tl(t.pendingLanes);n!==0&&(t0(t,n|1),$n(t,Qt()),!(lt&6)&&(aa=Qt()+500,Is()))}break;case 13:ho(function(){var r=kr(e,1);if(r!==null){var l=Hn();Ji(r,e,1,l)}}),L0(e,1)}};n0=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var n=Hn();Ji(t,e,134217728,n)}L0(e,134217728)}};Nx=function(e){if(e.tag===13){var t=xs(e),n=kr(e,t);if(n!==null){var r=Hn();Ji(n,e,t,r)}L0(e,t)}};Mx=function(){return xt};Ox=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}};Bf=function(e,t,n){switch(t){case"input":if(Mf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Hc(r);if(!l)throw Error(ge(90));lx(r),Mf(r,l)}}}break;case"textarea":cx(e,n);break;case"select":t=n.value,t!=null&&Ko(e,!!n.multiple,t,!1)}};xx=N0;yx=ho;var hE={usingClientEntryPoint:!1,Events:[Hl,Bo,Hc,mx,gx,N0]},Ka={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fE={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_x(e),e===null?null:e.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||uE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{jc=Ou.inject(fE),fr=Ou}catch{}}gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hE;gi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k0(t))throw Error(ge(200));return lE(e,t,null,n)};gi.createRoot=function(e,t){if(!k0(e))throw Error(ge(299));var n=!1,r="",l=$2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=R0(e,1,!1,null,null,n,!1,r,l),e[Dr]=t.current,Sl(e.nodeType===8?e.parentNode:e),new D0(t)};gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=_x(t),e=e===null?null:e.stateNode,e};gi.flushSync=function(e){return ho(e)};gi.hydrate=function(e,t,n){if(!Jc(t))throw Error(ge(200));return $c(null,e,t,!0,n)};gi.hydrateRoot=function(e,t,n){if(!k0(e))throw Error(ge(405));var r=n!=null&&n.hydratedSources||null,l=!1,c="",p=$2;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=J2(t,null,e,1,n??null,l,!1,c,p),e[Dr]=t.current,Sl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new qc(t)};gi.render=function(e,t,n){if(!Jc(t))throw Error(ge(200));return $c(null,e,t,!1,n)};gi.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(ge(40));return e._reactRootContainer?(ho(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};gi.unstable_batchedUpdates=N0;gi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return $c(e,t,n,!1,r)};gi.version="18.3.1-next-f1338f8080-20240426";function ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ey)}catch(e){console.error(e)}}ey(),ex.exports=gi;var ty=ex.exports,Gp=ty;Ef.createRoot=Gp.createRoot,Ef.hydrateRoot=Gp.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ll.apply(this,arguments)}var cs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cs||(cs={}));const Yp="popstate";function dE(e){e===void 0&&(e={});function t(l,c){let{pathname:p="/",search:x="",hash:w=""}=xo(l.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),gd("",{pathname:p,search:x,hash:w},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){let p=l.document.querySelector("base"),x="";if(p&&p.getAttribute("href")){let w=l.location.href,y=w.indexOf("#");x=y===-1?w:w.slice(0,y)}return x+"#"+(typeof c=="string"?c:Sc(c))}function r(l,c){eh(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return mE(t,n,r,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pE(){return Math.random().toString(36).substr(2,8)}function Xp(e,t){return{usr:e.state,key:e.key,idx:t}}function gd(e,t,n,r){return n===void 0&&(n=null),Ll({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xo(t):t,{state:n,key:t&&t.key||r||pE()})}function Sc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mE(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:c=!1}=r,p=l.history,x=cs.Pop,w=null,y=E();y==null&&(y=0,p.replaceState(Ll({},p.state,{idx:y}),""));function E(){return(p.state||{idx:null}).idx}function A(){x=cs.Pop;let V=E(),z=V==null?null:V-y;y=V,w&&w({action:x,location:B.location,delta:z})}function M(V,z){x=cs.Push;let k=gd(B.location,V,z);n&&n(k,V),y=E()+1;let R=Xp(k,y),Z=B.createHref(k);try{p.pushState(R,"",Z)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;l.location.assign(Z)}c&&w&&w({action:x,location:B.location,delta:1})}function D(V,z){x=cs.Replace;let k=gd(B.location,V,z);n&&n(k,V),y=E();let R=Xp(k,y),Z=B.createHref(k);p.replaceState(R,"",Z),c&&w&&w({action:x,location:B.location,delta:0})}function F(V){let z=l.location.origin!=="null"?l.location.origin:l.location.href,k=typeof V=="string"?V:Sc(V);return k=k.replace(/ $/,"%20"),Jt(z,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,z)}let B={get action(){return x},get location(){return e(l,p)},listen(V){if(w)throw new Error("A history only accepts one active listener");return l.addEventListener(Yp,A),w=V,()=>{l.removeEventListener(Yp,A),w=null}},createHref(V){return t(l,V)},createURL:F,encodeLocation(V){let z=F(V);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:M,replace:D,go(V){return p.go(V)}};return B}var Kp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kp||(Kp={}));function gE(e,t,n){return n===void 0&&(n="/"),xE(e,t,n)}function xE(e,t,n,r){let l=typeof t=="string"?xo(t):t,c=B0(l.pathname||"/",n);if(c==null)return null;let p=ny(e);yE(p);let x=null;for(let w=0;x==null&&w<p.length;++w){let y=ME(c);x=bE(p[w],y)}return x}function ny(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(c,p,x)=>{let w={relativePath:x===void 0?c.path||"":x,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};w.relativePath.startsWith("/")&&(Jt(w.relativePath.startsWith(r),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(r.length));let y=vs([r,w.relativePath]),E=n.concat(w);c.children&&c.children.length>0&&(Jt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),ny(c.children,t,E,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:SE(y,c.index),routesMeta:E})};return e.forEach((c,p)=>{var x;if(c.path===""||!((x=c.path)!=null&&x.includes("?")))l(c,p);else for(let w of iy(c.path))l(c,p,w)}),t}function iy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let p=iy(r.join("/")),x=[];return x.push(...p.map(w=>w===""?c:[c,w].join("/"))),l&&x.push(...p),x.map(w=>e.startsWith("/")&&w===""?"/":w)}function yE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vE=/^:[\w-]+$/,wE=3,_E=2,CE=1,EE=10,AE=-2,Qp=e=>e==="*";function SE(e,t){let n=e.split("/"),r=n.length;return n.some(Qp)&&(r+=AE),t&&(r+=_E),n.filter(l=>!Qp(l)).reduce((l,c)=>l+(vE.test(c)?wE:c===""?CE:EE),r)}function TE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function bE(e,t,n){let{routesMeta:r}=e,l={},c="/",p=[];for(let x=0;x<r.length;++x){let w=r[x],y=x===r.length-1,E=c==="/"?t:t.slice(c.length)||"/",A=IE({path:w.relativePath,caseSensitive:w.caseSensitive,end:y},E),M=w.route;if(!A)return null;Object.assign(l,A.params),p.push({params:l,pathname:vs([c,A.pathname]),pathnameBase:DE(vs([c,A.pathnameBase])),route:M}),A.pathnameBase!=="/"&&(c=vs([c,A.pathnameBase]))}return p}function IE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=NE(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],p=c.replace(/(.)\/+$/,"$1"),x=l.slice(1);return{params:r.reduce((y,E,A)=>{let{paramName:M,isOptional:D}=E;if(M==="*"){let B=x[A]||"";p=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const F=x[A];return D&&!F?y[M]=void 0:y[M]=(F||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:p,pattern:e}}function NE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),eh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,x,w)=>(r.push({paramName:x,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function ME(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function B0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PE=e=>OE.test(e);function RE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?xo(e):e,c;if(n)if(PE(n))c=n;else{if(n.includes("//")){let p=n;n=n.replace(/\/\/+/g,"/"),eh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(p+" -> "+n))}n.startsWith("/")?c=qp(n.substring(1),"/"):c=qp(n,t)}else c=t;return{pathname:c,search:kE(r),hash:BE(l)}}function qp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function sf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function F0(e,t){let n=LE(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function j0(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=xo(e):(l=Ll({},e),Jt(!l.pathname||!l.pathname.includes("?"),sf("?","pathname","search",l)),Jt(!l.pathname||!l.pathname.includes("#"),sf("#","pathname","hash",l)),Jt(!l.search||!l.search.includes("#"),sf("#","search","hash",l)));let c=e===""||l.pathname==="",p=c?"/":l.pathname,x;if(p==null)x=n;else{let A=t.length-1;if(!r&&p.startsWith("..")){let M=p.split("/");for(;M[0]==="..";)M.shift(),A-=1;l.pathname=M.join("/")}x=A>=0?t[A]:"/"}let w=RE(l,x),y=p&&p!=="/"&&p.endsWith("/"),E=(c||p===".")&&n.endsWith("/");return!w.pathname.endsWith("/")&&(y||E)&&(w.pathname+="/"),w}const vs=e=>e.join("/").replace(/\/\/+/g,"/"),DE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ry=["post","put","patch","delete"];new Set(ry);const jE=["get",...ry];new Set(jE);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}const z0=W.createContext(null),zE=W.createContext(null),Ns=W.createContext(null),th=W.createContext(null),zr=W.createContext({outlet:null,matches:[],isDataRoute:!1}),sy=W.createContext(null);function UE(e,t){let{relative:n}=t===void 0?{}:t;ma()||Jt(!1);let{basename:r,navigator:l}=W.useContext(Ns),{hash:c,pathname:p,search:x}=ay(e,{relative:n}),w=p;return r!=="/"&&(w=p==="/"?r:vs([r,p])),l.createHref({pathname:w,search:x,hash:c})}function ma(){return W.useContext(th)!=null}function yo(){return ma()||Jt(!1),W.useContext(th).location}function oy(e){W.useContext(Ns).static||W.useLayoutEffect(e)}function vo(){let{isDataRoute:e}=W.useContext(zr);return e?n3():VE()}function VE(){ma()||Jt(!1);let e=W.useContext(z0),{basename:t,future:n,navigator:r}=W.useContext(Ns),{matches:l}=W.useContext(zr),{pathname:c}=yo(),p=JSON.stringify(F0(l,n.v7_relativeSplatPath)),x=W.useRef(!1);return oy(()=>{x.current=!0}),W.useCallback(function(y,E){if(E===void 0&&(E={}),!x.current)return;if(typeof y=="number"){r.go(y);return}let A=j0(y,JSON.parse(p),c,E.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:vs([t,A.pathname])),(E.replace?r.replace:r.push)(A,E.state,E)},[t,r,p,c,e])}const HE=W.createContext(null);function WE(e){let t=W.useContext(zr).outlet;return t&&W.createElement(HE.Provider,{value:e},t)}function ay(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=W.useContext(Ns),{matches:l}=W.useContext(zr),{pathname:c}=yo(),p=JSON.stringify(F0(l,r.v7_relativeSplatPath));return W.useMemo(()=>j0(e,JSON.parse(p),c,n==="path"),[e,p,c,n])}function ZE(e,t){return GE(e,t)}function GE(e,t,n,r){ma()||Jt(!1);let{navigator:l}=W.useContext(Ns),{matches:c}=W.useContext(zr),p=c[c.length-1],x=p?p.params:{};p&&p.pathname;let w=p?p.pathnameBase:"/";p&&p.route;let y=yo(),E;if(t){var A;let V=typeof t=="string"?xo(t):t;w==="/"||(A=V.pathname)!=null&&A.startsWith(w)||Jt(!1),E=V}else E=y;let M=E.pathname||"/",D=M;if(w!=="/"){let V=w.replace(/^\//,"").split("/");D="/"+M.replace(/^\//,"").split("/").slice(V.length).join("/")}let F=gE(e,{pathname:D}),B=qE(F&&F.map(V=>Object.assign({},V,{params:Object.assign({},x,V.params),pathname:vs([w,l.encodeLocation?l.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?w:vs([w,l.encodeLocation?l.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),c,n,r);return t&&B?W.createElement(th.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:cs.Pop}},B):B}function YE(){let e=t3(),t=FE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),n?W.createElement("pre",{style:l},n):null,null)}const XE=W.createElement(YE,null);class KE extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?W.createElement(zr.Provider,{value:this.props.routeContext},W.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QE(e){let{routeContext:t,match:n,children:r}=e,l=W.useContext(z0);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(zr.Provider,{value:t},r)}function qE(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var c;if(!n)return null;if(n.errors)e=n.matches;else if((c=r)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let p=e,x=(l=n)==null?void 0:l.errors;if(x!=null){let E=p.findIndex(A=>A.route.id&&(x==null?void 0:x[A.route.id])!==void 0);E>=0||Jt(!1),p=p.slice(0,Math.min(p.length,E+1))}let w=!1,y=-1;if(n&&r&&r.v7_partialHydration)for(let E=0;E<p.length;E++){let A=p[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=E),A.route.id){let{loaderData:M,errors:D}=n,F=A.route.loader&&M[A.route.id]===void 0&&(!D||D[A.route.id]===void 0);if(A.route.lazy||F){w=!0,y>=0?p=p.slice(0,y+1):p=[p[0]];break}}}return p.reduceRight((E,A,M)=>{let D,F=!1,B=null,V=null;n&&(D=x&&A.route.id?x[A.route.id]:void 0,B=A.route.errorElement||XE,w&&(y<0&&M===0?(i3("route-fallback"),F=!0,V=null):y===M&&(F=!0,V=A.route.hydrateFallbackElement||null)));let z=t.concat(p.slice(0,M+1)),k=()=>{let R;return D?R=B:F?R=V:A.route.Component?R=W.createElement(A.route.Component,null):A.route.element?R=A.route.element:R=E,W.createElement(QE,{match:A,routeContext:{outlet:E,matches:z,isDataRoute:n!=null},children:R})};return n&&(A.route.ErrorBoundary||A.route.errorElement||M===0)?W.createElement(KE,{location:n.location,revalidation:n.revalidation,component:B,error:D,children:k(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):k()},null)}var ly=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ly||{}),uy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uy||{});function JE(e){let t=W.useContext(z0);return t||Jt(!1),t}function $E(e){let t=W.useContext(zE);return t||Jt(!1),t}function e3(e){let t=W.useContext(zr);return t||Jt(!1),t}function cy(e){let t=e3(),n=t.matches[t.matches.length-1];return n.route.id||Jt(!1),n.route.id}function t3(){var e;let t=W.useContext(sy),n=$E(),r=cy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function n3(){let{router:e}=JE(ly.UseNavigateStable),t=cy(uy.UseNavigateStable),n=W.useRef(!1);return oy(()=>{n.current=!0}),W.useCallback(function(l,c){c===void 0&&(c={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Dl({fromRouteId:t},c)))},[e,t])}const Jp={};function i3(e,t,n){Jp[e]||(Jp[e]=!0)}function r3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xd(e){let{to:t,replace:n,state:r,relative:l}=e;ma()||Jt(!1);let{future:c,static:p}=W.useContext(Ns),{matches:x}=W.useContext(zr),{pathname:w}=yo(),y=vo(),E=j0(t,F0(x,c.v7_relativeSplatPath),w,l==="path"),A=JSON.stringify(E);return W.useEffect(()=>y(JSON.parse(A),{replace:n,state:r,relative:l}),[y,A,l,n,r]),null}function s3(e){return WE(e.context)}function Ar(e){Jt(!1)}function o3(e){let{basename:t="/",children:n=null,location:r,navigationType:l=cs.Pop,navigator:c,static:p=!1,future:x}=e;ma()&&Jt(!1);let w=t.replace(/^\/*/,"/"),y=W.useMemo(()=>({basename:w,navigator:c,static:p,future:Dl({v7_relativeSplatPath:!1},x)}),[w,x,c,p]);typeof r=="string"&&(r=xo(r));let{pathname:E="/",search:A="",hash:M="",state:D=null,key:F="default"}=r,B=W.useMemo(()=>{let V=B0(E,w);return V==null?null:{location:{pathname:V,search:A,hash:M,state:D,key:F},navigationType:l}},[w,E,A,M,D,F,l]);return B==null?null:W.createElement(Ns.Provider,{value:y},W.createElement(th.Provider,{children:n,value:B}))}function a3(e){let{children:t,location:n}=e;return ZE(yd(t),n)}new Promise(()=>{});function yd(e,t){t===void 0&&(t=[]);let n=[];return W.Children.forEach(e,(r,l)=>{if(!W.isValidElement(r))return;let c=[...t,l];if(r.type===W.Fragment){n.push.apply(n,yd(r.props.children,c));return}r.type!==Ar&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let p={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(p.children=yd(r.props.children,c)),n.push(p)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vd.apply(this,arguments)}function l3(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,c;for(c=0;c<r.length;c++)l=r[c],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function u3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function c3(e,t){return e.button===0&&(!t||t==="_self")&&!u3(e)}const h3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f3="6";try{window.__reactRouterVersion=f3}catch{}const d3="startTransition",$p=n_[d3];function p3(e){let{basename:t,children:n,future:r,window:l}=e,c=W.useRef();c.current==null&&(c.current=dE({window:l,v5Compat:!0}));let p=c.current,[x,w]=W.useState({action:p.action,location:p.location}),{v7_startTransition:y}=r||{},E=W.useCallback(A=>{y&&$p?$p(()=>w(A)):w(A)},[w,y]);return W.useLayoutEffect(()=>p.listen(E),[p,E]),W.useEffect(()=>r3(r),[r]),W.createElement(o3,{basename:t,children:n,location:x.location,navigationType:x.action,navigator:p,future:r})}const m3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x3=W.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:c,replace:p,state:x,target:w,to:y,preventScrollReset:E,viewTransition:A}=t,M=l3(t,h3),{basename:D}=W.useContext(Ns),F,B=!1;if(typeof y=="string"&&g3.test(y)&&(F=y,m3))try{let R=new URL(window.location.href),Z=y.startsWith("//")?new URL(R.protocol+y):new URL(y),te=B0(Z.pathname,D);Z.origin===R.origin&&te!=null?y=te+Z.search+Z.hash:B=!0}catch{}let V=UE(y,{relative:l}),z=y3(y,{replace:p,state:x,target:w,preventScrollReset:E,relative:l,viewTransition:A});function k(R){r&&r(R),R.defaultPrevented||z(R)}return W.createElement("a",vd({},M,{href:F||V,onClick:B||c?r:k,ref:n,target:w}))});var em;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(em||(em={}));var tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tm||(tm={}));function y3(e,t){let{target:n,replace:r,state:l,preventScrollReset:c,relative:p,viewTransition:x}=t===void 0?{}:t,w=vo(),y=yo(),E=ay(e,{relative:p});return W.useCallback(A=>{if(c3(A,n)){A.preventDefault();let M=r!==void 0?r:Sc(y)===Sc(E);w(e,{replace:M,state:l,preventScrollReset:c,relative:p,viewTransition:x})}},[y,w,E,r,l,n,e,c,p,x])}const hy=W.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),nh=W.createContext({}),ih=W.createContext(null),rh=typeof document<"u",U0=rh?W.useLayoutEffect:W.useEffect,fy=W.createContext({strict:!1}),V0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),v3="framerAppearId",dy="data-"+V0(v3);function w3(e,t,n,r){const{visualElement:l}=W.useContext(nh),c=W.useContext(fy),p=W.useContext(ih),x=W.useContext(hy).reducedMotion,w=W.useRef();r=r||c.renderer,!w.current&&r&&(w.current=r(e,{visualState:t,parent:l,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:x}));const y=w.current;W.useInsertionEffect(()=>{y&&y.update(n,p)});const E=W.useRef(!!(n[dy]&&!window.HandoffComplete));return U0(()=>{y&&(y.render(),E.current&&y.animationState&&y.animationState.animateChanges())}),W.useEffect(()=>{y&&(y.updateFeatures(),!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(E.current=!1,window.HandoffComplete=!0))}),y}function Wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _3(e,t,n){return W.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wo(n)&&(n.current=r))},[t])}function kl(e){return typeof e=="string"||Array.isArray(e)}function sh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const H0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W0=["initial",...H0];function oh(e){return sh(e.animate)||W0.some(t=>kl(e[t]))}function py(e){return!!(oh(e)||e.variants)}function C3(e,t){if(oh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||kl(n)?n:void 0,animate:kl(r)?r:void 0}}return e.inherit!==!1?t:{}}function E3(e){const{initial:t,animate:n}=C3(e,W.useContext(nh));return W.useMemo(()=>({initial:t,animate:n}),[nm(t),nm(n)])}function nm(e){return Array.isArray(e)?e.join(" "):e}const im={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const e in im)Bl[e]={isEnabled:t=>im[e].some(n=>!!t[n])};function A3(e){for(const t in e)Bl[t]={...Bl[t],...e[t]}}const Z0=W.createContext({}),my=W.createContext({}),S3=Symbol.for("motionComponentSymbol");function T3({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:l}){e&&A3(e);function c(x,w){let y;const E={...W.useContext(hy),...x,layoutId:b3(x)},{isStatic:A}=E,M=E3(x),D=r(x,A);if(!A&&rh){M.visualElement=w3(l,D,E,t);const F=W.useContext(my),B=W.useContext(fy).strict;M.visualElement&&(y=M.visualElement.loadFeatures(E,B,e,F))}return W.createElement(nh.Provider,{value:M},y&&M.visualElement?W.createElement(y,{visualElement:M.visualElement,...E}):null,n(l,x,_3(D,M.visualElement,w),D,A,M.visualElement))}const p=W.forwardRef(c);return p[S3]=l,p}function b3({layoutId:e}){const t=W.useContext(Z0).id;return t&&e!==void 0?t+"-"+e:e}function I3(e){function t(r,l={}){return T3(e(r,l))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,l)=>(n.has(l)||n.set(l,t(l)),n.get(l))})}const N3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G0(e){return typeof e!="string"||e.includes("-")?!1:!!(N3.indexOf(e)>-1||/[A-Z]/.test(e))}const Tc={};function M3(e){Object.assign(Tc,e)}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wo=new Set(Zl);function gy(e,{layout:t,layoutId:n}){return wo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tc[e]||e==="opacity")}const ni=e=>!!(e&&e.getVelocity),O3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P3=Zl.length;function R3(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,l){let c="";for(let p=0;p<P3;p++){const x=Zl[p];if(e[x]!==void 0){const w=O3[x]||x;c+=`${w}(${e[x]}) `}}return t&&!e.z&&(c+="translateZ(0)"),c=c.trim(),l?c=l(e,r?"":c):n&&r&&(c="none"),c}const xy=e=>t=>typeof t=="string"&&t.startsWith(e),yy=xy("--"),wd=xy("var(--"),L3=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,D3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Es=(e,t,n)=>Math.min(Math.max(n,e),t),_o={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},dl={..._o,transform:e=>Es(0,1,e)},Pu={..._o,default:1},pl=e=>Math.round(e*1e5)/1e5,ah=/(-)?([\d]*\.?[\d])+/g,vy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,k3=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gl(e){return typeof e=="string"}const Yl=e=>({test:t=>Gl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ns=Yl("deg"),pr=Yl("%"),ze=Yl("px"),B3=Yl("vh"),F3=Yl("vw"),rm={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},sm={..._o,transform:Math.round},wy={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,size:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:Pu,scaleX:Pu,scaleY:Pu,scaleZ:Pu,skew:ns,skewX:ns,skewY:ns,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:dl,originX:rm,originY:rm,originZ:ze,zIndex:sm,fillOpacity:dl,strokeOpacity:dl,numOctaves:sm};function Y0(e,t,n,r){const{style:l,vars:c,transform:p,transformOrigin:x}=e;let w=!1,y=!1,E=!0;for(const A in t){const M=t[A];if(yy(A)){c[A]=M;continue}const D=wy[A],F=D3(M,D);if(wo.has(A)){if(w=!0,p[A]=F,!E)continue;M!==(D.default||0)&&(E=!1)}else A.startsWith("origin")?(y=!0,x[A]=F):l[A]=F}if(t.transform||(w||r?l.transform=R3(e.transform,n,E,r):l.transform&&(l.transform="none")),y){const{originX:A="50%",originY:M="50%",originZ:D=0}=x;l.transformOrigin=`${A} ${M} ${D}`}}const X0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _y(e,t,n){for(const r in t)!ni(t[r])&&!gy(r,n)&&(e[r]=t[r])}function j3({transformTemplate:e},t,n){return W.useMemo(()=>{const r=X0();return Y0(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function z3(e,t,n){const r=e.style||{},l={};return _y(l,r,e),Object.assign(l,j3(e,t,n)),e.transformValues?e.transformValues(l):l}function U3(e,t,n){const r={},l=z3(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=l,r}const V3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||V3.has(e)}let Cy=e=>!bc(e);function H3(e){e&&(Cy=t=>t.startsWith("on")?!bc(t):e(t))}try{H3(require("@emotion/is-prop-valid").default)}catch{}function W3(e,t,n){const r={};for(const l in e)l==="values"&&typeof e.values=="object"||(Cy(l)||n===!0&&bc(l)||!t&&!bc(l)||e.draggable&&l.startsWith("onDrag"))&&(r[l]=e[l]);return r}function om(e,t,n){return typeof e=="string"?e:ze.transform(t+n*e)}function Z3(e,t,n){const r=om(t,e.x,e.width),l=om(n,e.y,e.height);return`${r} ${l}`}const G3={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y3={offset:"strokeDashoffset",array:"strokeDasharray"};function X3(e,t,n=1,r=0,l=!0){e.pathLength=1;const c=l?G3:Y3;e[c.offset]=ze.transform(-r);const p=ze.transform(t),x=ze.transform(n);e[c.array]=`${p} ${x}`}function K0(e,{attrX:t,attrY:n,attrScale:r,originX:l,originY:c,pathLength:p,pathSpacing:x=1,pathOffset:w=0,...y},E,A,M){if(Y0(e,y,E,M),A){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:D,style:F,dimensions:B}=e;D.transform&&(B&&(F.transform=D.transform),delete D.transform),B&&(l!==void 0||c!==void 0||F.transform)&&(F.transformOrigin=Z3(B,l!==void 0?l:.5,c!==void 0?c:.5)),t!==void 0&&(D.x=t),n!==void 0&&(D.y=n),r!==void 0&&(D.scale=r),p!==void 0&&X3(D,p,x,w,!1)}const Ey=()=>({...X0(),attrs:{}}),Q0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function K3(e,t,n,r){const l=W.useMemo(()=>{const c=Ey();return K0(c,t,{enableHardwareAcceleration:!1},Q0(r),e.transformTemplate),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};_y(c,e.style,e),l.style={...c,...l.style}}return l}function Q3(e=!1){return(n,r,l,{latestValues:c},p)=>{const w=(G0(n)?K3:U3)(r,c,p,n),E={...W3(r,typeof n=="string",e),...w,ref:l},{children:A}=r,M=W.useMemo(()=>ni(A)?A.get():A,[A]);return W.createElement(n,{...E,children:M})}}function Ay(e,{style:t,vars:n},r,l){Object.assign(e.style,t,l&&l.getProjectionStyles(r));for(const c in n)e.style.setProperty(c,n[c])}const Sy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ty(e,t,n,r){Ay(e,t,void 0,r);for(const l in t.attrs)e.setAttribute(Sy.has(l)?l:V0(l),t.attrs[l])}function q0(e,t){const{style:n}=e,r={};for(const l in n)(ni(n[l])||t.style&&ni(t.style[l])||gy(l,e))&&(r[l]=n[l]);return r}function by(e,t){const n=q0(e,t);for(const r in e)if(ni(e[r])||ni(t[r])){const l=Zl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=e[r]}return n}function J0(e,t,n,r={},l={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,l)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,l)),t}function Iy(e){const t=W.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ic=e=>Array.isArray(e),q3=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),J3=e=>Ic(e)?e[e.length-1]||0:e;function Qu(e){const t=ni(e)?e.get():e;return q3(t)?t.toValue():t}function $3({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,l,c){const p={latestValues:eA(r,l,c,e),renderState:t()};return n&&(p.mount=x=>n(r,x,p)),p}const Ny=e=>(t,n)=>{const r=W.useContext(nh),l=W.useContext(ih),c=()=>$3(e,t,r,l);return n?c():Iy(c)};function eA(e,t,n,r){const l={},c=r(e,{});for(const M in c)l[M]=Qu(c[M]);let{initial:p,animate:x}=e;const w=oh(e),y=py(e);t&&y&&!w&&e.inherit!==!1&&(p===void 0&&(p=t.initial),x===void 0&&(x=t.animate));let E=n?n.initial===!1:!1;E=E||p===!1;const A=E?x:p;return A&&typeof A!="boolean"&&!sh(A)&&(Array.isArray(A)?A:[A]).forEach(D=>{const F=J0(e,D);if(!F)return;const{transitionEnd:B,transition:V,...z}=F;for(const k in z){let R=z[k];if(Array.isArray(R)){const Z=E?R.length-1:0;R=R[Z]}R!==null&&(l[k]=R)}for(const k in B)l[k]=B[k]}),l}const qt=e=>e;class am{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function tA(e){let t=new am,n=new am,r=0,l=!1,c=!1;const p=new WeakSet,x={schedule:(w,y=!1,E=!1)=>{const A=E&&l,M=A?t:n;return y&&p.add(w),M.add(w)&&A&&l&&(r=t.order.length),w},cancel:w=>{n.remove(w),p.delete(w)},process:w=>{if(l){c=!0;return}if(l=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let y=0;y<r;y++){const E=t.order[y];E(w),p.has(E)&&(x.schedule(E),e())}l=!1,c&&(c=!1,x.process(w))}};return x}const Ru=["prepare","read","update","preRender","render","postRender"],nA=40;function iA(e,t){let n=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=Ru.reduce((A,M)=>(A[M]=tA(()=>n=!0),A),{}),p=A=>c[A].process(l),x=()=>{const A=performance.now();n=!1,l.delta=r?1e3/60:Math.max(Math.min(A-l.timestamp,nA),1),l.timestamp=A,l.isProcessing=!0,Ru.forEach(p),l.isProcessing=!1,n&&t&&(r=!1,e(x))},w=()=>{n=!0,r=!0,l.isProcessing||e(x)};return{schedule:Ru.reduce((A,M)=>{const D=c[M];return A[M]=(F,B=!1,V=!1)=>(n||w(),D.schedule(F,B,V)),A},{}),cancel:A=>Ru.forEach(M=>c[M].cancel(A)),state:l,steps:c}}const{schedule:Nt,cancel:Fr,state:Mn,steps:of}=iA(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),rA={useVisualState:Ny({scrapeMotionValuesFromProps:by,createRenderState:Ey,onMount:(e,t,{renderState:n,latestValues:r})=>{Nt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Nt.render(()=>{K0(n,r,{enableHardwareAcceleration:!1},Q0(t.tagName),e.transformTemplate),Ty(t,n)})}})},sA={useVisualState:Ny({scrapeMotionValuesFromProps:q0,createRenderState:X0})};function oA(e,{forwardMotionProps:t=!1},n,r){return{...G0(e)?rA:sA,preloadedFeatures:n,useRender:Q3(t),createVisualElement:r,Component:e}}function Nr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const My=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function lh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const aA=e=>t=>My(t)&&e(t,lh(t));function Pr(e,t,n,r){return Nr(e,t,aA(n),r)}const lA=(e,t)=>n=>t(e(n)),ws=(...e)=>e.reduce(lA);function Oy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const lm=Oy("dragHorizontal"),um=Oy("dragVertical");function Py(e){let t=!1;if(e==="y")t=um();else if(e==="x")t=lm();else{const n=lm(),r=um();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Ry(){const e=Py(!0);return e?(e(),!1):!0}class Ms{constructor(t){this.isMounted=!1,this.node=t}update(){}}function cm(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),l=(c,p)=>{if(c.pointerType==="touch"||Ry())return;const x=e.getProps();e.animationState&&x.whileHover&&e.animationState.setActive("whileHover",t),x[r]&&Nt.update(()=>x[r](c,p))};return Pr(e.current,n,l,{passive:!e.getProps()[r]})}class uA extends Ms{mount(){this.unmount=ws(cm(this.node,!0),cm(this.node,!1))}unmount(){}}class cA extends Ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ws(Nr(this.node.current,"focus",()=>this.onFocus()),Nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ly=(e,t)=>t?e===t?!0:Ly(e,t.parentElement):!1;function af(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,lh(n))}class hA extends Ms{constructor(){super(...arguments),this.removeStartListeners=qt,this.removeEndListeners=qt,this.removeAccessibleListeners=qt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),c=Pr(window,"pointerup",(x,w)=>{if(!this.checkPressEnd())return;const{onTap:y,onTapCancel:E,globalTapTarget:A}=this.node.getProps();Nt.update(()=>{!A&&!Ly(this.node.current,x.target)?E&&E(x,w):y&&y(x,w)})},{passive:!(r.onTap||r.onPointerUp)}),p=Pr(window,"pointercancel",(x,w)=>this.cancelPress(x,w),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ws(c,p),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=c=>{if(c.key!=="Enter"||this.isPressing)return;const p=x=>{x.key!=="Enter"||!this.checkPressEnd()||af("up",(w,y)=>{const{onTap:E}=this.node.getProps();E&&Nt.update(()=>E(w,y))})};this.removeEndListeners(),this.removeEndListeners=Nr(this.node.current,"keyup",p),af("down",(x,w)=>{this.startPress(x,w)})},n=Nr(this.node.current,"keydown",t),r=()=>{this.isPressing&&af("cancel",(c,p)=>this.cancelPress(c,p))},l=Nr(this.node.current,"blur",r);this.removeAccessibleListeners=ws(n,l)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:l}=this.node.getProps();l&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Nt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ry()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Nt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Pr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ws(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const _d=new WeakMap,lf=new WeakMap,fA=e=>{const t=_d.get(e.target);t&&t(e)},dA=e=>{e.forEach(fA)};function pA({root:e,...t}){const n=e||document;lf.has(n)||lf.set(n,{});const r=lf.get(n),l=JSON.stringify(t);return r[l]||(r[l]=new IntersectionObserver(dA,{root:e,...t})),r[l]}function mA(e,t,n){const r=pA(t);return _d.set(e,n),r.observe(e),()=>{_d.delete(e),r.unobserve(e)}}const gA={some:0,all:1};class xA extends Ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:l="some",once:c}=t,p={root:n?n.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:gA[l]},x=w=>{const{isIntersecting:y}=w;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),M=y?E:A;M&&M(w)};return mA(this.node.current,p,x)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yA(t,n))&&this.startObserver()}unmount(){}}function yA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vA={inView:{Feature:xA},tap:{Feature:hA},focus:{Feature:cA},hover:{Feature:uA}};function Dy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function wA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function _A(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function uh(e,t,n){const r=e.getProps();return J0(r,t,n!==void 0?n:r.custom,wA(e),_A(e))}let $0=qt;const ro=e=>e*1e3,Rr=e=>e/1e3,CA={current:!1},ky=e=>Array.isArray(e)&&typeof e[0]=="number";function By(e){return!!(!e||typeof e=="string"&&Fy[e]||ky(e)||Array.isArray(e)&&e.every(By))}const il=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Fy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:il([0,.65,.55,1]),circOut:il([.55,0,1,.45]),backIn:il([.31,.01,.66,-.59]),backOut:il([.33,1.53,.69,.99])};function jy(e){if(e)return ky(e)?il(e):Array.isArray(e)?e.map(jy):Fy[e]}function EA(e,t,n,{delay:r=0,duration:l,repeat:c=0,repeatType:p="loop",ease:x,times:w}={}){const y={[t]:n};w&&(y.offset=w);const E=jy(x);return Array.isArray(E)&&(y.easing=E),e.animate(y,{delay:r,duration:l,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:c+1,direction:p==="reverse"?"alternate":"normal"})}function AA(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const zy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,SA=1e-7,TA=12;function bA(e,t,n,r,l){let c,p,x=0;do p=t+(n-t)/2,c=zy(p,r,l)-e,c>0?n=p:t=p;while(Math.abs(c)>SA&&++x<TA);return p}function Xl(e,t,n,r){if(e===t&&n===r)return qt;const l=c=>bA(c,0,1,e,n);return c=>c===0||c===1?c:zy(l(c),t,r)}const IA=Xl(.42,0,1,1),NA=Xl(0,0,.58,1),Uy=Xl(.42,0,.58,1),MA=e=>Array.isArray(e)&&typeof e[0]!="number",Vy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hy=e=>t=>1-e(1-t),e1=e=>1-Math.sin(Math.acos(e)),Wy=Hy(e1),OA=Vy(e1),Zy=Xl(.33,1.53,.69,.99),t1=Hy(Zy),PA=Vy(t1),RA=e=>(e*=2)<1?.5*t1(e):.5*(2-Math.pow(2,-10*(e-1))),LA={linear:qt,easeIn:IA,easeInOut:Uy,easeOut:NA,circIn:e1,circInOut:OA,circOut:Wy,backIn:t1,backInOut:PA,backOut:Zy,anticipate:RA},hm=e=>{if(Array.isArray(e)){$0(e.length===4);const[t,n,r,l]=e;return Xl(t,n,r,l)}else if(typeof e=="string")return LA[e];return e},n1=(e,t)=>n=>!!(Gl(n)&&k3.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Gy=(e,t,n)=>r=>{if(!Gl(r))return r;const[l,c,p,x]=r.match(ah);return{[e]:parseFloat(l),[t]:parseFloat(c),[n]:parseFloat(p),alpha:x!==void 0?parseFloat(x):1}},DA=e=>Es(0,255,e),uf={..._o,transform:e=>Math.round(DA(e))},eo={test:n1("rgb","red"),parse:Gy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+uf.transform(e)+", "+uf.transform(t)+", "+uf.transform(n)+", "+pl(dl.transform(r))+")"};function kA(e){let t="",n="",r="",l="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),l=e.substring(4,5),t+=t,n+=n,r+=r,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const Cd={test:n1("#"),parse:kA,transform:eo.transform},Zo={test:n1("hsl","hue"),parse:Gy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pr.transform(pl(t))+", "+pr.transform(pl(n))+", "+pl(dl.transform(r))+")"},Un={test:e=>eo.test(e)||Cd.test(e)||Zo.test(e),parse:e=>eo.test(e)?eo.parse(e):Zo.test(e)?Zo.parse(e):Cd.parse(e),transform:e=>Gl(e)?e:e.hasOwnProperty("red")?eo.transform(e):Zo.transform(e)},Ut=(e,t,n)=>-n*e+n*t+e;function cf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function BA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let l=0,c=0,p=0;if(!t)l=c=p=n;else{const x=n<.5?n*(1+t):n+t-n*t,w=2*n-x;l=cf(w,x,e+1/3),c=cf(w,x,e),p=cf(w,x,e-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(p*255),alpha:r}}const hf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},FA=[Cd,eo,Zo],jA=e=>FA.find(t=>t.test(e));function fm(e){const t=jA(e);let n=t.parse(e);return t===Zo&&(n=BA(n)),n}const Yy=(e,t)=>{const n=fm(e),r=fm(t),l={...n};return c=>(l.red=hf(n.red,r.red,c),l.green=hf(n.green,r.green,c),l.blue=hf(n.blue,r.blue,c),l.alpha=Ut(n.alpha,r.alpha,c),eo.transform(l))};function zA(e){var t,n;return isNaN(e)&&Gl(e)&&(((t=e.match(ah))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(vy))===null||n===void 0?void 0:n.length)||0)>0}const Xy={regex:L3,countKey:"Vars",token:"${v}",parse:qt},Ky={regex:vy,countKey:"Colors",token:"${c}",parse:Un.parse},Qy={regex:ah,countKey:"Numbers",token:"${n}",parse:_o.parse};function ff(e,{regex:t,countKey:n,token:r,parse:l}){const c=e.tokenised.match(t);c&&(e["num"+n]=c.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...c.map(l)))}function Nc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ff(n,Xy),ff(n,Ky),ff(n,Qy),n}function qy(e){return Nc(e).values}function Jy(e){const{values:t,numColors:n,numVars:r,tokenised:l}=Nc(e),c=t.length;return p=>{let x=l;for(let w=0;w<c;w++)w<r?x=x.replace(Xy.token,p[w]):w<r+n?x=x.replace(Ky.token,Un.transform(p[w])):x=x.replace(Qy.token,pl(p[w]));return x}}const UA=e=>typeof e=="number"?0:e;function VA(e){const t=qy(e);return Jy(e)(t.map(UA))}const As={test:zA,parse:qy,createTransformer:Jy,getAnimatableNone:VA},$y=(e,t)=>n=>`${n>0?t:e}`;function ev(e,t){return typeof e=="number"?n=>Ut(e,t,n):Un.test(e)?Yy(e,t):e.startsWith("var(")?$y(e,t):nv(e,t)}const tv=(e,t)=>{const n=[...e],r=n.length,l=e.map((c,p)=>ev(c,t[p]));return c=>{for(let p=0;p<r;p++)n[p]=l[p](c);return n}},HA=(e,t)=>{const n={...e,...t},r={};for(const l in n)e[l]!==void 0&&t[l]!==void 0&&(r[l]=ev(e[l],t[l]));return l=>{for(const c in r)n[c]=r[c](l);return n}},nv=(e,t)=>{const n=As.createTransformer(t),r=Nc(e),l=Nc(t);return r.numVars===l.numVars&&r.numColors===l.numColors&&r.numNumbers>=l.numNumbers?ws(tv(r.values,l.values),n):$y(e,t)},Fl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dm=(e,t)=>n=>Ut(e,t,n);function WA(e){return typeof e=="number"?dm:typeof e=="string"?Un.test(e)?Yy:nv:Array.isArray(e)?tv:typeof e=="object"?HA:dm}function ZA(e,t,n){const r=[],l=n||WA(e[0]),c=e.length-1;for(let p=0;p<c;p++){let x=l(e[p],e[p+1]);if(t){const w=Array.isArray(t)?t[p]||qt:t;x=ws(w,x)}r.push(x)}return r}function iv(e,t,{clamp:n=!0,ease:r,mixer:l}={}){const c=e.length;if($0(c===t.length),c===1)return()=>t[0];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=ZA(t,r,l),x=p.length,w=y=>{let E=0;if(x>1)for(;E<e.length-2&&!(y<e[E+1]);E++);const A=Fl(e[E],e[E+1],y);return p[E](A)};return n?y=>w(Es(e[0],e[c-1],y)):w}function GA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const l=Fl(0,t,r);e.push(Ut(n,1,l))}}function YA(e){const t=[0];return GA(t,e.length-1),t}function XA(e,t){return e.map(n=>n*t)}function KA(e,t){return e.map(()=>t||Uy).splice(0,e.length-1)}function Mc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const l=MA(r)?r.map(hm):hm(r),c={done:!1,value:t[0]},p=XA(n&&n.length===t.length?n:YA(t),e),x=iv(p,t,{ease:Array.isArray(l)?l:KA(t,l)});return{calculatedDuration:e,next:w=>(c.value=x(w),c.done=w>=e,c)}}function rv(e,t){return t?e*(1e3/t):0}const QA=5;function sv(e,t,n){const r=Math.max(t-QA,0);return rv(n-e(r),t-r)}const df=.001,qA=.01,JA=10,$A=.05,eS=1;function tS({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let l,c,p=1-t;p=Es($A,eS,p),e=Es(qA,JA,Rr(e)),p<1?(l=y=>{const E=y*p,A=E*e,M=E-n,D=Ed(y,p),F=Math.exp(-A);return df-M/D*F},c=y=>{const A=y*p*e,M=A*n+n,D=Math.pow(p,2)*Math.pow(y,2)*e,F=Math.exp(-A),B=Ed(Math.pow(y,2),p);return(-l(y)+df>0?-1:1)*((M-D)*F)/B}):(l=y=>{const E=Math.exp(-y*e),A=(y-n)*e+1;return-df+E*A},c=y=>{const E=Math.exp(-y*e),A=(n-y)*(e*e);return E*A});const x=5/e,w=iS(l,c,x);if(e=ro(e),isNaN(w))return{stiffness:100,damping:10,duration:e};{const y=Math.pow(w,2)*r;return{stiffness:y,damping:p*2*Math.sqrt(r*y),duration:e}}}const nS=12;function iS(e,t,n){let r=n;for(let l=1;l<nS;l++)r=r-e(r)/t(r);return r}function Ed(e,t){return e*Math.sqrt(1-t*t)}const rS=["duration","bounce"],sS=["stiffness","damping","mass"];function pm(e,t){return t.some(n=>e[n]!==void 0)}function oS(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!pm(e,sS)&&pm(e,rS)){const n=tS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function ov({keyframes:e,restDelta:t,restSpeed:n,...r}){const l=e[0],c=e[e.length-1],p={done:!1,value:l},{stiffness:x,damping:w,mass:y,duration:E,velocity:A,isResolvedFromDuration:M}=oS({...r,velocity:-Rr(r.velocity||0)}),D=A||0,F=w/(2*Math.sqrt(x*y)),B=c-l,V=Rr(Math.sqrt(x/y)),z=Math.abs(B)<5;n||(n=z?.01:2),t||(t=z?.005:.5);let k;if(F<1){const R=Ed(V,F);k=Z=>{const te=Math.exp(-F*V*Z);return c-te*((D+F*V*B)/R*Math.sin(R*Z)+B*Math.cos(R*Z))}}else if(F===1)k=R=>c-Math.exp(-V*R)*(B+(D+V*B)*R);else{const R=V*Math.sqrt(F*F-1);k=Z=>{const te=Math.exp(-F*V*Z),se=Math.min(R*Z,300);return c-te*((D+F*V*B)*Math.sinh(se)+R*B*Math.cosh(se))/R}}return{calculatedDuration:M&&E||null,next:R=>{const Z=k(R);if(M)p.done=R>=E;else{let te=D;R!==0&&(F<1?te=sv(k,R,Z):te=0);const se=Math.abs(te)<=n,X=Math.abs(c-Z)<=t;p.done=se&&X}return p.value=p.done?c:Z,p}}}function mm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:p,min:x,max:w,restDelta:y=.5,restSpeed:E}){const A=e[0],M={done:!1,value:A},D=oe=>x!==void 0&&oe<x||w!==void 0&&oe>w,F=oe=>x===void 0?w:w===void 0||Math.abs(x-oe)<Math.abs(w-oe)?x:w;let B=n*t;const V=A+B,z=p===void 0?V:p(V);z!==V&&(B=z-A);const k=oe=>-B*Math.exp(-oe/r),R=oe=>z+k(oe),Z=oe=>{const J=k(oe),fe=R(oe);M.done=Math.abs(J)<=y,M.value=M.done?z:fe};let te,se;const X=oe=>{D(M.value)&&(te=oe,se=ov({keyframes:[M.value,F(M.value)],velocity:sv(R,oe,M.value),damping:l,stiffness:c,restDelta:y,restSpeed:E}))};return X(0),{calculatedDuration:null,next:oe=>{let J=!1;return!se&&te===void 0&&(J=!0,Z(oe),X(oe)),te!==void 0&&oe>te?se.next(oe-te):(!J&&Z(oe),M)}}}const aS=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Nt.update(t,!0),stop:()=>Fr(t),now:()=>Mn.isProcessing?Mn.timestamp:performance.now()}},gm=2e4;function xm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<gm;)t+=n,r=e.next(t);return t>=gm?1/0:t}const lS={decay:mm,inertia:mm,tween:Mc,keyframes:Mc,spring:ov};function Oc({autoplay:e=!0,delay:t=0,driver:n=aS,keyframes:r,type:l="keyframes",repeat:c=0,repeatDelay:p=0,repeatType:x="loop",onPlay:w,onStop:y,onComplete:E,onUpdate:A,...M}){let D=1,F=!1,B,V;const z=()=>{V=new Promise(ve=>{B=ve})};z();let k;const R=lS[l]||Mc;let Z;R!==Mc&&typeof r[0]!="number"&&(Z=iv([0,100],r,{clamp:!1}),r=[0,100]);const te=R({...M,keyframes:r});let se;x==="mirror"&&(se=R({...M,keyframes:[...r].reverse(),velocity:-(M.velocity||0)}));let X="idle",oe=null,J=null,fe=null;te.calculatedDuration===null&&c&&(te.calculatedDuration=xm(te));const{calculatedDuration:Te}=te;let xe=1/0,Be=1/0;Te!==null&&(xe=Te+p,Be=xe*(c+1)-p);let De=0;const re=ve=>{if(J===null)return;D>0&&(J=Math.min(J,ve)),D<0&&(J=Math.min(ve-Be/D,J)),oe!==null?De=oe:De=Math.round(ve-J)*D;const Pe=De-t*(D>=0?1:-1),rt=D>=0?Pe<0:Pe>Be;De=Math.max(Pe,0),X==="finished"&&oe===null&&(De=Be);let Fe=De,Ge=te;if(c){const yi=Math.min(De,Be)/xe;let Gn=Math.floor(yi),Et=yi%1;!Et&&yi>=1&&(Et=1),Et===1&&Gn--,Gn=Math.min(Gn,c+1),!!(Gn%2)&&(x==="reverse"?(Et=1-Et,p&&(Et-=p/xe)):x==="mirror"&&(Ge=se)),Fe=Es(0,1,Et)*xe}const he=rt?{done:!1,value:r[0]}:Ge.next(Fe);Z&&(he.value=Z(he.value));let{done:Yt}=he;!rt&&Te!==null&&(Yt=D>=0?De>=Be:De<=0);const dt=oe===null&&(X==="finished"||X==="running"&&Yt);return A&&A(he.value),dt&&ae(),he},Ae=()=>{k&&k.stop(),k=void 0},Oe=()=>{X="idle",Ae(),B(),z(),J=fe=null},ae=()=>{X="finished",E&&E(),Ae(),B()},Me=()=>{if(F)return;k||(k=n(re));const ve=k.now();w&&w(),oe!==null?J=ve-oe:(!J||X==="finished")&&(J=ve),X==="finished"&&z(),fe=J,oe=null,X="running",k.start()};e&&Me();const de={then(ve,Pe){return V.then(ve,Pe)},get time(){return Rr(De)},set time(ve){ve=ro(ve),De=ve,oe!==null||!k||D===0?oe=ve:J=k.now()-ve/D},get duration(){const ve=te.calculatedDuration===null?xm(te):te.calculatedDuration;return Rr(ve)},get speed(){return D},set speed(ve){ve===D||!k||(D=ve,de.time=Rr(De))},get state(){return X},play:Me,pause:()=>{X="paused",oe=De},stop:()=>{F=!0,X!=="idle"&&(X="idle",y&&y(),Oe())},cancel:()=>{fe!==null&&re(fe),Oe()},complete:()=>{X="finished"},sample:ve=>(J=0,re(ve))};return de}function uS(e){let t;return()=>(t===void 0&&(t=e()),t)}const cS=uS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lu=10,fS=2e4,dS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!By(t.ease);function pS(e,t,{onUpdate:n,onComplete:r,...l}){if(!(cS()&&hS.has(t)&&!l.repeatDelay&&l.repeatType!=="mirror"&&l.damping!==0&&l.type!=="inertia"))return!1;let p=!1,x,w,y=!1;const E=()=>{w=new Promise(R=>{x=R})};E();let{keyframes:A,duration:M=300,ease:D,times:F}=l;if(dS(t,l)){const R=Oc({...l,repeat:0,delay:0});let Z={done:!1,value:A[0]};const te=[];let se=0;for(;!Z.done&&se<fS;)Z=R.sample(se),te.push(Z.value),se+=Lu;F=void 0,A=te,M=se-Lu,D="linear"}const B=EA(e.owner.current,t,A,{...l,duration:M,ease:D,times:F}),V=()=>{y=!1,B.cancel()},z=()=>{y=!0,Nt.update(V),x(),E()};return B.onfinish=()=>{y||(e.set(AA(A,l)),r&&r(),z())},{then(R,Z){return w.then(R,Z)},attachTimeline(R){return B.timeline=R,B.onfinish=null,qt},get time(){return Rr(B.currentTime||0)},set time(R){B.currentTime=ro(R)},get speed(){return B.playbackRate},set speed(R){B.playbackRate=R},get duration(){return Rr(M)},play:()=>{p||(B.play(),Fr(V))},pause:()=>B.pause(),stop:()=>{if(p=!0,B.playState==="idle")return;const{currentTime:R}=B;if(R){const Z=Oc({...l,autoplay:!1});e.setWithVelocity(Z.sample(R-Lu).value,Z.sample(R).value,Lu)}z()},complete:()=>{y||B.finish()},cancel:z}}function mS({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const l=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:qt,pause:qt,stop:qt,then:c=>(c(),Promise.resolve()),cancel:qt,complete:qt});return t?Oc({keyframes:[0,1],duration:0,delay:t,onComplete:l}):l()}const gS={type:"spring",stiffness:500,damping:25,restSpeed:10},xS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yS={type:"keyframes",duration:.8},vS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wS=(e,{keyframes:t})=>t.length>2?yS:wo.has(e)?e.startsWith("scale")?xS(t[1]):gS:vS,Ad=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(As.test(t)||t==="0")&&!t.startsWith("url(")),_S=new Set(["brightness","contrast","saturate","opacity"]);function CS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ah)||[];if(!r)return e;const l=n.replace(r,"");let c=_S.has(t)?1:0;return r!==n&&(c*=100),t+"("+c+l+")"}const ES=/([a-z-]*)\(.*?\)/g,Sd={...As,getAnimatableNone:e=>{const t=e.match(ES);return t?t.map(CS).join(" "):e}},AS={...wy,color:Un,backgroundColor:Un,outlineColor:Un,fill:Un,stroke:Un,borderColor:Un,borderTopColor:Un,borderRightColor:Un,borderBottomColor:Un,borderLeftColor:Un,filter:Sd,WebkitFilter:Sd},i1=e=>AS[e];function av(e,t){let n=i1(e);return n!==Sd&&(n=As),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const lv=e=>/^0[^.\s]+$/.test(e);function SS(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||lv(e)}function TS(e,t,n,r){const l=Ad(t,n);let c;Array.isArray(n)?c=[...n]:c=[null,n];const p=r.from!==void 0?r.from:e.get();let x;const w=[];for(let y=0;y<c.length;y++)c[y]===null&&(c[y]=y===0?p:c[y-1]),SS(c[y])&&w.push(y),typeof c[y]=="string"&&c[y]!=="none"&&c[y]!=="0"&&(x=c[y]);if(l&&w.length&&x)for(let y=0;y<w.length;y++){const E=w[y];c[E]=av(t,x)}return c}function bS({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:l,repeat:c,repeatType:p,repeatDelay:x,from:w,elapsed:y,...E}){return!!Object.keys(E).length}function r1(e,t){return e[t]||e.default||e}const IS={skipAnimations:!1},s1=(e,t,n,r={})=>l=>{const c=r1(r,e)||{},p=c.delay||r.delay||0;let{elapsed:x=0}=r;x=x-ro(p);const w=TS(t,e,n,c),y=w[0],E=w[w.length-1],A=Ad(e,y),M=Ad(e,E);let D={keyframes:w,velocity:t.getVelocity(),ease:"easeOut",...c,delay:-x,onUpdate:F=>{t.set(F),c.onUpdate&&c.onUpdate(F)},onComplete:()=>{l(),c.onComplete&&c.onComplete()}};if(bS(c)||(D={...D,...wS(e,D)}),D.duration&&(D.duration=ro(D.duration)),D.repeatDelay&&(D.repeatDelay=ro(D.repeatDelay)),!A||!M||CA.current||c.type===!1||IS.skipAnimations)return mS(D);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const F=pS(t,e,D);if(F)return F}return Oc(D)};function Pc(e){return!!(ni(e)&&e.add)}const uv=e=>/^\-?\d*\.?\d+$/.test(e);function o1(e,t){e.indexOf(t)===-1&&e.push(t)}function a1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class l1{constructor(){this.subscriptions=[]}add(t){return o1(this.subscriptions,t),()=>a1(this.subscriptions,t)}notify(t,n,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,r);else for(let c=0;c<l;c++){const p=this.subscriptions[c];p&&p(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const NS=e=>!isNaN(parseFloat(e));class MS{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,l=!0)=>{this.prev=this.current,this.current=r;const{delta:c,timestamp:p}=Mn;this.lastUpdated!==p&&(this.timeDelta=c,this.lastUpdated=p,Nt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Nt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=NS(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new l1);const r=this.events[t].add(n);return t==="change"?()=>{r(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(e,t){return new MS(e,t)}const cv=e=>t=>t.test(e),OS={test:e=>e==="auto",parse:e=>e},hv=[_o,ze,pr,ns,F3,B3,OS],Qa=e=>hv.find(cv(e)),PS=[...hv,Un,As],RS=e=>PS.find(cv(e));function LS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,la(n))}function DS(e,t){const n=uh(e,t);let{transitionEnd:r={},transition:l={},...c}=n?e.makeTargetAnimatable(n,!1):{};c={...c,...r};for(const p in c){const x=J3(c[p]);LS(e,p,x)}}function kS(e,t,n){var r,l;const c=Object.keys(t).filter(x=>!e.hasValue(x)),p=c.length;if(p)for(let x=0;x<p;x++){const w=c[x],y=t[w];let E=null;Array.isArray(y)&&(E=y[0]),E===null&&(E=(l=(r=n[w])!==null&&r!==void 0?r:e.readValue(w))!==null&&l!==void 0?l:t[w]),E!=null&&(typeof E=="string"&&(uv(E)||lv(E))?E=parseFloat(E):!RS(E)&&As.test(y)&&(E=av(w,y)),e.addValue(w,la(E,{owner:e})),n[w]===void 0&&(n[w]=E),E!==null&&e.setBaseTarget(w,E))}}function BS(e,t){return t?(t[e]||t.default||t).from:void 0}function FS(e,t,n){const r={};for(const l in e){const c=BS(l,t);if(c!==void 0)r[l]=c;else{const p=n.getValue(l);p&&(r[l]=p.get())}}return r}function jS({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function zS(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function fv(e,t,{delay:n=0,transitionOverride:r,type:l}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:p,...x}=e.makeTargetAnimatable(t);const w=e.getValue("willChange");r&&(c=r);const y=[],E=l&&e.animationState&&e.animationState.getState()[l];for(const A in x){const M=e.getValue(A),D=x[A];if(!M||D===void 0||E&&jS(E,A))continue;const F={delay:n,elapsed:0,...r1(c||{},A)};if(window.HandoffAppearAnimations){const z=e.getProps()[dy];if(z){const k=window.HandoffAppearAnimations(z,A,M,Nt);k!==null&&(F.elapsed=k,F.isHandoff=!0)}}let B=!F.isHandoff&&!zS(M,D);if(F.type==="spring"&&(M.getVelocity()||F.velocity)&&(B=!1),M.animation&&(B=!1),B)continue;M.start(s1(A,M,D,e.shouldReduceMotion&&wo.has(A)?{type:!1}:F));const V=M.animation;Pc(w)&&(w.add(A),V.then(()=>w.remove(A))),y.push(V)}return p&&Promise.all(y).then(()=>{p&&DS(e,p)}),y}function Td(e,t,n={}){const r=uh(e,t,n.custom);let{transition:l=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const c=r?()=>Promise.all(fv(e,r,n)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:y=0,staggerChildren:E,staggerDirection:A}=l;return US(e,t,y+w,E,A,n)}:()=>Promise.resolve(),{when:x}=l;if(x){const[w,y]=x==="beforeChildren"?[c,p]:[p,c];return w().then(()=>y())}else return Promise.all([c(),p(n.delay)])}function US(e,t,n=0,r=0,l=1,c){const p=[],x=(e.variantChildren.size-1)*r,w=l===1?(y=0)=>y*r:(y=0)=>x-y*r;return Array.from(e.variantChildren).sort(VS).forEach((y,E)=>{y.notify("AnimationStart",t),p.push(Td(y,t,{...c,delay:n+w(E)}).then(()=>y.notify("AnimationComplete",t)))}),Promise.all(p)}function VS(e,t){return e.sortNodePosition(t)}function HS(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const l=t.map(c=>Td(e,c,n));r=Promise.all(l)}else if(typeof t=="string")r=Td(e,t,n);else{const l=typeof t=="function"?uh(e,t,n.custom):t;r=Promise.all(fv(e,l,n))}return r.then(()=>e.notify("AnimationComplete",t))}const WS=[...H0].reverse(),ZS=H0.length;function GS(e){return t=>Promise.all(t.map(({animation:n,options:r})=>HS(e,n,r)))}function YS(e){let t=GS(e);const n=KS();let r=!0;const l=(w,y)=>{const E=uh(e,y);if(E){const{transition:A,transitionEnd:M,...D}=E;w={...w,...D,...M}}return w};function c(w){t=w(e)}function p(w,y){const E=e.getProps(),A=e.getVariantContext(!0)||{},M=[],D=new Set;let F={},B=1/0;for(let z=0;z<ZS;z++){const k=WS[z],R=n[k],Z=E[k]!==void 0?E[k]:A[k],te=kl(Z),se=k===y?R.isActive:null;se===!1&&(B=z);let X=Z===A[k]&&Z!==E[k]&&te;if(X&&r&&e.manuallyAnimateOnMount&&(X=!1),R.protectedKeys={...F},!R.isActive&&se===null||!Z&&!R.prevProp||sh(Z)||typeof Z=="boolean")continue;let J=XS(R.prevProp,Z)||k===y&&R.isActive&&!X&&te||z>B&&te,fe=!1;const Te=Array.isArray(Z)?Z:[Z];let xe=Te.reduce(l,{});se===!1&&(xe={});const{prevResolvedValues:Be={}}=R,De={...Be,...xe},re=Ae=>{J=!0,D.has(Ae)&&(fe=!0,D.delete(Ae)),R.needsAnimating[Ae]=!0};for(const Ae in De){const Oe=xe[Ae],ae=Be[Ae];if(F.hasOwnProperty(Ae))continue;let Me=!1;Ic(Oe)&&Ic(ae)?Me=!Dy(Oe,ae):Me=Oe!==ae,Me?Oe!==void 0?re(Ae):D.add(Ae):Oe!==void 0&&D.has(Ae)?re(Ae):R.protectedKeys[Ae]=!0}R.prevProp=Z,R.prevResolvedValues=xe,R.isActive&&(F={...F,...xe}),r&&e.blockInitialAnimation&&(J=!1),J&&(!X||fe)&&M.push(...Te.map(Ae=>({animation:Ae,options:{type:k,...w}})))}if(D.size){const z={};D.forEach(k=>{const R=e.getBaseTarget(k);R!==void 0&&(z[k]=R)}),M.push({animation:z})}let V=!!M.length;return r&&(E.initial===!1||E.initial===E.animate)&&!e.manuallyAnimateOnMount&&(V=!1),r=!1,V?t(M):Promise.resolve()}function x(w,y,E){var A;if(n[w].isActive===y)return Promise.resolve();(A=e.variantChildren)===null||A===void 0||A.forEach(D=>{var F;return(F=D.animationState)===null||F===void 0?void 0:F.setActive(w,y)}),n[w].isActive=y;const M=p(E,w);for(const D in n)n[D].protectedKeys={};return M}return{animateChanges:p,setActive:x,setAnimateFunction:c,getState:()=>n}}function XS(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dy(t,e):!1}function Zs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KS(){return{animate:Zs(!0),whileInView:Zs(),whileHover:Zs(),whileTap:Zs(),whileDrag:Zs(),whileFocus:Zs(),exit:Zs()}}class QS extends Ms{constructor(t){super(t),t.animationState||(t.animationState=YS(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),sh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let qS=0;class JS extends Ms{constructor(){super(...arguments),this.id=qS++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===l)return;const c=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&c.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $S={animation:{Feature:QS},exit:{Feature:JS}},ym=(e,t)=>Math.abs(e-t);function eT(e,t){const n=ym(e.x,t.x),r=ym(e.y,t.y);return Math.sqrt(n**2+r**2)}class dv{constructor(t,n,{transformPagePoint:r,contextWindow:l,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=mf(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,D=eT(A.offset,{x:0,y:0})>=3;if(!M&&!D)return;const{point:F}=A,{timestamp:B}=Mn;this.history.push({...F,timestamp:B});const{onStart:V,onMove:z}=this.handlers;M||(V&&V(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,A)},this.handlePointerMove=(A,M)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=pf(M,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(A,M)=>{this.end();const{onEnd:D,onSessionEnd:F,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=mf(A.type==="pointercancel"?this.lastMoveEventInfo:pf(M,this.transformPagePoint),this.history);this.startEvent&&D&&D(A,V),F&&F(A,V)},!My(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=r,this.contextWindow=l||window;const p=lh(t),x=pf(p,this.transformPagePoint),{point:w}=x,{timestamp:y}=Mn;this.history=[{...w,timestamp:y}];const{onSessionStart:E}=n;E&&E(t,mf(x,this.history)),this.removeListeners=ws(Pr(this.contextWindow,"pointermove",this.handlePointerMove),Pr(this.contextWindow,"pointerup",this.handlePointerUp),Pr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function pf(e,t){return t?{point:t(e.point)}:e}function vm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mf({point:e},t){return{point:e,delta:vm(e,pv(t)),offset:vm(e,tT(t)),velocity:nT(t,.1)}}function tT(e){return e[0]}function pv(e){return e[e.length-1]}function nT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const l=pv(e);for(;n>=0&&(r=e[n],!(l.timestamp-r.timestamp>ro(t)));)n--;if(!r)return{x:0,y:0};const c=Rr(l.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const p={x:(l.x-r.x)/c,y:(l.y-r.y)/c};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function mi(e){return e.max-e.min}function bd(e,t=0,n=.01){return Math.abs(e-t)<=n}function wm(e,t,n,r=.5){e.origin=r,e.originPoint=Ut(t.min,t.max,e.origin),e.scale=mi(n)/mi(t),(bd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ut(n.min,n.max,e.origin)-e.originPoint,(bd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ml(e,t,n,r){wm(e.x,t.x,n.x,r?r.originX:void 0),wm(e.y,t.y,n.y,r?r.originY:void 0)}function _m(e,t,n){e.min=n.min+t.min,e.max=e.min+mi(t)}function iT(e,t,n){_m(e.x,t.x,n.x),_m(e.y,t.y,n.y)}function Cm(e,t,n){e.min=t.min-n.min,e.max=e.min+mi(t)}function gl(e,t,n){Cm(e.x,t.x,n.x),Cm(e.y,t.y,n.y)}function rT(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ut(n,e,r.max):Math.min(e,n)),e}function Em(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sT(e,{top:t,left:n,bottom:r,right:l}){return{x:Em(e.x,n,l),y:Em(e.y,t,r)}}function Am(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function oT(e,t){return{x:Am(e.x,t.x),y:Am(e.y,t.y)}}function aT(e,t){let n=.5;const r=mi(e),l=mi(t);return l>r?n=Fl(t.min,t.max-r,e.min):r>l&&(n=Fl(e.min,e.max-l,t.min)),Es(0,1,n)}function lT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Id=.35;function uT(e=Id){return e===!1?e=0:e===!0&&(e=Id),{x:Sm(e,"left","right"),y:Sm(e,"top","bottom")}}function Sm(e,t,n){return{min:Tm(e,t),max:Tm(e,n)}}function Tm(e,t){return typeof e=="number"?e:e[t]||0}const bm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:bm(),y:bm()}),Im=()=>({min:0,max:0}),nn=()=>({x:Im(),y:Im()});function Mi(e){return[e("x"),e("y")]}function mv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function cT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gf(e){return e===void 0||e===1}function Nd({scale:e,scaleX:t,scaleY:n}){return!gf(e)||!gf(t)||!gf(n)}function Xs(e){return Nd(e)||gv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function gv(e){return Nm(e.x)||Nm(e.y)}function Nm(e){return e&&e!=="0%"}function Rc(e,t,n){const r=e-n,l=t*r;return n+l}function Mm(e,t,n,r,l){return l!==void 0&&(e=Rc(e,l,r)),Rc(e,n,r)+t}function Md(e,t=0,n=1,r,l){e.min=Mm(e.min,t,n,r,l),e.max=Mm(e.max,t,n,r,l)}function xv(e,{x:t,y:n}){Md(e.x,t.translate,t.scale,t.originPoint),Md(e.y,n.translate,n.scale,n.originPoint)}function fT(e,t,n,r=!1){const l=n.length;if(!l)return;t.x=t.y=1;let c,p;for(let x=0;x<l;x++){c=n[x],p=c.projectionDelta;const w=c.instance;w&&w.style&&w.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Yo(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,xv(e,p)),r&&Xs(c.latestValues)&&Yo(e,c.latestValues))}t.x=Om(t.x),t.y=Om(t.y)}function Om(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ss(e,t){e.min=e.min+t,e.max=e.max+t}function Pm(e,t,[n,r,l]){const c=t[l]!==void 0?t[l]:.5,p=Ut(e.min,e.max,c);Md(e,t[n],t[r],p,t.scale)}const dT=["x","scaleX","originX"],pT=["y","scaleY","originY"];function Yo(e,t){Pm(e.x,t,dT),Pm(e.y,t,pT)}function yv(e,t){return mv(hT(e.getBoundingClientRect(),t))}function mT(e,t,n){const r=yv(e,n),{scroll:l}=t;return l&&(ss(r.x,l.offset.x),ss(r.y,l.offset.y)),r}const vv=({current:e})=>e?e.ownerDocument.defaultView:null,gT=new WeakMap;class xT{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lh(E,"page").point)},c=(E,A)=>{const{drag:M,dragPropagation:D,onDragStart:F}=this.getProps();if(M&&!D&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Py(M),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mi(V=>{let z=this.getAxisMotionValue(V).get()||0;if(pr.test(z)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[V];R&&(z=mi(R)*(parseFloat(z)/100))}}this.originPoint[V]=z}),F&&Nt.update(()=>F(E,A),!1,!0);const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},p=(E,A)=>{const{dragPropagation:M,dragDirectionLock:D,onDirectionLock:F,onDrag:B}=this.getProps();if(!M&&!this.openGlobalLock)return;const{offset:V}=A;if(D&&this.currentDirection===null){this.currentDirection=yT(V),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",A.point,V),this.updateAxis("y",A.point,V),this.visualElement.render(),B&&B(E,A)},x=(E,A)=>this.stop(E,A),w=()=>Mi(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new dv(t,{onSessionStart:l,onStart:c,onMove:p,onSessionEnd:x,resumeAnimation:w},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:vv(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Nt.update(()=>c(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:l}=this.getProps();if(!r||!Du(t,l,this.currentDirection))return;const c=this.getAxisMotionValue(t);let p=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(p=rT(p,this.constraints[t],this.elastic[t])),c.set(p)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,c=this.constraints;n&&Wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&l?this.constraints=sT(l.layoutBox,n):this.constraints=!1,this.elastic=uT(r),c!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Mi(p=>{this.getAxisMotionValue(p)&&(this.constraints[p]=lT(l.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wo(t))return!1;const r=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=mT(r,l.root,this.visualElement.getTransformPagePoint());let p=oT(l.layout.layoutBox,c);if(n){const x=n(cT(p));this.hasMutatedConstraints=!!x,x&&(p=mv(x))}return p}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:l,dragTransition:c,dragSnapToOrigin:p,onDragTransitionEnd:x}=this.getProps(),w=this.constraints||{},y=Mi(E=>{if(!Du(E,n,this.currentDirection))return;let A=w&&w[E]||{};p&&(A={min:0,max:0});const M=l?200:1e6,D=l?40:1e7,F={type:"inertia",velocity:r?t[E]:0,bounceStiffness:M,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...c,...A};return this.startAxisValueAnimation(E,F)});return Promise.all(y).then(x)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(s1(t,r,0,n))}stopAnimation(){Mi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),l=r[n];return l||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Mi(n=>{const{drag:r}=this.getProps();if(!Du(n,r,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(n);if(l&&l.layout){const{min:p,max:x}=l.layout.layoutBox[n];c.set(t[n]-Ut(p,x,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(n)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Mi(p=>{const x=this.getAxisMotionValue(p);if(x){const w=x.get();l[p]=aT({min:w,max:w},this.constraints[p])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mi(p=>{if(!Du(p,t,null))return;const x=this.getAxisMotionValue(p),{min:w,max:y}=this.constraints[p];x.set(Ut(w,y,l[p]))})}addListeners(){if(!this.visualElement.current)return;gT.set(this.visualElement,this);const t=this.visualElement.current,n=Pr(t,"pointerdown",w=>{const{drag:y,dragListener:E=!0}=this.getProps();y&&E&&this.start(w)}),r=()=>{const{dragConstraints:w}=this.getProps();Wo(w)&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,c=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),r();const p=Nr(window,"resize",()=>this.scalePositionWithinConstraints()),x=l.addEventListener("didUpdate",({delta:w,hasLayoutChanged:y})=>{this.isDragging&&y&&(Mi(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=w[E].translate,A.set(A.get()+w[E].translate))}),this.visualElement.render())});return()=>{p(),n(),c(),x&&x()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:p=Id,dragMomentum:x=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:l,dragConstraints:c,dragElastic:p,dragMomentum:x}}}function Du(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vT extends Ms{constructor(t){super(t),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new xT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rm=e=>(t,n)=>{e&&Nt.update(()=>e(t,n))};class wT extends Ms{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(t){this.session=new dv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:Rm(t),onStart:Rm(n),onMove:r,onEnd:(c,p)=>{delete this.session,l&&Nt.update(()=>l(c,p))}}}mount(){this.removePointerDownListener=Pr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _T(){const e=W.useContext(ih);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,l=W.useId();return W.useEffect(()=>r(l),[]),!t&&n?[!1,()=>n&&n(l)]:[!0]}const qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ze.test(e))e=parseFloat(e);else return e;const n=Lm(e,t.target.x),r=Lm(e,t.target.y);return`${n}% ${r}%`}},CT={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,l=As.parse(e);if(l.length>5)return r;const c=As.createTransformer(e),p=typeof l[0]!="number"?1:0,x=n.x.scale*t.x,w=n.y.scale*t.y;l[0+p]/=x,l[1+p]/=w;const y=Ut(x,w,.5);return typeof l[2+p]=="number"&&(l[2+p]/=y),typeof l[3+p]=="number"&&(l[3+p]/=y),c(l)}};class ET extends oo.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:l}=this.props,{projection:c}=t;M3(AT),c&&(n.group&&n.group.add(c),r&&r.register&&l&&r.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:l,isPresent:c}=this.props,p=r.projection;return p&&(p.isPresent=c,l||t.layoutDependency!==n||n===void 0?p.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?p.promote():p.relegate()||Nt.postRender(()=>{const x=p.getStack();(!x||!x.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wv(e){const[t,n]=_T(),r=W.useContext(Z0);return oo.createElement(ET,{...e,layoutGroup:r,switchLayoutGroup:W.useContext(my),isPresent:t,safeToRemove:n})}const AT={borderRadius:{...qa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qa,borderTopRightRadius:qa,borderBottomLeftRadius:qa,borderBottomRightRadius:qa,boxShadow:CT},_v=["TopLeft","TopRight","BottomLeft","BottomRight"],ST=_v.length,Dm=e=>typeof e=="string"?parseFloat(e):e,km=e=>typeof e=="number"||ze.test(e);function TT(e,t,n,r,l,c){l?(e.opacity=Ut(0,n.opacity!==void 0?n.opacity:1,bT(r)),e.opacityExit=Ut(t.opacity!==void 0?t.opacity:1,0,IT(r))):c&&(e.opacity=Ut(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let p=0;p<ST;p++){const x=`border${_v[p]}Radius`;let w=Bm(t,x),y=Bm(n,x);if(w===void 0&&y===void 0)continue;w||(w=0),y||(y=0),w===0||y===0||km(w)===km(y)?(e[x]=Math.max(Ut(Dm(w),Dm(y),r),0),(pr.test(y)||pr.test(w))&&(e[x]+="%")):e[x]=y}(t.rotate||n.rotate)&&(e.rotate=Ut(t.rotate||0,n.rotate||0,r))}function Bm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bT=Cv(0,.5,Wy),IT=Cv(.5,.95,qt);function Cv(e,t,n){return r=>r<e?0:r>t?1:n(Fl(e,t,r))}function Fm(e,t){e.min=t.min,e.max=t.max}function Ii(e,t){Fm(e.x,t.x),Fm(e.y,t.y)}function jm(e,t,n,r,l){return e-=t,e=Rc(e,1/n,r),l!==void 0&&(e=Rc(e,1/l,r)),e}function NT(e,t=0,n=1,r=.5,l,c=e,p=e){if(pr.test(t)&&(t=parseFloat(t),t=Ut(p.min,p.max,t/100)-p.min),typeof t!="number")return;let x=Ut(c.min,c.max,r);e===c&&(x-=t),e.min=jm(e.min,t,n,x,l),e.max=jm(e.max,t,n,x,l)}function zm(e,t,[n,r,l],c,p){NT(e,t[n],t[r],t[l],t.scale,c,p)}const MT=["x","scaleX","originX"],OT=["y","scaleY","originY"];function Um(e,t,n,r){zm(e.x,t,MT,n?n.x:void 0,r?r.x:void 0),zm(e.y,t,OT,n?n.y:void 0,r?r.y:void 0)}function Vm(e){return e.translate===0&&e.scale===1}function Ev(e){return Vm(e.x)&&Vm(e.y)}function PT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Av(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Hm(e){return mi(e.x)/mi(e.y)}class RT{constructor(){this.members=[]}add(t){o1(this.members,t),t.scheduleRender()}remove(t){if(a1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let r;for(let l=n;l>=0;l--){const c=this.members[l];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wm(e,t,n){let r="";const l=e.x.translate/t.x,c=e.y.translate/t.y;if((l||c)&&(r=`translate3d(${l}px, ${c}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:w,rotateX:y,rotateY:E}=n;w&&(r+=`rotate(${w}deg) `),y&&(r+=`rotateX(${y}deg) `),E&&(r+=`rotateY(${E}deg) `)}const p=e.x.scale*t.x,x=e.y.scale*t.y;return(p!==1||x!==1)&&(r+=`scale(${p}, ${x})`),r||"none"}const LT=(e,t)=>e.depth-t.depth;class DT{constructor(){this.children=[],this.isDirty=!1}add(t){o1(this.children,t),this.isDirty=!0}remove(t){a1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LT),this.isDirty=!1,this.children.forEach(t)}}function kT(e,t){const n=performance.now(),r=({timestamp:l})=>{const c=l-n;c>=t&&(Fr(r),e(c-t))};return Nt.read(r,!0),()=>Fr(r)}function BT(e){window.MotionDebug&&window.MotionDebug.record(e)}function FT(e){return e instanceof SVGElement&&e.tagName!=="svg"}function jT(e,t,n){const r=ni(e)?e:la(e);return r.start(s1("",r,t,n)),r.animation}const Zm=["","X","Y","Z"],zT={visibility:"hidden"},Gm=1e3;let UT=0;const Ks={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Sv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(p={},x=t==null?void 0:t()){this.id=UT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ks.totalNodes=Ks.resolvedTargetDeltas=Ks.recalculatedProjection=0,this.nodes.forEach(WT),this.nodes.forEach(KT),this.nodes.forEach(QT),this.nodes.forEach(ZT),BT(Ks)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=x?x.root||x:this,this.path=x?[...x.path,x]:[],this.parent=x,this.depth=x?x.depth+1:0;for(let w=0;w<this.path.length;w++)this.path[w].shouldResetTransform=!0;this.root===this&&(this.nodes=new DT)}addEventListener(p,x){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new l1),this.eventHandlers.get(p).add(x)}notifyListeners(p,...x){const w=this.eventHandlers.get(p);w&&w.notify(...x)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,x=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FT(p),this.instance=p;const{layoutId:w,layout:y,visualElement:E}=this.options;if(E&&!E.current&&E.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),x&&(y||w)&&(this.isLayoutDirty=!0),e){let A;const M=()=>this.root.updateBlockedByResize=!1;e(p,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=kT(M,250),qu.hasAnimatedSinceResize&&(qu.hasAnimatedSinceResize=!1,this.nodes.forEach(Xm))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&E&&(w||y)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:M,hasRelativeTargetChanged:D,layout:F})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||E.getDefaultTransition()||t4,{onLayoutAnimationStart:V,onLayoutAnimationComplete:z}=E.getProps(),k=!this.targetLayout||!Av(this.targetLayout,F)||D,R=!M&&D;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||M&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,R);const Z={...r1(B,"layout"),onPlay:V,onComplete:z};(E.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else M||Xm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=F})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qT),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:x,layout:w}=this.options;if(x===void 0&&!w)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ym);return}this.isUpdating||this.nodes.forEach(YT),this.isUpdating=!1,this.nodes.forEach(XT),this.nodes.forEach(VT),this.nodes.forEach(HT),this.clearAllSnapshots();const x=performance.now();Mn.delta=Es(0,1e3/60,x-Mn.timestamp),Mn.timestamp=x,Mn.isProcessing=!0,of.update.process(Mn),of.preRender.process(Mn),of.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(GT),this.sharedNodes.forEach(JT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let w=0;w<this.path.length;w++)this.path[w].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:x}=this.options;x&&x.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let x=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(x=!1),x&&(this.scroll={animationId:this.root.animationId,phase:p,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!l)return;const p=this.isLayoutDirty||this.shouldResetTransform,x=this.projectionDelta&&!Ev(this.projectionDelta),w=this.getTransformTemplate(),y=w?w(this.latestValues,""):void 0,E=y!==this.prevTransformTemplateValue;p&&(x||Xs(this.latestValues)||E)&&(l(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const x=this.measurePageBox();let w=this.removeElementScroll(x);return p&&(w=this.removeTransform(w)),n4(w),{animationId:this.root.animationId,measuredBox:x,layoutBox:w,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return nn();const x=p.measureViewportBox(),{scroll:w}=this.root;return w&&(ss(x.x,w.offset.x),ss(x.y,w.offset.y)),x}removeElementScroll(p){const x=nn();Ii(x,p);for(let w=0;w<this.path.length;w++){const y=this.path[w],{scroll:E,options:A}=y;if(y!==this.root&&E&&A.layoutScroll){if(E.isRoot){Ii(x,p);const{scroll:M}=this.root;M&&(ss(x.x,-M.offset.x),ss(x.y,-M.offset.y))}ss(x.x,E.offset.x),ss(x.y,E.offset.y)}}return x}applyTransform(p,x=!1){const w=nn();Ii(w,p);for(let y=0;y<this.path.length;y++){const E=this.path[y];!x&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Yo(w,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Xs(E.latestValues)&&Yo(w,E.latestValues)}return Xs(this.latestValues)&&Yo(w,this.latestValues),w}removeTransform(p){const x=nn();Ii(x,p);for(let w=0;w<this.path.length;w++){const y=this.path[w];if(!y.instance||!Xs(y.latestValues))continue;Nd(y.latestValues)&&y.updateSnapshot();const E=nn(),A=y.measurePageBox();Ii(E,A),Um(x,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,E)}return Xs(this.latestValues)&&Um(x,this.latestValues),x}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var x;const w=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=w.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=w.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=w.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==w;if(!(p||y&&this.isSharedProjectionDirty||this.isProjectionDirty||!((x=this.parent)===null||x===void 0)&&x.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:A,layoutId:M}=this.options;if(!(!this.layout||!(A||M))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),gl(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ii(this.target,this.layout.layoutBox),xv(this.target,this.targetDelta)):Ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),gl(this.relativeTargetOrigin,this.target,D.target),Ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ks.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nd(this.parent.latestValues)||gv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const x=this.getLead(),w=!!this.resumingFrom||this!==x;let y=!0;if((this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty)&&(y=!1),w&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(y=!1),y)return;const{layout:E,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||A))return;Ii(this.layoutCorrected,this.layout.layoutBox);const M=this.treeScale.x,D=this.treeScale.y;fT(this.layoutCorrected,this.treeScale,this.path,w),x.layout&&!x.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(x.target=x.layout.layoutBox);const{target:F}=x;if(!F){this.projectionTransform&&(this.projectionDelta=Go(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go());const B=this.projectionTransform;ml(this.projectionDelta,this.layoutCorrected,F,this.latestValues),this.projectionTransform=Wm(this.projectionDelta,this.treeScale),(this.projectionTransform!==B||this.treeScale.x!==M||this.treeScale.y!==D)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",F)),Ks.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),p){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(p,x=!1){const w=this.snapshot,y=w?w.latestValues:{},E={...this.latestValues},A=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!x;const M=nn(),D=w?w.source:void 0,F=this.layout?this.layout.source:void 0,B=D!==F,V=this.getStack(),z=!V||V.members.length<=1,k=!!(B&&!z&&this.options.crossfade===!0&&!this.path.some(e4));this.animationProgress=0;let R;this.mixTargetDelta=Z=>{const te=Z/1e3;Km(A.x,p.x,te),Km(A.y,p.y,te),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(M,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$T(this.relativeTarget,this.relativeTargetOrigin,M,te),R&&PT(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=nn()),Ii(R,this.relativeTarget)),B&&(this.animationValues=E,TT(E,y,this.latestValues,te,k,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{qu.hasAnimatedSinceResize=!0,this.currentAnimation=jT(0,Gm,{...p,onUpdate:x=>{this.mixTargetDelta(x),p.onUpdate&&p.onUpdate(x)},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:x,target:w,layout:y,latestValues:E}=p;if(!(!x||!w||!y)){if(this!==p&&this.layout&&y&&Tv(this.options.animationType,this.layout.layoutBox,y.layoutBox)){w=this.target||nn();const A=mi(this.layout.layoutBox.x);w.x.min=p.target.x.min,w.x.max=w.x.min+A;const M=mi(this.layout.layoutBox.y);w.y.min=p.target.y.min,w.y.max=w.y.min+M}Ii(x,w),Yo(x,E),ml(this.projectionDeltaWithTransform,this.layoutCorrected,x,E)}}registerSharedNode(p,x){this.sharedNodes.has(p)||this.sharedNodes.set(p,new RT),this.sharedNodes.get(p).add(x);const y=x.options.initialPromotionConfig;x.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(x):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var p;const{layoutId:x}=this.options;return x?((p=this.getStack())===null||p===void 0?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:x}=this.options;return x?(p=this.getStack())===null||p===void 0?void 0:p.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:x,preserveFollowOpacity:w}={}){const y=this.getStack();y&&y.promote(this,w),p&&(this.projectionDelta=void 0,this.needsReset=!0),x&&this.setOptions({transition:x})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetRotation(){const{visualElement:p}=this.options;if(!p)return;let x=!1;const{latestValues:w}=p;if((w.rotate||w.rotateX||w.rotateY||w.rotateZ)&&(x=!0),!x)return;const y={};for(let E=0;E<Zm.length;E++){const A="rotate"+Zm[E];w[A]&&(y[A]=w[A],p.setStaticValue(A,0))}p.render();for(const E in y)p.setStaticValue(E,y[E]);p.scheduleRender()}getProjectionStyles(p){var x,w;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zT;const y={visibility:""},E=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=Qu(p==null?void 0:p.pointerEvents)||"",y.transform=E?E(this.latestValues,""):"none",y;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const B={};return this.options.layoutId&&(B.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,B.pointerEvents=Qu(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!Xs(this.latestValues)&&(B.transform=E?E({},""):"none",this.hasProjected=!1),B}const M=A.animationValues||A.latestValues;this.applyTransformsToTarget(),y.transform=Wm(this.projectionDeltaWithTransform,this.treeScale,M),E&&(y.transform=E(M,y.transform));const{x:D,y:F}=this.projectionDelta;y.transformOrigin=`${D.origin*100}% ${F.origin*100}% 0`,A.animationValues?y.opacity=A===this?(w=(x=M.opacity)!==null&&x!==void 0?x:this.latestValues.opacity)!==null&&w!==void 0?w:1:this.preserveOpacity?this.latestValues.opacity:M.opacityExit:y.opacity=A===this?M.opacity!==void 0?M.opacity:"":M.opacityExit!==void 0?M.opacityExit:0;for(const B in Tc){if(M[B]===void 0)continue;const{correct:V,applyTo:z}=Tc[B],k=y.transform==="none"?M[B]:V(M[B],A);if(z){const R=z.length;for(let Z=0;Z<R;Z++)y[z[Z]]=k}else y[B]=k}return this.options.layoutId&&(y.pointerEvents=A===this?Qu(p==null?void 0:p.pointerEvents)||"":"none"),y}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var x;return(x=p.currentAnimation)===null||x===void 0?void 0:x.stop()}),this.root.nodes.forEach(Ym),this.root.sharedNodes.clear()}}}function VT(e){e.updateLayout()}function HT(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:l}=e.layout,{animationType:c}=e.options,p=n.source!==e.layout.source;c==="size"?Mi(A=>{const M=p?n.measuredBox[A]:n.layoutBox[A],D=mi(M);M.min=r[A].min,M.max=M.min+D}):Tv(c,n.layoutBox,r)&&Mi(A=>{const M=p?n.measuredBox[A]:n.layoutBox[A],D=mi(r[A]);M.max=M.min+D,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+D)});const x=Go();ml(x,r,n.layoutBox);const w=Go();p?ml(w,e.applyTransform(l,!0),n.measuredBox):ml(w,r,n.layoutBox);const y=!Ev(x);let E=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:M,layout:D}=A;if(M&&D){const F=nn();gl(F,n.layoutBox,M.layoutBox);const B=nn();gl(B,r,D.layoutBox),Av(F,B)||(E=!0),A.options.layoutRoot&&(e.relativeTarget=B,e.relativeTargetOrigin=F,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:w,layoutDelta:x,hasLayoutChanged:y,hasRelativeTargetChanged:E})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WT(e){Ks.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function GT(e){e.clearSnapshot()}function Ym(e){e.clearMeasurements()}function YT(e){e.isLayoutDirty=!1}function XT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KT(e){e.resolveTargetDelta()}function QT(e){e.calcProjection()}function qT(e){e.resetRotation()}function JT(e){e.removeLeadSnapshot()}function Km(e,t,n){e.translate=Ut(t.translate,0,n),e.scale=Ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qm(e,t,n,r){e.min=Ut(t.min,n.min,r),e.max=Ut(t.max,n.max,r)}function $T(e,t,n,r){Qm(e.x,t.x,n.x,r),Qm(e.y,t.y,n.y,r)}function e4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const t4={duration:.45,ease:[.4,0,.1,1]},qm=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Jm=qm("applewebkit/")&&!qm("chrome/")?Math.round:qt;function $m(e){e.min=Jm(e.min),e.max=Jm(e.max)}function n4(e){$m(e.x),$m(e.y)}function Tv(e,t,n){return e==="position"||e==="preserve-aspect"&&!bd(Hm(t),Hm(n),.2)}const i4=Sv({attachResizeListener:(e,t)=>Nr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xf={current:void 0},bv=Sv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xf.current){const e=new i4({});e.mount(window),e.setOptions({layoutScroll:!0}),xf.current=e}return xf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),r4={pan:{Feature:wT},drag:{Feature:vT,ProjectionNode:bv,MeasureLayout:wv}},s4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function o4(e){const t=s4.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Od(e,t,n=1){const[r,l]=o4(e);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const p=c.trim();return uv(p)?parseFloat(p):p}else return wd(l)?Od(l,t,n+1):l}function a4(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(l=>{const c=l.get();if(!wd(c))return;const p=Od(c,r);p&&l.set(p)});for(const l in t){const c=t[l];if(!wd(c))continue;const p=Od(c,r);p&&(t[l]=p,n||(n={}),n[l]===void 0&&(n[l]=c))}return{target:t,transitionEnd:n}}const l4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Iv=e=>l4.has(e),u4=e=>Object.keys(e).some(Iv),eg=e=>e===_o||e===ze,tg=(e,t)=>parseFloat(e.split(", ")[t]),ng=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const l=r.match(/^matrix3d\((.+)\)$/);if(l)return tg(l[1],t);{const c=r.match(/^matrix\((.+)\)$/);return c?tg(c[1],e):0}},c4=new Set(["x","y","z"]),h4=Zl.filter(e=>!c4.has(e));function f4(e){const t=[];return h4.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ua={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ng(4,13),y:ng(5,14)};ua.translateX=ua.x;ua.translateY=ua.y;const d4=(e,t,n)=>{const r=t.measureViewportBox(),l=t.current,c=getComputedStyle(l),{display:p}=c,x={};p==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(y=>{x[y]=ua[y](r,c)}),t.render();const w=t.measureViewportBox();return n.forEach(y=>{const E=t.getValue(y);E&&E.jump(x[y]),e[y]=ua[y](w,c)}),e},p4=(e,t,n={},r={})=>{t={...t},r={...r};const l=Object.keys(t).filter(Iv);let c=[],p=!1;const x=[];if(l.forEach(w=>{const y=e.getValue(w);if(!e.hasValue(w))return;let E=n[w],A=Qa(E);const M=t[w];let D;if(Ic(M)){const F=M.length,B=M[0]===null?1:0;E=M[B],A=Qa(E);for(let V=B;V<F&&M[V]!==null;V++)D?$0(Qa(M[V])===D):D=Qa(M[V])}else D=Qa(M);if(A!==D)if(eg(A)&&eg(D)){const F=y.get();typeof F=="string"&&y.set(parseFloat(F)),typeof M=="string"?t[w]=parseFloat(M):Array.isArray(M)&&D===ze&&(t[w]=M.map(parseFloat))}else A!=null&&A.transform&&(D!=null&&D.transform)&&(E===0||M===0)?E===0?y.set(D.transform(E)):t[w]=A.transform(M):(p||(c=f4(e),p=!0),x.push(w),r[w]=r[w]!==void 0?r[w]:t[w],y.jump(M))}),x.length){const w=x.indexOf("height")>=0?window.pageYOffset:null,y=d4(t,e,x);return c.length&&c.forEach(([E,A])=>{e.getValue(E).set(A)}),e.render(),rh&&w!==null&&window.scrollTo({top:w}),{target:y,transitionEnd:r}}else return{target:t,transitionEnd:r}};function m4(e,t,n,r){return u4(t)?p4(e,t,n,r):{target:t,transitionEnd:r}}const g4=(e,t,n,r)=>{const l=a4(e,t,r);return t=l.target,r=l.transitionEnd,m4(e,t,n,r)},Pd={current:null},Nv={current:!1};function x4(){if(Nv.current=!0,!!rh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pd.current=e.matches;e.addListener(t),t()}else Pd.current=!1}function y4(e,t,n){const{willChange:r}=t;for(const l in t){const c=t[l],p=n[l];if(ni(c))e.addValue(l,c),Pc(r)&&r.add(l);else if(ni(p))e.addValue(l,la(c,{owner:e})),Pc(r)&&r.remove(l);else if(p!==c)if(e.hasValue(l)){const x=e.getValue(l);!x.hasAnimated&&x.set(c)}else{const x=e.getStaticValue(l);e.addValue(l,la(x!==void 0?x:c,{owner:e}))}}for(const l in n)t[l]===void 0&&e.removeValue(l);return t}const ig=new WeakMap,Mv=Object.keys(Bl),v4=Mv.length,rg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],w4=W0.length;class _4{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:l,visualState:c},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Nt.render(this.render,!1,!0);const{latestValues:x,renderState:w}=c;this.latestValues=x,this.baseTarget={...x},this.initialValues=n.initial?{...x}:{},this.renderState=w,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.isControllingVariants=oh(n),this.isVariantNode=py(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...E}=this.scrapeMotionValuesFromProps(n,{});for(const A in E){const M=E[A];x[A]!==void 0&&ni(M)&&(M.set(x[A],!1),Pc(y)&&y.add(A))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,ig.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Nv.current||x4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ig.delete(this.current),this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=wo.has(t),l=n.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Nt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),c=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{l(),c()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,l,c){let p,x;for(let w=0;w<v4;w++){const y=Mv[w],{isEnabled:E,Feature:A,ProjectionNode:M,MeasureLayout:D}=Bl[y];M&&(p=M),E(n)&&(!this.features[y]&&A&&(this.features[y]=new A(this)),D&&(x=D))}if((this.type==="html"||this.type==="svg")&&!this.projection&&p){this.projection=new p(this.latestValues,this.parent&&this.parent.projection);const{layoutId:w,layout:y,drag:E,dragConstraints:A,layoutScroll:M,layoutRoot:D}=n;this.projection.setOptions({layoutId:w,layout:y,alwaysMeasureLayout:!!E||A&&Wo(A),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof y=="string"?y:"both",initialPromotionConfig:c,layoutScroll:M,layoutRoot:D})}return x}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rg.length;r++){const l=rg[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c=t["on"+l];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=y4(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<w4;r++){const l=W0[r],c=this.props[l];(kl(c)||c===!1)&&(n[l]=c)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=la(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,l=typeof r=="string"||typeof r=="object"?(n=J0(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&l!==void 0)return l;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!ni(c)?c:this.initialValues[t]!==void 0&&l===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new l1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ov extends _4{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:l},c){let p=FS(r,t||{},this);if(l&&(n&&(n=l(n)),r&&(r=l(r)),p&&(p=l(p))),c){kS(this,r,p);const x=g4(this,r,p,n);n=x.transitionEnd,r=x.target}return{transition:t,transitionEnd:n,...r}}}function C4(e){return window.getComputedStyle(e)}class E4 extends Ov{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(wo.has(n)){const r=i1(n);return r&&r.default||0}else{const r=C4(t),l=(yy(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yv(t,n)}build(t,n,r,l){Y0(t,n,r,l.transformTemplate)}scrapeMotionValuesFromProps(t,n){return q0(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ni(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,l){Ay(t,n,r,l)}}class A4 extends Ov{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wo.has(n)){const r=i1(n);return r&&r.default||0}return n=Sy.has(n)?n:V0(n),t.getAttribute(n)}measureInstanceViewportBox(){return nn()}scrapeMotionValuesFromProps(t,n){return by(t,n)}build(t,n,r,l){K0(t,n,r,this.isSVGTag,l.transformTemplate)}renderInstance(t,n,r,l){Ty(t,n,r,l)}mount(t){this.isSVGTag=Q0(t.tagName),super.mount(t)}}const S4=(e,t)=>G0(e)?new A4(t,{enableHardwareAcceleration:!1}):new E4(t,{enableHardwareAcceleration:!0}),T4={layout:{ProjectionNode:bv,MeasureLayout:wv}},b4={...$S,...vA,...r4,...T4},bt=I3((e,t)=>oA(e,t,b4,S4));function Pv(){const e=W.useRef(!1);return U0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function I4(){const e=Pv(),[t,n]=W.useState(0),r=W.useCallback(()=>{e.current&&n(t+1)},[t]);return[W.useCallback(()=>Nt.postRender(r),[r]),t]}class N4 extends W.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function M4({children:e,isPresent:t}){const n=W.useId(),r=W.useRef(null),l=W.useRef({width:0,height:0,top:0,left:0});return W.useInsertionEffect(()=>{const{width:c,height:p,top:x,left:w}=l.current;if(t||!r.current||!c||!p)return;r.current.dataset.motionPopId=n;const y=document.createElement("style");return document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${p}px !important;
            top: ${x}px !important;
            left: ${w}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),W.createElement(N4,{isPresent:t,childRef:r,sizeRef:l},W.cloneElement(e,{ref:r}))}const yf=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:c,mode:p})=>{const x=Iy(O4),w=W.useId(),y=W.useMemo(()=>({id:w,initial:t,isPresent:n,custom:l,onExitComplete:E=>{x.set(E,!0);for(const A of x.values())if(!A)return;r&&r()},register:E=>(x.set(E,!1),()=>x.delete(E))}),c?void 0:[n]);return W.useMemo(()=>{x.forEach((E,A)=>x.set(A,!1))},[n]),W.useEffect(()=>{!n&&!x.size&&r&&r()},[n]),p==="popLayout"&&(e=W.createElement(M4,{isPresent:n},e)),W.createElement(ih.Provider,{value:y},e)};function O4(){return new Map}function P4(e){return W.useEffect(()=>()=>e(),[])}const Qs=e=>e.key||"";function R4(e,t){e.forEach(n=>{const r=Qs(n);t.set(r,n)})}function L4(e){const t=[];return W.Children.forEach(e,n=>{W.isValidElement(n)&&t.push(n)}),t}const Rd=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:p="sync"})=>{const x=W.useContext(Z0).forceRender||I4()[0],w=Pv(),y=L4(e);let E=y;const A=W.useRef(new Map).current,M=W.useRef(E),D=W.useRef(new Map).current,F=W.useRef(!0);if(U0(()=>{F.current=!1,R4(y,D),M.current=E}),P4(()=>{F.current=!0,D.clear(),A.clear()}),F.current)return W.createElement(W.Fragment,null,E.map(k=>W.createElement(yf,{key:Qs(k),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:c,mode:p},k)));E=[...E];const B=M.current.map(Qs),V=y.map(Qs),z=B.length;for(let k=0;k<z;k++){const R=B[k];V.indexOf(R)===-1&&!A.has(R)&&A.set(R,void 0)}return p==="wait"&&A.size&&(E=[]),A.forEach((k,R)=>{if(V.indexOf(R)!==-1)return;const Z=D.get(R);if(!Z)return;const te=B.indexOf(R);let se=k;if(!se){const X=()=>{A.delete(R);const oe=Array.from(D.keys()).filter(J=>!V.includes(J));if(oe.forEach(J=>D.delete(J)),M.current=y.filter(J=>{const fe=Qs(J);return fe===R||oe.includes(fe)}),!A.size){if(w.current===!1)return;x(),r&&r()}};se=W.createElement(yf,{key:Qs(Z),isPresent:!1,onExitComplete:X,custom:t,presenceAffectsLayout:c,mode:p},Z),A.set(R,se)}E.splice(te,0,se)}),E=E.map(k=>{const R=k.key;return A.has(R)?k:W.createElement(yf,{key:Qs(k),isPresent:!0,presenceAffectsLayout:c,mode:p},k)}),W.createElement(W.Fragment,null,A.size?E:E.map(k=>W.cloneElement(k)))};var D4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const k4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qe=(e,t)=>{const n=W.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:p,children:x,...w},y)=>W.createElement("svg",{ref:y,...D4,width:l,height:l,stroke:r,strokeWidth:p?Number(c)*24/Number(l):c,className:`lucide lucide-${k4(e)}`,...w},[...t.map(([E,A])=>W.createElement(E,A)),...(Array.isArray(x)?x:[x])||[]]));return n.displayName=`${e}`,n},B4=Qe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Rv=Qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Lc=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),F4=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),j4=Qe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),z4=Qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),U4=Qe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ld=Qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),V4=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),H4=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ca=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ku=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),W4=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Z4=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),G4=Qe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Y4=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),X4=Qe("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),K4=Qe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),jl=Qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Q4=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),q4=Qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),J4=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$4=Qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),eb=Qe("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),tb=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Lv=Qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),fo=Qe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),nb=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Dv=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ib=Qe("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),kv=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),rb=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sb=Qe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ob=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Bv=Qe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),u1=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),c1=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ab=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fv=Qe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),lb=({to:e,icon:t,label:n,isActive:r})=>b.jsxs(x3,{to:e,className:`relative flex flex-col items-center justify-center gap-1.5 px-5 py-3 rounded-2xl transition-all duration-300 ${r?"text-white":"text-slate-500 hover:text-slate-300"}`,children:[r&&b.jsx(bt.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-gradient-to-t from-brand-blue/20 to-transparent rounded-2xl border-b-2 border-brand-blue shadow-[0_0_20px_rgba(59,130,246,0.5)]",transition:{type:"spring",stiffness:300,damping:30}}),b.jsx(t,{size:22,className:`relative z-10 transition-all duration-300 ${r?"scale-110 drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]":"scale-100"}`,strokeWidth:r?2.5:2}),b.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wide relative z-10 ${r?"text-white drop-shadow-md":"opacity-70"}`,children:n})]});function ub(){const t=yo().pathname,n=[{to:"/home",icon:G4,label:"Home"},{to:"/shipments",icon:fo,label:"Track"},{to:"/history",icon:Z4,label:"History"},{to:"/settings",icon:rb,label:"Settings"}];return b.jsx("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4",children:b.jsxs("div",{className:"glass-strong rounded-[32px] border-iridescent shadow-2xl px-2 py-2 flex justify-around items-center relative backdrop-blur-2xl",children:[b.jsx("div",{className:"absolute inset-x-4 top-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),n.map(r=>b.jsx(lb,{to:r.to,icon:r.icon,label:r.label,isActive:t===r.to||t==="/"&&r.to==="/home"},r.to))]})})}function cb(){return b.jsxs("div",{className:"min-h-screen pb-32",children:[" ",b.jsx("div",{className:"max-w-xl mx-auto",children:b.jsx(s3,{})}),b.jsx(ub,{})]})}const sg=e=>{try{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch{return null}},jv=W.createContext(),hb=({children:e})=>{const[t,n]=W.useState(null),[r,l]=W.useState(!0);W.useEffect(()=>{const x=localStorage.getItem("token");if(x){const w=sg(x);w&&w.sub?n({username:w.sub,driver_id:w.driver_id,role:w.role,token:x}):(console.warn("Invalid/undecodable token in localStorage; clearing it."),localStorage.removeItem("token"))}l(!1)},[]);const c=(x,w)=>{localStorage.setItem("token",x);const y=sg(x);if(!y||!y.sub){console.error("Login returned an invalid token; clearing it."),localStorage.removeItem("token"),n(null);return}n({username:y.sub,driver_id:y.driver_id,role:w||y.role,token:x})},p=()=>{localStorage.setItem("token",""),localStorage.removeItem("token"),n(null)};return b.jsx(jv.Provider,{value:{user:t,login:c,logout:p,loading:r},children:!r&&e})},Kl=()=>W.useContext(jv);function zv(e,t){return function(){return e.apply(t,arguments)}}const{toString:fb}=Object.prototype,{getPrototypeOf:h1}=Object,{iterator:ch,toStringTag:Uv}=Symbol,hh=(e=>t=>{const n=fb.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),er=e=>(e=e.toLowerCase(),t=>hh(t)===e),fh=e=>t=>typeof t===e,{isArray:ga}=Array,ha=fh("undefined");function Ql(e){return e!==null&&!ha(e)&&e.constructor!==null&&!ha(e.constructor)&&ei(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vv=er("ArrayBuffer");function db(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vv(e.buffer),t}const pb=fh("string"),ei=fh("function"),Hv=fh("number"),ql=e=>e!==null&&typeof e=="object",mb=e=>e===!0||e===!1,Ju=e=>{if(hh(e)!=="object")return!1;const t=h1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Uv in e)&&!(ch in e)},gb=e=>{if(!ql(e)||Ql(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},xb=er("Date"),yb=er("File"),vb=er("Blob"),wb=er("FileList"),_b=e=>ql(e)&&ei(e.pipe),Cb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ei(e.append)&&((t=hh(e))==="formdata"||t==="object"&&ei(e.toString)&&e.toString()==="[object FormData]"))},Eb=er("URLSearchParams"),[Ab,Sb,Tb,bb]=["ReadableStream","Request","Response","Headers"].map(er),Ib=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),ga(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{if(Ql(e))return;const c=n?Object.getOwnPropertyNames(e):Object.keys(e),p=c.length;let x;for(r=0;r<p;r++)x=c[r],t.call(null,e[x],x,e)}}function Wv(e,t){if(Ql(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const to=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zv=e=>!ha(e)&&e!==to;function Dd(){const{caseless:e,skipUndefined:t}=Zv(this)&&this||{},n={},r=(l,c)=>{if(c==="__proto__"||c==="constructor"||c==="prototype")return;const p=e&&Wv(n,c)||c;Ju(n[p])&&Ju(l)?n[p]=Dd(n[p],l):Ju(l)?n[p]=Dd({},l):ga(l)?n[p]=l.slice():(!t||!ha(l))&&(n[p]=l)};for(let l=0,c=arguments.length;l<c;l++)arguments[l]&&Jl(arguments[l],r);return n}const Nb=(e,t,n,{allOwnKeys:r}={})=>(Jl(t,(l,c)=>{n&&ei(l)?Object.defineProperty(e,c,{value:zv(l,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,c,{value:l,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),Mb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ob=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Pb=(e,t,n,r)=>{let l,c,p;const x={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),c=l.length;c-- >0;)p=l[c],(!r||r(p,e,t))&&!x[p]&&(t[p]=e[p],x[p]=!0);e=n!==!1&&h1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Rb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Lb=e=>{if(!e)return null;if(ga(e))return e;let t=e.length;if(!Hv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Db=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&h1(Uint8Array)),kb=(e,t)=>{const r=(e&&e[ch]).call(e);let l;for(;(l=r.next())&&!l.done;){const c=l.value;t.call(e,c[0],c[1])}},Bb=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Fb=er("HTMLFormElement"),jb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),og=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zb=er("RegExp"),Gv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Jl(n,(l,c)=>{let p;(p=t(l,c,e))!==!1&&(r[c]=p||l)}),Object.defineProperties(e,r)},Ub=e=>{Gv(e,(t,n)=>{if(ei(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ei(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Vb=(e,t)=>{const n={},r=l=>{l.forEach(c=>{n[c]=!0})};return ga(e)?r(e):r(String(e).split(t)),n},Hb=()=>{},Wb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Zb(e){return!!(e&&ei(e.append)&&e[Uv]==="FormData"&&e[ch])}const Gb=e=>{const t=new Array(10),n=(r,l)=>{if(ql(r)){if(t.indexOf(r)>=0)return;if(Ql(r))return r;if(!("toJSON"in r)){t[l]=r;const c=ga(r)?[]:{};return Jl(r,(p,x)=>{const w=n(p,l+1);!ha(w)&&(c[x]=w)}),t[l]=void 0,c}}return r};return n(e,0)},Yb=er("AsyncFunction"),Xb=e=>e&&(ql(e)||ei(e))&&ei(e.then)&&ei(e.catch),Yv=((e,t)=>e?setImmediate:t?((n,r)=>(to.addEventListener("message",({source:l,data:c})=>{l===to&&c===n&&r.length&&r.shift()()},!1),l=>{r.push(l),to.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ei(to.postMessage)),Kb=typeof queueMicrotask<"u"?queueMicrotask.bind(to):typeof process<"u"&&process.nextTick||Yv,Qb=e=>e!=null&&ei(e[ch]),ie={isArray:ga,isArrayBuffer:Vv,isBuffer:Ql,isFormData:Cb,isArrayBufferView:db,isString:pb,isNumber:Hv,isBoolean:mb,isObject:ql,isPlainObject:Ju,isEmptyObject:gb,isReadableStream:Ab,isRequest:Sb,isResponse:Tb,isHeaders:bb,isUndefined:ha,isDate:xb,isFile:yb,isBlob:vb,isRegExp:zb,isFunction:ei,isStream:_b,isURLSearchParams:Eb,isTypedArray:Db,isFileList:wb,forEach:Jl,merge:Dd,extend:Nb,trim:Ib,stripBOM:Mb,inherits:Ob,toFlatObject:Pb,kindOf:hh,kindOfTest:er,endsWith:Rb,toArray:Lb,forEachEntry:kb,matchAll:Bb,isHTMLForm:Fb,hasOwnProperty:og,hasOwnProp:og,reduceDescriptors:Gv,freezeMethods:Ub,toObjectSet:Vb,toCamelCase:jb,noop:Hb,toFiniteNumber:Wb,findKey:Wv,global:to,isContextDefined:Zv,isSpecCompliantForm:Zb,toJSONObject:Gb,isAsyncFn:Yb,isThenable:Xb,setImmediate:Yv,asap:Kb,isIterable:Qb};let Ve=class Xv extends Error{static from(t,n,r,l,c,p){const x=new Xv(t.message,n||t.code,r,l,c);return x.cause=t,x.name=t.name,p&&Object.assign(x,p),x}constructor(t,n,r,l,c){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),l&&(this.request=l),c&&(this.response=c,this.status=c.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}};Ve.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ve.ERR_BAD_OPTION="ERR_BAD_OPTION";Ve.ECONNABORTED="ECONNABORTED";Ve.ETIMEDOUT="ETIMEDOUT";Ve.ERR_NETWORK="ERR_NETWORK";Ve.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ve.ERR_DEPRECATED="ERR_DEPRECATED";Ve.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ve.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ve.ERR_CANCELED="ERR_CANCELED";Ve.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ve.ERR_INVALID_URL="ERR_INVALID_URL";const qb=null;function kd(e){return ie.isPlainObject(e)||ie.isArray(e)}function Kv(e){return ie.endsWith(e,"[]")?e.slice(0,-2):e}function ag(e,t,n){return e?e.concat(t).map(function(l,c){return l=Kv(l),!n&&c?"["+l+"]":l}).join(n?".":""):t}function Jb(e){return ie.isArray(e)&&!e.some(kd)}const $b=ie.toFlatObject(ie,{},null,function(t){return/^is[A-Z]/.test(t)});function dh(e,t,n){if(!ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,V){return!ie.isUndefined(V[B])});const r=n.metaTokens,l=n.visitor||E,c=n.dots,p=n.indexes,w=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(t);if(!ie.isFunction(l))throw new TypeError("visitor must be a function");function y(F){if(F===null)return"";if(ie.isDate(F))return F.toISOString();if(ie.isBoolean(F))return F.toString();if(!w&&ie.isBlob(F))throw new Ve("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(F)||ie.isTypedArray(F)?w&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function E(F,B,V){let z=F;if(F&&!V&&typeof F=="object"){if(ie.endsWith(B,"{}"))B=r?B:B.slice(0,-2),F=JSON.stringify(F);else if(ie.isArray(F)&&Jb(F)||(ie.isFileList(F)||ie.endsWith(B,"[]"))&&(z=ie.toArray(F)))return B=Kv(B),z.forEach(function(R,Z){!(ie.isUndefined(R)||R===null)&&t.append(p===!0?ag([B],Z,c):p===null?B:B+"[]",y(R))}),!1}return kd(F)?!0:(t.append(ag(V,B,c),y(F)),!1)}const A=[],M=Object.assign($b,{defaultVisitor:E,convertValue:y,isVisitable:kd});function D(F,B){if(!ie.isUndefined(F)){if(A.indexOf(F)!==-1)throw Error("Circular reference detected in "+B.join("."));A.push(F),ie.forEach(F,function(z,k){(!(ie.isUndefined(z)||z===null)&&l.call(t,z,ie.isString(k)?k.trim():k,B,M))===!0&&D(z,B?B.concat(k):[k])}),A.pop()}}if(!ie.isObject(e))throw new TypeError("data must be an object");return D(e),t}function lg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function f1(e,t){this._pairs=[],e&&dh(e,this,t)}const Qv=f1.prototype;Qv.append=function(t,n){this._pairs.push([t,n])};Qv.toString=function(t){const n=t?function(r){return t.call(this,r,lg)}:lg;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function eI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qv(e,t,n){if(!t)return e;const r=n&&n.encode||eI,l=ie.isFunction(n)?{serialize:n}:n,c=l&&l.serialize;let p;if(c?p=c(t,l):p=ie.isURLSearchParams(t)?t.toString():new f1(t,l).toString(r),p){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class ug{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ie.forEach(this.handlers,function(r){r!==null&&t(r)})}}const d1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},tI=typeof URLSearchParams<"u"?URLSearchParams:f1,nI=typeof FormData<"u"?FormData:null,iI=typeof Blob<"u"?Blob:null,rI={isBrowser:!0,classes:{URLSearchParams:tI,FormData:nI,Blob:iI},protocols:["http","https","file","blob","url","data"]},p1=typeof window<"u"&&typeof document<"u",Bd=typeof navigator=="object"&&navigator||void 0,sI=p1&&(!Bd||["ReactNative","NativeScript","NS"].indexOf(Bd.product)<0),oI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aI=p1&&window.location.href||"http://localhost",lI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:p1,hasStandardBrowserEnv:sI,hasStandardBrowserWebWorkerEnv:oI,navigator:Bd,origin:aI},Symbol.toStringTag,{value:"Module"})),Pn={...lI,...rI};function uI(e,t){return dh(e,new Pn.classes.URLSearchParams,{visitor:function(n,r,l,c){return Pn.isNode&&ie.isBuffer(n)?(this.append(r,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function cI(e){return ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hI(e){const t={},n=Object.keys(e);let r;const l=n.length;let c;for(r=0;r<l;r++)c=n[r],t[c]=e[c];return t}function Jv(e){function t(n,r,l,c){let p=n[c++];if(p==="__proto__")return!0;const x=Number.isFinite(+p),w=c>=n.length;return p=!p&&ie.isArray(l)?l.length:p,w?(ie.hasOwnProp(l,p)?l[p]=[l[p],r]:l[p]=r,!x):((!l[p]||!ie.isObject(l[p]))&&(l[p]=[]),t(n,r,l[p],c)&&ie.isArray(l[p])&&(l[p]=hI(l[p])),!x)}if(ie.isFormData(e)&&ie.isFunction(e.entries)){const n={};return ie.forEachEntry(e,(r,l)=>{t(cI(r),l,n,0)}),n}return null}function fI(e,t,n){if(ie.isString(e))try{return(t||JSON.parse)(e),ie.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const $l={transitional:d1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,c=ie.isObject(t);if(c&&ie.isHTMLForm(t)&&(t=new FormData(t)),ie.isFormData(t))return l?JSON.stringify(Jv(t)):t;if(ie.isArrayBuffer(t)||ie.isBuffer(t)||ie.isStream(t)||ie.isFile(t)||ie.isBlob(t)||ie.isReadableStream(t))return t;if(ie.isArrayBufferView(t))return t.buffer;if(ie.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return uI(t,this.formSerializer).toString();if((x=ie.isFileList(t))||r.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return dh(x?{"files[]":t}:t,w&&new w,this.formSerializer)}}return c||l?(n.setContentType("application/json",!1),fI(t)):t}],transformResponse:[function(t){const n=this.transitional||$l.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(ie.isResponse(t)||ie.isReadableStream(t))return t;if(t&&ie.isString(t)&&(r&&!this.responseType||l)){const p=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(x){if(p)throw x.name==="SyntaxError"?Ve.from(x,Ve.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],e=>{$l.headers[e]={}});const dI=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pI=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(p){l=p.indexOf(":"),n=p.substring(0,l).trim().toLowerCase(),r=p.substring(l+1).trim(),!(!n||t[n]&&dI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},cg=Symbol("internals");function Ja(e){return e&&String(e).trim().toLowerCase()}function $u(e){return e===!1||e==null?e:ie.isArray(e)?e.map($u):String(e)}function mI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const gI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vf(e,t,n,r,l){if(ie.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!ie.isString(t)){if(ie.isString(r))return t.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(t)}}function xI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yI(e,t){const n=ie.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,c,p){return this[r].call(this,t,l,c,p)},configurable:!0})})}let ti=class{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function c(x,w,y){const E=Ja(w);if(!E)throw new Error("header name must be a non-empty string");const A=ie.findKey(l,E);(!A||l[A]===void 0||y===!0||y===void 0&&l[A]!==!1)&&(l[A||w]=$u(x))}const p=(x,w)=>ie.forEach(x,(y,E)=>c(y,E,w));if(ie.isPlainObject(t)||t instanceof this.constructor)p(t,n);else if(ie.isString(t)&&(t=t.trim())&&!gI(t))p(pI(t),n);else if(ie.isObject(t)&&ie.isIterable(t)){let x={},w,y;for(const E of t){if(!ie.isArray(E))throw TypeError("Object iterator must return a key-value pair");x[y=E[0]]=(w=x[y])?ie.isArray(w)?[...w,E[1]]:[w,E[1]]:E[1]}p(x,n)}else t!=null&&c(n,t,r);return this}get(t,n){if(t=Ja(t),t){const r=ie.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return mI(l);if(ie.isFunction(n))return n.call(this,l,r);if(ie.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ja(t),t){const r=ie.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||vf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function c(p){if(p=Ja(p),p){const x=ie.findKey(r,p);x&&(!n||vf(r,r[x],x,n))&&(delete r[x],l=!0)}}return ie.isArray(t)?t.forEach(c):c(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const c=n[r];(!t||vf(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const n=this,r={};return ie.forEach(this,(l,c)=>{const p=ie.findKey(r,c);if(p){n[p]=$u(l),delete n[c];return}const x=t?xI(c):String(c).trim();x!==c&&delete n[c],n[x]=$u(l),r[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ie.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&ie.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[cg]=this[cg]={accessors:{}}).accessors,l=this.prototype;function c(p){const x=Ja(p);r[x]||(yI(l,p),r[x]=!0)}return ie.isArray(t)?t.forEach(c):c(t),this}};ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(ti.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ie.freezeMethods(ti);function wf(e,t){const n=this||$l,r=t||n,l=ti.from(r.headers);let c=r.data;return ie.forEach(e,function(x){c=x.call(n,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function $v(e){return!!(e&&e.__CANCEL__)}let eu=class extends Ve{constructor(t,n,r){super(t??"canceled",Ve.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function ew(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ve("Request failed with status code "+n.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,c=0,p;return t=t!==void 0?t:1e3,function(w){const y=Date.now(),E=r[c];p||(p=y),n[l]=w,r[l]=y;let A=c,M=0;for(;A!==l;)M+=n[A++],A=A%e;if(l=(l+1)%e,l===c&&(c=(c+1)%e),y-p<t)return;const D=E&&y-E;return D?Math.round(M*1e3/D):void 0}}function _I(e,t){let n=0,r=1e3/t,l,c;const p=(y,E=Date.now())=>{n=E,l=null,c&&(clearTimeout(c),c=null),e(...y)};return[(...y)=>{const E=Date.now(),A=E-n;A>=r?p(y,E):(l=y,c||(c=setTimeout(()=>{c=null,p(l)},r-A)))},()=>l&&p(l)]}const Dc=(e,t,n=3)=>{let r=0;const l=wI(50,250);return _I(c=>{const p=c.loaded,x=c.lengthComputable?c.total:void 0,w=p-r,y=l(w),E=p<=x;r=p;const A={loaded:p,total:x,progress:x?p/x:void 0,bytes:w,rate:y||void 0,estimated:y&&x&&E?(x-p)/y:void 0,event:c,lengthComputable:x!=null,[t?"download":"upload"]:!0};e(A)},n)},hg=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},fg=e=>(...t)=>ie.asap(()=>e(...t)),CI=Pn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Pn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0,EI=Pn.hasStandardBrowserEnv?{write(e,t,n,r,l,c,p){if(typeof document>"u")return;const x=[`${e}=${encodeURIComponent(t)}`];ie.isNumber(n)&&x.push(`expires=${new Date(n).toUTCString()}`),ie.isString(r)&&x.push(`path=${r}`),ie.isString(l)&&x.push(`domain=${l}`),c===!0&&x.push("secure"),ie.isString(p)&&x.push(`SameSite=${p}`),document.cookie=x.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function AI(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function SI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tw(e,t,n){let r=!AI(t);return e&&(r||n==!1)?SI(e,t):t}const dg=e=>e instanceof ti?{...e}:e;function po(e,t){t=t||{};const n={};function r(y,E,A,M){return ie.isPlainObject(y)&&ie.isPlainObject(E)?ie.merge.call({caseless:M},y,E):ie.isPlainObject(E)?ie.merge({},E):ie.isArray(E)?E.slice():E}function l(y,E,A,M){if(ie.isUndefined(E)){if(!ie.isUndefined(y))return r(void 0,y,A,M)}else return r(y,E,A,M)}function c(y,E){if(!ie.isUndefined(E))return r(void 0,E)}function p(y,E){if(ie.isUndefined(E)){if(!ie.isUndefined(y))return r(void 0,y)}else return r(void 0,E)}function x(y,E,A){if(A in t)return r(y,E);if(A in e)return r(void 0,y)}const w={url:c,method:c,data:c,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:x,headers:(y,E,A)=>l(dg(y),dg(E),A,!0)};return ie.forEach(Object.keys({...e,...t}),function(E){if(E==="__proto__"||E==="constructor"||E==="prototype")return;const A=ie.hasOwnProp(w,E)?w[E]:l,M=A(e[E],t[E],E);ie.isUndefined(M)&&A!==x||(n[E]=M)}),n}const nw=e=>{const t=po({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:c,headers:p,auth:x}=t;if(t.headers=p=ti.from(p),t.url=qv(tw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&p.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),ie.isFormData(n)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(ie.isFunction(n.getHeaders)){const w=n.getHeaders(),y=["content-type","content-length"];Object.entries(w).forEach(([E,A])=>{y.includes(E.toLowerCase())&&p.set(E,A)})}}if(Pn.hasStandardBrowserEnv&&(r&&ie.isFunction(r)&&(r=r(t)),r||r!==!1&&CI(t.url))){const w=l&&c&&EI.read(c);w&&p.set(l,w)}return t},TI=typeof XMLHttpRequest<"u",bI=TI&&function(e){return new Promise(function(n,r){const l=nw(e);let c=l.data;const p=ti.from(l.headers).normalize();let{responseType:x,onUploadProgress:w,onDownloadProgress:y}=l,E,A,M,D,F;function B(){D&&D(),F&&F(),l.cancelToken&&l.cancelToken.unsubscribe(E),l.signal&&l.signal.removeEventListener("abort",E)}let V=new XMLHttpRequest;V.open(l.method.toUpperCase(),l.url,!0),V.timeout=l.timeout;function z(){if(!V)return;const R=ti.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),te={data:!x||x==="text"||x==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:R,config:e,request:V};ew(function(X){n(X),B()},function(X){r(X),B()},te),V=null}"onloadend"in V?V.onloadend=z:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(z)},V.onabort=function(){V&&(r(new Ve("Request aborted",Ve.ECONNABORTED,e,V)),V=null)},V.onerror=function(Z){const te=Z&&Z.message?Z.message:"Network Error",se=new Ve(te,Ve.ERR_NETWORK,e,V);se.event=Z||null,r(se),V=null},V.ontimeout=function(){let Z=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const te=l.transitional||d1;l.timeoutErrorMessage&&(Z=l.timeoutErrorMessage),r(new Ve(Z,te.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,V)),V=null},c===void 0&&p.setContentType(null),"setRequestHeader"in V&&ie.forEach(p.toJSON(),function(Z,te){V.setRequestHeader(te,Z)}),ie.isUndefined(l.withCredentials)||(V.withCredentials=!!l.withCredentials),x&&x!=="json"&&(V.responseType=l.responseType),y&&([M,F]=Dc(y,!0),V.addEventListener("progress",M)),w&&V.upload&&([A,D]=Dc(w),V.upload.addEventListener("progress",A),V.upload.addEventListener("loadend",D)),(l.cancelToken||l.signal)&&(E=R=>{V&&(r(!R||R.type?new eu(null,e,V):R),V.abort(),V=null)},l.cancelToken&&l.cancelToken.subscribe(E),l.signal&&(l.signal.aborted?E():l.signal.addEventListener("abort",E)));const k=vI(l.url);if(k&&Pn.protocols.indexOf(k)===-1){r(new Ve("Unsupported protocol "+k+":",Ve.ERR_BAD_REQUEST,e));return}V.send(c||null)})},II=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const c=function(y){if(!l){l=!0,x();const E=y instanceof Error?y:this.reason;r.abort(E instanceof Ve?E:new eu(E instanceof Error?E.message:E))}};let p=t&&setTimeout(()=>{p=null,c(new Ve(`timeout of ${t}ms exceeded`,Ve.ETIMEDOUT))},t);const x=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(y=>{y.unsubscribe?y.unsubscribe(c):y.removeEventListener("abort",c)}),e=null)};e.forEach(y=>y.addEventListener("abort",c));const{signal:w}=r;return w.unsubscribe=()=>ie.asap(x),w}},NI=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},MI=async function*(e,t){for await(const n of OI(e))yield*NI(n,t)},OI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},pg=(e,t,n,r)=>{const l=MI(e,t);let c=0,p,x=w=>{p||(p=!0,r&&r(w))};return new ReadableStream({async pull(w){try{const{done:y,value:E}=await l.next();if(y){x(),w.close();return}let A=E.byteLength;if(n){let M=c+=A;n(M)}w.enqueue(new Uint8Array(E))}catch(y){throw x(y),y}},cancel(w){return x(w),l.return()}},{highWaterMark:2})},mg=64*1024,{isFunction:Bu}=ie,PI=(({Request:e,Response:t})=>({Request:e,Response:t}))(ie.global),{ReadableStream:gg,TextEncoder:xg}=ie.global,yg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},RI=e=>{e=ie.merge.call({skipUndefined:!0},PI,e);const{fetch:t,Request:n,Response:r}=e,l=t?Bu(t):typeof fetch=="function",c=Bu(n),p=Bu(r);if(!l)return!1;const x=l&&Bu(gg),w=l&&(typeof xg=="function"?(F=>B=>F.encode(B))(new xg):async F=>new Uint8Array(await new n(F).arrayBuffer())),y=c&&x&&yg(()=>{let F=!1;const B=new n(Pn.origin,{body:new gg,method:"POST",get duplex(){return F=!0,"half"}}).headers.has("Content-Type");return F&&!B}),E=p&&x&&yg(()=>ie.isReadableStream(new r("").body)),A={stream:E&&(F=>F.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(F=>{!A[F]&&(A[F]=(B,V)=>{let z=B&&B[F];if(z)return z.call(B);throw new Ve(`Response type '${F}' is not supported`,Ve.ERR_NOT_SUPPORT,V)})});const M=async F=>{if(F==null)return 0;if(ie.isBlob(F))return F.size;if(ie.isSpecCompliantForm(F))return(await new n(Pn.origin,{method:"POST",body:F}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(F)||ie.isArrayBuffer(F))return F.byteLength;if(ie.isURLSearchParams(F)&&(F=F+""),ie.isString(F))return(await w(F)).byteLength},D=async(F,B)=>{const V=ie.toFiniteNumber(F.getContentLength());return V??M(B)};return async F=>{let{url:B,method:V,data:z,signal:k,cancelToken:R,timeout:Z,onDownloadProgress:te,onUploadProgress:se,responseType:X,headers:oe,withCredentials:J="same-origin",fetchOptions:fe}=nw(F),Te=t||fetch;X=X?(X+"").toLowerCase():"text";let xe=II([k,R&&R.toAbortSignal()],Z),Be=null;const De=xe&&xe.unsubscribe&&(()=>{xe.unsubscribe()});let re;try{if(se&&y&&V!=="get"&&V!=="head"&&(re=await D(oe,z))!==0){let ve=new n(B,{method:"POST",body:z,duplex:"half"}),Pe;if(ie.isFormData(z)&&(Pe=ve.headers.get("content-type"))&&oe.setContentType(Pe),ve.body){const[rt,Fe]=hg(re,Dc(fg(se)));z=pg(ve.body,mg,rt,Fe)}}ie.isString(J)||(J=J?"include":"omit");const Ae=c&&"credentials"in n.prototype,Oe={...fe,signal:xe,method:V.toUpperCase(),headers:oe.normalize().toJSON(),body:z,duplex:"half",credentials:Ae?J:void 0};Be=c&&new n(B,Oe);let ae=await(c?Te(Be,fe):Te(B,Oe));const Me=E&&(X==="stream"||X==="response");if(E&&(te||Me&&De)){const ve={};["status","statusText","headers"].forEach(Ge=>{ve[Ge]=ae[Ge]});const Pe=ie.toFiniteNumber(ae.headers.get("content-length")),[rt,Fe]=te&&hg(Pe,Dc(fg(te),!0))||[];ae=new r(pg(ae.body,mg,rt,()=>{Fe&&Fe(),De&&De()}),ve)}X=X||"text";let de=await A[ie.findKey(A,X)||"text"](ae,F);return!Me&&De&&De(),await new Promise((ve,Pe)=>{ew(ve,Pe,{data:de,headers:ti.from(ae.headers),status:ae.status,statusText:ae.statusText,config:F,request:Be})})}catch(Ae){throw De&&De(),Ae&&Ae.name==="TypeError"&&/Load failed|fetch/i.test(Ae.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,F,Be,Ae&&Ae.response),{cause:Ae.cause||Ae}):Ve.from(Ae,Ae&&Ae.code,F,Be,Ae&&Ae.response)}}},LI=new Map,iw=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:l}=t,c=[r,l,n];let p=c.length,x=p,w,y,E=LI;for(;x--;)w=c[x],y=E.get(w),y===void 0&&E.set(w,y=x?new Map:RI(t)),E=y;return y};iw();const m1={http:qb,xhr:bI,fetch:{get:iw}};ie.forEach(m1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vg=e=>`- ${e}`,DI=e=>ie.isFunction(e)||e===null||e===!1;function kI(e,t){e=ie.isArray(e)?e:[e];const{length:n}=e;let r,l;const c={};for(let p=0;p<n;p++){r=e[p];let x;if(l=r,!DI(r)&&(l=m1[(x=String(r)).toLowerCase()],l===void 0))throw new Ve(`Unknown adapter '${x}'`);if(l&&(ie.isFunction(l)||(l=l.get(t))))break;c[x||"#"+p]=l}if(!l){const p=Object.entries(c).map(([w,y])=>`adapter ${w} `+(y===!1?"is not supported by the environment":"is not available in the build"));let x=n?p.length>1?`since :
`+p.map(vg).join(`
`):" "+vg(p[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return l}const rw={getAdapter:kI,adapters:m1};function _f(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eu(null,e)}function wg(e){return _f(e),e.headers=ti.from(e.headers),e.data=wf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rw.getAdapter(e.adapter||$l.adapter,e)(e).then(function(r){return _f(e),r.data=wf.call(e,e.transformResponse,r),r.headers=ti.from(r.headers),r},function(r){return $v(r)||(_f(e),r&&r.response&&(r.response.data=wf.call(e,e.transformResponse,r.response),r.response.headers=ti.from(r.response.headers))),Promise.reject(r)})}const sw="1.13.5",ph={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ph[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const _g={};ph.transitional=function(t,n,r){function l(c,p){return"[Axios v"+sw+"] Transitional option '"+c+"'"+p+(r?". "+r:"")}return(c,p,x)=>{if(t===!1)throw new Ve(l(p," has been removed"+(n?" in "+n:"")),Ve.ERR_DEPRECATED);return n&&!_g[p]&&(_g[p]=!0,console.warn(l(p," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(c,p,x):!0}};ph.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function BI(e,t,n){if(typeof e!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const c=r[l],p=t[c];if(p){const x=e[c],w=x===void 0||p(x,c,e);if(w!==!0)throw new Ve("option "+c+" must be "+w,Ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ve("Unknown option "+c,Ve.ERR_BAD_OPTION)}}const ec={assertOptions:BI,validators:ph},Ni=ec.validators;let so=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ug,response:new ug}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=po(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:c}=n;r!==void 0&&ec.assertOptions(r,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean),legacyInterceptorReqResOrdering:Ni.transitional(Ni.boolean)},!1),l!=null&&(ie.isFunction(l)?n.paramsSerializer={serialize:l}:ec.assertOptions(l,{encode:Ni.function,serialize:Ni.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ec.assertOptions(n,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=c&&ie.merge(c.common,c[n.method]);c&&ie.forEach(["delete","get","head","post","put","patch","common"],F=>{delete c[F]}),n.headers=ti.concat(p,c);const x=[];let w=!0;this.interceptors.request.forEach(function(B){if(typeof B.runWhen=="function"&&B.runWhen(n)===!1)return;w=w&&B.synchronous;const V=n.transitional||d1;V&&V.legacyInterceptorReqResOrdering?x.unshift(B.fulfilled,B.rejected):x.push(B.fulfilled,B.rejected)});const y=[];this.interceptors.response.forEach(function(B){y.push(B.fulfilled,B.rejected)});let E,A=0,M;if(!w){const F=[wg.bind(this),void 0];for(F.unshift(...x),F.push(...y),M=F.length,E=Promise.resolve(n);A<M;)E=E.then(F[A++],F[A++]);return E}M=x.length;let D=n;for(;A<M;){const F=x[A++],B=x[A++];try{D=F(D)}catch(V){B.call(this,V);break}}try{E=wg.call(this,D)}catch(F){return Promise.reject(F)}for(A=0,M=y.length;A<M;)E=E.then(y[A++],y[A++]);return E}getUri(t){t=po(this.defaults,t);const n=tw(t.baseURL,t.url,t.allowAbsoluteUrls);return qv(n,t.params,t.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(t){so.prototype[t]=function(n,r){return this.request(po(r||{},{method:t,url:n,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(t){function n(r){return function(c,p,x){return this.request(po(x||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:p}))}}so.prototype[t]=n(),so.prototype[t+"Form"]=n(!0)});let FI=class ow{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const r=this;this.promise.then(l=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](l);r._listeners=null}),this.promise.then=l=>{let c;const p=new Promise(x=>{r.subscribe(x),c=x}).then(l);return p.cancel=function(){r.unsubscribe(c)},p},t(function(c,p,x){r.reason||(r.reason=new eu(c,p,x),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ow(function(l){t=l}),cancel:t}}};function jI(e){return function(n){return e.apply(null,n)}}function zI(e){return ie.isObject(e)&&e.isAxiosError===!0}const Fd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fd).forEach(([e,t])=>{Fd[t]=e});function aw(e){const t=new so(e),n=zv(so.prototype.request,t);return ie.extend(n,so.prototype,t,{allOwnKeys:!0}),ie.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return aw(po(e,l))},n}const wt=aw($l);wt.Axios=so;wt.CanceledError=eu;wt.CancelToken=FI;wt.isCancel=$v;wt.VERSION=sw;wt.toFormData=dh;wt.AxiosError=Ve;wt.Cancel=wt.CanceledError;wt.all=function(t){return Promise.all(t)};wt.spread=jI;wt.isAxiosError=zI;wt.mergeConfig=po;wt.AxiosHeaders=ti;wt.formToJSON=e=>Jv(ie.isHTMLForm(e)?new FormData(e):e);wt.getAdapter=rw.getAdapter;wt.HttpStatusCode=Fd;wt.default=wt;const{Axios:SN,AxiosError:TN,CanceledError:bN,isCancel:IN,CancelToken:NN,VERSION:MN,all:ON,Cancel:PN,isAxiosError:RN,spread:LN,toFormData:DN,AxiosHeaders:kN,HttpStatusCode:BN,formToJSON:FN,getAdapter:jN,mergeConfig:zN}=wt,UI=[{event_id:"DELIVERED",label:"Delivered",description:"Package delivered to recipient"},{event_id:"IN_TRANSIT",label:"In Transit",description:"Package is on route to destination"},{event_id:"NOT_HOME",label:"Not Home",description:"Recipient was not available at address"},{event_id:"REFUSED",label:"Refused",description:"Recipient refused the package"},{event_id:"WRONG_ADDRESS",label:"Wrong Address",description:"Address is incorrect or incomplete"}];UI.reduce((e,t)=>(e[t.event_id]=t.label,e),{});const xa="http://localhost:8000",VI=!1,tu=e=>e?{Authorization:`Bearer ${e}`}:{},Cg=e=>{const t=new TextEncoder().encode(String(e));let n="";return t.forEach(r=>{n+=String.fromCharCode(r)}),btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")},HI=e=>`${Cg(JSON.stringify({alg:"none",typ:"JWT"}))}.${Cg(JSON.stringify(e))}.offline`,WI=e=>{const t=String(e).trim().toLowerCase();return t.includes("admin")?"Admin":t.includes("manager")?"Manager":"Driver"},ZI=(e,t)=>{if(e==="Driver"){const n=String(t).trim().toUpperCase();return/^D\\d{3,}$/i.test(n)?n:"D002"}return"D001"};async function GI(e,t){const n=new URLSearchParams;n.append("username",e),n.append("password",t);try{return(await wt.post(`${xa}/login`,n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(r){if(r&&r.response)throw r;console.warn("Login API unavailable; using snapshot/offline token.",r);const l=String(e||"").trim()||"offline",c=WI(l),p={sub:l,driver_id:ZI(c,l),role:c,offline:!0,exp:Math.floor(Date.now()/1e3)+7*24*60*60};return{access_token:HI(p),token_type:"bearer",role:c}}}async function lw(e){return(await wt.get(`${xa}/stats`,{headers:tu(e)})).data}async function uw(e){return(await wt.get(`${xa}/status-options`,{headers:tu(e)})).data}async function g1(e,t){return(await wt.post(`${xa}/update-awb`,t,{headers:tu(e)})).data}async function x1(e,t={}){return(await wt.get(`${xa}/logs`,{params:t,headers:tu(e)})).data}async function cw(e){try{return(await wt.get(`${xa}/shipments`,{headers:tu(e),timeout:5e3})).data}catch(t){console.warn("Backend API unavailable, attempting to load static snapshot...",t);try{const n="/arynik1/data/shipments.json".replace("//","/"),r=await wt.get(n);console.info("Loaded shipments from static snapshot.");let l=r.data;if(e)try{const p=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),x=decodeURIComponent(window.atob(p).split("").map(function(A){return"%"+("00"+A.charCodeAt(0).toString(16)).slice(-2)}).join("")),w=JSON.parse(x),y=w.role,E=w.driver_id;y==="Driver"&&(console.info(`Offline RBAC: Filtering for Driver ${E}`),l=l.filter(A=>A.driver_id===E))}catch(c){console.warn("Offline RBAC: Failed to decode token",c)}return l}catch(n){throw console.error("Failed to load both API and static snapshot",n),t}}}const YI=Object.freeze(Object.defineProperty({__proto__:null,getLogs:x1,getShipments:cw,getStats:lw,getStatusOptions:uw,isDemoMode:VI,login:GI,updateAwb:g1},Symbol.toStringTag,{value:"Module"}));function XI(){const[e,t]=W.useState(null),[n,r]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const w=localStorage.getItem("token"),y=await lw(w);t(y)}catch(w){console.error("Failed to fetch stats",w)}finally{r(!1)}})()},[]);const l=(x,w=2e3)=>{const[y,E]=W.useState(0);return W.useEffect(()=>{let A=0;const M=x/(w/16),D=setInterval(()=>{A+=M,A>=x?(E(x),clearInterval(D)):E(Math.floor(A))},16);return()=>clearInterval(D)},[x,w]),y},c=l((e==null?void 0:e.today_count)||0),p=l((e==null?void 0:e.total_count)||0);return n?b.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-pulse",children:[b.jsx("div",{className:"h-24 glass-strong rounded-3xl border-iridescent opacity-50"}),b.jsx("div",{className:"h-24 glass-strong rounded-3xl border-iridescent opacity-50"})]}):b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"glass-strong p-5 rounded-3xl shadow-xl shadow-brand-blue/20 border-iridescent flex flex-col justify-between relative overflow-hidden group",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-blue/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),b.jsx("div",{className:"absolute -right-4 -top-4 opacity-10 scale-150 group-hover:rotate-12 transition-transform duration-500",children:b.jsx(U4,{size:80,className:"text-brand-blue"})}),b.jsxs("div",{className:"relative z-10 flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"p-1.5 bg-brand-blue/20 rounded-lg",children:b.jsx(u1,{size:16,className:"text-brand-blue"})}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Today"})]}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("span",{className:"text-3xl font-black text-white",children:c}),b.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Success Syncs"})]})]}),b.jsxs("div",{className:"glass-strong p-5 rounded-3xl shadow-sm border-iridescent flex flex-col justify-between relative overflow-hidden group",children:[b.jsx("div",{className:"absolute -right-4 -top-4 opacity-5 scale-150 text-slate-400 group-hover:rotate-12 transition-transform duration-500",children:b.jsx(B4,{size:80})}),b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"p-1.5 bg-slate-700/50 rounded-lg text-slate-400",children:b.jsx(fo,{size:16})}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"All Time"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-3xl font-black text-white",children:p}),b.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Total Updates"})]})]})]})}var Se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var Eg=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ag;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Ag||(Ag={}));function KI(e){return Object.values(Se).includes(e)}var Ss;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ss||(Ss={}));var Ki=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ss.SCAN_TYPE_CAMERA,Ss.SCAN_TYPE_FILE],e}(),hw=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Eg.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Eg.get(t))},e}(),Sg=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),jd;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(jd||(jd={}));var fw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:jd.UNKWOWN_ERROR}},e}(),dw=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function cr(e){return typeof e>"u"||e===null}function QI(e,t,n){return e>n?n:e<t?t:e}var Xo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),gt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Tg=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),pw=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),p=Object.keys(t),x=0,w=p;x<w.length;x++){var y=w[x];if(c.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e}(),zd={exports:{}};(function(e,t){(function(n,r){r(t)})(Oo,function(n){function r(I){return I==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,i){I.__proto__=i}||function(I,i){for(var s in i)i.hasOwnProperty(s)&&(I[s]=i[s])};function c(I,i){l(I,i);function s(){this.constructor=I}I.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}function p(I,i){var s=Object.setPrototypeOf;s?s(I,i):I.__proto__=i}function x(I,i){i===void 0&&(i=I.constructor);var s=Error.captureStackTrace;s&&s(I,i)}var w=function(I){c(i,I);function i(s){var a=this.constructor,u=I.call(this,s)||this;return Object.defineProperty(u,"name",{value:a.name,enumerable:!1}),p(u,a.prototype),x(u),u}return i}(Error);class y extends w{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}y.kind="Exception";class E extends y{}E.kind="ArgumentException";class A extends y{}A.kind="IllegalArgumentException";class M{constructor(i){if(this.binarizer=i,i===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,s){return this.binarizer.getBlackRow(i,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,s,a,u){const h=this.binarizer.getLuminanceSource().crop(i,s,a,u);return new M(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends y{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class F{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(i,s,a,u,h){for(;h--;)a[u++]=i[s++]}static currentTimeMillis(){return Date.now()}}class V extends y{}V.kind="IndexOutOfBoundsException";class z extends V{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}z.kind="ArrayIndexOutOfBoundsException";class k{static fill(i,s){for(let a=0,u=i.length;a<u;a++)i[a]=s}static fillWithin(i,s,a,u){k.rangeCheck(i.length,s,a);for(let h=s;h<a;h++)i[h]=u}static rangeCheck(i,s,a){if(s>a)throw new A("fromIndex("+s+") > toIndex("+a+")");if(s<0)throw new z(s);if(a>i)throw new z(a)}static asList(...i){return i}static create(i,s,a){return Array.from({length:i}).map(h=>Array.from({length:s}).fill(a))}static createInt32Array(i,s,a){return Array.from({length:i}).map(h=>Int32Array.from({length:s}).fill(a))}static equals(i,s){if(!i||!s||!i.length||!s.length||i.length!==s.length)return!1;for(let a=0,u=i.length;a<u;a++)if(i[a]!==s[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let s=1;for(const a of i)s=31*s+a;return s}static fillUint8Array(i,s){for(let a=0;a!==i.length;a++)i[a]=s}static copyOf(i,s){return i.slice(0,s)}static copyOfUint8Array(i,s){if(i.length<=s){const a=new Uint8Array(s);return a.set(i),a}return i.slice(0,s)}static copyOfRange(i,s,a){const u=a-s,h=new Int32Array(u);return B.arraycopy(i,s,h,0,u),h}static binarySearch(i,s,a){a===void 0&&(a=k.numberComparator);let u=0,h=i.length-1;for(;u<=h;){const d=h+u>>1,m=a(s,i[d]);if(m>0)u=d+1;else if(m<0)h=d-1;else return d}return-u-1}static numberComparator(i,s){return i-s}}class R{static numberOfTrailingZeros(i){let s;if(i===0)return 32;let a=31;return s=i<<16,s!==0&&(a-=16,i=s),s=i<<8,s!==0&&(a-=8,i=s),s=i<<4,s!==0&&(a-=4,i=s),s=i<<2,s!==0&&(a-=2,i=s),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let s=1;return i>>>16||(s+=16,i<<=16),i>>>24||(s+=8,i<<=8),i>>>28||(s+=4,i<<=4),i>>>30||(s+=2,i<<=2),s-=i>>>31,s}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,s){return Math.trunc(i/s)}static parseInt(i,s=void 0){return parseInt(i,s)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(i,s){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,s==null?this.bits=Z.makeArray(i):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const s=Z.makeArray(i);B.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const s=this.size;if(i>=s)return s;const a=this.bits;let u=Math.floor(i/32),h=a[u];h&=~((1<<(i&31))-1);const d=a.length;for(;h===0;){if(++u===d)return s;h=a[u]}const m=u*32+R.numberOfTrailingZeros(h);return m>s?s:m}getNextUnset(i){const s=this.size;if(i>=s)return s;const a=this.bits;let u=Math.floor(i/32),h=~a[u];h&=~((1<<(i&31))-1);const d=a.length;for(;h===0;){if(++u===d)return s;h=~a[u]}const m=u*32+R.numberOfTrailingZeros(h);return m>s?s:m}setBulk(i,s){this.bits[Math.floor(i/32)]=s}setRange(i,s){if(s<i||i<0||s>this.size)throw new A;if(s===i)return;s--;const a=Math.floor(i/32),u=Math.floor(s/32),h=this.bits;for(let d=a;d<=u;d++){const m=d>a?0:i&31,_=(2<<(d<u?31:s&31))-(1<<m);h[d]|=_}}clear(){const i=this.bits.length,s=this.bits;for(let a=0;a<i;a++)s[a]=0}isRange(i,s,a){if(s<i||i<0||s>this.size)throw new A;if(s===i)return!0;s--;const u=Math.floor(i/32),h=Math.floor(s/32),d=this.bits;for(let m=u;m<=h;m++){const v=m>u?0:i&31,S=(2<<(m<h?31:s&31))-(1<<v)&4294967295;if((d[m]&S)!==(a?S:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,s){if(s<0||s>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let a=s;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const s=i.size;this.ensureCapacity(this.size+s);for(let a=0;a<s;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new A("Sizes don't match");const s=this.bits;for(let a=0,u=s.length;a<u;a++)s[a]^=i.bits[a]}toBytes(i,s,a,u){for(let h=0;h<u;h++){let d=0;for(let m=0;m<8;m++)this.get(i)&&(d|=1<<7-m),i++;s[a+h]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),a=s+1,u=this.bits;for(let h=0;h<a;h++){let d=u[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[s-h]=d}if(this.size!==a*32){const h=a*32-this.size;let d=i[0]>>>h;for(let m=1;m<a;m++){const v=i[m];d|=v<<32-h,i[m-1]=d,d=v>>>h}i[a-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof Z))return!1;const s=i;return this.size===s.size&&k.equals(this.bits,s.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let i="";for(let s=0,a=this.size;s<a;s++)s&7||(i+=" "),i+=this.get(s)?"X":".";return i}clone(){return new Z(this.size,this.bits.slice())}}var te;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(te||(te={}));var se=te;class X extends y{static getFormatInstance(){return new X}}X.kind="FormatException";var oe;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(oe||(oe={}));class J{constructor(i,s,a,...u){this.valueIdentifier=i,this.name=a,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=u,J.VALUE_IDENTIFIER_TO_ECI.set(i,this),J.NAME_TO_ECI.set(a,this);const h=this.values;for(let d=0,m=h.length;d!==m;d++){const v=h[d];J.VALUES_TO_ECI.set(v,this)}for(const d of u)J.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new X("incorect value");const s=J.VALUES_TO_ECI.get(i);if(s===void 0)throw new X("incorect value");return s}static getCharacterSetECIByName(i){const s=J.NAME_TO_ECI.get(i);if(s===void 0)throw new X("incorect value");return s}equals(i){if(!(i instanceof J))return!1;const s=i;return this.getName()===s.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(oe.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(oe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(oe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(oe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(oe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(oe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(oe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(oe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(oe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(oe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(oe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(oe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(oe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(oe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(oe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(oe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(oe.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(oe.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(oe.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(oe.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(oe.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(oe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(oe.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(oe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(oe.Big5,28,"Big5"),J.GB18030=new J(oe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(oe.EUC_KR,30,"EUC_KR","EUC-KR");class fe extends y{}fe.kind="UnsupportedOperationException";class Te{static decode(i,s){const a=this.encodingName(s);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!Te.isBrowser()&&i==="ISO-8859-1"}static encode(i,s){const a=this.encodingName(s);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof J?i:J.getCharacterSetECIByName(i)}static decodeFallback(i,s){const a=this.encodingCharacterSet(s);if(Te.isDecodeFallbackSupported(a)){let u="";for(let h=0,d=i.length;h<d;h++){let m=i[h].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(a.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new fe(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(J.UTF8)||i.equals(J.ISO8859_1)||i.equals(J.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let h=0;h<a.length;h++)u.push(a[h].charCodeAt(0));return new Uint8Array(u)}}class xe{static castAsNonUtf8Char(i,s=null){const a=s?s.getName():this.ISO88591;return Te.decode(new Uint8Array([i]),a)}static guessEncoding(i,s){if(s!=null&&s.get(se.CHARACTER_SET)!==void 0)return s.get(se.CHARACTER_SET).toString();const a=i.length;let u=!0,h=!0,d=!0,m=0,v=0,_=0,S=0,N=0,O=0,U=0,G=0,Y=0,K=0,$=0;const pe=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let me=0;me<a&&(u||h||d);me++){const ce=i[me]&255;d&&(m>0?ce&128?m--:d=!1:ce&128&&(ce&64?(m++,ce&32?(m++,ce&16?(m++,ce&8?d=!1:S++):_++):v++):d=!1)),u&&(ce>127&&ce<160?u=!1:ce>159&&(ce<192||ce===215||ce===247)&&$++),h&&(N>0?ce<64||ce===127||ce>252?h=!1:N--:ce===128||ce===160||ce>239?h=!1:ce>160&&ce<224?(O++,G=0,U++,U>Y&&(Y=U)):ce>127?(N++,U=0,G++,G>K&&(K=G)):(U=0,G=0))}return d&&m>0&&(d=!1),h&&N>0&&(h=!1),d&&(pe||v+_+S>0)?xe.UTF8:h&&(xe.ASSUME_SHIFT_JIS||Y>=3||K>=3)?xe.SHIFT_JIS:u&&h?Y===2&&O===2||$*10>=a?xe.SHIFT_JIS:xe.ISO88591:u?xe.ISO88591:h?xe.SHIFT_JIS:d?xe.UTF8:xe.PLATFORM_DEFAULT_ENCODING}static format(i,...s){let a=-1;function u(d,m,v,_,S,N){if(d==="%%")return"%";if(s[++a]===void 0)return;d=_?parseInt(_.substr(1)):void 0;let O=S?parseInt(S.substr(1)):void 0,U;switch(N){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(d);break;case"p":U=parseFloat(s[a]).toPrecision(d);break;case"e":U=parseFloat(s[a]).toExponential(d);break;case"x":U=parseInt(s[a]).toString(O||16);break;case"d":U=parseFloat(parseInt(s[a],O||10).toPrecision(d)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(O);let G=parseInt(v),Y=v&&v[0]+""=="0"?"0":" ";for(;U.length<G;)U=m!==void 0?U+Y:Y+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,u)}static getBytes(i,s){return Te.encode(i,s)}static getCharCode(i,s=0){return i.charCodeAt(s)}static getCharAt(i){return String.fromCharCode(i)}}xe.SHIFT_JIS=J.SJIS.getName(),xe.GB2312="GB2312",xe.ISO88591=J.ISO8859_1.getName(),xe.EUC_JP="EUC_JP",xe.UTF8=J.UTF8.getName(),xe.PLATFORM_DEFAULT_ENCODING=xe.UTF8,xe.ASSUME_SHIFT_JIS=!1;class Be{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=xe.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,s,a){for(let u=s;s<s+a;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+1)}substring(i,s){return this.value.substring(i,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+s.length)}}class De{constructor(i,s,a,u){if(this.width=i,this.height=s,this.rowSize=a,this.bits=u,s==null&&(s=i),this.height=s,i<1||s<1)throw new A("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const s=i.length,a=i[0].length,u=new De(a,s);for(let h=0;h<s;h++){const d=i[h];for(let m=0;m<a;m++)d[m]&&u.set(m,h)}return u}static parseFromString(i,s,a){if(i===null)throw new A("stringRepresentation cannot be null");const u=new Array(i.length);let h=0,d=0,m=-1,v=0,_=0;for(;_<i.length;)if(i.charAt(_)===`
`||i.charAt(_)==="\r"){if(h>d){if(m===-1)m=h-d;else if(h-d!==m)throw new A("row lengths do not match");d=h,v++}_++}else if(i.substring(_,_+s.length)===s)_+=s.length,u[h]=!0,h++;else if(i.substring(_,_+a.length)===a)_+=a.length,u[h]=!1,h++;else throw new A("illegal character encountered: "+i.substring(_));if(h>d){if(m===-1)m=h-d;else if(h-d!==m)throw new A("row lengths do not match");v++}const S=new De(m,v);for(let N=0;N<h;N++)u[N]&&S.set(Math.floor(N%m),Math.floor(N/m));return S}get(i,s){const a=s*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new A("input matrix dimensions do not match");const s=new Z(Math.floor(this.width/32)+1),a=this.rowSize,u=this.bits;for(let h=0,d=this.height;h<d;h++){const m=h*a,v=i.getRow(h,s).getBitArray();for(let _=0;_<a;_++)u[m+_]^=v[_]}}clear(){const i=this.bits,s=i.length;for(let a=0;a<s;a++)i[a]=0}setRegion(i,s,a,u){if(s<0||i<0)throw new A("Left and top must be nonnegative");if(u<1||a<1)throw new A("Height and width must be at least 1");const h=i+a,d=s+u;if(d>this.height||h>this.width)throw new A("The region must fit inside the matrix");const m=this.rowSize,v=this.bits;for(let _=s;_<d;_++){const S=_*m;for(let N=i;N<h;N++)v[S+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(i,s){s==null||s.getSize()<this.width?s=new Z(this.width):s.clear();const a=this.rowSize,u=this.bits,h=i*a;for(let d=0;d<a;d++)s.setBulk(d*32,u[h+d]);return s}setRow(i,s){B.arraycopy(s.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),s=this.getHeight();let a=new Z(i),u=new Z(i);for(let h=0,d=Math.floor((s+1)/2);h<d;h++)a=this.getRow(h,a),u=this.getRow(s-1-h,u),a.reverse(),u.reverse(),this.setRow(h,u),this.setRow(s-1-h,a)}getEnclosingRectangle(){const i=this.width,s=this.height,a=this.rowSize,u=this.bits;let h=i,d=s,m=-1,v=-1;for(let _=0;_<s;_++)for(let S=0;S<a;S++){const N=u[_*a+S];if(N!==0){if(_<d&&(d=_),_>v&&(v=_),S*32<h){let O=0;for(;!(N<<31-O&4294967295);)O++;S*32+O<h&&(h=S*32+O)}if(S*32+31>m){let O=31;for(;!(N>>>O);)O--;S*32+O>m&&(m=S*32+O)}}}return m<h||v<d?null:Int32Array.from([h,d,m-h+1,v-d+1])}getTopLeftOnBit(){const i=this.rowSize,s=this.bits;let a=0;for(;a<s.length&&s[a]===0;)a++;if(a===s.length)return null;const u=a/i;let h=a%i*32;const d=s[a];let m=0;for(;!(d<<31-m&4294967295);)m++;return h+=m,Int32Array.from([h,u])}getBottomRightOnBit(){const i=this.rowSize,s=this.bits;let a=s.length-1;for(;a>=0&&s[a]===0;)a--;if(a<0)return null;const u=Math.floor(a/i);let h=Math.floor(a%i)*32;const d=s[a];let m=31;for(;!(d>>>m);)m--;return h+=m,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof De))return!1;const s=i;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&k.equals(this.bits,s.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+k.hashCode(this.bits),i}toString(i="X ",s="  ",a=`
`){return this.buildToString(i,s,a)}buildToString(i,s,a){let u=new Be;for(let h=0,d=this.height;h<d;h++){for(let m=0,v=this.width;m<v;m++)u.append(this.get(m,h)?i:s);u.append(a)}return u.toString()}clone(){return new De(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends y{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class Ae extends F{constructor(i){super(i),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(i,s){const a=this.getLuminanceSource(),u=a.getWidth();s==null||s.getSize()<u?s=new Z(u):s.clear(),this.initArrays(u);const h=a.getRow(i,this.luminances),d=this.buckets;for(let v=0;v<u;v++)d[(h[v]&255)>>Ae.LUMINANCE_SHIFT]++;const m=Ae.estimateBlackPoint(d);if(u<3)for(let v=0;v<u;v++)(h[v]&255)<m&&s.set(v);else{let v=h[0]&255,_=h[1]&255;for(let S=1;S<u-1;S++){const N=h[S+1]&255;(_*4-v-N)/2<m&&s.set(S),v=_,_=N}}return s}getBlackMatrix(){const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight(),u=new De(s,a);this.initArrays(s);const h=this.buckets;for(let v=1;v<5;v++){const _=Math.floor(a*v/5),S=i.getRow(_,this.luminances),N=Math.floor(s*4/5);for(let O=Math.floor(s/5);O<N;O++){const U=S[O]&255;h[U>>Ae.LUMINANCE_SHIFT]++}}const d=Ae.estimateBlackPoint(h),m=i.getMatrix();for(let v=0;v<a;v++){const _=v*s;for(let S=0;S<s;S++)(m[_+S]&255)<d&&u.set(S,v)}return u}createBinarizer(i){return new Ae(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const s=this.buckets;for(let a=0;a<Ae.LUMINANCE_BUCKETS;a++)s[a]=0}static estimateBlackPoint(i){const s=i.length;let a=0,u=0,h=0;for(let S=0;S<s;S++)i[S]>h&&(u=S,h=i[S]),i[S]>a&&(a=i[S]);let d=0,m=0;for(let S=0;S<s;S++){const N=S-u,O=i[S]*N*N;O>m&&(d=S,m=O)}if(u>d){const S=u;u=d,d=S}if(d-u<=s/16)throw new re;let v=d-1,_=-1;for(let S=d-1;S>u;S--){const N=S-u,O=N*N*(d-S)*(a-i[S]);O>_&&(v=S,_=O)}return v<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class Oe extends Ae{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight();if(s>=Oe.MINIMUM_DIMENSION&&a>=Oe.MINIMUM_DIMENSION){const u=i.getMatrix();let h=s>>Oe.BLOCK_SIZE_POWER;s&Oe.BLOCK_SIZE_MASK&&h++;let d=a>>Oe.BLOCK_SIZE_POWER;a&Oe.BLOCK_SIZE_MASK&&d++;const m=Oe.calculateBlackPoints(u,h,d,s,a),v=new De(s,a);Oe.calculateThresholdForBlock(u,h,d,s,a,m,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Oe(i)}static calculateThresholdForBlock(i,s,a,u,h,d,m){const v=h-Oe.BLOCK_SIZE,_=u-Oe.BLOCK_SIZE;for(let S=0;S<a;S++){let N=S<<Oe.BLOCK_SIZE_POWER;N>v&&(N=v);const O=Oe.cap(S,2,a-3);for(let U=0;U<s;U++){let G=U<<Oe.BLOCK_SIZE_POWER;G>_&&(G=_);const Y=Oe.cap(U,2,s-3);let K=0;for(let pe=-2;pe<=2;pe++){const me=d[O+pe];K+=me[Y-2]+me[Y-1]+me[Y]+me[Y+1]+me[Y+2]}const $=K/25;Oe.thresholdBlock(i,G,N,$,u,m)}}}static cap(i,s,a){return i<s?s:i>a?a:i}static thresholdBlock(i,s,a,u,h,d){for(let m=0,v=a*h+s;m<Oe.BLOCK_SIZE;m++,v+=h)for(let _=0;_<Oe.BLOCK_SIZE;_++)(i[v+_]&255)<=u&&d.set(s+_,a+m)}static calculateBlackPoints(i,s,a,u,h){const d=h-Oe.BLOCK_SIZE,m=u-Oe.BLOCK_SIZE,v=new Array(a);for(let _=0;_<a;_++){v[_]=new Int32Array(s);let S=_<<Oe.BLOCK_SIZE_POWER;S>d&&(S=d);for(let N=0;N<s;N++){let O=N<<Oe.BLOCK_SIZE_POWER;O>m&&(O=m);let U=0,G=255,Y=0;for(let $=0,pe=S*u+O;$<Oe.BLOCK_SIZE;$++,pe+=u){for(let me=0;me<Oe.BLOCK_SIZE;me++){const ce=i[pe+me]&255;U+=ce,ce<G&&(G=ce),ce>Y&&(Y=ce)}if(Y-G>Oe.MIN_DYNAMIC_RANGE)for($++,pe+=u;$<Oe.BLOCK_SIZE;$++,pe+=u)for(let me=0;me<Oe.BLOCK_SIZE;me++)U+=i[pe+me]&255}let K=U>>Oe.BLOCK_SIZE_POWER*2;if(Y-G<=Oe.MIN_DYNAMIC_RANGE&&(K=G/2,_>0&&N>0)){const $=(v[_-1][N]+2*v[_][N-1]+v[_-1][N-1])/4;G<$&&(K=$)}v[_][N]=K}}return v}}Oe.BLOCK_SIZE_POWER=3,Oe.BLOCK_SIZE=1<<Oe.BLOCK_SIZE_POWER,Oe.BLOCK_SIZE_MASK=Oe.BLOCK_SIZE-1,Oe.MINIMUM_DIMENSION=Oe.BLOCK_SIZE*5,Oe.MIN_DYNAMIC_RANGE=24;class ae{constructor(i,s){this.width=i,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,s,a,u){throw new fe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new fe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new fe("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let s=new Be;for(let a=0;a<this.height;a++){const u=this.getRow(a,i);for(let h=0;h<this.width;h++){const d=u[h]&255;let m;d<64?m="#":d<128?m="+":d<192?m=".":m=" ",s.append(m)}s.append(`
`)}return s.toString()}}class Me extends ae{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,s){const a=this.delegate.getRow(i,s),u=this.getWidth();for(let h=0;h<u;h++)a[h]=255-(a[h]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(s);for(let u=0;u<s;u++)a[u]=255-(i[u]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,s,a,u){return new Me(this.delegate.crop(i,s,a,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class de extends ae{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=de.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const s=i.getContext("2d").getImageData(0,0,i.width,i.height);return de.toGrayscaleBuffer(s.data,i.width,i.height)}static toGrayscaleBuffer(i,s,a){const u=new Uint8ClampedArray(s*a);for(let h=0,d=0,m=i.length;h<m;h+=4,d++){let v;if(i[h+3]===0)v=255;else{const S=i[h],N=i[h+1],O=i[h+2];v=306*S+601*N+117*O+512>>10}u[d]=v}return u}getRow(i,s){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const a=this.getWidth(),u=i*a;return s===null?s=this.buffer.slice(u,u+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(u,u+a))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,s,a,u){return super.crop(i,s,a,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const s=this.getTempCanvasElement(),a=s.getContext("2d"),u=i*de.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*d),v=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*d);return s.width=m,s.height=v,a.translate(m/2,v/2),a.rotate(u),a.drawImage(this.canvas,h/-2,d/-2),this.buffer=de.makeBufferFromCanvasImageData(s),this}invert(){return new Me(this)}}de.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(i,s,a){this.deviceId=i,this.label=s,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Pe=(globalThis||Oo||self||window||void 0)&&(globalThis||Oo||self||window||void 0).__awaiter||function(I,i,s,a){function u(h){return h instanceof s?h:new s(function(d){d(h)})}return new(s||(s=Promise))(function(h,d){function m(S){try{_(a.next(S))}catch(N){d(N)}}function v(S){try{_(a.throw(S))}catch(N){d(N)}}function _(S){S.done?h(S.value):u(S.value).then(m,v)}_((a=a.apply(I,i||[])).next())})};class rt{constructor(i,s=500,a){this.reader=i,this.timeBetweenScansMillis=s,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const a of i){const u=a.kind==="video"?"videoinput":a.kind;if(u!=="videoinput")continue;const h=a.deviceId||a.id,d=a.label||`Video device ${s.length+1}`,m=a.groupId,v={deviceId:h,label:d,kind:u,groupId:m};s.push(v)}return s})}getVideoInputDevices(){return Pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new ve(s.deviceId,s.label))})}findDeviceById(i){return Pe(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,s){return Pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,s)})}decodeOnceFromVideoDevice(i,s){return Pe(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const u={video:a};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(i,s){return Pe(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,s)})}decodeOnceFromStream(i,s){return Pe(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,s);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,s,a){return Pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,s,a)})}decodeFromVideoDevice(i,s,a){return Pe(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,s,a)})}decodeFromConstraints(i,s,a){return Pe(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,s,a)})}decodeFromStream(i,s,a){return Pe(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,s);return yield this.decodeContinuously(u,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,s){return Pe(this,void 0,void 0,function*(){const a=this.prepareVideoElement(s);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((s,a)=>this.playVideoOnLoad(i,()=>s()))}playVideoOnLoad(i,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",s),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,s){const a=document.getElementById(i);if(!a)throw new E(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==s.toLowerCase())throw new E(`element with id '${i}' must be an ${s} element`);return a}decodeFromImage(i,s){if(!i&&!s)throw new E("either imageElement with a src set or an url must be provided");return s&&!i?this.decodeFromImageUrl(s):this.decodeFromImageElement(i)}decodeFromVideo(i,s){if(!i&&!s)throw new E("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,s,a){if(i===void 0&&s===void 0)throw new E("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrlContinuously(s,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new E("An image element must be provided.");this.reset();const s=this.prepareImageElement(i);this.imageElement=s;let a;return this.isImageLoaded(s)?a=this.decodeOnce(s,!1,!0):a=this._decodeOnLoadImage(s),a}decodeFromVideoElement(i){const s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(i,s){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,s)}_decodeFromVideoElementSetup(i){if(!i)throw new E("A video element must be provided.");this.reset();const s=this.prepareVideoElement(i);return this.videoElement=s,s}decodeFromImageUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const a=this._decodeOnLoadImage(s);return s.src=i,a}decodeFromVideoUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElement(s);return s.src=i,a}decodeFromVideoUrlContinuously(i,s){if(!i)throw new E("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(a,s);return a.src=i,u}_decodeOnLoadImage(i){return new Promise((s,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(s,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,s){return Pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,s)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let s;return typeof i>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(s=i),s}prepareVideoElement(i){let s;return!i&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(s=i),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(i,s=!0,a=!0){this._stopAsyncDecode=!1;const u=(h,d)=>{if(this._stopAsyncDecode){d(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);h(m)}catch(m){const v=s&&m instanceof re,S=(m instanceof D||m instanceof X)&&a;if(v||S)return setTimeout(u,this._timeBetweenDecodingAttempts,h,d);d(m)}};return new Promise((h,d)=>u(h,d))}decodeContinuously(i,s){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);s(u,null),setTimeout(a,this.timeBetweenScansMillis)}catch(u){s(null,u);const h=u instanceof D||u instanceof X,d=u instanceof re;(h||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const s=this.createBinaryBitmap(i);return this.decodeBitmap(s)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,s,a){s||(s={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(i,s,a=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const s=this.getCaptureCanvas(i),a=new de(s),u=new Oe(a);return new M(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const s=this.createCaptureCanvas(i);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let a,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),s.style.width=a+"px",s.style.height=u+"px",s.width=a,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,s){try{i.srcObject=s}catch{i.src=URL.createObjectURL(s)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Fe{constructor(i,s,a=s==null?0:8*s.length,u,h,d=B.currentTimeMillis()){this.text=i,this.rawBytes=s,this.numBits=a,this.resultPoints=u,this.format=h,this.timestamp=d,this.text=i,this.rawBytes=s,a==null?this.numBits=s==null?0:8*s.length:this.numBits=a,this.resultPoints=u,this.format=h,this.resultMetadata=null,d==null?this.timestamp=B.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,s)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const s=this.resultPoints;if(s===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(s.length+i.length);B.arraycopy(s,0,a,0,s.length),B.arraycopy(i,0,a,s.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ge;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var he=Ge,Yt;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Yt||(Yt={}));var dt=Yt;class yi{constructor(i,s,a,u,h=-1,d=-1){this.rawBytes=i,this.text=s,this.byteSegments=a,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Gn{exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}static addOrSubtract(i,s){return i^s}}class Et{constructor(i,s){if(s.length===0)throw new A;this.field=i;const a=s.length;if(a>1&&s[0]===0){let u=1;for(;u<a&&s[u]===0;)u++;u===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-u),B.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const s=this.coefficients;let a;if(i===1){a=0;for(let d=0,m=s.length;d!==m;d++){const v=s[d];a=Gn.addOrSubtract(a,v)}return a}a=s[0];const u=s.length,h=this.field;for(let d=1;d<u;d++)a=Gn.addOrSubtract(h.multiply(i,a),s[d]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){const d=s;s=a,a=d}let u=new Int32Array(a.length);const h=a.length-s.length;B.arraycopy(a,0,u,0,h);for(let d=h;d<a.length;d++)u[d]=Gn.addOrSubtract(s[d-h],a[d]);return new Et(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const s=this.coefficients,a=s.length,u=i.coefficients,h=u.length,d=new Int32Array(a+h-1),m=this.field;for(let v=0;v<a;v++){const _=s[v];for(let S=0;S<h;S++)d[v+S]=Gn.addOrSubtract(d[v+S],m.multiply(_,u[S]))}return new Et(m,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const s=this.coefficients.length,a=this.field,u=new Int32Array(s),h=this.coefficients;for(let d=0;d<s;d++)u[d]=a.multiply(h[d],i);return new Et(a,u)}multiplyByMonomial(i,s){if(i<0)throw new A;if(s===0)return this.field.getZero();const a=this.coefficients,u=a.length,h=new Int32Array(u+i),d=this.field;for(let m=0;m<u;m++)h[m]=d.multiply(a[m],s);return new Et(d,h)}divide(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new A("Divide by 0");const s=this.field;let a=s.getZero(),u=this;const h=i.getCoefficient(i.getDegree()),d=s.inverse(h);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const m=u.getDegree()-i.getDegree(),v=s.multiply(u.getCoefficient(u.getDegree()),d),_=i.multiplyByMonomial(m,v),S=s.buildMonomial(m,v);a=a.addOrSubtract(S),u=u.addOrSubtract(_)}return[a,u]}toString(){let i="";for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),s===0||a!==1){const u=this.field.log(a);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}s!==0&&(s===1?i+="x":(i+="x^",i+=s))}}return i}}class Bi extends y{}Bi.kind="ArithmeticException";class tt extends Gn{constructor(i,s,a){super(),this.primitive=i,this.size=s,this.generatorBase=a;const u=new Int32Array(s);let h=1;for(let m=0;m<s;m++)u[m]=h,h*=2,h>=s&&(h^=i,h&=s-1);this.expTable=u;const d=new Int32Array(s);for(let m=0;m<s-1;m++)d[u[m]]=m;this.logTable=d,this.zero=new Et(this,Int32Array.from([0])),this.one=new Et(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new A;if(s===0)return this.zero;const a=new Int32Array(i+1);return a[0]=s,new Et(this,a)}inverse(i){if(i===0)throw new Bi;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}tt.AZTEC_DATA_12=new tt(4201,4096,1),tt.AZTEC_DATA_10=new tt(1033,1024,1),tt.AZTEC_DATA_6=new tt(67,64,1),tt.AZTEC_PARAM=new tt(19,16,1),tt.QR_CODE_FIELD_256=new tt(285,256,0),tt.DATA_MATRIX_FIELD_256=new tt(301,256,1),tt.AZTEC_DATA_8=tt.DATA_MATRIX_FIELD_256,tt.MAXICODE_FIELD_64=tt.AZTEC_DATA_6;class Ur extends y{}Ur.kind="ReedSolomonException";class ii extends y{}ii.kind="IllegalStateException";class Vr{constructor(i){this.field=i}decode(i,s){const a=this.field,u=new Et(a,i),h=new Int32Array(s);let d=!0;for(let U=0;U<s;U++){const G=u.evaluateAt(a.exp(U+a.getGeneratorBase()));h[h.length-1-U]=G,G!==0&&(d=!1)}if(d)return;const m=new Et(a,h),v=this.runEuclideanAlgorithm(a.buildMonomial(s,1),m,s),_=v[0],S=v[1],N=this.findErrorLocations(_),O=this.findErrorMagnitudes(S,N);for(let U=0;U<N.length;U++){const G=i.length-1-a.log(N[U]);if(G<0)throw new Ur("Bad error location");i[G]=tt.addOrSubtract(i[G],O[U])}}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){const U=i;i=s,s=U}const u=this.field;let h=i,d=s,m=u.getZero(),v=u.getOne();for(;d.getDegree()>=(a/2|0);){let U=h,G=m;if(h=d,m=v,h.isZero())throw new Ur("r_{i-1} was zero");d=U;let Y=u.getZero();const K=h.getCoefficient(h.getDegree()),$=u.inverse(K);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const pe=d.getDegree()-h.getDegree(),me=u.multiply(d.getCoefficient(d.getDegree()),$);Y=Y.addOrSubtract(u.buildMonomial(pe,me)),d=d.addOrSubtract(h.multiplyByMonomial(pe,me))}if(v=Y.multiply(m).addOrSubtract(G),d.getDegree()>=h.getDegree())throw new ii("Division algorithm failed to reduce polynomial?")}const _=v.getCoefficient(0);if(_===0)throw new Ur("sigmaTilde(0) was zero");const S=u.inverse(_),N=v.multiplyScalar(S),O=d.multiplyScalar(S);return[N,O]}findErrorLocations(i){const s=i.getDegree();if(s===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(s);let u=0;const h=this.field;for(let d=1;d<h.getSize()&&u<s;d++)i.evaluateAt(d)===0&&(a[u]=h.inverse(d),u++);if(u!==s)throw new Ur("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,s){const a=s.length,u=new Int32Array(a),h=this.field;for(let d=0;d<a;d++){const m=h.inverse(s[d]);let v=1;for(let _=0;_<a;_++)if(d!==_){const S=h.multiply(s[_],m),N=S&1?S&-2:S|1;v=h.multiply(v,N)}u[d]=h.multiply(i.evaluateAt(m),h.inverse(v)),h.getGeneratorBase()!==0&&(u[d]=h.multiply(u[d],m))}return u}}var Xt;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(Xt||(Xt={}));class ct{decode(i){this.ddata=i;let s=i.getBits(),a=this.extractBits(s),u=this.correctBits(a),h=ct.convertBoolArrayToByteArray(u),d=ct.getEncodedData(u),m=new yi(h,d,null,null);return m.setNumBits(u.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,a=Xt.UPPER,u=Xt.UPPER,h="",d=0;for(;d<s;)if(u===Xt.BINARY){if(s-d<5)break;let m=ct.readCode(i,d,5);if(d+=5,m===0){if(s-d<11)break;m=ct.readCode(i,d,11)+31,d+=11}for(let v=0;v<m;v++){if(s-d<8){d=s;break}const _=ct.readCode(i,d,8);h+=xe.castAsNonUtf8Char(_),d+=8}u=a}else{let m=u===Xt.DIGIT?4:5;if(s-d<m)break;let v=ct.readCode(i,d,m);d+=m;let _=ct.getCharacter(u,v);_.startsWith("CTRL_")?(a=u,u=ct.getTable(_.charAt(5)),_.charAt(6)==="L"&&(a=u)):(h+=_,u=a)}return h}static getTable(i){switch(i){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(i,s){switch(i){case Xt.UPPER:return ct.UPPER_TABLE[s];case Xt.LOWER:return ct.LOWER_TABLE[s];case Xt.MIXED:return ct.MIXED_TABLE[s];case Xt.PUNCT:return ct.PUNCT_TABLE[s];case Xt.DIGIT:return ct.DIGIT_TABLE[s];default:throw new ii("Bad table")}}correctBits(i){let s,a;this.ddata.getNbLayers()<=2?(a=6,s=tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,s=tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,s=tt.AZTEC_DATA_10):(a=12,s=tt.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=i.length/a;if(h<u)throw new X;let d=i.length%a,m=new Int32Array(h);for(let O=0;O<h;O++,d+=a)m[O]=ct.readCode(i,d,a);try{new Vr(s).decode(m,h-u)}catch(O){throw new X(O)}let v=(1<<a)-1,_=0;for(let O=0;O<u;O++){let U=m[O];if(U===0||U===v)throw new X;(U===1||U===v-1)&&_++}let S=new Array(u*a-_),N=0;for(let O=0;O<u;O++){let U=m[O];if(U===1||U===v-1)S.fill(U>1,N,N+a-1),N+=a-1;else for(let G=a-1;G>=0;--G)S[N++]=(U&1<<G)!==0}return S}extractBits(i){let s=this.ddata.isCompact(),a=this.ddata.getNbLayers(),u=(s?11:14)+a*4,h=new Int32Array(u),d=new Array(this.totalBitsInLayer(a,s));if(s)for(let m=0;m<h.length;m++)h[m]=m;else{let m=u+1+2*R.truncDivision(R.truncDivision(u,2)-1,15),v=u/2,_=R.truncDivision(m,2);for(let S=0;S<v;S++){let N=S+R.truncDivision(S,15);h[v-S-1]=_-N-1,h[v+S]=_+N+1}}for(let m=0,v=0;m<a;m++){let _=(a-m)*4+(s?9:12),S=m*2,N=u-1-S;for(let O=0;O<_;O++){let U=O*2;for(let G=0;G<2;G++)d[v+U+G]=i.get(h[S+G],h[S+O]),d[v+2*_+U+G]=i.get(h[S+O],h[N-G]),d[v+4*_+U+G]=i.get(h[N-G],h[N-O]),d[v+6*_+U+G]=i.get(h[N-O],h[S+G])}v+=_*8}return d}static readCode(i,s,a){let u=0;for(let h=s;h<s+a;h++)u<<=1,i[h]&&(u|=1);return u}static readByte(i,s){let a=i.length-s;return a>=8?ct.readCode(i,s,8):ct.readCode(i,s,a)<<8-a}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let a=0;a<s.length;a++)s[a]=ct.readByte(i,8*a);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class nt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,s,a,u){const h=i-a,d=s-u;return Math.sqrt(h*h+d*d)}static sum(i){let s=0;for(let a=0,u=i.length;a!==u;a++){const h=i[a];s+=h}return s}}class Os{static floatToIntBits(i){return i}}Os.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(i,s){this.x=i,this.y=s}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Ie){const s=i;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Os.floatToIntBits(this.x)+Os.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const s=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let h,d,m;if(a>=s&&a>=u?(d=i[0],h=i[1],m=i[2]):u>=a&&u>=s?(d=i[1],h=i[0],m=i[2]):(d=i[2],h=i[0],m=i[1]),this.crossProductZ(h,d,m)<0){const v=h;h=m,m=v}i[0]=h,i[1]=d,i[2]=m}static distance(i,s){return nt.distance(i.x,i.y,s.x,s.y)}static crossProductZ(i,s,a){const u=s.x,h=s.y;return(a.x-u)*(i.y-h)-(a.y-h)*(i.x-u)}}class Ps{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class va extends Ps{constructor(i,s,a,u,h){super(i,s),this.compact=a,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Fi{constructor(i,s,a,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=Fi.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const h=s/2|0;if(this.leftInit=a-h,this.rightInit=a+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let i=this.leftInit,s=this.rightInit,a=this.upInit,u=this.downInit,h=!1,d=!0,m=!1,v=!1,_=!1,S=!1,N=!1;const O=this.width,U=this.height;for(;d;){d=!1;let G=!0;for(;(G||!v)&&s<O;)G=this.containsBlackPoint(a,u,s,!1),G?(s++,d=!0,v=!0):v||s++;if(s>=O){h=!0;break}let Y=!0;for(;(Y||!_)&&u<U;)Y=this.containsBlackPoint(i,s,u,!0),Y?(u++,d=!0,_=!0):_||u++;if(u>=U){h=!0;break}let K=!0;for(;(K||!S)&&i>=0;)K=this.containsBlackPoint(a,u,i,!1),K?(i--,d=!0,S=!0):S||i--;if(i<0){h=!0;break}let $=!0;for(;($||!N)&&a>=0;)$=this.containsBlackPoint(i,s,a,!0),$?(a--,d=!0,N=!0):N||a--;if(a<0){h=!0;break}d&&(m=!0)}if(!h&&m){const G=s-i;let Y=null;for(let me=1;Y===null&&me<G;me++)Y=this.getBlackPointOnSegment(i,u-me,i+me,u);if(Y==null)throw new re;let K=null;for(let me=1;K===null&&me<G;me++)K=this.getBlackPointOnSegment(i,a+me,i+me,a);if(K==null)throw new re;let $=null;for(let me=1;$===null&&me<G;me++)$=this.getBlackPointOnSegment(s,a+me,s-me,a);if($==null)throw new re;let pe=null;for(let me=1;pe===null&&me<G;me++)pe=this.getBlackPointOnSegment(s,u-me,s-me,u);if(pe==null)throw new re;return this.centerEdges(pe,Y,$,K)}else throw new re}getBlackPointOnSegment(i,s,a,u){const h=nt.round(nt.distance(i,s,a,u)),d=(a-i)/h,m=(u-s)/h,v=this.image;for(let _=0;_<h;_++){const S=nt.round(i+_*d),N=nt.round(s+_*m);if(v.get(S,N))return new Ie(S,N)}return null}centerEdges(i,s,a,u){const h=i.getX(),d=i.getY(),m=s.getX(),v=s.getY(),_=a.getX(),S=a.getY(),N=u.getX(),O=u.getY(),U=Fi.CORR;return h<this.width/2?[new Ie(N-U,O+U),new Ie(m+U,v+U),new Ie(_-U,S-U),new Ie(h+U,d-U)]:[new Ie(N+U,O+U),new Ie(m+U,v-U),new Ie(_-U,S+U),new Ie(h-U,d-U)]}containsBlackPoint(i,s,a,u){const h=this.image;if(u){for(let d=i;d<=s;d++)if(h.get(d,a))return!0}else for(let d=i;d<=s;d++)if(h.get(a,d))return!0;return!1}}Fi.INIT_SIZE=10,Fi.CORR=1;class wa{static checkAndNudgePoints(i,s){const a=i.getWidth(),u=i.getHeight();let h=!0;for(let d=0;d<s.length&&h;d+=2){const m=Math.floor(s[d]),v=Math.floor(s[d+1]);if(m<-1||m>a||v<-1||v>u)throw new re;h=!1,m===-1?(s[d]=0,h=!0):m===a&&(s[d]=a-1,h=!0),v===-1?(s[d+1]=0,h=!0):v===u&&(s[d+1]=u-1,h=!0)}h=!0;for(let d=s.length-2;d>=0&&h;d-=2){const m=Math.floor(s[d]),v=Math.floor(s[d+1]);if(m<-1||m>a||v<-1||v>u)throw new re;h=!1,m===-1?(s[d]=0,h=!0):m===a&&(s[d]=a-1,h=!0),v===-1?(s[d+1]=0,h=!0):v===u&&(s[d+1]=u-1,h=!0)}}}class Ln{constructor(i,s,a,u,h,d,m,v,_){this.a11=i,this.a21=s,this.a31=a,this.a12=u,this.a22=h,this.a32=d,this.a13=m,this.a23=v,this.a33=_}static quadrilateralToQuadrilateral(i,s,a,u,h,d,m,v,_,S,N,O,U,G,Y,K){const $=Ln.quadrilateralToSquare(i,s,a,u,h,d,m,v);return Ln.squareToQuadrilateral(_,S,N,O,U,G,Y,K).times($)}transformPoints(i){const s=i.length,a=this.a11,u=this.a12,h=this.a13,d=this.a21,m=this.a22,v=this.a23,_=this.a31,S=this.a32,N=this.a33;for(let O=0;O<s;O+=2){const U=i[O],G=i[O+1],Y=h*U+v*G+N;i[O]=(a*U+d*G+_)/Y,i[O+1]=(u*U+m*G+S)/Y}}transformPointsWithValues(i,s){const a=this.a11,u=this.a12,h=this.a13,d=this.a21,m=this.a22,v=this.a23,_=this.a31,S=this.a32,N=this.a33,O=i.length;for(let U=0;U<O;U++){const G=i[U],Y=s[U],K=h*G+v*Y+N;i[U]=(a*G+d*Y+_)/K,s[U]=(u*G+m*Y+S)/K}}static squareToQuadrilateral(i,s,a,u,h,d,m,v){const _=i-a+h-m,S=s-u+d-v;if(_===0&&S===0)return new Ln(a-i,h-a,i,u-s,d-u,s,0,0,1);{const N=a-h,O=m-h,U=u-d,G=v-d,Y=N*G-O*U,K=(_*G-O*S)/Y,$=(N*S-_*U)/Y;return new Ln(a-i+K*a,m-i+$*m,i,u-s+K*u,v-s+$*v,s,K,$,1)}}static quadrilateralToSquare(i,s,a,u,h,d,m,v){return Ln.squareToQuadrilateral(i,s,a,u,h,d,m,v).buildAdjoint()}buildAdjoint(){return new Ln(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Ln(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class _a extends wa{sampleGrid(i,s,a,u,h,d,m,v,_,S,N,O,U,G,Y,K,$,pe,me){const ce=Ln.quadrilateralToQuadrilateral(u,h,d,m,v,_,S,N,O,U,G,Y,K,$,pe,me);return this.sampleGridWithTransform(i,s,a,ce)}sampleGridWithTransform(i,s,a,u){if(s<=0||a<=0)throw new re;const h=new De(s,a),d=new Float32Array(2*s);for(let m=0;m<a;m++){const v=d.length,_=m+.5;for(let S=0;S<v;S+=2)d[S]=S/2+.5,d[S+1]=_;u.transformPoints(d),wa.checkAndNudgePoints(i,d);try{for(let S=0;S<v;S+=2)i.get(Math.floor(d[S]),Math.floor(d[S+1]))&&h.set(S/2,m)}catch{throw new re}}return h}}class ji{static setGridSampler(i){ji.gridSampler=i}static getInstance(){return ji.gridSampler}}ji.gridSampler=new _a;class wn{constructor(i,s){this.x=i,this.y=s}toResultPoint(){return new Ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ca{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let s=this.getMatrixCenter(),a=this.getBullsEyeCorners(s);if(i){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let u=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),h=this.getMatrixCornerPoints(a);return new va(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new re;let s=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],s),this.sampleLine(i[1],i[2],s),this.sampleLine(i[2],i[3],s),this.sampleLine(i[3],i[0],s)]);this.shift=this.getRotation(a,s);let u=0;for(let d=0;d<4;d++){let m=a[(this.shift+d)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,s){let a=0;i.forEach((u,h,d)=>{let m=(u>>s-2<<1)+(u&1);a=(a<<3)+m}),a=((a&1)<<11)+(a>>1);for(let u=0;u<4;u++)if(R.bitCount(a^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new re}getCorrectedParameterData(i,s){let a,u;s?(a=7,u=2):(a=10,u=4);let h=a-u,d=new Int32Array(a);for(let v=a-1;v>=0;--v)d[v]=i&15,i>>=4;try{new Vr(tt.AZTEC_PARAM).decode(d,h)}catch{throw new re}let m=0;for(let v=0;v<u;v++)m=(m<<4)+d[v];return m}getBullsEyeCorners(i){let s=i,a=i,u=i,h=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(s,d,1,-1),O=this.getFirstDifferent(a,d,1,1),U=this.getFirstDifferent(u,d,-1,1),G=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(G,N)*this.nbCenterLayers/(this.distancePoint(h,s)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(N,O,U,G))break}s=N,a=O,u=U,h=G,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let m=new Ie(s.getX()+.5,s.getY()-.5),v=new Ie(a.getX()+.5,a.getY()+.5),_=new Ie(u.getX()-.5,u.getY()+.5),S=new Ie(h.getX()-.5,h.getY()-.5);return this.expandSquare([m,v,_,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,s,a,u;try{let m=new Fi(this.image).detect();i=m[0],s=m[1],a=m[2],u=m[3]}catch{let v=this.image.getWidth()/2,_=this.image.getHeight()/2;i=this.getFirstDifferent(new wn(v+7,_-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new wn(v+7,_+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new wn(v-7,_+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new wn(v-7,_-7),!1,-1,-1).toResultPoint()}let h=nt.round((i.getX()+u.getX()+s.getX()+a.getX())/4),d=nt.round((i.getY()+u.getY()+s.getY()+a.getY())/4);try{let m=new Fi(this.image,15,h,d).detect();i=m[0],s=m[1],a=m[2],u=m[3]}catch{i=this.getFirstDifferent(new wn(h+7,d-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new wn(h+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new wn(h-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new wn(h-7,d-7),!1,-1,-1).toResultPoint()}return h=nt.round((i.getX()+u.getX()+s.getX()+a.getX())/4),d=nt.round((i.getY()+u.getY()+s.getY()+a.getY())/4),new wn(h,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,s,a,u,h){let d=ji.getInstance(),m=this.getDimension(),v=m/2-this.nbCenterLayers,_=m/2+this.nbCenterLayers;return d.sampleGrid(i,m,m,v,v,_,v,_,_,v,_,s.getX(),s.getY(),a.getX(),a.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(i,s,a){let u=0,h=this.distanceResultPoint(i,s),d=h/a,m=i.getX(),v=i.getY(),_=d*(s.getX()-i.getX())/h,S=d*(s.getY()-i.getY())/h;for(let N=0;N<a;N++)this.image.get(nt.round(m+N*_),nt.round(v+N*S))&&(u|=1<<a-N-1);return u}isWhiteOrBlackRectangle(i,s,a,u){let h=3;i=new wn(i.getX()-h,i.getY()+h),s=new wn(s.getX()-h,s.getY()-h),a=new wn(a.getX()+h,a.getY()-h),u=new wn(u.getX()+h,u.getY()+h);let d=this.getColor(u,i);if(d===0)return!1;let m=this.getColor(i,s);return m!==d||(m=this.getColor(s,a),m!==d)?!1:(m=this.getColor(a,u),m===d)}getColor(i,s){let a=this.distancePoint(i,s),u=(s.getX()-i.getX())/a,h=(s.getY()-i.getY())/a,d=0,m=i.getX(),v=i.getY(),_=this.image.get(i.getX(),i.getY()),S=Math.ceil(a);for(let O=0;O<S;O++)m+=u,v+=h,this.image.get(nt.round(m),nt.round(v))!==_&&d++;let N=d/a;return N>.1&&N<.9?0:N<=.1===_?1:-1}getFirstDifferent(i,s,a,u){let h=i.getX()+a,d=i.getY()+u;for(;this.isValid(h,d)&&this.image.get(h,d)===s;)h+=a,d+=u;for(h-=a,d-=u;this.isValid(h,d)&&this.image.get(h,d)===s;)h+=a;for(h-=a;this.isValid(h,d)&&this.image.get(h,d)===s;)d+=u;return d-=u,new wn(h,d)}expandSquare(i,s,a){let u=a/(2*s),h=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,v=(i[0].getY()+i[2].getY())/2,_=new Ie(m+u*h,v+u*d),S=new Ie(m-u*h,v-u*d);h=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,v=(i[1].getY()+i[3].getY())/2;let N=new Ie(m+u*h,v+u*d),O=new Ie(m-u*h,v-u*d);return[_,N,S,O]}isValid(i,s){return i>=0&&i<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(i){let s=nt.round(i.getX()),a=nt.round(i.getY());return this.isValid(s,a)}distancePoint(i,s){return nt.distance(i.getX(),i.getY(),s.getX(),s.getY())}distanceResultPoint(i,s){return nt.distance(i.getX(),i.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Rs{decode(i,s=null){let a=null,u=new Ca(i.getBlackMatrix()),h=null,d=null;try{let S=u.detectMirror(!1);h=S.getPoints(),this.reportFoundResultPoints(s,h),d=new ct().decode(S)}catch(S){a=S}if(d==null)try{let S=u.detectMirror(!0);h=S.getPoints(),this.reportFoundResultPoints(s,h),d=new ct().decode(S)}catch(S){throw a??S}let m=new Fe(d.getText(),d.getRawBytes(),d.getNumBits(),h,he.AZTEC,B.currentTimeMillis()),v=d.getByteSegments();v!=null&&m.putMetadata(dt.BYTE_SEGMENTS,v);let _=d.getECLevel();return _!=null&&m.putMetadata(dt.ERROR_CORRECTION_LEVEL,_),m}reportFoundResultPoints(i,s){if(i!=null){let a=i.get(se.NEED_RESULT_POINT_CALLBACK);a!=null&&s.forEach((u,h,d)=>{a.foundPossibleResultPoint(u)})}}reset(){}}class wh extends rt{constructor(i=500){super(new Rs,i)}}class Bt{decode(i,s){try{return this.doDecode(i,s)}catch{if(s&&s.get(se.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),d=this.doDecode(h,s),m=d.getResultMetadata();let v=270;m!==null&&m.get(dt.ORIENTATION)===!0&&(v=v+m.get(dt.ORIENTATION)%360),d.putMetadata(dt.ORIENTATION,v);const _=d.getResultPoints();if(_!==null){const S=h.getHeight();for(let N=0;N<_.length;N++)_[N]=new Ie(S-_[N].getY()-1,_[N].getX())}return d}else throw new re}}reset(){}doDecode(i,s){const a=i.getWidth(),u=i.getHeight();let h=new Z(a);const d=s&&s.get(se.TRY_HARDER)===!0,m=Math.max(1,u>>(d?8:5));let v;d?v=u:v=15;const _=Math.trunc(u/2);for(let S=0;S<v;S++){const N=Math.trunc((S+1)/2),O=(S&1)===0,U=_+m*(O?N:-N);if(U<0||U>=u)break;try{h=i.getBlackRow(U,h)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(h.reverse(),s&&s.get(se.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;s.forEach((K,$)=>Y.set($,K)),Y.delete(se.NEED_RESULT_POINT_CALLBACK),s=Y}try{const Y=this.decodeRow(U,h,s);if(G===1){Y.putMetadata(dt.ORIENTATION,180);const K=Y.getResultPoints();K!==null&&(K[0]=new Ie(a-K[0].getX()-1,K[0].getY()),K[1]=new Ie(a-K[1].getX()-1,K[1].getY()))}return Y}catch{}}}throw new re}static recordPattern(i,s,a){const u=a.length;for(let _=0;_<u;_++)a[_]=0;const h=i.getSize();if(s>=h)throw new re;let d=!i.get(s),m=0,v=s;for(;v<h;){if(i.get(v)!==d)a[m]++;else{if(++m===u)break;a[m]=1,d=!d}v++}if(!(m===u||m===u-1&&v===h))throw new re}static recordPatternInReverse(i,s,a){let u=a.length,h=i.get(s);for(;s>0&&u>=0;)i.get(--s)!==h&&(u--,h=!h);if(u>=0)throw new re;Bt.recordPattern(i,s+1,a)}static patternMatchVariance(i,s,a){const u=i.length;let h=0,d=0;for(let _=0;_<u;_++)h+=i[_],d+=s[_];if(h<d)return Number.POSITIVE_INFINITY;const m=h/d;a*=m;let v=0;for(let _=0;_<u;_++){const S=i[_],N=s[_]*m,O=S>N?S-N:N-S;if(O>a)return Number.POSITIVE_INFINITY;v+=O}return v/h}}class ye extends Bt{static findStartPattern(i){const s=i.getSize(),a=i.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),d=a,m=!1;const v=6;for(let _=a;_<s;_++)if(i.get(_)!==m)h[u]++;else{if(u===v-1){let S=ye.MAX_AVG_VARIANCE,N=-1;for(let O=ye.CODE_START_A;O<=ye.CODE_START_C;O++){const U=Bt.patternMatchVariance(h,ye.CODE_PATTERNS[O],ye.MAX_INDIVIDUAL_VARIANCE);U<S&&(S=U,N=O)}if(N>=0&&i.isRange(Math.max(0,d-(_-d)/2),d,!1))return Int32Array.from([d,_,N]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,m=!m}throw new re}static decodeCode(i,s,a){Bt.recordPattern(i,a,s);let u=ye.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<ye.CODE_PATTERNS.length;d++){const m=ye.CODE_PATTERNS[d],v=this.patternMatchVariance(s,m,ye.MAX_INDIVIDUAL_VARIANCE);v<u&&(u=v,h=d)}if(h>=0)return h;throw new re}decodeRow(i,s,a){const u=a&&a.get(se.ASSUME_GS1)===!0,h=ye.findStartPattern(s),d=h[2];let m=0;const v=new Uint8Array(20);v[m++]=d;let _;switch(d){case ye.CODE_START_A:_=ye.CODE_CODE_A;break;case ye.CODE_START_B:_=ye.CODE_CODE_B;break;case ye.CODE_START_C:_=ye.CODE_CODE_C;break;default:throw new X}let S=!1,N=!1,O="",U=h[0],G=h[1];const Y=Int32Array.from([0,0,0,0,0,0]);let K=0,$=0,pe=d,me=0,ce=!0,Ke=!1,We=!1;for(;!S;){const Ti=N;switch(N=!1,K=$,$=ye.decodeCode(s,Y,G),v[m++]=$,$!==ye.CODE_STOP&&(ce=!0),$!==ye.CODE_STOP&&(me++,pe+=me*$),U=G,G+=Y.reduce((Mh,$r)=>Mh+$r,0),$){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new X}switch(_){case ye.CODE_CODE_A:if($<64)We===Ke?O+=String.fromCharCode(32+$):O+=String.fromCharCode(32+$+128),We=!1;else if($<96)We===Ke?O+=String.fromCharCode($-64):O+=String.fromCharCode($+64),We=!1;else switch($!==ye.CODE_STOP&&(ce=!1),$){case ye.CODE_FNC_1:u&&(O.length===0?O+="]C1":O+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!Ke&&We?(Ke=!0,We=!1):Ke&&We?(Ke=!1,We=!1):We=!0;break;case ye.CODE_SHIFT:N=!0,_=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:_=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:_=ye.CODE_CODE_C;break;case ye.CODE_STOP:S=!0;break}break;case ye.CODE_CODE_B:if($<96)We===Ke?O+=String.fromCharCode(32+$):O+=String.fromCharCode(32+$+128),We=!1;else switch($!==ye.CODE_STOP&&(ce=!1),$){case ye.CODE_FNC_1:u&&(O.length===0?O+="]C1":O+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!Ke&&We?(Ke=!0,We=!1):Ke&&We?(Ke=!1,We=!1):We=!0;break;case ye.CODE_SHIFT:N=!0,_=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:_=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:_=ye.CODE_CODE_C;break;case ye.CODE_STOP:S=!0;break}break;case ye.CODE_CODE_C:if($<100)$<10&&(O+="0"),O+=$;else switch($!==ye.CODE_STOP&&(ce=!1),$){case ye.CODE_FNC_1:u&&(O.length===0?O+="]C1":O+="");break;case ye.CODE_CODE_A:_=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:_=ye.CODE_CODE_B;break;case ye.CODE_STOP:S=!0;break}break}Ti&&(_=_===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const Pt=G-U;if(G=s.getNextUnset(G),!s.isRange(G,Math.min(s.getSize(),G+(G-U)/2),!1))throw new re;if(pe-=me*K,pe%103!==K)throw new D;const Sn=O.length;if(Sn===0)throw new re;Sn>0&&ce&&(_===ye.CODE_CODE_C?O=O.substring(0,Sn-2):O=O.substring(0,Sn-1));const Tn=(h[1]+h[0])/2,ut=U+Pt/2,ln=v.length,bn=new Uint8Array(ln);for(let Ti=0;Ti<ln;Ti++)bn[Ti]=v[Ti];const Jr=[new Ie(Tn,i),new Ie(ut,i)];return new Fe(O,bn,0,Jr,he.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class Wt extends Bt{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,a){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=Wt.findAsteriskPattern(s,u),d=s.getNextSet(h[1]),m=s.getSize(),v,_;do{Wt.recordPattern(s,d,u);let Y=Wt.toNarrowWidePattern(u);if(Y<0)throw new re;v=Wt.patternToChar(Y),this.decodeRowResult+=v,_=d;for(let K of u)d+=K;d=s.getNextSet(d)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let Y of u)S+=Y;let N=d-_-S;if(d!==m&&N*2<S)throw new re;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,K=0;for(let $=0;$<Y;$++)K+=Wt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(Y)!==Wt.ALPHABET_STRING.charAt(K%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new re;let O;this.extendedMode?O=Wt.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let U=(h[1]+h[0])/2,G=_+S/2;return new Fe(O,null,0,[new Ie(U,i),new Ie(G,i)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let a=i.getSize(),u=i.getNextSet(0),h=0,d=u,m=!1,v=s.length;for(let _=u;_<a;_++)if(i.get(_)!==m)s[h]++;else{if(h===v-1){if(this.toNarrowWidePattern(s)===Wt.ASTERISK_ENCODING&&i.isRange(Math.max(0,d-Math.floor((_-d)/2)),d,!1))return[d,_];d+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,m=!m}throw new re}static toNarrowWidePattern(i){let s=i.length,a=0,u;do{let h=2147483647;for(let v of i)v<h&&v>a&&(h=v);a=h,u=0;let d=0,m=0;for(let v=0;v<s;v++){let _=i[v];_>a&&(m|=1<<s-1-v,u++,d+=_)}if(u===3){for(let v=0;v<s&&u>0;v++){let _=i[v];if(_>a&&(u--,_*2>=d))return-1}return m}}while(u>3);return-1}static patternToChar(i){for(let s=0;s<Wt.CHARACTER_ENCODINGS.length;s++)if(Wt.CHARACTER_ENCODINGS[s]===i)return Wt.ALPHABET_STRING.charAt(s);if(i===Wt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(i){let s=i.length,a="";for(let u=0;u<s;u++){let h=i.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=i.charAt(u+1),m="\0";switch(h){case"+":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)+32);else throw new X;break;case"$":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)-64);else throw new X;break;case"%":if(d>="A"&&d<="E")m=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")m=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")m=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")m="\0";else if(d==="V")m="@";else if(d==="W")m="`";else if(d==="X"||d==="Y"||d==="Z")m="";else throw new X;break;case"/":if(d>="A"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")m=":";else throw new X;break}a+=m,u++}else a+=h}return a}}Wt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Wt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Wt.ASTERISK_ENCODING=148;class pt extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,s,a){let u=this.decodeStart(s),h=this.decodeEnd(s),d=new Be;pt.decodeMiddle(s,u[1],h[0],d);let m=d.toString(),v=null;a!=null&&(v=a.get(se.ALLOWED_LENGTHS)),v==null&&(v=pt.DEFAULT_ALLOWED_LENGTHS);let _=m.length,S=!1,N=0;for(let G of v){if(_===G){S=!0;break}G>N&&(N=G)}if(!S&&_>N&&(S=!0),!S)throw new X;const O=[new Ie(u[1],i),new Ie(h[0],i)];return new Fe(m,null,0,O,he.ITF,new Date().getTime())}static decodeMiddle(i,s,a,u){let h=new Int32Array(10),d=new Int32Array(5),m=new Int32Array(5);for(h.fill(0),d.fill(0),m.fill(0);s<a;){Bt.recordPattern(i,s,h);for(let _=0;_<5;_++){let S=2*_;d[_]=h[S],m[_]=h[S+1]}let v=pt.decodeDigit(d);u.append(v.toString()),v=this.decodeDigit(m),u.append(v.toString()),h.forEach(function(_){s+=_})}}decodeStart(i){let s=pt.skipWhiteSpace(i),a=pt.findGuardPattern(i,s,pt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,s){let a=this.narrowLineWidth*10;a=a<s?a:s;for(let u=s-1;a>0&&u>=0&&!i.get(u);u--)a--;if(a!==0)throw new re}static skipWhiteSpace(i){const s=i.getSize(),a=i.getNextSet(0);if(a===s)throw new re;return a}decodeEnd(i){i.reverse();try{let s=pt.skipWhiteSpace(i),a;try{a=pt.findGuardPattern(i,s,pt.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(a=pt.findGuardPattern(i,s,pt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let u=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-u,a}finally{i.reverse()}}static findGuardPattern(i,s,a){let u=a.length,h=new Int32Array(u),d=i.getSize(),m=!1,v=0,_=s;h.fill(0);for(let S=s;S<d;S++)if(i.get(S)!==m)h[v]++;else{if(v===u-1){if(Bt.patternMatchVariance(h,a,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return[_,S];_+=h[0]+h[1],B.arraycopy(h,2,h,0,v-1),h[v-1]=0,h[v]=0,v--}else v++;h[v]=1,m=!m}throw new re}static decodeDigit(i){let s=pt.MAX_AVG_VARIANCE,a=-1,u=pt.PATTERNS.length;for(let h=0;h<u;h++){let d=pt.PATTERNS[h],m=Bt.patternMatchVariance(i,d,pt.MAX_INDIVIDUAL_VARIANCE);m<s?(s=m,a=h):m===s&&(a=-1)}if(a>=0)return a%10;throw new re}}pt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],pt.MAX_AVG_VARIANCE=.38,pt.MAX_INDIVIDUAL_VARIANCE=.5,pt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],pt.START_PATTERN=Int32Array.from([1,1,1,1]),pt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class yt extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let s=!1,a,u=0,h=Int32Array.from([0,0,0]);for(;!s;){h=Int32Array.from([0,0,0]),a=yt.findGuardPattern(i,u,!1,this.START_END_PATTERN,h);let d=a[0];u=a[1];let m=d-(u-d);m>=0&&(s=i.isRange(m,d,!1))}return a}static checkChecksum(i){return yt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return yt.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let u=s-1;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}a*=3;for(let u=s-2;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}return(1e3-a)%10}static decodeEnd(i,s){return yt.findGuardPattern(i,s,!1,yt.START_END_PATTERN,new Int32Array(yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,s,a,u){return this.findGuardPattern(i,s,a,u,new Int32Array(u.length))}static findGuardPattern(i,s,a,u,h){let d=i.getSize();s=a?i.getNextUnset(s):i.getNextSet(s);let m=0,v=s,_=u.length,S=a;for(let N=s;N<d;N++)if(i.get(N)!==S)h[m]++;else{if(m===_-1){if(Bt.patternMatchVariance(h,u,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return Int32Array.from([v,N]);v+=h[0]+h[1];let O=h.slice(2,h.length-1);for(let U=0;U<m-1;U++)h[U]=O[U];h[m-1]=0,h[m]=0,m--}else m++;h[m]=1,S=!S}throw new re}static decodeDigit(i,s,a,u){this.recordPattern(i,a,s);let h=this.MAX_AVG_VARIANCE,d=-1,m=u.length;for(let v=0;v<m;v++){let _=u[v],S=Bt.patternMatchVariance(s,_,yt.MAX_INDIVIDUAL_VARIANCE);S<h&&(h=S,d=v)}if(d>=0)return d;throw new re}}yt.MAX_AVG_VARIANCE=.48,yt.MAX_INDIVIDUAL_VARIANCE=.7,yt.START_END_PATTERN=Int32Array.from([1,1,1]),yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ls{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,u),d=u.toString(),m=Ls.parseExtensionString(d),v=[new Ie((a[0]+a[1])/2,i),new Ie(h,i)],_=new Fe(d,null,0,v,he.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&_.putAllMetadata(m),_}decodeMiddle(i,s,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=s[1],m=0;for(let _=0;_<5&&d<h;_++){let S=yt.decodeDigit(i,u,d,yt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let N of u)d+=N;S>=10&&(m|=1<<4-_),_!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==5)throw new re;let v=this.determineCheckDigit(m);if(Ls.extensionChecksum(a.toString())!==v)throw new re;return d}static extensionChecksum(i){let s=i.length,a=0;for(let u=s-2;u>=0;u-=2)a+=i.charAt(u).charCodeAt(0)-48;a*=3;for(let u=s-1;u>=0;u-=2)a+=i.charAt(u).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let s=0;s<10;s++)if(i===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new re}static parseExtensionString(i){if(i.length!==5)return null;let s=Ls.parseExtension5String(i);return s==null?null:new Map([[dt.SUGGESTED_PRICE,s]])}static parseExtension5String(i){let s;switch(i.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let a=parseInt(i.substring(1)),u=(a/100).toString(),h=a%100,d=h<10?"0"+h:h.toString();return s+u+"."+d}}class Ea{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,u),d=u.toString(),m=Ea.parseExtensionString(d),v=[new Ie((a[0]+a[1])/2,i),new Ie(h,i)],_=new Fe(d,null,0,v,he.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&_.putAllMetadata(m),_}decodeMiddle(i,s,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=s[1],m=0;for(let v=0;v<2&&d<h;v++){let _=yt.decodeDigit(i,u,d,yt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let S of u)d+=S;_>=10&&(m|=1<<1-v),v!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==2)throw new re;if(parseInt(a.toString())%4!==m)throw new re;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[dt.ISSUE_NUMBER,parseInt(i)]])}}class Aa{static decodeRow(i,s,a){let u=yt.findGuardPattern(s,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ls().decodeRow(i,s,u)}catch{return new Ea().decodeRow(i,s,u)}}}Aa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class st extends yt{constructor(){super(),this.decodeRowStringBuffer="",st.L_AND_G_PATTERNS=st.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let s=st.L_PATTERNS[i-10],a=new Int32Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[s.length-u-1];st.L_AND_G_PATTERNS[i]=a}}decodeRow(i,s,a){let u=st.findStartGuardPattern(s),h=a==null?null:a.get(se.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ce=new Ie((u[0]+u[1])/2,i);h.foundPossibleResultPoint(ce)}let d=this.decodeMiddle(s,u,this.decodeRowStringBuffer),m=d.rowOffset,v=d.resultString;if(h!=null){const ce=new Ie(m,i);h.foundPossibleResultPoint(ce)}let _=this.decodeEnd(s,m);if(h!=null){const ce=new Ie((_[0]+_[1])/2,i);h.foundPossibleResultPoint(ce)}let S=_[1],N=S+(S-_[0]);if(N>=s.getSize()||!s.isRange(S,N,!1))throw new re;let O=v.toString();if(O.length<8)throw new X;if(!st.checkChecksum(O))throw new D;let U=(u[1]+u[0])/2,G=(_[1]+_[0])/2,Y=this.getBarcodeFormat(),K=[new Ie(U,i),new Ie(G,i)],$=new Fe(O,null,0,K,Y,new Date().getTime()),pe=0;try{let ce=Aa.decodeRow(i,s,_[1]);$.putMetadata(dt.UPC_EAN_EXTENSION,ce.getText()),$.putAllMetadata(ce.getResultMetadata()),$.addResultPoints(ce.getResultPoints()),pe=ce.getText().length}catch{}let me=a==null?null:a.get(se.ALLOWED_EAN_EXTENSIONS);if(me!=null){let ce=!1;for(let Ke in me)if(pe.toString()===Ke){ce=!0;break}if(!ce)throw new re}return $}decodeEnd(i,s){return st.findGuardPattern(i,s,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return st.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return st.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let u=s-1;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}a*=3;for(let u=s-2;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}return(1e3-a)%10}}class tr extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=s[1],m=0;for(let _=0;_<6&&d<h;_++){let S=st.decodeDigit(i,u,d,st.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let N of u)d+=N;S>=10&&(m|=1<<5-_)}a=tr.determineFirstDigit(a,m),d=st.findGuardPattern(i,d,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&d<h;_++){let S=st.decodeDigit(i,u,d,st.L_PATTERNS);a+=String.fromCharCode(48+S);for(let N of u)d+=N}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(i,s){for(let a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new re}}tr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class iu extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=s[1];for(let v=0;v<4&&d<h;v++){let _=st.decodeDigit(i,u,d,st.L_PATTERNS);a+=String.fromCharCode(48+_);for(let S of u)d+=S}d=st.findGuardPattern(i,d,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&d<h;v++){let _=st.decodeDigit(i,u,d,st.L_PATTERNS);a+=String.fromCharCode(48+_);for(let S of u)d+=S}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return he.EAN_8}}class ru extends st{constructor(){super(...arguments),this.ean13Reader=new tr}getBarcodeFormat(){return he.UPC_A}decode(i,s){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,s,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,s,a))}decodeMiddle(i,s,a){return this.ean13Reader.decodeMiddle(i,s,a)}maybeReturnResult(i){let s=i.getText();if(s.charAt(0)==="0"){let a=new Fe(s.substring(1),null,null,i.getResultPoints(),he.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new re}reset(){this.ean13Reader.reset()}}class ri extends st{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,s,a){const u=this.decodeMiddleCounters.map(_=>_);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=i.getSize();let d=s[1],m=0;for(let _=0;_<6&&d<h;_++){const S=ri.decodeDigit(i,u,d,ri.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let N of u)d+=N;S>=10&&(m|=1<<5-_)}let v=ri.determineNumSysAndCheckDigit(a,m);return{rowOffset:d,resultString:v}}decodeEnd(i,s){return ri.findGuardPatternWithoutCounters(i,s,!0,ri.MIDDLE_END_PATTERN)}checkChecksum(i){return st.checkChecksum(ri.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,s){for(let a=0;a<=1;a++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][u]){let h=String.fromCharCode(48+a),d=String.fromCharCode(48+u);return h+i+d}throw re.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(i){const s=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),a=new Be;a.append(i.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:a.appendChars(s,0,2),a.append(u),a.append("0000"),a.appendChars(s,2,3);break;case 3:a.appendChars(s,0,3),a.append("00000"),a.appendChars(s,3,2);break;case 4:a.appendChars(s,0,4),a.append("00000"),a.append(s[4]);break;default:a.appendChars(s,0,5),a.append("0000"),a.append(u);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}ri.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ri.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Sa extends Bt{constructor(i){super();let s=i==null?null:i.get(se.POSSIBLE_FORMATS),a=[];r(s)?(a.push(new tr),a.push(new ru),a.push(new iu),a.push(new ri)):(s.indexOf(he.EAN_13)>-1&&a.push(new tr),s.indexOf(he.UPC_A)>-1&&a.push(new ru),s.indexOf(he.EAN_8)>-1&&a.push(new iu),s.indexOf(he.UPC_E)>-1&&a.push(new ri)),this.readers=a}decodeRow(i,s,a){for(let u of this.readers)try{const h=u.decodeRow(i,s,a),d=h.getBarcodeFormat()===he.EAN_13&&h.getText().charAt(0)==="0",m=a==null?null:a.get(se.POSSIBLE_FORMATS),v=m==null||m.includes(he.UPC_A);if(d&&v){const _=h.getRawBytes(),S=new Fe(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),he.UPC_A);return S.putAllMetadata(h.getResultMetadata()),S}return h}catch{}throw new re}reset(){for(let i of this.readers)i.reset()}}class hn extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let a=0;a<s.length;a++)if(Bt.patternMatchVariance(i,s[a],hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return a;throw new re}static count(i){return nt.sum(new Int32Array(i))}static increment(i,s){let a=0,u=s[0];for(let h=1;h<i.length;h++)s[h]>u&&(u=s[h],a=h);i[a]++}static decrement(i,s){let a=0,u=s[0];for(let h=1;h<i.length;h++)s[h]<u&&(u=s[h],a=h);i[a]--}static isFinderPattern(i){let s=i[0]+i[1],a=s+i[2]+i[3],u=s/a;if(u>=hn.MIN_FINDER_PATTERN_RATIO&&u<=hn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let m of i)m>d&&(d=m),m<h&&(h=m);return d<10*h}return!1}}hn.MAX_AVG_VARIANCE=.2,hn.MAX_INDIVIDUAL_VARIANCE=.45,hn.MIN_FINDER_PATTERN_RATIO=9.5/12,hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Hr{constructor(i,s){this.value=i,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Hr))return!1;const s=i;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Wr{constructor(i,s,a,u,h){this.value=i,this.startEnd=s,this.value=i,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Ie(a,h)),this.resultPoints.push(new Ie(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Wr))return!1;const s=i;return this.value===s.value}hashCode(){return this.value}}class vi{constructor(){}static getRSSvalue(i,s,a){let u=0;for(let v of i)u+=v;let h=0,d=0,m=i.length;for(let v=0;v<m-1;v++){let _;for(_=1,d|=1<<v;_<i[v];_++,d&=~(1<<v)){let S=vi.combins(u-_-1,m-v-2);if(a&&d===0&&u-_-(m-v-1)>=m-v-1&&(S-=vi.combins(u-_-(m-v),m-v-2)),m-v-1>1){let N=0;for(let O=u-_-(m-v-2);O>s;O--)N+=vi.combins(u-_-O-1,m-v-3);S-=N*(m-1-v)}else u-_>s&&S--;h+=S}u-=_}return h}static combins(i,s){let a,u;i-s>s?(u=s,a=i-s):(u=i-s,a=s);let h=1,d=1;for(let m=i;m>a;m--)h*=m,d<=u&&(h/=d,d++);for(;d<=u;)h/=d,d++;return h}}class _h{static buildBitArray(i){let s=i.length*2-1;i[i.length-1].getRightChar()==null&&(s-=1);let a=12*s,u=new Z(a),h=0,m=i[0].getRightChar().getValue();for(let v=11;v>=0;--v)m&1<<v&&u.set(h),h++;for(let v=1;v<i.length;++v){let _=i[v],S=_.getLeftChar().getValue();for(let N=11;N>=0;--N)S&1<<N&&u.set(h),h++;if(_.getRightChar()!=null){let N=_.getRightChar().getValue();for(let O=11;O>=0;--O)N&1<<O&&u.set(h),h++}}return u}}class mr{constructor(i,s){s?this.decodedInformation=null:(this.finished=i,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ta{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Mt extends Ta{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Mt.FNC1}}Mt.FNC1="$";class Ne extends Ta{constructor(i,s,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dn extends Ta{constructor(i,s,a){if(super(i),s<0||s>10||a<0||a>10)throw new X;this.firstDigit=s,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dn.FNC1}isAnyFNC1(){return this.firstDigit===Dn.FNC1||this.secondDigit===Dn.FNC1}}Dn.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new re;let s=i.substring(0,2);for(let h of Ce.TWO_DIGIT_DATA_LENGTH)if(h[0]===s)return h[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,h[2],i):Ce.processFixedAI(2,h[1],i);if(i.length<3)throw new re;let a=i.substring(0,3);for(let h of Ce.THREE_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,h[2],i):Ce.processFixedAI(3,h[1],i);for(let h of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,h[2],i):Ce.processFixedAI(4,h[1],i);if(i.length<4)throw new re;let u=i.substring(0,4);for(let h of Ce.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,h[2],i):Ce.processFixedAI(4,h[1],i);throw new re}static processFixedAI(i,s,a){if(a.length<i)throw new re;let u=a.substring(0,i);if(a.length<i+s)throw new re;let h=a.substring(i,i+s),d=a.substring(i+s),m="("+u+")"+h,v=Ce.parseFieldsInGeneralPurpose(d);return v==null?m:m+v}static processVariableAI(i,s,a){let u=a.substring(0,i),h;a.length<i+s?h=a.length:h=i+s;let d=a.substring(i,h),m=a.substring(h),v="("+u+")"+d,_=Ce.parseFieldsInGeneralPurpose(m);return _==null?v:v+_}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class gr{constructor(i){this.buffer=new Be,this.information=i}decodeAllCodes(i,s){let a=s,u=null;do{let h=this.decodeGeneralPurposeField(a,u),d=Ce.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&i.append(d),h.isRemaining()?u=""+h.getRemainingValue():u=null,a===h.getNewPosition())break;a=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let s=i;s<i+3;++s)if(this.information.get(s))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new Dn(this.information.getSize(),Dn.FNC1,Dn.FNC1):new Dn(this.information.getSize(),h-1,Dn.FNC1)}let s=this.extractNumericValueFromBitArray(i,7),a=(s-8)/11,u=(s-8)%11;return new Dn(i+7,a,u)}extractNumericValueFromBitArray(i,s){return gr.extractNumericValueFromBitArray(this.information,i,s)}static extractNumericValueFromBitArray(i,s,a){let u=0;for(let h=0;h<a;++h)i.get(s+h)&&(u|=1<<a-h-1);return u}decodeGeneralPurposeField(i,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Ne(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Ne(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,s;do{let a=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),i=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),i=s.isFinished()):(s=this.parseNumericBlock(),i=s.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let s;return i.isSecondDigitFNC1()?s=new Ne(this.current.getPosition(),this.buffer.toString()):s=new Ne(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new mr(!0,s)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let s=new Ne(this.current.getPosition(),this.buffer.toString());return new mr(!0,s)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Ne(this.current.getPosition(),this.buffer.toString());return new mr(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Ne(this.current.getPosition(),this.buffer.toString());return new mr(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new Mt(i+5,Mt.FNC1);if(s>=5&&s<15)return new Mt(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new Mt(i+7,""+(a+1));if(a>=90&&a<116)return new Mt(i+7,""+(a+7));let u=this.extractNumericValueFromBitArray(i,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new X}return new Mt(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new Mt(i+5,Mt.FNC1);if(s>=5&&s<15)return new Mt(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new Mt(i+6,""+(a+33));let u;switch(a){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new ii("Decoding invalid alphanumeric value: "+a)}return new Mt(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<5&&s+i<this.information.getSize();++s)if(s===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+s))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let s=i;s<i+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<4&&s+i<this.information.getSize();++s)if(this.information.get(i+s))return!1;return!0}}class Co{constructor(i){this.information=i,this.generalDecoder=new gr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class fn extends Co{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,a)}encodeCompressedGtinWithoutAI(i,s,a){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}fn.appendCheckDigit(i,a)}static appendCheckDigit(i,s){let a=0;for(let u=0;u<13;u++){let h=i.charAt(u+s).charCodeAt(0)-48;a+=u&1?h:3*h}a=10-a%10,a===10&&(a=0),i.append(a)}}fn.GTIN_SIZE=40;class xr extends fn{constructor(i){super(i)}parseInformation(){let i=new Be;i.append("(01)");let s=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,xr.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,xr.HEADER_SIZE+44)}}xr.HEADER_SIZE=4;class zi extends Co{constructor(i){super(i)}parseInformation(){let i=new Be;return this.getGeneralDecoder().decodeAllCodes(i,zi.HEADER_SIZE)}}zi.HEADER_SIZE=5;class Ds extends fn{constructor(i){super(i)}encodeCompressedWeight(i,s,a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,a);this.addWeightCode(i,u);let h=this.checkWeight(u),d=1e5;for(let m=0;m<5;++m)h/d===0&&i.append("0"),d/=10;i.append(h)}}class wi extends Ds{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=wi.HEADER_SIZE+Ds.GTIN_SIZE+wi.WEIGHT_SIZE)throw new re;let i=new Be;return this.encodeCompressedGtin(i,wi.HEADER_SIZE),this.encodeCompressedWeight(i,wi.HEADER_SIZE+Ds.GTIN_SIZE,wi.WEIGHT_SIZE),i.toString()}}wi.HEADER_SIZE=5,wi.WEIGHT_SIZE=15;class Ch extends wi{constructor(i){super(i)}addWeightCode(i,s){i.append("(3103)")}checkWeight(i){return i}}class Eh extends wi{constructor(i){super(i)}addWeightCode(i,s){s<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class _i extends fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<_i.HEADER_SIZE+fn.GTIN_SIZE)throw new re;let i=new Be;this.encodeCompressedGtin(i,_i.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(_i.HEADER_SIZE+fn.GTIN_SIZE,_i.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(_i.HEADER_SIZE+fn.GTIN_SIZE+_i.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}_i.HEADER_SIZE=8,_i.LAST_DIGIT_SIZE=2;class dn extends fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+fn.GTIN_SIZE)throw new re;let i=new Be;this.encodeCompressedGtin(i,dn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+fn.GTIN_SIZE,dn.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+fn.GTIN_SIZE+dn.LAST_DIGIT_SIZE,dn.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let u=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+fn.GTIN_SIZE+dn.LAST_DIGIT_SIZE+dn.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}dn.HEADER_SIZE=8,dn.LAST_DIGIT_SIZE=2,dn.FIRST_THREE_DIGITS_SIZE=10;class At extends Ds{constructor(i,s,a){super(i),this.dateCode=a,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE+At.DATE_SIZE)throw new re;let i=new Be;return this.encodeCompressedGtin(i,At.HEADER_SIZE),this.encodeCompressedWeight(i,At.HEADER_SIZE+At.GTIN_SIZE,At.WEIGHT_SIZE),this.encodeCompressedDate(i,At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,At.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=a%32;a/=32;let h=a%12+1;a/=12;let d=a;d/10==0&&i.append("0"),i.append(d),h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}At.HEADER_SIZE=8,At.WEIGHT_SIZE=20,At.DATE_SIZE=16;function ks(I){try{if(I.get(1))return new xr(I);if(!I.get(2))return new zi(I);switch(gr.extractNumericValueFromBitArray(I,1,4)){case 4:return new Ch(I);case 5:return new Eh(I)}switch(gr.extractNumericValueFromBitArray(I,1,5)){case 12:return new _i(I);case 13:return new dn(I)}switch(gr.extractNumericValueFromBitArray(I,1,7)){case 56:return new At(I,"310","11");case 57:return new At(I,"320","11");case 58:return new At(I,"310","13");case 59:return new At(I,"320","13");case 60:return new At(I,"310","15");case 61:return new At(I,"320","15");case 62:return new At(I,"310","17");case 63:return new At(I,"320","17")}}catch(i){throw console.log(i),new ii("unknown decoder: "+I)}}class nr{constructor(i,s,a,u){this.leftchar=i,this.rightchar=s,this.finderpattern=a,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,s){return i instanceof nr?nr.equalsOrNull(i.leftchar,s.leftchar)&&nr.equalsOrNull(i.rightchar,s.rightchar)&&nr.equalsOrNull(i.finderpattern,s.finderpattern):!1}static equalsOrNull(i,s){return i===null?s===null:nr.equals(i,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ba{constructor(i,s,a){this.pairs=i,this.rowNumber=s,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,s){return i instanceof ba?this.checkEqualitity(i,s)&&i.wasReversed===s.wasReversed:!1}checkEqualitity(i,s){if(!i||!s)return;let a;return i.forEach((u,h)=>{s.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class le extends hn{constructor(i){super(...arguments),this.pairs=new Array(le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,s,a){this.pairs.length=0,this.startFromEven=!1;try{return le.constructResult(this.decodeRow2pairs(i,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,le.constructResult(this.decodeRow2pairs(i,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,s){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,i))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;a=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),s}checkRows(i,s){for(let a=s;a<this.rows.length;a++){let u=this.rows[a];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(u);try{return this.checkRows(h,a+1)}catch(d){this.verbose&&console.log(d)}}throw new re}static isValidSequence(i){for(let s of le.FINDER_PATTERN_SEQUENCES){if(i.length>s.length)continue;let a=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=s[u]){a=!1;break}if(a)return!0}return!1}storeRow(i,s){let a=0,u=!1,h=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>i){h=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),a++}h||u||le.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new ba(this.pairs,i,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,s){for(let a of s)if(a.getPairs().length!==i.length){for(let u of a.getPairs())for(let h of i)if(nr.equals(u,h))break}}static isPartialRow(i,s){for(let a of s){let u=!0;for(let h of i){let d=!1;for(let m of a.getPairs())if(h.equals(m)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let s=_h.buildBitArray(i),u=ks(s).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),m=[h[0],h[1],d[0],d[1]];return new Fe(u,null,null,m,he.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),s=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let u=a.getChecksumPortion(),h=2;for(let m=1;m<this.pairs.size();++m){let v=this.pairs.get(m);u+=v.getLeftChar().getChecksumPortion(),h++;let _=v.getRightChar();_!=null&&(u+=_.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==s.getValue()}static getNextSecondBar(i,s){let a;return i.get(s)?(a=i.getNextUnset(s),a=i.getNextSet(a)):(a=i.getNextSet(s),a=i.getNextUnset(a)),a}retrieveNextPair(i,s,a){let u=s.length%2==0;this.startFromEven&&(u=!u);let h,d=!0,m=-1;do this.findNextPair(i,s,m),h=this.parseFoundFinderPattern(i,a,u),h==null?m=le.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let v=this.decodeDataCharacter(i,h,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new re;let _;try{_=this.decodeDataCharacter(i,h,u,!1)}catch(S){_=null,this.verbose&&console.log(S)}return new nr(v,_,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,s,a){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d;a>=0?d=a:this.isEmptyPair(s)?d=0:d=s[s.length-1].getFinderPattern().getStartEnd()[1];let m=s.length%2!=0;this.startFromEven&&(m=!m);let v=!1;for(;d<h&&(v=!i.get(d),!!v);)d++;let _=0,S=d;for(let N=d;N<h;N++)if(i.get(N)!=v)u[_]++;else{if(_==3){if(m&&le.reverseCounters(u),le.isFinderPattern(u)){this.startEnd[0]=S,this.startEnd[1]=N;return}m&&le.reverseCounters(u),S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,_--}else _++;u[_]=1,v=!v}throw new re}static reverseCounters(i){let s=i.length;for(let a=0;a<s/2;++a){let u=i[a];i[a]=i[s-a-1],i[s-a-1]=u}}parseFoundFinderPattern(i,s,a){let u,h,d;if(a){let _=this.startEnd[0]-1;for(;_>=0&&!i.get(_);)_--;_++,u=this.startEnd[0]-_,h=_,d=this.startEnd[1]}else h=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let m=this.getDecodeFinderCounters();B.arraycopy(m,0,m,1,m.length-1),m[0]=u;let v;try{v=this.parseFinderValue(m,le.FINDER_PATTERNS)}catch{return null}return new Wr(v,[h,d],h,d,s)}decodeDataCharacter(i,s,a,u){let h=this.getDataCharacterCounters();for(let ut=0;ut<h.length;ut++)h[ut]=0;if(u)le.recordPatternInReverse(i,s.getStartEnd()[0],h);else{le.recordPattern(i,s.getStartEnd()[1],h);for(let ut=0,ln=h.length-1;ut<ln;ut++,ln--){let bn=h[ut];h[ut]=h[ln],h[ln]=bn}}let d=17,m=nt.sum(new Int32Array(h))/d,v=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(m-v)/v>.3)throw new re;let _=this.getOddCounts(),S=this.getEvenCounts(),N=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let ut=0;ut<h.length;ut++){let ln=1*h[ut]/m,bn=ln+.5;if(bn<1){if(ln<.3)throw new re;bn=1}else if(bn>8){if(ln>8.7)throw new re;bn=8}let Jr=ut/2;ut&1?(S[Jr]=bn,O[Jr]=ln-bn):(_[Jr]=bn,N[Jr]=ln-bn)}this.adjustOddEvenCounts(d);let U=4*s.getValue()+(a?0:2)+(u?0:1)-1,G=0,Y=0;for(let ut=_.length-1;ut>=0;ut--){if(le.isNotA1left(s,a,u)){let ln=le.WEIGHTS[U][2*ut];Y+=_[ut]*ln}G+=_[ut]}let K=0;for(let ut=S.length-1;ut>=0;ut--)if(le.isNotA1left(s,a,u)){let ln=le.WEIGHTS[U][2*ut+1];K+=S[ut]*ln}let $=Y+K;if(G&1||G>13||G<4)throw new re;let pe=(13-G)/2,me=le.SYMBOL_WIDEST[pe],ce=9-me,Ke=vi.getRSSvalue(_,me,!0),We=vi.getRSSvalue(S,ce,!1),Pt=le.EVEN_TOTAL_SUBSET[pe],Sn=le.GSUM[pe],Tn=Ke*Pt+We+Sn;return new Hr(Tn,$)}static isNotA1left(i,s,a){return!(i.getValue()==0&&s&&a)}adjustOddEvenCounts(i){let s=nt.sum(new Int32Array(this.getOddCounts())),a=nt.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;s>13?h=!0:s<4&&(u=!0);let d=!1,m=!1;a>13?m=!0:a<4&&(d=!0);let v=s+a-i,_=(s&1)==1,S=(a&1)==0;if(v==1)if(_){if(S)throw new re;h=!0}else{if(!S)throw new re;m=!0}else if(v==-1)if(_){if(S)throw new re;u=!0}else{if(!S)throw new re;d=!0}else if(v==0){if(_){if(!S)throw new re;s<a?(u=!0,m=!0):(h=!0,d=!0)}else if(S)throw new re}else throw new re;if(u){if(h)throw new re;le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new re;le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}le.SYMBOL_WIDEST=[7,5,4,3,1],le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],le.GSUM=[0,348,1388,2948,3988],le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],le.FINDER_PAT_A=0,le.FINDER_PAT_B=1,le.FINDER_PAT_C=2,le.FINDER_PAT_D=3,le.FINDER_PAT_E=4,le.FINDER_PAT_F=5,le.FINDER_PATTERN_SEQUENCES=[[le.FINDER_PAT_A,le.FINDER_PAT_A],[le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B],[le.FINDER_PAT_A,le.FINDER_PAT_C,le.FINDER_PAT_B,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_C],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F]],le.MAX_PAIRS=11;class Ah extends Hr{constructor(i,s,a){super(i,s),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dt extends hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,s,a){const u=this.decodePair(s,!1,i,a);Dt.addOrTally(this.possibleLeftPairs,u),s.reverse();let h=this.decodePair(s,!0,i,a);Dt.addOrTally(this.possibleRightPairs,h),s.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Dt.checkChecksum(d,m))return Dt.constructResult(d,m)}throw new re}static addOrTally(i,s){if(s==null)return;let a=!1;for(let u of i)if(u.getValue()===s.getValue()){u.incrementCount(),a=!0;break}a||i.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,s){let a=4537077*i.getValue()+s.getValue(),u=new String(a).toString(),h=new Be;for(let _=13-u.length;_>0;_--)h.append("0");h.append(u);let d=0;for(let _=0;_<13;_++){let S=h.charAt(_).charCodeAt(0)-48;d+=_&1?S:3*S}d=10-d%10,d===10&&(d=0),h.append(d.toString());let m=i.getFinderPattern().getResultPoints(),v=s.getFinderPattern().getResultPoints();return new Fe(h.toString(),null,0,[m[0],m[1],v[0],v[1]],he.RSS_14,new Date().getTime())}static checkChecksum(i,s){let a=(i.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,a===u}decodePair(i,s,a,u){try{let h=this.findFinderPattern(i,s),d=this.parseFoundFinderPattern(i,a,s,h),m=u==null?null:u.get(se.NEED_RESULT_POINT_CALLBACK);if(m!=null){let S=(h[0]+h[1])/2;s&&(S=i.getSize()-1-S),m.foundPossibleResultPoint(new Ie(S,a))}let v=this.decodeDataCharacter(i,d,!0),_=this.decodeDataCharacter(i,d,!1);return new Ah(1597*v.getValue()+_.getValue(),v.getChecksumPortion()+4*_.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,s,a){let u=this.getDataCharacterCounters();for(let K=0;K<u.length;K++)u[K]=0;if(a)Bt.recordPatternInReverse(i,s.getStartEnd()[0],u);else{Bt.recordPattern(i,s.getStartEnd()[1]+1,u);for(let K=0,$=u.length-1;K<$;K++,$--){let pe=u[K];u[K]=u[$],u[$]=pe}}let h=a?16:15,d=nt.sum(new Int32Array(u))/h,m=this.getOddCounts(),v=this.getEvenCounts(),_=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let K=0;K<u.length;K++){let $=u[K]/d,pe=Math.floor($+.5);pe<1?pe=1:pe>8&&(pe=8);let me=Math.floor(K/2);K&1?(v[me]=pe,S[me]=$-pe):(m[me]=pe,_[me]=$-pe)}this.adjustOddEvenCounts(a,h);let N=0,O=0;for(let K=m.length-1;K>=0;K--)O*=9,O+=m[K],N+=m[K];let U=0,G=0;for(let K=v.length-1;K>=0;K--)U*=9,U+=v[K],G+=v[K];let Y=O+3*U;if(a){if(N&1||N>12||N<4)throw new re;let K=(12-N)/2,$=Dt.OUTSIDE_ODD_WIDEST[K],pe=9-$,me=vi.getRSSvalue(m,$,!1),ce=vi.getRSSvalue(v,pe,!0),Ke=Dt.OUTSIDE_EVEN_TOTAL_SUBSET[K],We=Dt.OUTSIDE_GSUM[K];return new Hr(me*Ke+ce+We,Y)}else{if(G&1||G>10||G<4)throw new re;let K=(10-G)/2,$=Dt.INSIDE_ODD_WIDEST[K],pe=9-$,me=vi.getRSSvalue(m,$,!0),ce=vi.getRSSvalue(v,pe,!1),Ke=Dt.INSIDE_ODD_TOTAL_SUBSET[K],We=Dt.INSIDE_GSUM[K];return new Hr(ce*Ke+me+We,Y)}}findFinderPattern(i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),h=!1,d=0;for(;d<u&&(h=!i.get(d),s!==h);)d++;let m=0,v=d;for(let _=d;_<u;_++)if(i.get(_)!==h)a[m]++;else{if(m===3){if(hn.isFinderPattern(a))return[v,_];v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,m--}else m++;a[m]=1,h=!h}throw new re}parseFoundFinderPattern(i,s,a,u){let h=i.get(u[0]),d=u[0]-1;for(;d>=0&&h!==i.get(d);)d--;d++;const m=u[0]-d,v=this.getDecodeFinderCounters(),_=new Int32Array(v.length);B.arraycopy(v,0,_,1,v.length-1),_[0]=m;const S=this.parseFinderValue(_,Dt.FINDER_PATTERNS);let N=d,O=u[1];return a&&(N=i.getSize()-1-N,O=i.getSize()-1-O),new Wr(S,[d,u[1]],N,O,s)}adjustOddEvenCounts(i,s){let a=nt.sum(new Int32Array(this.getOddCounts())),u=nt.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,m=!1,v=!1;i?(a>12?d=!0:a<4&&(h=!0),u>12?v=!0:u<4&&(m=!0)):(a>11?d=!0:a<5&&(h=!0),u>10?v=!0:u<4&&(m=!0));let _=a+u-s,S=(a&1)===(i?1:0),N=(u&1)===1;if(_===1)if(S){if(N)throw new re;d=!0}else{if(!N)throw new re;v=!0}else if(_===-1)if(S){if(N)throw new re;h=!0}else{if(!N)throw new re;m=!0}else if(_===0){if(S){if(!N)throw new re;a<u?(h=!0,v=!0):(d=!0,m=!0)}else if(N)throw new re}else throw new re;if(h){if(d)throw new re;hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(v)throw new re;hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dt.OUTSIDE_GSUM=[0,161,961,2015,2715],Dt.INSIDE_GSUM=[0,336,1036,1516],Dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dt.INSIDE_ODD_WIDEST=[2,4,6,8],Dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ir extends Bt{constructor(i,s){super(),this.readers=[],this.verbose=s===!0;const a=i?i.get(se.POSSIBLE_FORMATS):null,u=i&&i.get(se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(he.EAN_13)||a.includes(he.UPC_A)||a.includes(he.EAN_8)||a.includes(he.UPC_E))&&this.readers.push(new Sa(i)),a.includes(he.CODE_39)&&this.readers.push(new Wt(u)),a.includes(he.CODE_128)&&this.readers.push(new ye),a.includes(he.ITF)&&this.readers.push(new pt),a.includes(he.RSS_14)&&this.readers.push(new Dt),a.includes(he.RSS_EXPANDED)&&this.readers.push(new le(this.verbose))):(this.readers.push(new Sa(i)),this.readers.push(new Wt),this.readers.push(new Sa(i)),this.readers.push(new ye),this.readers.push(new pt),this.readers.push(new Dt),this.readers.push(new le(this.verbose)))}decodeRow(i,s,a){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,s,a)}catch{}throw new re}reset(){this.readers.forEach(i=>i.reset())}}class Bs extends rt{constructor(i=500,s){super(new ir(s),i,s)}}class at{constructor(i,s,a){this.ecCodewords=i,this.ecBlocks=[s],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ot{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(i,s,a,u,h,d){this.versionNumber=i,this.symbolSizeRows=s,this.symbolSizeColumns=a,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=d;let m=0;const v=d.getECCodewords(),_=d.getECBlocks();for(let S of _)m+=S.getCount()*(S.getDataCodewords()+v);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,s){if(i&1||s&1)throw new X;for(let a of Ye.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===s)return a;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new Ye(1,10,10,8,8,new at(5,new ot(1,3))),new Ye(2,12,12,10,10,new at(7,new ot(1,5))),new Ye(3,14,14,12,12,new at(10,new ot(1,8))),new Ye(4,16,16,14,14,new at(12,new ot(1,12))),new Ye(5,18,18,16,16,new at(14,new ot(1,18))),new Ye(6,20,20,18,18,new at(18,new ot(1,22))),new Ye(7,22,22,20,20,new at(20,new ot(1,30))),new Ye(8,24,24,22,22,new at(24,new ot(1,36))),new Ye(9,26,26,24,24,new at(28,new ot(1,44))),new Ye(10,32,32,14,14,new at(36,new ot(1,62))),new Ye(11,36,36,16,16,new at(42,new ot(1,86))),new Ye(12,40,40,18,18,new at(48,new ot(1,114))),new Ye(13,44,44,20,20,new at(56,new ot(1,144))),new Ye(14,48,48,22,22,new at(68,new ot(1,174))),new Ye(15,52,52,24,24,new at(42,new ot(2,102))),new Ye(16,64,64,14,14,new at(56,new ot(2,140))),new Ye(17,72,72,16,16,new at(36,new ot(4,92))),new Ye(18,80,80,18,18,new at(48,new ot(4,114))),new Ye(19,88,88,20,20,new at(56,new ot(4,144))),new Ye(20,96,96,22,22,new at(68,new ot(4,174))),new Ye(21,104,104,24,24,new at(56,new ot(6,136))),new Ye(22,120,120,18,18,new at(68,new ot(6,175))),new Ye(23,132,132,20,20,new at(62,new ot(8,163))),new Ye(24,144,144,22,22,new at(62,new ot(8,156),new ot(2,155))),new Ye(25,8,18,6,16,new at(7,new ot(1,5))),new Ye(26,8,32,6,14,new at(11,new ot(1,10))),new Ye(27,12,26,10,24,new at(14,new ot(1,16))),new Ye(28,12,36,10,16,new at(18,new ot(1,22))),new Ye(29,16,36,14,16,new at(24,new ot(1,32))),new Ye(30,16,48,14,22,new at(28,new ot(1,49)))]}}Ye.VERSIONS=Ye.buildVersions();class et{constructor(i){const s=i.getHeight();if(s<8||s>144||s&1)throw new X;this.version=et.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new De(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const s=i.getHeight(),a=i.getWidth();return Ye.getVersionForDimensions(s,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let s=0,a=4,u=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let m=!1,v=!1,_=!1,S=!1;do if(a===h&&u===0&&!m)i[s++]=this.readCorner1(h,d)&255,a-=2,u+=2,m=!0;else if(a===h-2&&u===0&&d&3&&!v)i[s++]=this.readCorner2(h,d)&255,a-=2,u+=2,v=!0;else if(a===h+4&&u===2&&!(d&7)&&!_)i[s++]=this.readCorner3(h,d)&255,a-=2,u+=2,_=!0;else if(a===h-2&&u===0&&(d&7)===4&&!S)i[s++]=this.readCorner4(h,d)&255,a-=2,u+=2,S=!0;else{do a<h&&u>=0&&!this.readMappingMatrix.get(u,a)&&(i[s++]=this.readUtah(a,u,h,d)&255),a-=2,u+=2;while(a>=0&&u<d);a+=1,u+=3;do a>=0&&u<d&&!this.readMappingMatrix.get(u,a)&&(i[s++]=this.readUtah(a,u,h,d)&255),a+=2,u-=2;while(a<h&&u>=0);a+=3,u+=1}while(a<h||u<d);if(s!==this.version.getTotalCodewords())throw new X;return i}readModule(i,s,a,u){return i<0&&(i+=a,s+=4-(a+4&7)),s<0&&(s+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(s,i),this.mappingBitMatrix.get(s,i)}readUtah(i,s,a,u){let h=0;return this.readModule(i-2,s-2,a,u)&&(h|=1),h<<=1,this.readModule(i-2,s-1,a,u)&&(h|=1),h<<=1,this.readModule(i-1,s-2,a,u)&&(h|=1),h<<=1,this.readModule(i-1,s-1,a,u)&&(h|=1),h<<=1,this.readModule(i-1,s,a,u)&&(h|=1),h<<=1,this.readModule(i,s-2,a,u)&&(h|=1),h<<=1,this.readModule(i,s-1,a,u)&&(h|=1),h<<=1,this.readModule(i,s,a,u)&&(h|=1),h}readCorner1(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,1,i,s)&&(a|=1),a<<=1,this.readModule(i-1,2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}readCorner2(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-4,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner3(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-3,i,s)&&(a|=1),a<<=1,this.readModule(1,s-2,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner4(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}extractDataRegion(i){const s=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==s)throw new A("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=s/u|0,m=a/h|0,v=d*u,_=m*h,S=new De(_,v);for(let N=0;N<d;++N){const O=N*u;for(let U=0;U<m;++U){const G=U*h;for(let Y=0;Y<u;++Y){const K=N*(u+2)+1+Y,$=O+Y;for(let pe=0;pe<h;++pe){const me=U*(h+2)+1+pe;if(i.get(me,K)){const ce=G+pe;S.set(ce,$)}}}}}return S}}class _t{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s){const a=s.getECBlocks();let u=0;const h=a.getECBlocks();for(let Y of h)u+=Y.getCount();const d=new Array(u);let m=0;for(let Y of h)for(let K=0;K<Y.getCount();K++){const $=Y.getDataCodewords(),pe=a.getECCodewords()+$;d[m++]=new _t($,new Uint8Array(pe))}const _=d[0].codewords.length-a.getECCodewords(),S=_-1;let N=0;for(let Y=0;Y<S;Y++)for(let K=0;K<m;K++)d[K].codewords[Y]=i[N++];const O=s.getVersionNumber()===24,U=O?8:m;for(let Y=0;Y<U;Y++)d[Y].codewords[_-1]=i[N++];const G=d[0].codewords.length;for(let Y=_;Y<G;Y++)for(let K=0;K<m;K++){const $=O?(K+8)%m:K,pe=O&&$>7?Y-1:Y;d[$].codewords[pe]=i[N++]}if(N!==i.length)throw new A;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Zr{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new A(""+i);let s=0,a=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(a>0){const d=8-a,m=i<d?i:d,v=d-m,_=255>>8-m<<v;s=(h[u]&_)>>v,i-=m,a+=m,a===8&&(a=0,u++)}if(i>0){for(;i>=8;)s=s<<8|h[u]&255,u++,i-=8;if(i>0){const d=8-i,m=255>>d<<d;s=s<<i|(h[u]&m)>>d,a+=i}}return this.bitOffset=a,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var St;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(St||(St={}));class kn{static decode(i){const s=new Zr(i),a=new Be,u=new Be,h=new Array;let d=St.ASCII_ENCODE;do if(d===St.ASCII_ENCODE)d=this.decodeAsciiSegment(s,a,u);else{switch(d){case St.C40_ENCODE:this.decodeC40Segment(s,a);break;case St.TEXT_ENCODE:this.decodeTextSegment(s,a);break;case St.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,a);break;case St.EDIFACT_ENCODE:this.decodeEdifactSegment(s,a);break;case St.BASE256_ENCODE:this.decodeBase256Segment(s,a,h);break;default:throw new X}d=St.ASCII_ENCODE}while(d!==St.PAD_ENCODE&&s.available()>0);return u.length()>0&&a.append(u.toString()),new yi(i,a.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,s,a){let u=!1;do{let h=i.readBits(8);if(h===0)throw new X;if(h<=128)return u&&(h+=128),s.append(String.fromCharCode(h-1)),St.ASCII_ENCODE;if(h===129)return St.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&s.append("0"),s.append(""+d)}else switch(h){case 230:return St.C40_ENCODE;case 231:return St.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:s.append("[)>05"),a.insert(0,"");break;case 237:s.append("[)>06"),a.insert(0,"");break;case 238:return St.ANSIX12_ENCODE;case 239:return St.TEXT_ENCODE;case 240:return St.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new X;break}}while(i.available()>0);return St.ASCII_ENCODE}static decodeC40Segment(i,s){let a=!1;const u=[];let h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let m=0;m<3;m++){const v=u[m];switch(h){case 0:if(v<3)h=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[v];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else throw new X;break;case 1:a?(s.append(String.fromCharCode(v+128)),a=!1):s.append(String.fromCharCode(v)),h=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[v];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else switch(v){case 27:s.append("");break;case 30:a=!0;break;default:throw new X}h=0;break;case 3:a?(s.append(String.fromCharCode(v+224)),a=!1):s.append(String.fromCharCode(v+96)),h=0;break;default:throw new X}}}while(i.available()>0)}static decodeTextSegment(i,s){let a=!1,u=[],h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let m=0;m<3;m++){const v=u[m];switch(h){case 0:if(v<3)h=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[v];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else throw new X;break;case 1:a?(s.append(String.fromCharCode(v+128)),a=!1):s.append(String.fromCharCode(v)),h=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[v];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else switch(v){case 27:s.append("");break;case 30:a=!0;break;default:throw new X}h=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[v];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_),h=0}else throw new X;break;default:throw new X}}}while(i.available()>0)}static decodeAnsiX12Segment(i,s){const a=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),a);for(let h=0;h<3;h++){const d=a[h];switch(d){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(d<14)s.append(String.fromCharCode(d+44));else if(d<40)s.append(String.fromCharCode(d+51));else throw new X;break}}}while(i.available()>0)}static parseTwoBytes(i,s,a){let u=(i<<8)+s-1,h=Math.floor(u/1600);a[0]=h,u-=h*1600,h=Math.floor(u/40),a[1]=h,a[2]=u-h*40}static decodeEdifactSegment(i,s){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let u=i.readBits(6);if(u===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}u&32||(u|=64),s.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,s,a){let u=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),u++);let d;if(h===0?d=i.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(i.readBits(8),u++),d<0)throw new X;const m=new Uint8Array(d);for(let v=0;v<d;v++){if(i.available()<8)throw new X;m[v]=this.unrandomize255State(i.readBits(8),u++)}a.push(m);try{s.append(Te.decode(m,xe.ISO88591))}catch(v){throw new ii("Platform does not support required encoding: "+v.message)}}static unrandomize255State(i,s){const a=149*s%255+1,u=i-a;return u>=0?u:u+256}}kn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],kn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],kn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],kn.TEXT_SHIFT2_SET_CHARS=kn.C40_SHIFT2_SET_CHARS,kn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ia{constructor(){this.rsDecoder=new Vr(tt.DATA_MATRIX_FIELD_256)}decode(i){const s=new et(i),a=s.getVersion(),u=s.readCodewords(),h=_t.getDataBlocks(u,a);let d=0;for(let _ of h)d+=_.getNumDataCodewords();const m=new Uint8Array(d),v=h.length;for(let _=0;_<v;_++){const S=h[_],N=S.getCodewords(),O=S.getNumDataCodewords();this.correctErrors(N,O);for(let U=0;U<O;U++)m[U*v+_]=N[U]}return kn.decode(m)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new D}for(let u=0;u<s;u++)i[u]=a[u]}}class Re{constructor(i){this.image=i,this.rectangleDetector=new Fi(this.image)}detect(){const i=this.rectangleDetector.detect();let s=this.detectSolid1(i);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new re;s=this.shiftToModuleCenter(s);const a=s[0],u=s[1],h=s[2],d=s[3];let m=this.transitionsBetween(a,d)+1,v=this.transitionsBetween(h,d)+1;(m&1)===1&&(m+=1),(v&1)===1&&(v+=1),4*m<7*v&&4*v<7*m&&(m=v=Math.max(m,v));let _=Re.sampleGrid(this.image,a,u,h,d,m,v);return new Ps(_,[a,u,h,d])}static shiftPoint(i,s,a){let u=(s.getX()-i.getX())/(a+1),h=(s.getY()-i.getY())/(a+1);return new Ie(i.getX()+u,i.getY()+h)}static moveAway(i,s,a){let u=i.getX(),h=i.getY();return u<s?u-=1:u+=1,h<a?h-=1:h+=1,new Ie(u,h)}detectSolid1(i){let s=i[0],a=i[1],u=i[3],h=i[2],d=this.transitionsBetween(s,a),m=this.transitionsBetween(a,u),v=this.transitionsBetween(u,h),_=this.transitionsBetween(h,s),S=d,N=[h,s,a,u];return S>m&&(S=m,N[0]=s,N[1]=a,N[2]=u,N[3]=h),S>v&&(S=v,N[0]=a,N[1]=u,N[2]=h,N[3]=s),S>_&&(N[0]=u,N[1]=h,N[2]=s,N[3]=a),N}detectSolid2(i){let s=i[0],a=i[1],u=i[2],h=i[3],d=this.transitionsBetween(s,h),m=Re.shiftPoint(a,u,(d+1)*4),v=Re.shiftPoint(u,a,(d+1)*4),_=this.transitionsBetween(m,s),S=this.transitionsBetween(v,h);return _<S?(i[0]=s,i[1]=a,i[2]=u,i[3]=h):(i[0]=a,i[1]=u,i[2]=h,i[3]=s),i}correctTopRight(i){let s=i[0],a=i[1],u=i[2],h=i[3],d=this.transitionsBetween(s,h),m=this.transitionsBetween(a,h),v=Re.shiftPoint(s,a,(m+1)*4),_=Re.shiftPoint(u,a,(d+1)*4);d=this.transitionsBetween(v,h),m=this.transitionsBetween(_,h);let S=new Ie(h.getX()+(u.getX()-a.getX())/(d+1),h.getY()+(u.getY()-a.getY())/(d+1)),N=new Ie(h.getX()+(s.getX()-a.getX())/(m+1),h.getY()+(s.getY()-a.getY())/(m+1));if(!this.isValid(S))return this.isValid(N)?N:null;if(!this.isValid(N))return S;let O=this.transitionsBetween(v,S)+this.transitionsBetween(_,S),U=this.transitionsBetween(v,N)+this.transitionsBetween(_,N);return O>U?S:N}shiftToModuleCenter(i){let s=i[0],a=i[1],u=i[2],h=i[3],d=this.transitionsBetween(s,h)+1,m=this.transitionsBetween(u,h)+1,v=Re.shiftPoint(s,a,m*4),_=Re.shiftPoint(u,a,d*4);d=this.transitionsBetween(v,h)+1,m=this.transitionsBetween(_,h)+1,(d&1)===1&&(d+=1),(m&1)===1&&(m+=1);let S=(s.getX()+a.getX()+u.getX()+h.getX())/4,N=(s.getY()+a.getY()+u.getY()+h.getY())/4;s=Re.moveAway(s,S,N),a=Re.moveAway(a,S,N),u=Re.moveAway(u,S,N),h=Re.moveAway(h,S,N);let O,U;return v=Re.shiftPoint(s,a,m*4),v=Re.shiftPoint(v,h,d*4),O=Re.shiftPoint(a,s,m*4),O=Re.shiftPoint(O,u,d*4),_=Re.shiftPoint(u,h,m*4),_=Re.shiftPoint(_,a,d*4),U=Re.shiftPoint(h,u,m*4),U=Re.shiftPoint(U,s,d*4),[v,O,_,U]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,s,a,u,h,d,m){return ji.getInstance().sampleGrid(i,d,m,.5,.5,d-.5,.5,d-.5,m-.5,.5,m-.5,s.getX(),s.getY(),h.getX(),h.getY(),u.getX(),u.getY(),a.getX(),a.getY())}transitionsBetween(i,s){let a=Math.trunc(i.getX()),u=Math.trunc(i.getY()),h=Math.trunc(s.getX()),d=Math.trunc(s.getY()),m=Math.abs(d-u)>Math.abs(h-a);if(m){let Y=a;a=u,u=Y,Y=h,h=d,d=Y}let v=Math.abs(h-a),_=Math.abs(d-u),S=-v/2,N=u<d?1:-1,O=a<h?1:-1,U=0,G=this.image.get(m?u:a,m?a:u);for(let Y=a,K=u;Y!==h;Y+=O){let $=this.image.get(m?K:Y,m?Y:K);if($!==G&&(U++,G=$),S+=_,S>0){if(K===d)break;K+=N,S-=v}}return U}}class ht{constructor(){this.decoder=new Ia}decode(i,s=null){let a,u;if(s!=null&&s.has(se.PURE_BARCODE)){const _=ht.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(_),u=ht.NO_POINTS}else{const _=new Re(i.getBlackMatrix()).detect();a=this.decoder.decode(_.getBits()),u=_.getPoints()}const h=a.getRawBytes(),d=new Fe(a.getText(),h,8*h.length,u,he.DATA_MATRIX,B.currentTimeMillis()),m=a.getByteSegments();m!=null&&d.putMetadata(dt.BYTE_SEGMENTS,m);const v=a.getECLevel();return v!=null&&d.putMetadata(dt.ERROR_CORRECTION_LEVEL,v),d}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s==null||a==null)throw new re;const u=this.moduleSize(s,i);let h=s[1];const d=a[1];let m=s[0];const _=(a[0]-m+1)/u,S=(d-h+1)/u;if(_<=0||S<=0)throw new re;const N=u/2;h+=N,m+=N;const O=new De(_,S);for(let U=0;U<S;U++){const G=h+U*u;for(let Y=0;Y<_;Y++)i.get(m+Y*u,G)&&O.set(Y,U)}return O}static moduleSize(i,s){const a=s.getWidth();let u=i[0];const h=i[1];for(;u<a&&s.get(u,h);)u++;if(u===a)throw new re;const d=u-i[0];if(d===0)throw new re;return d}}ht.NO_POINTS=[];class Na extends rt{constructor(i=500){super(new ht,i)}}var Ui;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(Ui||(Ui={}));class Xe{constructor(i,s,a){this.value=i,this.stringValue=s,this.bits=a,Xe.FOR_BITS.set(a,this),Xe.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Xe.L;case"M":return Xe.M;case"Q":return Xe.Q;case"H":return Xe.H;default:throw new E(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Xe))return!1;const s=i;return this.value===s.value}static forBits(i){if(i<0||i>=Xe.FOR_BITS.size)throw new A;return Xe.FOR_BITS.get(i)}}Xe.FOR_BITS=new Map,Xe.FOR_VALUE=new Map,Xe.L=new Xe(Ui.L,"L",1),Xe.M=new Xe(Ui.M,"M",0),Xe.Q=new Xe(Ui.Q,"Q",3),Xe.H=new Xe(Ui.H,"H",2);class pn{constructor(i){this.errorCorrectionLevel=Xe.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,s){return R.bitCount(i^s)}static decodeFormatInformation(i,s){const a=pn.doDecodeFormatInformation(i,s);return a!==null?a:pn.doDecodeFormatInformation(i^pn.FORMAT_INFO_MASK_QR,s^pn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,s){let a=Number.MAX_SAFE_INTEGER,u=0;for(const h of pn.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===i||d===s)return new pn(h[1]);let m=pn.numBitsDiffering(i,d);m<a&&(u=h[1],a=m),i!==s&&(m=pn.numBitsDiffering(s,d),m<a&&(u=h[1],a=m))}return a<=3?new pn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof pn))return!1;const s=i;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}pn.FORMAT_INFO_MASK_QR=21522,pn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(i,...s){this.ecCodewordsPerBlock=i,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const s=this.ecBlocks;for(const a of s)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class we{constructor(i,s,...a){this.versionNumber=i,this.alignmentPatternCenters=s,this.ecBlocks=a;let u=0;const h=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const m of d)u+=m.getCount()*(m.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new X;try{return this.getVersionForNumber((i-17)/4)}catch{throw new X}}static getVersionForNumber(i){if(i<1||i>40)throw new A;return we.VERSIONS[i-1]}static decodeVersionInformation(i){let s=Number.MAX_SAFE_INTEGER,a=0;for(let u=0;u<we.VERSION_DECODE_INFO.length;u++){const h=we.VERSION_DECODE_INFO[u];if(h===i)return we.getVersionForNumber(u+7);const d=pn.numBitsDiffering(i,h);d<s&&(a=u+7,s=d)}return s<=3?we.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),s=new De(i);s.setRegion(0,0,9,9),s.setRegion(i-8,0,8,9),s.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let u=0;u<a;u++){const h=this.alignmentPatternCenters[u]-2;for(let d=0;d<a;d++)u===0&&(d===0||d===a-1)||u===a-1&&d===0||s.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return s.setRegion(6,9,1,i-17),s.setRegion(9,6,i-17,1),this.versionNumber>6&&(s.setRegion(i-11,0,3,6),s.setRegion(0,i-11,6,3)),s}toString(){return""+this.versionNumber}}we.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),we.VERSIONS=[new we(1,new Int32Array(0),new Q(7,new j(1,19)),new Q(10,new j(1,16)),new Q(13,new j(1,13)),new Q(17,new j(1,9))),new we(2,Int32Array.from([6,18]),new Q(10,new j(1,34)),new Q(16,new j(1,28)),new Q(22,new j(1,22)),new Q(28,new j(1,16))),new we(3,Int32Array.from([6,22]),new Q(15,new j(1,55)),new Q(26,new j(1,44)),new Q(18,new j(2,17)),new Q(22,new j(2,13))),new we(4,Int32Array.from([6,26]),new Q(20,new j(1,80)),new Q(18,new j(2,32)),new Q(26,new j(2,24)),new Q(16,new j(4,9))),new we(5,Int32Array.from([6,30]),new Q(26,new j(1,108)),new Q(24,new j(2,43)),new Q(18,new j(2,15),new j(2,16)),new Q(22,new j(2,11),new j(2,12))),new we(6,Int32Array.from([6,34]),new Q(18,new j(2,68)),new Q(16,new j(4,27)),new Q(24,new j(4,19)),new Q(28,new j(4,15))),new we(7,Int32Array.from([6,22,38]),new Q(20,new j(2,78)),new Q(18,new j(4,31)),new Q(18,new j(2,14),new j(4,15)),new Q(26,new j(4,13),new j(1,14))),new we(8,Int32Array.from([6,24,42]),new Q(24,new j(2,97)),new Q(22,new j(2,38),new j(2,39)),new Q(22,new j(4,18),new j(2,19)),new Q(26,new j(4,14),new j(2,15))),new we(9,Int32Array.from([6,26,46]),new Q(30,new j(2,116)),new Q(22,new j(3,36),new j(2,37)),new Q(20,new j(4,16),new j(4,17)),new Q(24,new j(4,12),new j(4,13))),new we(10,Int32Array.from([6,28,50]),new Q(18,new j(2,68),new j(2,69)),new Q(26,new j(4,43),new j(1,44)),new Q(24,new j(6,19),new j(2,20)),new Q(28,new j(6,15),new j(2,16))),new we(11,Int32Array.from([6,30,54]),new Q(20,new j(4,81)),new Q(30,new j(1,50),new j(4,51)),new Q(28,new j(4,22),new j(4,23)),new Q(24,new j(3,12),new j(8,13))),new we(12,Int32Array.from([6,32,58]),new Q(24,new j(2,92),new j(2,93)),new Q(22,new j(6,36),new j(2,37)),new Q(26,new j(4,20),new j(6,21)),new Q(28,new j(7,14),new j(4,15))),new we(13,Int32Array.from([6,34,62]),new Q(26,new j(4,107)),new Q(22,new j(8,37),new j(1,38)),new Q(24,new j(8,20),new j(4,21)),new Q(22,new j(12,11),new j(4,12))),new we(14,Int32Array.from([6,26,46,66]),new Q(30,new j(3,115),new j(1,116)),new Q(24,new j(4,40),new j(5,41)),new Q(20,new j(11,16),new j(5,17)),new Q(24,new j(11,12),new j(5,13))),new we(15,Int32Array.from([6,26,48,70]),new Q(22,new j(5,87),new j(1,88)),new Q(24,new j(5,41),new j(5,42)),new Q(30,new j(5,24),new j(7,25)),new Q(24,new j(11,12),new j(7,13))),new we(16,Int32Array.from([6,26,50,74]),new Q(24,new j(5,98),new j(1,99)),new Q(28,new j(7,45),new j(3,46)),new Q(24,new j(15,19),new j(2,20)),new Q(30,new j(3,15),new j(13,16))),new we(17,Int32Array.from([6,30,54,78]),new Q(28,new j(1,107),new j(5,108)),new Q(28,new j(10,46),new j(1,47)),new Q(28,new j(1,22),new j(15,23)),new Q(28,new j(2,14),new j(17,15))),new we(18,Int32Array.from([6,30,56,82]),new Q(30,new j(5,120),new j(1,121)),new Q(26,new j(9,43),new j(4,44)),new Q(28,new j(17,22),new j(1,23)),new Q(28,new j(2,14),new j(19,15))),new we(19,Int32Array.from([6,30,58,86]),new Q(28,new j(3,113),new j(4,114)),new Q(26,new j(3,44),new j(11,45)),new Q(26,new j(17,21),new j(4,22)),new Q(26,new j(9,13),new j(16,14))),new we(20,Int32Array.from([6,34,62,90]),new Q(28,new j(3,107),new j(5,108)),new Q(26,new j(3,41),new j(13,42)),new Q(30,new j(15,24),new j(5,25)),new Q(28,new j(15,15),new j(10,16))),new we(21,Int32Array.from([6,28,50,72,94]),new Q(28,new j(4,116),new j(4,117)),new Q(26,new j(17,42)),new Q(28,new j(17,22),new j(6,23)),new Q(30,new j(19,16),new j(6,17))),new we(22,Int32Array.from([6,26,50,74,98]),new Q(28,new j(2,111),new j(7,112)),new Q(28,new j(17,46)),new Q(30,new j(7,24),new j(16,25)),new Q(24,new j(34,13))),new we(23,Int32Array.from([6,30,54,78,102]),new Q(30,new j(4,121),new j(5,122)),new Q(28,new j(4,47),new j(14,48)),new Q(30,new j(11,24),new j(14,25)),new Q(30,new j(16,15),new j(14,16))),new we(24,Int32Array.from([6,28,54,80,106]),new Q(30,new j(6,117),new j(4,118)),new Q(28,new j(6,45),new j(14,46)),new Q(30,new j(11,24),new j(16,25)),new Q(30,new j(30,16),new j(2,17))),new we(25,Int32Array.from([6,32,58,84,110]),new Q(26,new j(8,106),new j(4,107)),new Q(28,new j(8,47),new j(13,48)),new Q(30,new j(7,24),new j(22,25)),new Q(30,new j(22,15),new j(13,16))),new we(26,Int32Array.from([6,30,58,86,114]),new Q(28,new j(10,114),new j(2,115)),new Q(28,new j(19,46),new j(4,47)),new Q(28,new j(28,22),new j(6,23)),new Q(30,new j(33,16),new j(4,17))),new we(27,Int32Array.from([6,34,62,90,118]),new Q(30,new j(8,122),new j(4,123)),new Q(28,new j(22,45),new j(3,46)),new Q(30,new j(8,23),new j(26,24)),new Q(30,new j(12,15),new j(28,16))),new we(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new j(3,117),new j(10,118)),new Q(28,new j(3,45),new j(23,46)),new Q(30,new j(4,24),new j(31,25)),new Q(30,new j(11,15),new j(31,16))),new we(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new j(7,116),new j(7,117)),new Q(28,new j(21,45),new j(7,46)),new Q(30,new j(1,23),new j(37,24)),new Q(30,new j(19,15),new j(26,16))),new we(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new j(5,115),new j(10,116)),new Q(28,new j(19,47),new j(10,48)),new Q(30,new j(15,24),new j(25,25)),new Q(30,new j(23,15),new j(25,16))),new we(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new j(13,115),new j(3,116)),new Q(28,new j(2,46),new j(29,47)),new Q(30,new j(42,24),new j(1,25)),new Q(30,new j(23,15),new j(28,16))),new we(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new j(17,115)),new Q(28,new j(10,46),new j(23,47)),new Q(30,new j(10,24),new j(35,25)),new Q(30,new j(19,15),new j(35,16))),new we(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new j(17,115),new j(1,116)),new Q(28,new j(14,46),new j(21,47)),new Q(30,new j(29,24),new j(19,25)),new Q(30,new j(11,15),new j(46,16))),new we(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new j(13,115),new j(6,116)),new Q(28,new j(14,46),new j(23,47)),new Q(30,new j(44,24),new j(7,25)),new Q(30,new j(59,16),new j(1,17))),new we(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new j(12,121),new j(7,122)),new Q(28,new j(12,47),new j(26,48)),new Q(30,new j(39,24),new j(14,25)),new Q(30,new j(22,15),new j(41,16))),new we(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new j(6,121),new j(14,122)),new Q(28,new j(6,47),new j(34,48)),new Q(30,new j(46,24),new j(10,25)),new Q(30,new j(2,15),new j(64,16))),new we(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new j(17,122),new j(4,123)),new Q(28,new j(29,46),new j(14,47)),new Q(30,new j(49,24),new j(10,25)),new Q(30,new j(24,15),new j(46,16))),new we(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new j(4,122),new j(18,123)),new Q(28,new j(13,46),new j(32,47)),new Q(30,new j(48,24),new j(14,25)),new Q(30,new j(42,15),new j(32,16))),new we(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new j(20,117),new j(4,118)),new Q(28,new j(40,47),new j(7,48)),new Q(30,new j(43,24),new j(22,25)),new Q(30,new j(10,15),new j(67,16))),new we(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new j(19,118),new j(6,119)),new Q(28,new j(18,47),new j(31,48)),new Q(30,new j(34,24),new j(34,25)),new Q(30,new j(20,15),new j(61,16)))];var Tt;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Tt||(Tt={}));class mn{constructor(i,s){this.value=i,this.isMasked=s}unmaskBitMatrix(i,s){for(let a=0;a<s;a++)for(let u=0;u<s;u++)this.isMasked(a,u)&&i.flip(u,a)}}mn.values=new Map([[Tt.DATA_MASK_000,new mn(Tt.DATA_MASK_000,(I,i)=>(I+i&1)===0)],[Tt.DATA_MASK_001,new mn(Tt.DATA_MASK_001,(I,i)=>(I&1)===0)],[Tt.DATA_MASK_010,new mn(Tt.DATA_MASK_010,(I,i)=>i%3===0)],[Tt.DATA_MASK_011,new mn(Tt.DATA_MASK_011,(I,i)=>(I+i)%3===0)],[Tt.DATA_MASK_100,new mn(Tt.DATA_MASK_100,(I,i)=>(Math.floor(I/2)+Math.floor(i/3)&1)===0)],[Tt.DATA_MASK_101,new mn(Tt.DATA_MASK_101,(I,i)=>I*i%6===0)],[Tt.DATA_MASK_110,new mn(Tt.DATA_MASK_110,(I,i)=>I*i%6<3)],[Tt.DATA_MASK_111,new mn(Tt.DATA_MASK_111,(I,i)=>(I+i+I*i%3&1)===0)]]);class Fs{constructor(i){const s=i.getHeight();if(s<21||(s&3)!==1)throw new X;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const s=this.bitMatrix.getHeight();let a=0;const u=s-7;for(let h=s-1;h>=u;h--)a=this.copyBit(8,h,a);for(let h=s-8;h<s;h++)a=this.copyBit(h,8,a);if(this.parsedFormatInfo=pn.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),s=Math.floor((i-17)/4);if(s<=6)return we.getVersionForNumber(s);let a=0;const u=i-11;for(let d=5;d>=0;d--)for(let m=i-9;m>=u;m--)a=this.copyBit(m,d,a);let h=we.decodeVersionInformation(a);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;a=0;for(let d=5;d>=0;d--)for(let m=i-9;m>=u;m--)a=this.copyBit(d,m,a);if(h=we.decodeVersionInformation(a),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new X}copyBit(i,s,a){return(this.isMirror?this.bitMatrix.get(s,i):this.bitMatrix.get(i,s))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),s=this.readVersion(),a=mn.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,u);const h=s.buildFunctionPattern();let d=!0;const m=new Uint8Array(s.getTotalCodewords());let v=0,_=0,S=0;for(let N=u-1;N>0;N-=2){N===6&&N--;for(let O=0;O<u;O++){const U=d?u-1-O:O;for(let G=0;G<2;G++)h.get(N-G,U)||(S++,_<<=1,this.bitMatrix.get(N-G,U)&&(_|=1),S===8&&(m[v++]=_,S=0,_=0))}d=!d}if(v!==s.getTotalCodewords())throw new X;return m}remask(){if(this.parsedFormatInfo===null)return;const i=mn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let s=0,a=i.getWidth();s<a;s++)for(let u=s+1,h=i.getHeight();u<h;u++)i.get(s,u)!==i.get(u,s)&&(i.flip(u,s),i.flip(s,u))}}class js{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s,a){if(i.length!==s.getTotalCodewords())throw new A;const u=s.getECBlocksForLevel(a);let h=0;const d=u.getECBlocks();for(const G of d)h+=G.getCount();const m=new Array(h);let v=0;for(const G of d)for(let Y=0;Y<G.getCount();Y++){const K=G.getDataCodewords(),$=u.getECCodewordsPerBlock()+K;m[v++]=new js(K,new Uint8Array($))}const _=m[0].codewords.length;let S=m.length-1;for(;S>=0&&m[S].codewords.length!==_;)S--;S++;const N=_-u.getECCodewordsPerBlock();let O=0;for(let G=0;G<N;G++)for(let Y=0;Y<v;Y++)m[Y].codewords[G]=i[O++];for(let G=S;G<v;G++)m[G].codewords[N]=i[O++];const U=m[0].codewords.length;for(let G=N;G<U;G++)for(let Y=0;Y<v;Y++){const K=Y<S?G:G+1;m[Y].codewords[K]=i[O++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gn;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(gn||(gn={}));class Le{constructor(i,s,a,u){this.value=i,this.stringValue=s,this.characterCountBitsForVersions=a,this.bits=u,Le.FOR_BITS.set(u,this),Le.FOR_VALUE.set(i,this)}static forBits(i){const s=Le.FOR_BITS.get(i);if(s===void 0)throw new A;return s}getCharacterCountBits(i){const s=i.getVersionNumber();let a;return s<=9?a=0:s<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Le))return!1;const s=i;return this.value===s.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ct{static decode(i,s,a,u){const h=new Zr(i);let d=new Be;const m=new Array;let v=-1,_=-1;try{let S=null,N=!1,O;do{if(h.available()<4)O=Le.TERMINATOR;else{const U=h.readBits(4);O=Le.forBits(U)}switch(O){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:N=!0;break;case Le.STRUCTURED_APPEND:if(h.available()<16)throw new X;v=h.readBits(8),_=h.readBits(8);break;case Le.ECI:const U=Ct.parseECIValue(h);if(S=J.getCharacterSetECIByValue(U),S===null)throw new X;break;case Le.HANZI:const G=h.readBits(4),Y=h.readBits(O.getCharacterCountBits(s));G===Ct.GB2312_SUBSET&&Ct.decodeHanziSegment(h,d,Y);break;default:const K=h.readBits(O.getCharacterCountBits(s));switch(O){case Le.NUMERIC:Ct.decodeNumericSegment(h,d,K);break;case Le.ALPHANUMERIC:Ct.decodeAlphanumericSegment(h,d,K,N);break;case Le.BYTE:Ct.decodeByteSegment(h,d,K,S,m,u);break;case Le.KANJI:Ct.decodeKanjiSegment(h,d,K);break;default:throw new X}break}}while(O!==Le.TERMINATOR)}catch{throw new X}return new yi(i,d.toString(),m.length===0?null:m,a===null?null:a.toString(),v,_)}static decodeHanziSegment(i,s,a){if(a*13>i.available())throw new X;const u=new Uint8Array(2*a);let h=0;for(;a>0;){const d=i.readBits(13);let m=d/96<<8&4294967295|d%96;m<959?m+=41377:m+=42657,u[h]=m>>8&255,u[h+1]=m&255,h+=2,a--}try{s.append(Te.decode(u,xe.GB2312))}catch(d){throw new X(d)}}static decodeKanjiSegment(i,s,a){if(a*13>i.available())throw new X;const u=new Uint8Array(2*a);let h=0;for(;a>0;){const d=i.readBits(13);let m=d/192<<8&4294967295|d%192;m<7936?m+=33088:m+=49472,u[h]=m>>8,u[h+1]=m,h+=2,a--}try{s.append(Te.decode(u,xe.SHIFT_JIS))}catch(d){throw new X(d)}}static decodeByteSegment(i,s,a,u,h,d){if(8*a>i.available())throw new X;const m=new Uint8Array(a);for(let _=0;_<a;_++)m[_]=i.readBits(8);let v;u===null?v=xe.guessEncoding(m,d):v=u.getName();try{s.append(Te.decode(m,v))}catch(_){throw new X(_)}h.push(m)}static toAlphaNumericChar(i){if(i>=Ct.ALPHANUMERIC_CHARS.length)throw new X;return Ct.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,a,u){const h=s.length();for(;a>1;){if(i.available()<11)throw new X;const d=i.readBits(11);s.append(Ct.toAlphaNumericChar(Math.floor(d/45))),s.append(Ct.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(i.available()<6)throw new X;s.append(Ct.toAlphaNumericChar(i.readBits(6)))}if(u)for(let d=h;d<s.length();d++)s.charAt(d)==="%"&&(d<s.length()-1&&s.charAt(d+1)==="%"?s.deleteCharAt(d+1):s.setCharAt(d,""))}static decodeNumericSegment(i,s,a){for(;a>=3;){if(i.available()<10)throw new X;const u=i.readBits(10);if(u>=1e3)throw new X;s.append(Ct.toAlphaNumericChar(Math.floor(u/100))),s.append(Ct.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(Ct.toAlphaNumericChar(u%10)),a-=3}if(a===2){if(i.available()<7)throw new X;const u=i.readBits(7);if(u>=100)throw new X;s.append(Ct.toAlphaNumericChar(Math.floor(u/10))),s.append(Ct.toAlphaNumericChar(u%10))}else if(a===1){if(i.available()<4)throw new X;const u=i.readBits(4);if(u>=10)throw new X;s.append(Ct.toAlphaNumericChar(u))}}static parseECIValue(i){const s=i.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const a=i.readBits(8);return(s&63)<<8&4294967295|a}if((s&224)===192){const a=i.readBits(16);return(s&31)<<16&4294967295|a}throw new X}}Ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ct.GB2312_SUBSET=1;class zs{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const s=i[0];i[0]=i[2],i[2]=s}}class Ma{constructor(){this.rsDecoder=new Vr(tt.QR_CODE_FIELD_256)}decodeBooleanArray(i,s){return this.decodeBitMatrix(De.parseFromBooleanArray(i),s)}decodeBitMatrix(i,s){const a=new Fs(i);let u=null;try{return this.decodeBitMatrixParser(a,s)}catch(h){u=h}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const h=this.decodeBitMatrixParser(a,s);return h.setOther(new zs(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(i,s){const a=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),d=js.getDataBlocks(h,a,u);let m=0;for(const S of d)m+=S.getNumDataCodewords();const v=new Uint8Array(m);let _=0;for(const S of d){const N=S.getCodewords(),O=S.getNumDataCodewords();this.correctErrors(N,O);for(let U=0;U<O;U++)v[_++]=N[U]}return Ct.decode(v,a,u,s)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new D}for(let u=0;u<s;u++)i[u]=a[u]}}class Us extends Ie{constructor(i,s,a){super(i,s),this.estimatedModuleSize=a}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const u=(this.getX()+s)/2,h=(this.getY()+i)/2,d=(this.estimatedModuleSize+a)/2;return new Us(u,h,d)}}class yr{constructor(i,s,a,u,h,d,m){this.image=i,this.startX=s,this.startY=a,this.width=u,this.height=h,this.moduleSize=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,s=this.height,a=this.width,u=i+a,h=this.startY+s/2,d=new Int32Array(3),m=this.image;for(let v=0;v<s;v++){const _=h+(v&1?-Math.floor((v+1)/2):Math.floor((v+1)/2));d[0]=0,d[1]=0,d[2]=0;let S=i;for(;S<u&&!m.get(S,_);)S++;let N=0;for(;S<u;){if(m.get(S,_))if(N===1)d[1]++;else if(N===2){if(this.foundPatternCross(d)){const O=this.handlePossibleCenter(d,_,S);if(O!==null)return O}d[0]=d[2],d[1]=1,d[2]=0,N=1}else d[++N]++;else N===1&&N++,d[N]++;S++}if(this.foundPatternCross(d)){const O=this.handlePossibleCenter(d,_,u);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(i,s){return s-i[2]-i[1]/2}foundPatternCross(i){const s=this.moduleSize,a=s/2;for(let u=0;u<3;u++)if(Math.abs(s-i[u])>=a)return!1;return!0}crossCheckVertical(i,s,a,u){const h=this.image,d=h.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let v=i;for(;v>=0&&h.get(s,v)&&m[1]<=a;)m[1]++,v--;if(v<0||m[1]>a)return NaN;for(;v>=0&&!h.get(s,v)&&m[0]<=a;)m[0]++,v--;if(m[0]>a)return NaN;for(v=i+1;v<d&&h.get(s,v)&&m[1]<=a;)m[1]++,v++;if(v===d||m[1]>a)return NaN;for(;v<d&&!h.get(s,v)&&m[2]<=a;)m[2]++,v++;if(m[2]>a)return NaN;const _=m[0]+m[1]+m[2];return 5*Math.abs(_-u)>=2*u?NaN:this.foundPatternCross(m)?yr.centerFromEnd(m,v):NaN}handlePossibleCenter(i,s,a){const u=i[0]+i[1]+i[2],h=yr.centerFromEnd(i,a),d=this.crossCheckVertical(s,h,2*i[1],u);if(!isNaN(d)){const m=(i[0]+i[1]+i[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(m,d,h))return _.combineEstimate(d,h,m);const v=new Us(h,d,m);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class Eo extends Ie{constructor(i,s,a,u){super(i,s),this.estimatedModuleSize=a,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const u=this.count+1,h=(this.count*this.getX()+s)/u,d=(this.count*this.getY()+i)/u,m=(this.count*this.estimatedModuleSize+a)/u;return new Eo(h,d,m,u)}}class Oa{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const s=i!=null&&i.get(se.TRY_HARDER)!==void 0,a=i!=null&&i.get(se.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),d=u.getWidth();let m=Math.floor(3*h/(4*$t.MAX_MODULES));(m<$t.MIN_SKIP||s)&&(m=$t.MIN_SKIP);let v=!1;const _=new Int32Array(5);for(let N=m-1;N<h&&!v;N+=m){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let O=0;for(let U=0;U<d;U++)if(u.get(U,N))(O&1)===1&&O++,_[O]++;else if(O&1)_[O]++;else if(O===4)if($t.foundPatternCross(_)){if(this.handlePossibleCenter(_,N,U,a)===!0)if(m=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>_[2]&&(N+=Y-_[2]-m,U=d-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,O=3;continue}O=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,O=3;else _[++O]++;$t.foundPatternCross(_)&&this.handlePossibleCenter(_,N,d,a)===!0&&(m=_[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return Ie.orderBestPatterns(S),new Oa(S)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let h=0;h<5;h++){const d=i[h];if(d===0)return!1;s+=d}if(s<7)return!1;const a=s/7,u=a/2;return Math.abs(a-i[0])<u&&Math.abs(a-i[1])<u&&Math.abs(3*a-i[2])<3*u&&Math.abs(a-i[3])<u&&Math.abs(a-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,a,u){const h=this.getCrossCheckStateCount();let d=0;const m=this.image;for(;i>=d&&s>=d&&m.get(s-d,i-d);)h[2]++,d++;if(i<d||s<d)return!1;for(;i>=d&&s>=d&&!m.get(s-d,i-d)&&h[1]<=a;)h[1]++,d++;if(i<d||s<d||h[1]>a)return!1;for(;i>=d&&s>=d&&m.get(s-d,i-d)&&h[0]<=a;)h[0]++,d++;if(h[0]>a)return!1;const v=m.getHeight(),_=m.getWidth();for(d=1;i+d<v&&s+d<_&&m.get(s+d,i+d);)h[2]++,d++;if(i+d>=v||s+d>=_)return!1;for(;i+d<v&&s+d<_&&!m.get(s+d,i+d)&&h[3]<a;)h[3]++,d++;if(i+d>=v||s+d>=_||h[3]>=a)return!1;for(;i+d<v&&s+d<_&&m.get(s+d,i+d)&&h[4]<a;)h[4]++,d++;if(h[4]>=a)return!1;const S=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(S-u)<2*u&&$t.foundPatternCross(h)}crossCheckVertical(i,s,a,u){const h=this.image,d=h.getHeight(),m=this.getCrossCheckStateCount();let v=i;for(;v>=0&&h.get(s,v);)m[2]++,v--;if(v<0)return NaN;for(;v>=0&&!h.get(s,v)&&m[1]<=a;)m[1]++,v--;if(v<0||m[1]>a)return NaN;for(;v>=0&&h.get(s,v)&&m[0]<=a;)m[0]++,v--;if(m[0]>a)return NaN;for(v=i+1;v<d&&h.get(s,v);)m[2]++,v++;if(v===d)return NaN;for(;v<d&&!h.get(s,v)&&m[3]<a;)m[3]++,v++;if(v===d||m[3]>=a)return NaN;for(;v<d&&h.get(s,v)&&m[4]<a;)m[4]++,v++;if(m[4]>=a)return NaN;const _=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(_-u)>=2*u?NaN:$t.foundPatternCross(m)?$t.centerFromEnd(m,v):NaN}crossCheckHorizontal(i,s,a,u){const h=this.image,d=h.getWidth(),m=this.getCrossCheckStateCount();let v=i;for(;v>=0&&h.get(v,s);)m[2]++,v--;if(v<0)return NaN;for(;v>=0&&!h.get(v,s)&&m[1]<=a;)m[1]++,v--;if(v<0||m[1]>a)return NaN;for(;v>=0&&h.get(v,s)&&m[0]<=a;)m[0]++,v--;if(m[0]>a)return NaN;for(v=i+1;v<d&&h.get(v,s);)m[2]++,v++;if(v===d)return NaN;for(;v<d&&!h.get(v,s)&&m[3]<a;)m[3]++,v++;if(v===d||m[3]>=a)return NaN;for(;v<d&&h.get(v,s)&&m[4]<a;)m[4]++,v++;if(m[4]>=a)return NaN;const _=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(_-u)>=u?NaN:$t.foundPatternCross(m)?$t.centerFromEnd(m,v):NaN}handlePossibleCenter(i,s,a,u){const h=i[0]+i[1]+i[2]+i[3]+i[4];let d=$t.centerFromEnd(i,a),m=this.crossCheckVertical(s,Math.floor(d),i[2],h);if(!isNaN(m)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(m),i[2],h),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(d),i[2],h)))){const v=h/7;let _=!1;const S=this.possibleCenters;for(let N=0,O=S.length;N<O;N++){const U=S[N];if(U.aboutEquals(v,m,d)){S[N]=U.combineEstimate(m,d,v),_=!0;break}}if(!_){const N=new Eo(d,m,v);S.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const a of this.possibleCenters)if(a.getCount()>=$t.CENTER_QUORUM)if(s==null)s=a;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-a.getX())-Math.abs(s.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=$t.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize());if(i<3)return!1;const u=s/a;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-u);return h<=.05*s}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new re;const s=this.possibleCenters;let a;if(i>3){let u=0,h=0;for(const v of this.possibleCenters){const _=v.getEstimatedModuleSize();u+=_,h+=_*_}a=u/i;let d=Math.sqrt(h/i-a*a);s.sort((v,_)=>{const S=Math.abs(_.getEstimatedModuleSize()-a),N=Math.abs(v.getEstimatedModuleSize()-a);return S<N?-1:S>N?1:0});const m=Math.max(.2*a,d);for(let v=0;v<s.length&&s.length>3;v++){const _=s[v];Math.abs(_.getEstimatedModuleSize()-a)>m&&(s.splice(v,1),v--)}}if(s.length>3){let u=0;for(const h of s)u+=h.getEstimatedModuleSize();a=u/s.length,s.sort((h,d)=>{if(d.getCount()===h.getCount()){const m=Math.abs(d.getEstimatedModuleSize()-a),v=Math.abs(h.getEstimatedModuleSize()-a);return m<v?1:m>v?-1:0}else return d.getCount()-h.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class Ue{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(se.NEED_RESULT_POINT_CALLBACK);const a=new $t(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const s=i.getTopLeft(),a=i.getTopRight(),u=i.getBottomLeft(),h=this.calculateModuleSize(s,a,u);if(h<1)throw new re("No pattern found in proccess finder.");const d=Ue.computeDimension(s,a,u,h),m=we.getProvisionalVersionForDimension(d),v=m.getDimensionForVersion()-7;let _=null;if(m.getAlignmentPatternCenters().length>0){const U=a.getX()-s.getX()+u.getX(),G=a.getY()-s.getY()+u.getY(),Y=1-3/v,K=Math.floor(s.getX()+Y*(U-s.getX())),$=Math.floor(s.getY()+Y*(G-s.getY()));for(let pe=4;pe<=16;pe<<=1)try{_=this.findAlignmentInRegion(h,K,$,pe);break}catch(me){if(!(me instanceof re))throw me}}const S=Ue.createTransform(s,a,u,_,d),N=Ue.sampleGrid(this.image,S,d);let O;return _===null?O=[u,s,a]:O=[u,s,a,_],new Ps(N,O)}static createTransform(i,s,a,u,h){const d=h-3.5;let m,v,_,S;return u!==null?(m=u.getX(),v=u.getY(),_=d-3,S=_):(m=s.getX()-i.getX()+a.getX(),v=s.getY()-i.getY()+a.getY(),_=d,S=d),Ln.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,_,S,3.5,d,i.getX(),i.getY(),s.getX(),s.getY(),m,v,a.getX(),a.getY())}static sampleGrid(i,s,a){return ji.getInstance().sampleGridWithTransform(i,a,a,s)}static computeDimension(i,s,a,u){const h=nt.round(Ie.distance(i,s)/u),d=nt.round(Ie.distance(i,a)/u);let m=Math.floor((h+d)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new re("Dimensions could be not found.")}return m}calculateModuleSize(i,s,a){return(this.calculateModuleSizeOneWay(i,s)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,s){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?u/7:isNaN(u)?a/7:(a+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,s,a,u){let h=this.sizeOfBlackWhiteBlackRun(i,s,a,u),d=1,m=i-(a-i);m<0?(d=i/(i-m),m=0):m>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let v=Math.floor(s-(u-s)*d);return d=1,v<0?(d=s/(s-v),v=0):v>=this.image.getHeight()&&(d=(this.image.getHeight()-1-s)/(v-s),v=this.image.getHeight()-1),m=Math.floor(i+(m-i)*d),h+=this.sizeOfBlackWhiteBlackRun(i,s,m,v),h-1}sizeOfBlackWhiteBlackRun(i,s,a,u){const h=Math.abs(u-s)>Math.abs(a-i);if(h){let U=i;i=s,s=U,U=a,a=u,u=U}const d=Math.abs(a-i),m=Math.abs(u-s);let v=-d/2;const _=i<a?1:-1,S=s<u?1:-1;let N=0;const O=a+_;for(let U=i,G=s;U!==O;U+=_){const Y=h?G:U,K=h?U:G;if(N===1===this.image.get(Y,K)){if(N===2)return nt.distance(U,G,i,s);N++}if(v+=m,v>0){if(G===u)break;G+=S,v-=d}}return N===2?nt.distance(a+_,u,i,s):NaN}findAlignmentInRegion(i,s,a,u){const h=Math.floor(u*i),d=Math.max(0,s-h),m=Math.min(this.image.getWidth()-1,s+h);if(m-d<i*3)throw new re("Alignment top exceeds estimated module size.");const v=Math.max(0,a-h),_=Math.min(this.image.getHeight()-1,a+h);if(_-v<i*3)throw new re("Alignment bottom exceeds estimated module size.");return new yr(this.image,d,v,m-d,_-v,i,this.resultPointCallback).find()}}class sn{constructor(){this.decoder=new Ma}getDecoder(){return this.decoder}decode(i,s){let a,u;if(s!=null&&s.get(se.PURE_BARCODE)!==void 0){const v=sn.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(v,s),u=sn.NO_POINTS}else{const v=new Ue(i.getBlackMatrix()).detect(s);a=this.decoder.decodeBitMatrix(v.getBits(),s),u=v.getPoints()}a.getOther()instanceof zs&&a.getOther().applyMirroredCorrection(u);const h=new Fe(a.getText(),a.getRawBytes(),void 0,u,he.QR_CODE,void 0),d=a.getByteSegments();d!==null&&h.putMetadata(dt.BYTE_SEGMENTS,d);const m=a.getECLevel();return m!==null&&h.putMetadata(dt.ERROR_CORRECTION_LEVEL,m),a.hasStructuredAppend()&&(h.putMetadata(dt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),h.putMetadata(dt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s===null||a===null)throw new re;const u=this.moduleSize(s,i);let h=s[1],d=a[1],m=s[0],v=a[0];if(m>=v||h>=d)throw new re;if(d-h!==v-m&&(v=m+(d-h),v>=i.getWidth()))throw new re;const _=Math.round((v-m+1)/u),S=Math.round((d-h+1)/u);if(_<=0||S<=0)throw new re;if(S!==_)throw new re;const N=Math.floor(u/2);h+=N,m+=N;const O=m+Math.floor((_-1)*u)-v;if(O>0){if(O>N)throw new re;m-=O}const U=h+Math.floor((S-1)*u)-d;if(U>0){if(U>N)throw new re;h-=U}const G=new De(_,S);for(let Y=0;Y<S;Y++){const K=h+Math.floor(Y*u);for(let $=0;$<_;$++)i.get(m+Math.floor($*u),K)&&G.set($,Y)}return G}static moduleSize(i,s){const a=s.getHeight(),u=s.getWidth();let h=i[0],d=i[1],m=!0,v=0;for(;h<u&&d<a;){if(m!==s.get(h,d)){if(++v===5)break;m=!m}h++,d++}if(h===u||d===a)throw new re;return(h-i[0])/7}}sn.NO_POINTS=new Array;class _e{PDF417Common(){}static getBitCountSum(i){return nt.sum(i)}static toIntArray(i){if(i==null||!i.length)return _e.EMPTY_INT_ARRAY;const s=new Int32Array(i.length);let a=0;for(const u of i)s[a++]=u;return s}static getCodeword(i){const s=k.binarySearch(_e.SYMBOL_TABLE,i&262143);return s<0?-1:(_e.CODEWORD_TABLE[s]-1)%_e.NUMBER_OF_CODEWORDS}}_e.NUMBER_OF_CODEWORDS=929,_e.MAX_CODEWORDS_IN_BARCODE=_e.NUMBER_OF_CODEWORDS-1,_e.MIN_ROWS_IN_BARCODE=3,_e.MAX_ROWS_IN_BARCODE=90,_e.MODULES_IN_CODEWORD=17,_e.MODULES_IN_STOP_PATTERN=18,_e.BARS_IN_MODULE=8,_e.EMPTY_INT_ARRAY=new Int32Array([]),_e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class su{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(i,s,a){let u=i.getBlackMatrix(),h=He.detect(a,u);return h.length||(u=u.clone(),u.rotate180(),h=He.detect(a,u)),new su(u,h)}static detect(i,s){const a=new Array;let u=0,h=0,d=!1;for(;u<s.getHeight();){const m=He.findVertices(s,u,h);if(m[0]==null&&m[3]==null){if(!d)break;d=!1,h=0;for(const v of a)v[1]!=null&&(u=Math.trunc(Math.max(u,v[1].getY()))),v[3]!=null&&(u=Math.max(u,Math.trunc(v[3].getY())));u+=He.ROW_STEP;continue}if(d=!0,a.push(m),!i)break;m[2]!=null?(h=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(h=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return a}static findVertices(i,s,a){const u=i.getHeight(),h=i.getWidth(),d=new Array(8);return He.copyToResult(d,He.findRowsWithPattern(i,u,h,s,a,He.START_PATTERN),He.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY())),He.copyToResult(d,He.findRowsWithPattern(i,u,h,s,a,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),d}static copyToResult(i,s,a){for(let u=0;u<a.length;u++)i[a[u]]=s[u]}static findRowsWithPattern(i,s,a,u,h,d){const m=new Array(4);let v=!1;const _=new Int32Array(d.length);for(;u<s;u+=He.ROW_STEP){let N=He.findGuardPattern(i,h,u,a,!1,d,_);if(N!=null){for(;u>0;){const O=He.findGuardPattern(i,h,--u,a,!1,d,_);if(O!=null)N=O;else{u++;break}}m[0]=new Ie(N[0],u),m[1]=new Ie(N[1],u),v=!0;break}}let S=u+1;if(v){let N=0,O=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;S<s;S++){const U=He.findGuardPattern(i,O[0],S,a,!1,d,_);if(U!=null&&Math.abs(O[0]-U[0])<He.MAX_PATTERN_DRIFT&&Math.abs(O[1]-U[1])<He.MAX_PATTERN_DRIFT)O=U,N=0;else{if(N>He.SKIPPED_ROW_COUNT_MAX)break;N++}}S-=N+1,m[2]=new Ie(O[0],S),m[3]=new Ie(O[1],S)}return S-u<He.BARCODE_MIN_HEIGHT&&k.fill(m,null),m}static findGuardPattern(i,s,a,u,h,d,m){k.fillWithin(m,0,m.length,0);let v=s,_=0;for(;i.get(v,a)&&v>0&&_++<He.MAX_PIXEL_DRIFT;)v--;let S=v,N=0,O=d.length;for(let U=h;S<u;S++)if(i.get(S,a)!==U)m[N]++;else{if(N===O-1){if(He.patternMatchVariance(m,d,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([v,S]);v+=m[0]+m[1],B.arraycopy(m,2,m,0,N-1),m[N-1]=0,m[N]=0,N--}else N++;m[N]=1,U=!U}return N===O-1&&He.patternMatchVariance(m,d,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([v,S-1]):null}static patternMatchVariance(i,s,a){let u=i.length,h=0,d=0;for(let _=0;_<u;_++)h+=i[_],d+=s[_];if(h<d)return 1/0;let m=h/d;a*=m;let v=0;for(let _=0;_<u;_++){let S=i[_],N=s[_]*m,O=S>N?S-N:N-S;if(O>a)return 1/0;v+=O}return v/h}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class Kt{constructor(i,s){if(s.length===0)throw new A;this.field=i;let a=s.length;if(a>1&&s[0]===0){let u=1;for(;u<a&&s[u]===0;)u++;u===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-u),B.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let s=this.coefficients[0],a=this.coefficients.length;for(let u=1;u<a;u++)s=this.field.add(this.field.multiply(i,s),this.coefficients[u]);return s}add(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){let d=s;s=a,a=d}let u=new Int32Array(a.length),h=a.length-s.length;B.arraycopy(a,0,u,0,h);for(let d=h;d<a.length;d++)u[d]=this.field.add(s[d-h],a[d]);return new Kt(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Kt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Kt(this.field,new Int32Array([0]));let s=this.coefficients,a=s.length,u=i.coefficients,h=u.length,d=new Int32Array(a+h-1);for(let m=0;m<a;m++){let v=s[m];for(let _=0;_<h;_++)d[m+_]=this.field.add(d[m+_],this.field.multiply(v,u[_]))}return new Kt(this.field,d)}negative(){let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.subtract(0,this.coefficients[a]);return new Kt(this.field,s)}multiplyScalar(i){if(i===0)return new Kt(this.field,new Int32Array([0]));if(i===1)return this;let s=this.coefficients.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=this.field.multiply(this.coefficients[u],i);return new Kt(this.field,a)}multiplyByMonomial(i,s){if(i<0)throw new A;if(s===0)return new Kt(this.field,new Int32Array([0]));let a=this.coefficients.length,u=new Int32Array(a+i);for(let h=0;h<a;h++)u[h]=this.field.multiply(this.coefficients[h],s);return new Kt(this.field,u)}toString(){let i=new Be;for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(s===0||a!==1)&&i.append(a),s!==0&&(s===1?i.append("x"):(i.append("x^"),i.append(s))))}return i.toString()}}class Pa{add(i,s){return(i+s)%this.modulus}subtract(i,s){return(this.modulus+i-s)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}inverse(i){if(i===0)throw new Bi;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Vi extends Pa{constructor(i,s){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let u=0;u<i;u++)this.expTable[u]=a,a=a*s%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Kt(this,new Int32Array([0])),this.one=new Kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new A;if(s===0)return this.zero;let a=new Int32Array(i+1);return a[0]=s,new Kt(this,a)}}Vi.PDF417_GF=new Vi(_e.NUMBER_OF_CODEWORDS,3);class Ao{constructor(){this.field=Vi.PDF417_GF}decode(i,s,a){let u=new Kt(this.field,i),h=new Int32Array(s),d=!1;for(let G=s;G>0;G--){let Y=u.evaluateAt(this.field.exp(G));h[s-G]=Y,Y!==0&&(d=!0)}if(!d)return 0;let m=this.field.getOne();if(a!=null)for(const G of a){let Y=this.field.exp(i.length-1-G),K=new Kt(this.field,new Int32Array([this.field.subtract(0,Y),1]));m=m.multiply(K)}let v=new Kt(this.field,h),_=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),v,s),S=_[0],N=_[1],O=this.findErrorLocations(S),U=this.findErrorMagnitudes(N,S,O);for(let G=0;G<O.length;G++){let Y=i.length-1-this.field.log(O[G]);if(Y<0)throw D.getChecksumInstance();i[Y]=this.field.subtract(i[Y],U[G])}return O.length}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){let O=i;i=s,s=O}let u=i,h=s,d=this.field.getZero(),m=this.field.getOne();for(;h.getDegree()>=Math.round(a/2);){let O=u,U=d;if(u=h,d=m,u.isZero())throw D.getChecksumInstance();h=O;let G=this.field.getZero(),Y=u.getCoefficient(u.getDegree()),K=this.field.inverse(Y);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let $=h.getDegree()-u.getDegree(),pe=this.field.multiply(h.getCoefficient(h.getDegree()),K);G=G.add(this.field.buildMonomial($,pe)),h=h.subtract(u.multiplyByMonomial($,pe))}m=G.multiply(d).subtract(U).negative()}let v=m.getCoefficient(0);if(v===0)throw D.getChecksumInstance();let _=this.field.inverse(v),S=m.multiply(_),N=h.multiply(_);return[S,N]}findErrorLocations(i){let s=i.getDegree(),a=new Int32Array(s),u=0;for(let h=1;h<this.field.getSize()&&u<s;h++)i.evaluateAt(h)===0&&(a[u]=this.field.inverse(h),u++);if(u!==s)throw D.getChecksumInstance();return a}findErrorMagnitudes(i,s,a){let u=s.getDegree(),h=new Int32Array(u);for(let _=1;_<=u;_++)h[u-_]=this.field.multiply(_,s.getCoefficient(_));let d=new Kt(this.field,h),m=a.length,v=new Int32Array(m);for(let _=0;_<m;_++){let S=this.field.inverse(a[_]),N=this.field.subtract(0,i.evaluateAt(S)),O=this.field.inverse(d.evaluateAt(S));v[_]=this.field.multiply(N,O)}return v}}class si{constructor(i,s,a,u,h){i instanceof si?this.constructor_2(i):this.constructor_1(i,s,a,u,h)}constructor_1(i,s,a,u,h){const d=s==null||a==null,m=u==null||h==null;if(d&&m)throw new re;d?(s=new Ie(0,u.getY()),a=new Ie(0,h.getY())):m&&(u=new Ie(i.getWidth()-1,s.getY()),h=new Ie(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=s,this.bottomLeft=a,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(s.getX(),a.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(a.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,s){return i==null?s:s==null?i:new si(i.image,i.topLeft,i.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(i,s,a){let u=this.topLeft,h=this.bottomLeft,d=this.topRight,m=this.bottomRight;if(i>0){let v=a?this.topLeft:this.topRight,_=Math.trunc(v.getY()-i);_<0&&(_=0);let S=new Ie(v.getX(),_);a?u=S:d=S}if(s>0){let v=a?this.bottomLeft:this.bottomRight,_=Math.trunc(v.getY()+s);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let S=new Ie(v.getX(),_);a?h=S:m=S}return new si(this.image,u,h,d,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class on{constructor(i,s,a,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=a,this.rowCount=s+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class oi{constructor(){this.buffer=""}static form(i,s){let a=-1;function u(d,m,v,_,S,N){if(d==="%%")return"%";if(s[++a]===void 0)return;d=_?parseInt(_.substr(1)):void 0;let O=S?parseInt(S.substr(1)):void 0,U;switch(N){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(d);break;case"p":U=parseFloat(s[a]).toPrecision(d);break;case"e":U=parseFloat(s[a]).toExponential(d);break;case"x":U=parseInt(s[a]).toString(O||16);break;case"d":U=parseFloat(parseInt(s[a],O||10).toPrecision(d)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(O);let G=parseInt(v),Y=v&&v[0]+""=="0"?"0":" ";for(;U.length<G;)U=m!==void 0?U+Y:Y+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,u)}format(i,...s){this.buffer+=oi.form(i,s)}toString(){return this.buffer}}class Gr{constructor(i){this.boundingBox=new si(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let a=1;a<Gr.MAX_NEARBY_DISTANCE;a++){let u=this.imageRowToCodewordIndex(i)-a;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(i)+a,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new oi;let s=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,a.getRowNumber(),a.getValue())}return i.toString()}}Gr.MAX_NEARBY_DISTANCE=5;class Yr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let s=this.values.get(i);s==null&&(s=0),s++,this.values.set(i,s)}getValue(){let i=-1,s=new Array;for(const[a,u]of this.values.entries()){const h={getKey:()=>a,getValue:()=>u};h.getValue()>i?(i=h.getValue(),s=[],s.push(h.getKey())):h.getValue()===i&&s.push(h.getKey())}return _e.toIntArray(s)}getConfidence(i){return this.values.get(i)}}class ou extends Gr{constructor(i,s){super(i),this._isLeft=s}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,i);let a=this.getBoundingBox(),u=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=-1,_=1,S=0;for(let N=d;N<m;N++){if(s[N]==null)continue;let O=s[N],U=O.getRowNumber()-v;if(U===0)S++;else if(U===1)_=Math.max(_,S),S=1,v=O.getRowNumber();else if(U<0||O.getRowNumber()>=i.getRowCount()||U>N)s[N]=null;else{let G;_>2?G=(_-2)*U:G=U;let Y=G>=N;for(let K=1;K<=G&&!Y;K++)Y=s[N-K]!=null;Y?s[N]=null:(v=O.getRowNumber(),S=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let s=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let u=a.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(i){let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),v=-1;for(let _=h;_<d;_++){if(m[_]==null)continue;let S=m[_];S.setRowNumberAsRowIndicatorColumn();let N=S.getRowNumber()-v;N===0||(N===1?v=S.getRowNumber():S.getRowNumber()>=i.getRowCount()?m[_]=null:v=S.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),s=new Yr,a=new Yr,u=new Yr,h=new Yr;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let v=m.getValue()%30,_=m.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:a.setValue(v*3+1);break;case 1:h.setValue(v/3),u.setValue(v%3);break;case 2:s.setValue(v+1);break}}if(s.getValue().length===0||a.getValue().length===0||u.getValue().length===0||h.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+u.getValue()[0]<_e.MIN_ROWS_IN_BARCODE||a.getValue()[0]+u.getValue()[0]>_e.MAX_ROWS_IN_BARCODE)return null;let d=new on(s.getValue()[0],a.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,s){for(let a=0;a<i.length;a++){let u=i[a];if(i[a]==null)continue;let h=u.getValue()%30,d=u.getRowNumber();if(d>s.getRowCount()){i[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==s.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(h/3)!==s.getErrorCorrectionLevel()||h%3!==s.getRowCountLowerPart())&&(i[a]=null);break;case 2:h+1!==s.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xr{constructor(i,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=_e.MAX_CODEWORDS_IN_BARCODE,s;do s=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let a=this.detectionResultColumns[s].getCodewords();for(let u=0;u<a.length;u++)a[u]!=null&&(a[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&s[a]!=null&&i[a].getRowNumber()===s[a].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[a];h!=null&&(h.setRowNumber(i[a].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let u=s[a].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let m=this.detectionResultColumns[d].getCodewords()[a];m!=null&&(h=Xr.adjustRowNumberIfValid(u,h,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,s=this.detectionResultColumns[0].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let u=s[a].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let m=this.detectionResultColumns[d].getCodewords()[a];m!=null&&(h=Xr.adjustRowNumberIfValid(u,h,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,s,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),s=0):++s),s}adjustRowNumbers(i,s,a){if(!this.detectionResultColumns[i-1])return;let u=a[s],h=this.detectionResultColumns[i-1].getCodewords(),d=h;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=h[s],m[3]=d[s],s>0&&(m[0]=a[s-1],m[4]=h[s-1],m[5]=d[s-1]),s>1&&(m[8]=a[s-2],m[10]=h[s-2],m[11]=d[s-2]),s<a.length-1&&(m[1]=a[s+1],m[6]=h[s+1],m[7]=d[s+1]),s<a.length-2&&(m[9]=a[s+2],m[12]=h[s+2],m[13]=d[s+2]);for(let v of m)if(Xr.adjustRowNumber(u,v))return}static adjustRowNumber(i,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===i.getBucket()?(i.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,s){this.detectionResultColumns[i]=s}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new oi;for(let a=0;a<i.getCodewords().length;a++){s.format("CW %3d:",a);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){s.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[a];if(h==null){s.format("    |   ");continue}s.format(" %3d|%3d",h.getRowNumber(),h.getValue())}s.format("%n")}return s.toString()}}class vr{constructor(i,s,a,u){this.rowNumber=vr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(a),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==vr.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}vr.BARCODE_ROW_UNKNOWN=-1;class An{static initialize(){for(let i=0;i<_e.SYMBOL_TABLE.length;i++){let s=_e.SYMBOL_TABLE[i],a=s&1;for(let u=0;u<_e.BARS_IN_MODULE;u++){let h=0;for(;(s&1)===a;)h+=1,s>>=1;a=s&1,An.RATIOS_TABLE[i]||(An.RATIOS_TABLE[i]=new Array(_e.BARS_IN_MODULE)),An.RATIOS_TABLE[i][_e.BARS_IN_MODULE-u-1]=Math.fround(h/_e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let s=An.getDecodedCodewordValue(An.sampleBitCounts(i));return s!==-1?s:An.getClosestDecodedValue(i)}static sampleBitCounts(i){let s=nt.sum(i),a=new Int32Array(_e.BARS_IN_MODULE),u=0,h=0;for(let d=0;d<_e.MODULES_IN_CODEWORD;d++){let m=s/(2*_e.MODULES_IN_CODEWORD)+d*s/_e.MODULES_IN_CODEWORD;h+i[u]<=m&&(h+=i[u],u++),a[u]++}return a}static getDecodedCodewordValue(i){let s=An.getBitValue(i);return _e.getCodeword(s)===-1?-1:s}static getBitValue(i){let s=0;for(let a=0;a<i.length;a++)for(let u=0;u<i[a];u++)s=s<<1|(a%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(i){let s=nt.sum(i),a=new Array(_e.BARS_IN_MODULE);if(s>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(i[d]/s);let u=Os.MAX_VALUE,h=-1;this.bSymbolTableReady||An.initialize();for(let d=0;d<An.RATIOS_TABLE.length;d++){let m=0,v=An.RATIOS_TABLE[d];for(let _=0;_<_e.BARS_IN_MODULE;_++){let S=Math.fround(v[_]-a[_]);if(m+=Math.fround(S*S),m>=u)break}m<u&&(u=m,h=_e.SYMBOL_TABLE[d])}return h}}An.bSymbolTableReady=!1,An.RATIOS_TABLE=new Array(_e.SYMBOL_TABLE.length).map(I=>new Array(_e.BARS_IN_MODULE));class Ra{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class Je{static parseLong(i,s=void 0){return parseInt(i,s)}}class au extends y{}au.kind="NullPointerException";class ai{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,s,a){if(i==null)throw new au;if(s<0||s>i.length||a<0||s+a>i.length||s+a<0)throw new V;if(a===0)return;for(let u=0;u<a;u++)this.write(i[s+u])}flush(){}close(){}}class Vs extends y{}class lu extends ai{constructor(i=32){if(super(),this.count=0,i<0)throw new A("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Vs;a=R.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,s,a){if(s<0||s>i.length||a<0||s+a-i.length>0)throw new V;this.ensureCapacity(this.count+a),B.arraycopy(i,s,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var ft;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ft||(ft={}));function So(){if(typeof window<"u")return window.BigInt||null;if(typeof Oo<"u")return Oo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let To;function Hi(I){if(typeof To>"u"&&(To=So()),To===null)throw new Error("BigInt is not supported!");return To(I)}function Sh(){let I=[];I[0]=Hi(1);let i=Hi(900);I[1]=i;for(let s=2;s<16;s++)I[s]=I[s-1]*i;return I}class ee{static decode(i,s){let a=new Be(""),u=J.ISO8859_1;a.enableDecoding(u);let h=1,d=i[h++],m=new Ra;for(;h<i[0];){switch(d){case ee.TEXT_COMPACTION_MODE_LATCH:h=ee.textCompaction(i,h,a);break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:h=ee.byteCompaction(d,i,u,h,a);break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[h++]);break;case ee.NUMERIC_COMPACTION_MODE_LATCH:h=ee.numericCompaction(i,h,a);break;case ee.ECI_CHARSET:J.getCharacterSetECIByValue(i[h++]);break;case ee.ECI_GENERAL_PURPOSE:h+=2;break;case ee.ECI_USER_DEFINED:h++;break;case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=ee.decodeMacroBlock(i,h,m);break;case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:throw new X;default:h--,h=ee.textCompaction(i,h,a);break}if(h<i.length)d=i[h++];else throw X.getFormatInstance()}if(a.length()===0)throw X.getFormatInstance();let v=new yi(null,a.toString(),null,s);return v.setOther(m),v}static decodeMacroBlock(i,s,a){if(s+ee.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw X.getFormatInstance();let u=new Int32Array(ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<ee.NUMBER_OF_SEQUENCE_CODEWORDS;m++,s++)u[m]=i[s];a.setSegmentIndex(R.parseInt(ee.decodeBase900toBase10(u,ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Be;s=ee.textCompaction(i,s,h),a.setFileId(h.toString());let d=-1;for(i[s]===ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=s+1);s<i[0];)switch(i[s]){case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,i[s]){case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Be;s=ee.textCompaction(i,s+1,m),a.setFileName(m.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new Be;s=ee.textCompaction(i,s+1,v),a.setSender(v.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new Be;s=ee.textCompaction(i,s+1,_),a.setAddressee(_.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new Be;s=ee.numericCompaction(i,s+1,S),a.setSegmentCount(R.parseInt(S.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Be;s=ee.numericCompaction(i,s+1,N),a.setTimestamp(Je.parseLong(N.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new Be;s=ee.numericCompaction(i,s+1,O),a.setChecksum(R.parseInt(O.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new Be;s=ee.numericCompaction(i,s+1,U),a.setFileSize(Je.parseLong(U.toString()));break;default:throw X.getFormatInstance()}break;case ee.MACRO_PDF417_TERMINATOR:s++,a.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(d!==-1){let m=s-d;a.isLastSegment()&&m--,a.setOptionalData(k.copyOfRange(i,d,d+m))}return s}static textCompaction(i,s,a){let u=new Int32Array((i[0]-s)*2),h=new Int32Array((i[0]-s)*2),d=0,m=!1;for(;s<i[0]&&!m;){let v=i[s++];if(v<ee.TEXT_COMPACTION_MODE_LATCH)u[d]=v/30,u[d+1]=v%30,d+=2;else switch(v){case ee.TEXT_COMPACTION_MODE_LATCH:u[d++]=ee.TEXT_COMPACTION_MODE_LATCH;break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:s--,m=!0;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=i[s++],h[d]=v,d++;break}}return ee.decodeTextCompaction(u,h,d,a),s}static decodeTextCompaction(i,s,a,u){let h=ft.ALPHA,d=ft.ALPHA,m=0;for(;m<a;){let v=i[m],_="";switch(h){case ft.ALPHA:if(v<26)_=String.fromCharCode(65+v);else switch(v){case 26:_=" ";break;case ee.LL:h=ft.LOWER;break;case ee.ML:h=ft.MIXED;break;case ee.PS:d=h,h=ft.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case ee.TEXT_COMPACTION_MODE_LATCH:h=ft.ALPHA;break}break;case ft.LOWER:if(v<26)_=String.fromCharCode(97+v);else switch(v){case 26:_=" ";break;case ee.AS:d=h,h=ft.ALPHA_SHIFT;break;case ee.ML:h=ft.MIXED;break;case ee.PS:d=h,h=ft.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case ee.TEXT_COMPACTION_MODE_LATCH:h=ft.ALPHA;break}break;case ft.MIXED:if(v<ee.PL)_=ee.MIXED_CHARS[v];else switch(v){case ee.PL:h=ft.PUNCT;break;case 26:_=" ";break;case ee.LL:h=ft.LOWER;break;case ee.AL:h=ft.ALPHA;break;case ee.PS:d=h,h=ft.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case ee.TEXT_COMPACTION_MODE_LATCH:h=ft.ALPHA;break}break;case ft.PUNCT:if(v<ee.PAL)_=ee.PUNCT_CHARS[v];else switch(v){case ee.PAL:h=ft.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case ee.TEXT_COMPACTION_MODE_LATCH:h=ft.ALPHA;break}break;case ft.ALPHA_SHIFT:if(h=d,v<26)_=String.fromCharCode(65+v);else switch(v){case 26:_=" ";break;case ee.TEXT_COMPACTION_MODE_LATCH:h=ft.ALPHA;break}break;case ft.PUNCT_SHIFT:if(h=d,v<ee.PAL)_=ee.PUNCT_CHARS[v];else switch(v){case ee.PAL:h=ft.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case ee.TEXT_COMPACTION_MODE_LATCH:h=ft.ALPHA;break}break}_!==""&&u.append(_),m++}}static byteCompaction(i,s,a,u,h){let d=new lu,m=0,v=0,_=!1;switch(i){case ee.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),N=s[u++];for(;u<s[0]&&!_;)switch(S[m++]=N,v=900*v+N,N=s[u++],N){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:u--,_=!0;break;default:if(m%5===0&&m>0){for(let O=0;O<6;++O)d.write(Number(Hi(v)>>Hi(8*(5-O))));v=0,m=0}break}u===s[0]&&N<ee.TEXT_COMPACTION_MODE_LATCH&&(S[m++]=N);for(let O=0;O<m;O++)d.write(S[O]);break;case ee.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!_;){let O=s[u++];if(O<ee.TEXT_COMPACTION_MODE_LATCH)m++,v=900*v+O;else switch(O){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:u--,_=!0;break}if(m%5===0&&m>0){for(let U=0;U<6;++U)d.write(Number(Hi(v)>>Hi(8*(5-U))));v=0,m=0}}break}return h.append(Te.decode(d.toByteArray(),a)),u}static numericCompaction(i,s,a){let u=0,h=!1,d=new Int32Array(ee.MAX_NUMERIC_CODEWORDS);for(;s<i[0]&&!h;){let m=i[s++];if(s===i[0]&&(h=!0),m<ee.TEXT_COMPACTION_MODE_LATCH)d[u]=m,u++;else switch(m){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:s--,h=!0;break}(u%ee.MAX_NUMERIC_CODEWORDS===0||m===ee.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(a.append(ee.decodeBase900toBase10(d,u)),u=0)}return s}static decodeBase900toBase10(i,s){let a=Hi(0);for(let h=0;h<s;h++)a+=ee.EXP900[s-h-1]*Hi(i[h]);let u=a.toString();if(u.charAt(0)!=="1")throw new X;return u.substring(1)}}ee.TEXT_COMPACTION_MODE_LATCH=900,ee.BYTE_COMPACTION_MODE_LATCH=901,ee.NUMERIC_COMPACTION_MODE_LATCH=902,ee.BYTE_COMPACTION_MODE_LATCH_6=924,ee.ECI_USER_DEFINED=925,ee.ECI_GENERAL_PURPOSE=926,ee.ECI_CHARSET=927,ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ee.MACRO_PDF417_TERMINATOR=922,ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ee.MAX_NUMERIC_CODEWORDS=15,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ee.PL=25,ee.LL=27,ee.AS=27,ee.ML=28,ee.AL=28,ee.PS=29,ee.PAL=29,ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ee.EXP900=So()?Sh():[],ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ze{constructor(){}static decode(i,s,a,u,h,d,m){let v=new si(i,s,a,u,h),_=null,S=null,N;for(let G=!0;;G=!1){if(s!=null&&(_=Ze.getRowIndicatorColumn(i,v,s,!0,d,m)),u!=null&&(S=Ze.getRowIndicatorColumn(i,v,u,!1,d,m)),N=Ze.merge(_,S),N==null)throw re.getNotFoundInstance();let Y=N.getBoundingBox();if(G&&Y!=null&&(Y.getMinY()<v.getMinY()||Y.getMaxY()>v.getMaxY()))v=Y;else break}N.setBoundingBox(v);let O=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,_),N.setDetectionResultColumn(O,S);let U=_!=null;for(let G=1;G<=O;G++){let Y=U?G:O-G;if(N.getDetectionResultColumn(Y)!==void 0)continue;let K;Y===0||Y===O?K=new ou(v,Y===0):K=new Gr(v),N.setDetectionResultColumn(Y,K);let $=-1,pe=$;for(let me=v.getMinY();me<=v.getMaxY();me++){if($=Ze.getStartColumn(N,Y,me,U),$<0||$>v.getMaxX()){if(pe===-1)continue;$=pe}let ce=Ze.detectCodeword(i,v.getMinX(),v.getMaxX(),U,$,me,d,m);ce!=null&&(K.setCodeword(me,ce),pe=$,d=Math.min(d,ce.getWidth()),m=Math.max(m,ce.getWidth()))}}return Ze.createDecoderResult(N)}static merge(i,s){if(i==null&&s==null)return null;let a=Ze.getBarcodeMetadata(i,s);if(a==null)return null;let u=si.merge(Ze.adjustBoundingBox(i),Ze.adjustBoundingBox(s));return new Xr(a,u)}static adjustBoundingBox(i){if(i==null)return null;let s=i.getRowHeights();if(s==null)return null;let a=Ze.getMax(s),u=0;for(let m of s)if(u+=a-m,m>0)break;let h=i.getCodewords();for(let m=0;u>0&&h[m]==null;m++)u--;let d=0;for(let m=s.length-1;m>=0&&(d+=a-s[m],!(s[m]>0));m--);for(let m=h.length-1;d>0&&h[m]==null;m--)d--;return i.getBoundingBox().addMissingRows(u,d,i.isLeft())}static getMax(i){let s=-1;for(let a of i)s=Math.max(s,a);return s}static getBarcodeMetadata(i,s){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let u;return s==null||(u=s.getBarcodeMetadata())==null?a:a.getColumnCount()!==u.getColumnCount()&&a.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&a.getRowCount()!==u.getRowCount()?null:a}static getRowIndicatorColumn(i,s,a,u,h,d){let m=new ou(s,u);for(let v=0;v<2;v++){let _=v===0?1:-1,S=Math.trunc(Math.trunc(a.getX()));for(let N=Math.trunc(Math.trunc(a.getY()));N<=s.getMaxY()&&N>=s.getMinY();N+=_){let O=Ze.detectCodeword(i,0,i.getWidth(),u,S,N,h,d);O!=null&&(m.setCodeword(N,O),u?S=O.getStartX():S=O.getEndX())}}return m}static adjustCodewordCount(i,s){let a=s[0][1],u=a.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Ze.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(h<1||h>_e.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();a.setValue(h)}else u[0]!==h&&a.setValue(h)}static createDecoderResult(i){let s=Ze.createBarcodeMatrix(i);Ze.adjustCodewordCount(i,s);let a=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],d=new Array;for(let v=0;v<i.getBarcodeRowCount();v++)for(let _=0;_<i.getBarcodeColumnCount();_++){let S=s[v][_+1].getValue(),N=v*i.getBarcodeColumnCount()+_;S.length===0?a.push(N):S.length===1?u[N]=S[0]:(d.push(N),h.push(S))}let m=new Array(h.length);for(let v=0;v<m.length;v++)m[v]=h[v];return Ze.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,_e.toIntArray(a),_e.toIntArray(d),m)}static createDecoderResultFromAmbiguousValues(i,s,a,u,h){let d=new Int32Array(u.length),m=100;for(;m-- >0;){for(let v=0;v<d.length;v++)s[u[v]]=h[v][d[v]];try{return Ze.decodeCodewords(s,i,a)}catch(v){if(!(v instanceof D))throw v}if(d.length===0)throw D.getChecksumInstance();for(let v=0;v<d.length;v++)if(d[v]<h[v].length-1){d[v]++;break}else if(d[v]=0,v===d.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(i){let s=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let h=0;h<s[u].length;h++)s[u][h]=new Yr;let a=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=s.length)continue;s[d][a].setValue(h.getValue())}}}a++}return s}static isValidBarcodeColumn(i,s){return s>=0&&s<=i.getBarcodeColumnCount()+1}static getStartColumn(i,s,a,u){let h=u?1:-1,d=null;if(Ze.isValidBarcodeColumn(i,s-h)&&(d=i.getDetectionResultColumn(s-h).getCodeword(a)),d!=null)return u?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(s).getCodewordNearby(a),d!=null)return u?d.getStartX():d.getEndX();if(Ze.isValidBarcodeColumn(i,s-h)&&(d=i.getDetectionResultColumn(s-h).getCodewordNearby(a)),d!=null)return u?d.getEndX():d.getStartX();let m=0;for(;Ze.isValidBarcodeColumn(i,s-h);){s-=h;for(let v of i.getDetectionResultColumn(s).getCodewords())if(v!=null)return(u?v.getEndX():v.getStartX())+h*m*(v.getEndX()-v.getStartX());m++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,s,a,u,h,d,m,v){h=Ze.adjustCodewordStartColumn(i,s,a,u,h,d);let _=Ze.getModuleBitCount(i,s,a,u,h,d);if(_==null)return null;let S,N=nt.sum(_);if(u)S=h+N;else{for(let G=0;G<_.length/2;G++){let Y=_[G];_[G]=_[_.length-1-G],_[_.length-1-G]=Y}S=h,h=S-N}if(!Ze.checkCodewordSkew(N,m,v))return null;let O=An.getDecodedValue(_),U=_e.getCodeword(O);return U===-1?null:new vr(h,S,Ze.getCodewordBucketNumber(O),U)}static getModuleBitCount(i,s,a,u,h,d){let m=h,v=new Int32Array(8),_=0,S=u?1:-1,N=u;for(;(u?m<a:m>=s)&&_<v.length;)i.get(m,d)===N?(v[_]++,m+=S):(_++,N=!N);return _===v.length||m===(u?a:s)&&_===v.length-1?v:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,s,a,u,h,d){let m=h,v=u?-1:1;for(let _=0;_<2;_++){for(;(u?m>=s:m<a)&&u===i.get(m,d);){if(Math.abs(h-m)>Ze.CODEWORD_SKEW_SIZE)return h;m+=v}v=-v,u=!u}return m}static checkCodewordSkew(i,s,a){return s-Ze.CODEWORD_SKEW_SIZE<=i&&i<=a+Ze.CODEWORD_SKEW_SIZE}static decodeCodewords(i,s,a){if(i.length===0)throw X.getFormatInstance();let u=1<<s+1,h=Ze.correctErrors(i,a,u);Ze.verifyCodewordCount(i,u);let d=ee.decode(i,""+s);return d.setErrorsCorrected(h),d.setErasures(a.length),d}static correctErrors(i,s,a){if(s!=null&&s.length>a/2+Ze.MAX_ERRORS||a<0||a>Ze.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return Ze.errorCorrection.decode(i,a,s)}static verifyCodewordCount(i,s){if(i.length<4)throw X.getFormatInstance();let a=i[0];if(a>i.length)throw X.getFormatInstance();if(a===0)if(s<i.length)i[0]=i.length-s;else throw X.getFormatInstance()}static getBitCountForCodeword(i){let s=new Int32Array(8),a=0,u=s.length-1;for(;!((i&1)!==a&&(a=i&1,u--,u<0));)s[u]++,i>>=1;return s}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Ze.getCodewordBucketNumber(Ze.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let s=new oi;for(let a=0;a<i.length;a++){s.format("Row %2d: ",a);for(let u=0;u<i[a].length;u++){let h=i[a][u];h.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}s.format("%n")}return s.toString()}}Ze.CODEWORD_SKEW_SIZE=2,Ze.MAX_ERRORS=3,Ze.MAX_EC_CODEWORDS=512,Ze.errorCorrection=new Ao;class an{decode(i,s=null){let a=an.decode(i,s,!1);if(a==null||a.length===0||a[0]==null)throw re.getNotFoundInstance();return a[0]}decodeMultiple(i,s=null){try{return an.decode(i,s,!0)}catch(a){throw a instanceof X||a instanceof D?re.getNotFoundInstance():a}}static decode(i,s,a){const u=new Array,h=He.detectMultiple(i,s,a);for(const d of h.getPoints()){const m=Ze.decode(h.getBits(),d[4],d[5],d[6],d[7],an.getMinCodewordWidth(d),an.getMaxCodewordWidth(d)),v=new Fe(m.getText(),m.getRawBytes(),void 0,d,he.PDF_417);v.putMetadata(dt.ERROR_CORRECTION_LEVEL,m.getECLevel());const _=m.getOther();_!=null&&v.putMetadata(dt.PDF417_EXTRA_METADATA,_),u.push(v)}return u.map(d=>d)}static getMaxWidth(i,s){return i==null||s==null?0:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMinWidth(i,s){return i==null||s==null?R.MAX_VALUE:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(an.getMaxWidth(i[0],i[4]),an.getMaxWidth(i[6],i[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.max(an.getMaxWidth(i[1],i[5]),an.getMaxWidth(i[7],i[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(an.getMinWidth(i[0],i[4]),an.getMinWidth(i[6],i[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.min(an.getMinWidth(i[1],i[5]),an.getMinWidth(i[7],i[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}reset(){}}class Bn extends y{}Bn.kind="ReaderException";class uu{constructor(i,s){this.verbose=i===!0,s&&this.setHints(s)}decode(i,s){return s&&this.setHints(s),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const s=!r(i)&&i.get(se.TRY_HARDER)===!0,a=r(i)?null:i.get(se.POSSIBLE_FORMATS),u=new Array;if(!r(a)){const h=a.some(d=>d===he.UPC_A||d===he.UPC_E||d===he.EAN_13||d===he.EAN_8||d===he.CODABAR||d===he.CODE_39||d===he.CODE_93||d===he.CODE_128||d===he.ITF||d===he.RSS_14||d===he.RSS_EXPANDED);h&&!s&&u.push(new ir(i,this.verbose)),a.includes(he.QR_CODE)&&u.push(new sn),a.includes(he.DATA_MATRIX)&&u.push(new ht),a.includes(he.AZTEC)&&u.push(new Rs),a.includes(he.PDF_417)&&u.push(new an),h&&s&&u.push(new ir(i,this.verbose))}u.length===0&&(s||u.push(new ir(i,this.verbose)),u.push(new sn),u.push(new ht),u.push(new Rs),u.push(new an),s&&u.push(new ir(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Bn("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(i,this.hints)}catch(a){if(a instanceof Bn)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class cu extends rt{constructor(i=null,s=500){const a=new uu;a.setHints(i),super(a,s)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class rr extends rt{constructor(i=500){super(new an,i)}}class hu extends rt{constructor(i=500){super(new sn,i)}}var bo;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(bo||(bo={}));var Ft=bo;class La{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Et(i,Int32Array.from([1])))}buildGenerator(i){const s=this.cachedGenerators;if(i>=s.length){let a=s[s.length-1];const u=this.field;for(let h=s.length;h<=i;h++){const d=a.multiply(new Et(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));s.push(d),a=d}}return s[i]}encode(i,s){if(s===0)throw new A("No error correction bytes");const a=i.length-s;if(a<=0)throw new A("No data bytes provided");const u=this.buildGenerator(s),h=new Int32Array(a);B.arraycopy(i,0,h,0,a);let d=new Et(this.field,h);d=d.multiplyByMonomial(s,1);const v=d.divide(u)[1].getCoefficients(),_=s-v.length;for(let S=0;S<_;S++)i[a+S]=0;B.arraycopy(v,0,i,a+_,v.length)}}class Ot{constructor(){}static applyMaskPenaltyRule1(i){return Ot.applyMaskPenaltyRule1Internal(i,!0)+Ot.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0;const a=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let d=0;d<h-1;d++){const m=a[d];for(let v=0;v<u-1;v++){const _=m[v];_===m[v+1]&&_===a[d+1][v]&&_===a[d+1][v+1]&&s++}}return Ot.N2*s}static applyMaskPenaltyRule3(i){let s=0;const a=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let d=0;d<h;d++)for(let m=0;m<u;m++){const v=a[d];m+6<u&&v[m]===1&&v[m+1]===0&&v[m+2]===1&&v[m+3]===1&&v[m+4]===1&&v[m+5]===0&&v[m+6]===1&&(Ot.isWhiteHorizontal(v,m-4,m)||Ot.isWhiteHorizontal(v,m+7,m+11))&&s++,d+6<h&&a[d][m]===1&&a[d+1][m]===0&&a[d+2][m]===1&&a[d+3][m]===1&&a[d+4][m]===1&&a[d+5][m]===0&&a[d+6][m]===1&&(Ot.isWhiteVertical(a,m,d-4,d)||Ot.isWhiteVertical(a,m,d+7,d+11))&&s++}return s*Ot.N3}static isWhiteHorizontal(i,s,a){s=Math.max(s,0),a=Math.min(a,i.length);for(let u=s;u<a;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,s,a,u){a=Math.max(a,0),u=Math.min(u,i.length);for(let h=a;h<u;h++)if(i[h][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0;const a=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let v=0;v<h;v++){const _=a[v];for(let S=0;S<u;S++)_[S]===1&&s++}const d=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-d)*10/d)*Ot.N4}static getDataMaskBit(i,s,a){let u,h;switch(i){case 0:u=a+s&1;break;case 1:u=a&1;break;case 2:u=s%3;break;case 3:u=(a+s)%3;break;case 4:u=Math.floor(a/2)+Math.floor(s/3)&1;break;case 5:h=a*s,u=(h&1)+h%3;break;case 6:h=a*s,u=(h&1)+h%3&1;break;case 7:h=a*s,u=h%3+(a+s&1)&1;break;default:throw new A("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,s){let a=0;const u=s?i.getHeight():i.getWidth(),h=s?i.getWidth():i.getHeight(),d=i.getArray();for(let m=0;m<u;m++){let v=0,_=-1;for(let S=0;S<h;S++){const N=s?d[m][S]:d[S][m];N===_?v++:(v>=5&&(a+=Ot.N1+(v-5)),v=1,_=N)}v>=5&&(a+=Ot.N1+(v-5))}return a}}Ot.N1=3,Ot.N2=3,Ot.N3=40,Ot.N4=10;class Hs{constructor(i,s){this.width=i,this.height=s;const a=new Array(s);for(let u=0;u!==s;u++)a[u]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,s){return this.bytes[s][i]}getArray(){return this.bytes}setNumber(i,s,a){this.bytes[s][i]=a}setBoolean(i,s,a){this.bytes[s][i]=a?1:0}clear(i){for(const s of this.bytes)k.fill(s,i)}equals(i){if(!(i instanceof Hs))return!1;const s=i;if(this.width!==s.width||this.height!==s.height)return!1;for(let a=0,u=this.height;a<u;++a){const h=this.bytes[a],d=s.bytes[a];for(let m=0,v=this.width;m<v;++m)if(h[m]!==d[m])return!1}return!0}toString(){const i=new Be;for(let s=0,a=this.height;s<a;++s){const u=this.bytes[s];for(let h=0,d=this.width;h<d;++h)switch(u[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class wr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new Be;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<wr.NUM_MASK_PATTERNS}}wr.NUM_MASK_PATTERNS=8;class mt extends y{}mt.kind="WriterException";class ke{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,s,a,u,h){ke.clearMatrix(h),ke.embedBasicPatterns(a,h),ke.embedTypeInfo(s,u,h),ke.maybeEmbedVersionInfo(a,h),ke.embedDataBits(i,u,h)}static embedBasicPatterns(i,s){ke.embedPositionDetectionPatternsAndSeparators(s),ke.embedDarkDotAtLeftBottomCorner(s),ke.maybeEmbedPositionAdjustmentPatterns(i,s),ke.embedTimingPatterns(s)}static embedTypeInfo(i,s,a){const u=new Z;ke.makeTypeInfoBits(i,s,u);for(let h=0,d=u.getSize();h<d;++h){const m=u.get(u.getSize()-1-h),v=ke.TYPE_INFO_COORDINATES[h],_=v[0],S=v[1];if(a.setBoolean(_,S,m),h<8){const N=a.getWidth()-h-1;a.setBoolean(N,8,m)}else{const O=a.getHeight()-7+(h-8);a.setBoolean(8,O,m)}}}static maybeEmbedVersionInfo(i,s){if(i.getVersionNumber()<7)return;const a=new Z;ke.makeVersionInfoBits(i,a);let u=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const m=a.get(u);u--,s.setBoolean(h,s.getHeight()-11+d,m),s.setBoolean(s.getHeight()-11+d,h,m)}}static embedDataBits(i,s,a){let u=0,h=-1,d=a.getWidth()-1,m=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);m>=0&&m<a.getHeight();){for(let v=0;v<2;++v){const _=d-v;if(!ke.isEmpty(a.get(_,m)))continue;let S;u<i.getSize()?(S=i.get(u),++u):S=!1,s!==255&&Ot.getDataMaskBit(s,_,m)&&(S=!S),a.setBoolean(_,m,S)}m+=h}h=-h,m+=h,d-=2}if(u!==i.getSize())throw new mt("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-R.numberOfLeadingZeros(i)}static calculateBCHCode(i,s){if(s===0)throw new A("0 polynomial");const a=ke.findMSBSet(s);for(i<<=a-1;ke.findMSBSet(i)>=a;)i^=s<<ke.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,s,a){if(!wr.isValidMaskPattern(s))throw new mt("Invalid mask pattern");const u=i.getBits()<<3|s;a.appendBits(u,5);const h=ke.calculateBCHCode(u,ke.TYPE_INFO_POLY);a.appendBits(h,10);const d=new Z;if(d.appendBits(ke.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new mt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,s){s.appendBits(i.getVersionNumber(),6);const a=ke.calculateBCHCode(i.getVersionNumber(),ke.VERSION_INFO_POLY);if(s.appendBits(a,12),s.getSize()!==18)throw new mt("should not happen but we got: "+s.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let s=8;s<i.getWidth()-8;++s){const a=(s+1)%2;ke.isEmpty(i.get(s,6))&&i.setNumber(s,6,a),ke.isEmpty(i.get(6,s))&&i.setNumber(6,s,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new mt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,s,a){for(let u=0;u<8;++u){if(!ke.isEmpty(a.get(i+u,s)))throw new mt;a.setNumber(i+u,s,0)}}static embedVerticalSeparationPattern(i,s,a){for(let u=0;u<7;++u){if(!ke.isEmpty(a.get(i,s+u)))throw new mt;a.setNumber(i,s+u,0)}}static embedPositionAdjustmentPattern(i,s,a){for(let u=0;u<5;++u){const h=ke.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)a.setNumber(i+d,s+u,h[d])}}static embedPositionDetectionPattern(i,s,a){for(let u=0;u<7;++u){const h=ke.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)a.setNumber(i+d,s+u,h[d])}}static embedPositionDetectionPatternsAndSeparators(i){const s=ke.POSITION_DETECTION_PATTERN[0].length;ke.embedPositionDetectionPattern(0,0,i),ke.embedPositionDetectionPattern(i.getWidth()-s,0,i),ke.embedPositionDetectionPattern(0,i.getWidth()-s,i);const a=8;ke.embedHorizontalSeparationPattern(0,a-1,i),ke.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),ke.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const u=7;ke.embedVerticalSeparationPattern(u,0,i),ke.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),ke.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,s){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,u=ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let h=0,d=u.length;h!==d;h++){const m=u[h];if(m>=0)for(let v=0;v!==d;v++){const _=u[v];_>=0&&ke.isEmpty(s.get(_,m))&&ke.embedPositionAdjustmentPattern(_-2,m-2,s)}}}}ke.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ke.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ke.VERSION_INFO_POLY=7973,ke.TYPE_INFO_POLY=1335,ke.TYPE_INFO_MASK_PATTERN=21522;class Th{constructor(i,s){this.dataBytes=i,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class vt{constructor(){}static calculateMaskPenalty(i){return Ot.applyMaskPenaltyRule1(i)+Ot.applyMaskPenaltyRule2(i)+Ot.applyMaskPenaltyRule3(i)+Ot.applyMaskPenaltyRule4(i)}static encode(i,s,a=null){let u=vt.DEFAULT_BYTE_MODE_ENCODING;const h=a!==null&&a.get(Ft.CHARACTER_SET)!==void 0;h&&(u=a.get(Ft.CHARACTER_SET).toString());const d=this.chooseMode(i,u),m=new Z;if(d===Le.BYTE&&(h||vt.DEFAULT_BYTE_MODE_ENCODING!==u)){const me=J.getCharacterSetECIByName(u);me!==void 0&&this.appendECI(me,m)}this.appendModeInfo(d,m);const v=new Z;this.appendBytes(i,d,v,u);let _;if(a!==null&&a.get(Ft.QR_VERSION)!==void 0){const me=Number.parseInt(a.get(Ft.QR_VERSION).toString(),10);_=we.getVersionForNumber(me);const ce=this.calculateBitsNeeded(d,m,v,_);if(!this.willFit(ce,_,s))throw new mt("Data too big for requested version")}else _=this.recommendVersion(s,d,m,v);const S=new Z;S.appendBitArray(m);const N=d===Le.BYTE?v.getSizeInBytes():i.length;this.appendLengthInfo(N,_,d,S),S.appendBitArray(v);const O=_.getECBlocksForLevel(s),U=_.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(U,S);const G=this.interleaveWithECBytes(S,_.getTotalCodewords(),U,O.getNumBlocks()),Y=new wr;Y.setECLevel(s),Y.setMode(d),Y.setVersion(_);const K=_.getDimensionForVersion(),$=new Hs(K,K),pe=this.chooseMaskPattern(G,s,_,$);return Y.setMaskPattern(pe),ke.buildMatrix(G,s,_,pe,$),Y.setMatrix($),Y}static recommendVersion(i,s,a,u){const h=this.calculateBitsNeeded(s,a,u,we.getVersionForNumber(1)),d=this.chooseVersion(h,i),m=this.calculateBitsNeeded(s,a,u,d);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,s,a,u){return s.getSize()+i.getCharacterCountBits(u)+a.getSize()}static getAlphanumericCode(i){return i<vt.ALPHANUMERIC_TABLE.length?vt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,s=null){if(J.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(i))return Le.KANJI;let a=!1,u=!1;for(let h=0,d=i.length;h<d;++h){const m=i.charAt(h);if(vt.isDigit(m))a=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return Le.BYTE}return u?Le.ALPHANUMERIC:a?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(i){let s;try{s=Te.encode(i,J.SJIS)}catch{return!1}const a=s.length;if(a%2!==0)return!1;for(let u=0;u<a;u+=2){const h=s[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,s,a,u){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let m=0;m<wr.NUM_MASK_PATTERNS;m++){ke.buildMatrix(i,s,a,m,u);let v=this.calculateMaskPenalty(u);v<h&&(h=v,d=m)}return d}static chooseVersion(i,s){for(let a=1;a<=40;a++){const u=we.getVersionForNumber(a);if(vt.willFit(i,u,s))return u}throw new mt("Data too big")}static willFit(i,s,a){const u=s.getTotalCodewords(),d=s.getECBlocksForLevel(a).getTotalECCodewords(),m=u-d,v=(i+7)/8;return m>=v}static terminateBits(i,s){const a=i*8;if(s.getSize()>a)throw new mt("data bits cannot fit in the QR Code"+s.getSize()+" > "+a);for(let d=0;d<4&&s.getSize()<a;++d)s.appendBit(!1);const u=s.getSize()&7;if(u>0)for(let d=u;d<8;d++)s.appendBit(!1);const h=i-s.getSizeInBytes();for(let d=0;d<h;++d)s.appendBits(d&1?17:236,8);if(s.getSize()!==a)throw new mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,s,a,u,h,d){if(u>=a)throw new mt("Block ID too large");const m=i%a,v=a-m,_=Math.floor(i/a),S=_+1,N=Math.floor(s/a),O=N+1,U=_-N,G=S-O;if(U!==G)throw new mt("EC bytes mismatch");if(a!==v+m)throw new mt("RS blocks mismatch");if(i!==(N+U)*v+(O+G)*m)throw new mt("Total bytes mismatch");u<v?(h[0]=N,d[0]=U):(h[0]=O,d[0]=G)}static interleaveWithECBytes(i,s,a,u){if(i.getSizeInBytes()!==a)throw new mt("Number of bits and data bytes does not match");let h=0,d=0,m=0;const v=new Array;for(let S=0;S<u;++S){const N=new Int32Array(1),O=new Int32Array(1);vt.getNumDataBytesAndNumECBytesForBlockID(s,a,u,S,N,O);const U=N[0],G=new Uint8Array(U);i.toBytes(8*h,G,0,U);const Y=vt.generateECBytes(G,O[0]);v.push(new Th(G,Y)),d=Math.max(d,U),m=Math.max(m,Y.length),h+=N[0]}if(a!==h)throw new mt("Data bytes does not match offset");const _=new Z;for(let S=0;S<d;++S)for(const N of v){const O=N.getDataBytes();S<O.length&&_.appendBits(O[S],8)}for(let S=0;S<m;++S)for(const N of v){const O=N.getErrorCorrectionBytes();S<O.length&&_.appendBits(O[S],8)}if(s!==_.getSizeInBytes())throw new mt("Interleaving error: "+s+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(i,s){const a=i.length,u=new Int32Array(a+s);for(let d=0;d<a;d++)u[d]=i[d]&255;new La(tt.QR_CODE_FIELD_256).encode(u,s);const h=new Uint8Array(s);for(let d=0;d<s;d++)h[d]=u[a+d];return h}static appendModeInfo(i,s){s.appendBits(i.getBits(),4)}static appendLengthInfo(i,s,a,u){const h=a.getCharacterCountBits(s);if(i>=1<<h)throw new mt(i+" is bigger than "+((1<<h)-1));u.appendBits(i,h)}static appendBytes(i,s,a,u){switch(s){case Le.NUMERIC:vt.appendNumericBytes(i,a);break;case Le.ALPHANUMERIC:vt.appendAlphanumericBytes(i,a);break;case Le.BYTE:vt.append8BitBytes(i,a,u);break;case Le.KANJI:vt.appendKanjiBytes(i,a);break;default:throw new mt("Invalid mode: "+s)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const s=vt.getDigit(i);return s>=0&&s<=9}static appendNumericBytes(i,s){const a=i.length;let u=0;for(;u<a;){const h=vt.getDigit(i.charAt(u));if(u+2<a){const d=vt.getDigit(i.charAt(u+1)),m=vt.getDigit(i.charAt(u+2));s.appendBits(h*100+d*10+m,10),u+=3}else if(u+1<a){const d=vt.getDigit(i.charAt(u+1));s.appendBits(h*10+d,7),u+=2}else s.appendBits(h,4),u++}}static appendAlphanumericBytes(i,s){const a=i.length;let u=0;for(;u<a;){const h=vt.getAlphanumericCode(i.charCodeAt(u));if(h===-1)throw new mt;if(u+1<a){const d=vt.getAlphanumericCode(i.charCodeAt(u+1));if(d===-1)throw new mt;s.appendBits(h*45+d,11),u+=2}else s.appendBits(h,6),u++}}static append8BitBytes(i,s,a){let u;try{u=Te.encode(i,a)}catch(h){throw new mt(h)}for(let h=0,d=u.length;h!==d;h++){const m=u[h];s.appendBits(m,8)}}static appendKanjiBytes(i,s){let a;try{a=Te.encode(i,J.SJIS)}catch(h){throw new mt(h)}const u=a.length;for(let h=0;h<u;h+=2){const d=a[h]&255,m=a[h+1]&255,v=d<<8&4294967295|m;let _=-1;if(v>=33088&&v<=40956?_=v-33088:v>=57408&&v<=60351&&(_=v-49472),_===-1)throw new mt("Invalid byte sequence");const S=(_>>8)*192+(_&255);s.appendBits(S,13)}}static appendECI(i,s){s.appendBits(Le.ECI.getBits(),4),s.appendBits(i.getValue(),8)}}vt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),vt.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class sr{write(i,s,a,u=null){if(i.length===0)throw new A("Found empty contents");if(s<0||a<0)throw new A("Requested dimensions are too small: "+s+"x"+a);let h=Xe.L,d=sr.QUIET_ZONE_SIZE;u!==null&&(u.get(Ft.ERROR_CORRECTION)!==void 0&&(h=Xe.fromString(u.get(Ft.ERROR_CORRECTION).toString())),u.get(Ft.MARGIN)!==void 0&&(d=Number.parseInt(u.get(Ft.MARGIN).toString(),10)));const m=vt.encode(i,h,u);return this.renderResult(m,s,a,d)}writeToDom(i,s,a,u,h=null){typeof i=="string"&&(i=document.querySelector(i));const d=this.write(s,a,u,h);i&&i.appendChild(d)}renderResult(i,s,a,u){const h=i.getMatrix();if(h===null)throw new ii;const d=h.getWidth(),m=h.getHeight(),v=d+u*2,_=m+u*2,S=Math.max(s,v),N=Math.max(a,_),O=Math.min(Math.floor(S/v),Math.floor(N/_)),U=Math.floor((S-d*O)/2),G=Math.floor((N-m*O)/2),Y=this.createSVGElement(S,N);for(let K=0,$=G;K<m;K++,$+=O)for(let pe=0,me=U;pe<d;pe++,me+=O)if(h.get(pe,K)===1){const ce=this.createSvgRectElement(me,$,O,O);Y.appendChild(ce)}return Y}createSVGElement(i,s){const a=document.createElementNS(sr.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",s.toString()),a}createSvgRectElement(i,s,a,u){const h=document.createElementNS(sr.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",s.toString()),h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}sr.QUIET_ZONE_SIZE=4,sr.SVG_NS="http://www.w3.org/2000/svg";class Wi{encode(i,s,a,u,h){if(i.length===0)throw new A("Found empty contents");if(s!==he.QR_CODE)throw new A("Can only encode QR_CODE, but got "+s);if(a<0||u<0)throw new A(`Requested dimensions are too small: ${a}x${u}`);let d=Xe.L,m=Wi.QUIET_ZONE_SIZE;h!==null&&(h.get(Ft.ERROR_CORRECTION)!==void 0&&(d=Xe.fromString(h.get(Ft.ERROR_CORRECTION).toString())),h.get(Ft.MARGIN)!==void 0&&(m=Number.parseInt(h.get(Ft.MARGIN).toString(),10)));const v=vt.encode(i,d,h);return Wi.renderResult(v,a,u,m)}static renderResult(i,s,a,u){const h=i.getMatrix();if(h===null)throw new ii;const d=h.getWidth(),m=h.getHeight(),v=d+u*2,_=m+u*2,S=Math.max(s,v),N=Math.max(a,_),O=Math.min(Math.floor(S/v),Math.floor(N/_)),U=Math.floor((S-d*O)/2),G=Math.floor((N-m*O)/2),Y=new De(S,N);for(let K=0,$=G;K<m;K++,$+=O)for(let pe=0,me=U;pe<d;pe++,me+=O)h.get(pe,K)===1&&Y.setRegion(me,$,O,O);return Y}}Wi.QUIET_ZONE_SIZE=4;class _r{encode(i,s,a,u,h){let d;switch(s){case he.QR_CODE:d=new Wi;break;default:throw new A("No encoder available for format "+s)}return d.encode(i,s,a,u,h)}}class Ci extends ae{constructor(i,s,a,u,h,d,m,v){if(super(d,m),this.yuvData=i,this.dataWidth=s,this.dataHeight=a,this.left=u,this.top=h,u+d>s||h+m>a)throw new A("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(d,m)}getRow(i,s){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const u=(i+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,u,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;const a=i*s,u=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return B.arraycopy(this.yuvData,h,u,0,a),u;for(let d=0;d<s;d++){const m=d*i;B.arraycopy(this.yuvData,h,u,m,i),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,s,a,u){return new Ci(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,a,u,!1)}renderThumbnail(){const i=this.getWidth()/Ci.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Ci.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*s),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<s;d++){const m=d*i;for(let v=0;v<i;v++){const _=u[h+v*Ci.THUMBNAIL_SCALE_FACTOR]&255;a[m+v]=4278190080|_*65793}h+=this.dataWidth*Ci.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Ci.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ci.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){const a=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<s;u++,h+=this.dataWidth){const d=h+i/2;for(let m=h,v=h+i-1;m<d;m++,v--){const _=a[m];a[m]=a[v],a[v]=_}}}invert(){return new Me(this)}}Ci.THUMBNAIL_SCALE_FACTOR=2;class Cr extends ae{constructor(i,s,a,u,h,d,m){if(super(s,a),this.dataWidth=u,this.dataHeight=h,this.left=d,this.top=m,i.BYTES_PER_ELEMENT===4){const v=s*a,_=new Uint8ClampedArray(v);for(let S=0;S<v;S++){const N=i[S],O=N>>16&255,U=N>>7&510,G=N&255;_[S]=(O+U+G)/4&255}this.luminances=_}else this.luminances=i;if(u===void 0&&(this.dataWidth=s),h===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+a>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(i,s){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const u=(i+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,u,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.luminances;const a=i*s,u=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return B.arraycopy(this.luminances,h,u,0,a),u;for(let d=0;d<s;d++){const m=d*i;B.arraycopy(this.luminances,h,u,m,i),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,s,a,u){return new Cr(this.luminances,a,u,this.dataWidth,this.dataHeight,this.left+i,this.top+s)}invert(){return new Me(this)}}class Fn extends J{static forName(i){return this.getCharacterSetECIByName(i)}}class Io{}Io.ISO_8859_1=J.ISO8859_1;class Da{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class fu{static singletonList(i){return[i]}static min(i,s){return i.sort(s)[0]}}class ka{constructor(i){this.previous=i}getPrevious(){return this.previous}}class or extends ka{constructor(i,s,a){super(i),this.value=s,this.bitCount=a}appendTo(i,s){i.appendBits(this.value,this.bitCount)}add(i,s){return new or(this,i,s)}addBinaryShift(i,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new or(this,i,s)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+R.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Ba extends or{constructor(i,s,a){super(i,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=a}appendTo(i,s){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(s[this.binaryShiftStart+a],8)}addBinaryShift(i,s){return new Ba(this,i,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function bh(I,i,s){return new Ba(I,i,s)}function Kr(I,i,s){return new or(I,i,s)}const Ih=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],en=0,Zi=1,Yn=2,Ei=3,Ai=4,Qr=new or(null,0,0),Fa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ws(I){for(let i of I)k.fill(i,-1);return I[en][Ai]=0,I[Zi][Ai]=0,I[Zi][en]=28,I[Ei][Ai]=0,I[Yn][Ai]=0,I[Yn][en]=15,I}const ja=Ws(k.createInt32Array(6,6));class jn{constructor(i,s,a,u){this.token=i,this.mode=s,this.binaryShiftByteCount=a,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,s){let a=this.bitCount,u=this.token;if(i!==this.mode){let d=Fa[this.mode][i];u=Kr(u,d&65535,d>>16),a+=d>>16}let h=i===Yn?4:5;return u=Kr(u,s,h),new jn(u,i,0,a+h)}shiftAndAppend(i,s){let a=this.token,u=this.mode===Yn?4:5;return a=Kr(a,ja[this.mode][i],u),a=Kr(a,s,5),new jn(a,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let s=this.token,a=this.mode,u=this.bitCount;if(this.mode===Ai||this.mode===Yn){let m=Fa[a][en];s=Kr(s,m&65535,m>>16),u+=m>>16,a=en}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new jn(s,a,this.binaryShiftByteCount+1,u+h);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=bh(s,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new jn(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let s=this.bitCount+(Fa[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?s+=jn.calculateBinaryShiftCost(i)-jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(s+=10),s<=i.bitCount}toBitArray(i){let s=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())s.unshift(u);let a=new Z;for(const u of s)u.appendTo(a,i);return a}toString(){return xe.format("%s bits=%d bytes=%d",Ih[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}jn.INITIAL_STATE=new jn(Qr,en,0,0);function Nh(I){const i=xe.getCharCode(" "),s=xe.getCharCode("."),a=xe.getCharCode(",");I[en][i]=1;const u=xe.getCharCode("Z"),h=xe.getCharCode("A");for(let O=h;O<=u;O++)I[en][O]=O-h+2;I[Zi][i]=1;const d=xe.getCharCode("z"),m=xe.getCharCode("a");for(let O=m;O<=d;O++)I[Zi][O]=O-m+2;I[Yn][i]=1;const v=xe.getCharCode("9"),_=xe.getCharCode("0");for(let O=_;O<=v;O++)I[Yn][O]=O-_+2;I[Yn][a]=12,I[Yn][s]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<S.length;O++)I[Ei][xe.getCharCode(S[O])]=O;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<N.length;O++)xe.getCharCode(N[O])>0&&(I[Ai][xe.getCharCode(N[O])]=O);return I}const Si=Nh(k.createInt32Array(5,256));class ar{constructor(i){this.text=i}encode(){const i=xe.getCharCode(" "),s=xe.getCharCode(`
`);let a=fu.singletonList(jn.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,m=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case xe.getCharCode("\r"):d=m===s?2:0;break;case xe.getCharCode("."):d=m===i?3:0;break;case xe.getCharCode(","):d=m===i?4:0;break;case xe.getCharCode(":"):d=m===i?5:0;break;default:d=0}d>0?(a=ar.updateStateListForPair(a,h,d),h++):a=this.updateStateListForChar(a,h)}return fu.min(a,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,s){const a=[];for(let u of i)this.updateStateForChar(u,s,a);return ar.simplifyStates(a)}updateStateForChar(i,s,a){let u=this.text[s]&255,h=Si[i.getMode()][u]>0,d=null;for(let m=0;m<=Ai;m++){let v=Si[m][u];if(v>0){if(d==null&&(d=i.endBinaryShift(s)),!h||m===i.getMode()||m===Yn){const _=d.latchAndAppend(m,v);a.push(_)}if(!h&&ja[i.getMode()][m]>=0){const _=d.shiftAndAppend(m,v);a.push(_)}}}if(i.getBinaryShiftByteCount()>0||Si[i.getMode()][u]===0){let m=i.addBinaryShiftChar(s);a.push(m)}}static updateStateListForPair(i,s,a){const u=[];for(let h of i)this.updateStateForPair(h,s,a,u);return this.simplifyStates(u)}static updateStateForPair(i,s,a,u){let h=i.endBinaryShift(s);if(u.push(h.latchAndAppend(Ai,a)),i.getMode()!==Ai&&u.push(h.shiftAndAppend(Ai,a)),a===3||a===4){let d=h.latchAndAppend(Yn,16-a).latchAndAppend(Yn,1);u.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(d)}}static simplifyStates(i){let s=[];for(const a of i){let u=!0;for(const h of s){if(h.isBetterThanOrEqualTo(a)){u=!1;break}a.isBetterThanOrEqualTo(h)&&(s=s.filter(d=>d!==h))}u&&s.push(a)}return s}}class it{constructor(){}static encodeBytes(i){return it.encode(i,it.DEFAULT_EC_PERCENT,it.DEFAULT_AZTEC_LAYERS)}static encode(i,s,a){let u=new ar(i).encode(),h=R.truncDivision(u.getSize()*s,100)+11,d=u.getSize()+h,m,v,_,S,N;if(a!==it.DEFAULT_AZTEC_LAYERS){if(m=a<0,v=Math.abs(a),v>(m?it.MAX_NB_BITS_COMPACT:it.MAX_NB_BITS))throw new A(xe.format("Illegal value %s for layers",a));_=it.totalBitsInLayer(v,m),S=it.WORD_SIZE[v];let ce=_-_%S;if(N=it.stuffBits(u,S),N.getSize()+h>ce)throw new A("Data to large for user specified layer");if(m&&N.getSize()>S*64)throw new A("Data to large for user specified layer")}else{S=0,N=null;for(let ce=0;;ce++){if(ce>it.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(m=ce<=3,v=m?ce+1:ce,_=it.totalBitsInLayer(v,m),d>_)continue;(N==null||S!==it.WORD_SIZE[v])&&(S=it.WORD_SIZE[v],N=it.stuffBits(u,S));let Ke=_-_%S;if(!(m&&N.getSize()>S*64)&&N.getSize()+h<=Ke)break}}let O=it.generateCheckWords(N,_,S),U=N.getSize()/S,G=it.generateModeMessage(m,v,U),Y=(m?11:14)+v*4,K=new Int32Array(Y),$;if(m){$=Y;for(let ce=0;ce<K.length;ce++)K[ce]=ce}else{$=Y+1+2*R.truncDivision(R.truncDivision(Y,2)-1,15);let ce=R.truncDivision(Y,2),Ke=R.truncDivision($,2);for(let We=0;We<ce;We++){let Pt=We+R.truncDivision(We,15);K[ce-We-1]=Ke-Pt-1,K[ce+We]=Ke+Pt+1}}let pe=new De($);for(let ce=0,Ke=0;ce<v;ce++){let We=(v-ce)*4+(m?9:12);for(let Pt=0;Pt<We;Pt++){let Sn=Pt*2;for(let Tn=0;Tn<2;Tn++)O.get(Ke+Sn+Tn)&&pe.set(K[ce*2+Tn],K[ce*2+Pt]),O.get(Ke+We*2+Sn+Tn)&&pe.set(K[ce*2+Pt],K[Y-1-ce*2-Tn]),O.get(Ke+We*4+Sn+Tn)&&pe.set(K[Y-1-ce*2-Tn],K[Y-1-ce*2-Pt]),O.get(Ke+We*6+Sn+Tn)&&pe.set(K[Y-1-ce*2-Pt],K[ce*2+Tn])}Ke+=We*8}if(it.drawModeMessage(pe,m,$,G),m)it.drawBullsEye(pe,R.truncDivision($,2),5);else{it.drawBullsEye(pe,R.truncDivision($,2),7);for(let ce=0,Ke=0;ce<R.truncDivision(Y,2)-1;ce+=15,Ke+=16)for(let We=R.truncDivision($,2)&1;We<$;We+=2)pe.set(R.truncDivision($,2)-Ke,We),pe.set(R.truncDivision($,2)+Ke,We),pe.set(We,R.truncDivision($,2)-Ke),pe.set(We,R.truncDivision($,2)+Ke)}let me=new Da;return me.setCompact(m),me.setSize($),me.setLayers(v),me.setCodeWords(U),me.setMatrix(pe),me}static drawBullsEye(i,s,a){for(let u=0;u<a;u+=2)for(let h=s-u;h<=s+u;h++)i.set(h,s-u),i.set(h,s+u),i.set(s-u,h),i.set(s+u,h);i.set(s-a,s-a),i.set(s-a+1,s-a),i.set(s-a,s-a+1),i.set(s+a,s-a),i.set(s+a,s-a+1),i.set(s+a,s+a-1)}static generateModeMessage(i,s,a){let u=new Z;return i?(u.appendBits(s-1,2),u.appendBits(a-1,6),u=it.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(a-1,11),u=it.generateCheckWords(u,40,4)),u}static drawModeMessage(i,s,a,u){let h=R.truncDivision(a,2);if(s)for(let d=0;d<7;d++){let m=h-3+d;u.get(d)&&i.set(m,h-5),u.get(d+7)&&i.set(h+5,m),u.get(20-d)&&i.set(m,h+5),u.get(27-d)&&i.set(h-5,m)}else for(let d=0;d<10;d++){let m=h-5+d+R.truncDivision(d,5);u.get(d)&&i.set(m,h-7),u.get(d+10)&&i.set(h+7,m),u.get(29-d)&&i.set(m,h+7),u.get(39-d)&&i.set(h-7,m)}}static generateCheckWords(i,s,a){let u=i.getSize()/a,h=new La(it.getGF(a)),d=R.truncDivision(s,a),m=it.bitsToWords(i,a,d);h.encode(m,d-u);let v=s%a,_=new Z;_.appendBits(0,v);for(const S of Array.from(m))_.appendBits(S,a);return _}static bitsToWords(i,s,a){let u=new Int32Array(a),h,d;for(h=0,d=i.getSize()/s;h<d;h++){let m=0;for(let v=0;v<s;v++)m|=i.get(h*s+v)?1<<s-v-1:0;u[h]=m}return u}static getGF(i){switch(i){case 4:return tt.AZTEC_PARAM;case 6:return tt.AZTEC_DATA_6;case 8:return tt.AZTEC_DATA_8;case 10:return tt.AZTEC_DATA_10;case 12:return tt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+i)}}static stuffBits(i,s){let a=new Z,u=i.getSize(),h=(1<<s)-2;for(let d=0;d<u;d+=s){let m=0;for(let v=0;v<s;v++)(d+v>=u||i.get(d+v))&&(m|=1<<s-1-v);(m&h)===h?(a.appendBits(m&h,s),d--):m&h?a.appendBits(m,s):(a.appendBits(m|1,s),d--)}return a}static totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}it.DEFAULT_EC_PERCENT=33,it.DEFAULT_AZTEC_LAYERS=0,it.MAX_NB_BITS=32,it.MAX_NB_BITS_COMPACT=4,it.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class qr{encode(i,s,a,u){return this.encodeWithHints(i,s,a,u,null)}encodeWithHints(i,s,a,u,h){let d=Io.ISO_8859_1,m=it.DEFAULT_EC_PERCENT,v=it.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Ft.CHARACTER_SET)&&(d=Fn.forName(h.get(Ft.CHARACTER_SET).toString())),h.has(Ft.ERROR_CORRECTION)&&(m=R.parseInt(h.get(Ft.ERROR_CORRECTION).toString())),h.has(Ft.AZTEC_LAYERS)&&(v=R.parseInt(h.get(Ft.AZTEC_LAYERS).toString()))),qr.encodeLayers(i,s,a,u,d,m,v)}static encodeLayers(i,s,a,u,h,d,m){if(s!==he.AZTEC)throw new A("Can only encode AZTEC, but got "+s);let v=it.encode(xe.getBytes(i,h),d,m);return qr.renderResult(v,a,u)}static renderResult(i,s,a){let u=i.getMatrix();if(u==null)throw new ii;let h=u.getWidth(),d=u.getHeight(),m=Math.max(s,h),v=Math.max(a,d),_=Math.min(m/h,v/d),S=(m-h*_)/2,N=(v-d*_)/2,O=new De(m,v);for(let U=0,G=N;U<d;U++,G+=_)for(let Y=0,K=S;Y<h;Y++,K+=_)u.get(Y,U)&&O.setRegion(K,G,_,_);return O}}n.AbstractExpandedDecoder=Co,n.ArgumentException=E,n.ArithmeticException=Bi,n.AztecCode=Da,n.AztecCodeReader=Rs,n.AztecCodeWriter=qr,n.AztecDecoder=ct,n.AztecDetector=Ca,n.AztecDetectorResult=va,n.AztecEncoder=it,n.AztecHighLevelEncoder=ar,n.AztecPoint=wn,n.BarcodeFormat=he,n.Binarizer=F,n.BinaryBitmap=M,n.BitArray=Z,n.BitMatrix=De,n.BitSource=Zr,n.BrowserAztecCodeReader=wh,n.BrowserBarcodeReader=Bs,n.BrowserCodeReader=rt,n.BrowserDatamatrixCodeReader=Na,n.BrowserMultiFormatReader=cu,n.BrowserPDF417Reader=rr,n.BrowserQRCodeReader=hu,n.BrowserQRCodeSvgWriter=sr,n.CharacterSetECI=J,n.ChecksumException=D,n.Code128Reader=ye,n.Code39Reader=Wt,n.DataMatrixDecodedBitStreamParser=kn,n.DataMatrixReader=ht,n.DecodeHintType=se,n.DecoderResult=yi,n.DefaultGridSampler=_a,n.DetectorResult=Ps,n.EAN13Reader=tr,n.EncodeHintType=Ft,n.Exception=y,n.FormatException=X,n.GenericGF=tt,n.GenericGFPoly=Et,n.GlobalHistogramBinarizer=Ae,n.GridSampler=wa,n.GridSamplerInstance=ji,n.HTMLCanvasElementLuminanceSource=de,n.HybridBinarizer=Oe,n.ITFReader=pt,n.IllegalArgumentException=A,n.IllegalStateException=ii,n.InvertedLuminanceSource=Me,n.LuminanceSource=ae,n.MathUtils=nt,n.MultiFormatOneDReader=ir,n.MultiFormatReader=uu,n.MultiFormatWriter=_r,n.NotFoundException=re,n.OneDReader=Bt,n.PDF417DecodedBitStreamParser=ee,n.PDF417DecoderErrorCorrection=Ao,n.PDF417Reader=an,n.PDF417ResultMetadata=Ra,n.PerspectiveTransform=Ln,n.PlanarYUVLuminanceSource=Ci,n.QRCodeByteMatrix=Hs,n.QRCodeDataMask=mn,n.QRCodeDecodedBitStreamParser=Ct,n.QRCodeDecoderErrorCorrectionLevel=Xe,n.QRCodeDecoderFormatInformation=pn,n.QRCodeEncoder=vt,n.QRCodeEncoderQRCode=wr,n.QRCodeMaskUtil=Ot,n.QRCodeMatrixUtil=ke,n.QRCodeMode=Le,n.QRCodeReader=sn,n.QRCodeVersion=we,n.QRCodeWriter=Wi,n.RGBLuminanceSource=Cr,n.RSS14Reader=Dt,n.RSSExpandedReader=le,n.ReaderException=Bn,n.ReedSolomonDecoder=Vr,n.ReedSolomonEncoder=La,n.ReedSolomonException=Ur,n.Result=Fe,n.ResultMetadataType=dt,n.ResultPoint=Ie,n.StringUtils=xe,n.UnsupportedOperationException=fe,n.VideoInputDevice=ve,n.WhiteRectangleDetector=Fi,n.WriterException=mt,n.ZXingArrays=k,n.ZXingCharset=Fn,n.ZXingInteger=R,n.ZXingStandardCharsets=Io,n.ZXingStringBuilder=Be,n.ZXingStringEncoding=Te,n.ZXingSystem=B,n.createAbstractExpandedDecoder=ks,Object.defineProperty(n,"__esModule",{value:!0})})})(zd,zd.exports);var jt=zd.exports;const qI=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var bg=function(){function e(t,n,r){if(this.formatMap=new Map([[Se.QR_CODE,jt.BarcodeFormat.QR_CODE],[Se.AZTEC,jt.BarcodeFormat.AZTEC],[Se.CODABAR,jt.BarcodeFormat.CODABAR],[Se.CODE_39,jt.BarcodeFormat.CODE_39],[Se.CODE_93,jt.BarcodeFormat.CODE_93],[Se.CODE_128,jt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,jt.BarcodeFormat.MAXICODE],[Se.ITF,jt.BarcodeFormat.ITF],[Se.EAN_13,jt.BarcodeFormat.EAN_13],[Se.EAN_8,jt.BarcodeFormat.EAN_8],[Se.PDF_417,jt.BarcodeFormat.PDF_417],[Se.RSS_14,jt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,jt.BarcodeFormat.UPC_A],[Se.UPC_E,jt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!qI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var l=this.createZXingFormats(t),c=new Map;c.set(jt.DecodeHintType.POSSIBLE_FORMATS,l),c.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,l){try{r(n.decode(t))}catch(c){l(c)}})},e.prototype.decode=function(t){var n=new jt.MultiFormatReader(this.verbose,this.hints),r=new jt.HTMLCanvasElementLuminanceSource(t),l=new jt.BinaryBitmap(new jt.HybridBinarizer(r)),c=n.decode(l);return{text:c.text,format:hw.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,l){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,l=t;r<l.length;r++){var c=l[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),JI=function(e,t,n,r){function l(c){return c instanceof n?c:new n(function(p){p(c)})}return new(n||(n=Promise))(function(c,p){function x(E){try{y(r.next(E))}catch(A){p(A)}}function w(E){try{y(r.throw(E))}catch(A){p(A)}}function y(E){E.done?c(E.value):l(E.value).then(x,w)}y((r=r.apply(e,t||[])).next())})},$I=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(E){return w([y,E])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(E){y=[6,E],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Ig=function(){function e(t,n,r){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return JI(this,void 0,void 0,function(){var n,r;return $I(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:hw.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,l=0,c=t;l<c.length;l++){var p=c[l],x=p.boundingBox.width*p.boundingBox.height;x>r&&(r=x,n=p)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,l=t;r<l.length;r++){var c=l[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,l){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Ng=function(e,t,n,r){function l(c){return c instanceof n?c:new n(function(p){p(c)})}return new(n||(n=Promise))(function(c,p){function x(E){try{y(r.next(E))}catch(A){p(A)}}function w(E){try{y(r.throw(E))}catch(A){p(A)}}function y(E){E.done?c(E.value):l(E.value).then(x,w)}y((r=r.apply(e,t||[])).next())})},Mg=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(E){return w([y,E])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(E){y=[6,E],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},e8=function(){function e(t,n,r,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Ig.isSupported()?(this.primaryDecoder=new Ig(t,r,l),this.secondaryDecoder=new bg(t,r,l)):this.primaryDecoder=new bg(t,r,l)}return e.prototype.decodeAsync=function(t){return Ng(this,void 0,void 0,function(){var n;return Mg(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Ng(this,void 0,void 0,function(){var n,r;return Mg(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(r=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var l=r[n];t+=l}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),y1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kc=function(e,t,n,r){function l(c){return c instanceof n?c:new n(function(p){p(c)})}return new(n||(n=Promise))(function(c,p){function x(E){try{y(r.next(E))}catch(A){p(A)}}function w(E){try{y(r.throw(E))}catch(A){p(A)}}function y(E){E.done?c(E.value):l(E.value).then(x,w)}y((r=r.apply(e,t||[])).next())})},Bc=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(E){return w([y,E])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(E){y=[6,E],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},mw=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),t8=function(e){y1(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var l={advanced:[r]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(mw),n8=function(e){y1(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(t8),i8=function(e){y1(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(mw),r8=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new n8(this.track)},e.prototype.torchFeature=function(){return new i8(this.track)},e}(),s8=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,l),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,l){return kc(this,void 0,void 0,function(){var c,p;return Bc(this,function(x){switch(x.label){case 0:return c=new e(t,n,l),r.aspectRatio?(p={aspectRatio:r.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:x.sent(),x.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return kc(this,void 0,void 0,function(){return Bc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var l=t.mediaStream.getVideoTracks(),c=l.length,p=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++p,p>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new r8(this.getFirstTrackOrFail())},e}(),o8=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return kc(this,void 0,void 0,function(){return Bc(this,function(l){return[2,s8.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return kc(this,void 0,void 0,function(){var n,r;return Bc(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=l.sent(),[2,new e(r)]}})})},e}(),Og=function(e,t,n,r){function l(c){return c instanceof n?c:new n(function(p){p(c)})}return new(n||(n=Promise))(function(c,p){function x(E){try{y(r.next(E))}catch(A){p(A)}}function w(E){try{y(r.throw(E))}catch(A){p(A)}}function y(E){E.done?c(E.value):l(E.value).then(x,w)}y((r=r.apply(e,t||[])).next())})},Pg=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(E){return w([y,E])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(E){y=[6,E],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},a8=function(){function e(){}return e.failIfNotSupported=function(){return Og(this,void 0,void 0,function(){return Pg(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Og(this,void 0,void 0,function(){return Pg(this,function(n){return[2,o8.create(t)]})})},e}(),l8=function(e,t,n,r){function l(c){return c instanceof n?c:new n(function(p){p(c)})}return new(n||(n=Promise))(function(c,p){function x(E){try{y(r.next(E))}catch(A){p(A)}}function w(E){try{y(r.throw(E))}catch(A){p(A)}}function y(E){E.done?c(E.value):l(E.value).then(x,w)}y((r=r.apply(e,t||[])).next())})},u8=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(E){return w([y,E])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(E){y=[6,E],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},c8=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Xo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Xo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return l8(this,void 0,void 0,function(){var t,n,r,l,c,p,x;return u8(this,function(w){switch(w.label){case 0:return t=function(y){for(var E=y.getVideoTracks(),A=0,M=E;A<M.length;A++){var D=M[A];D.enabled=!1,D.stop(),y.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=w.sent(),l=[],c=0,p=r;c<p.length;c++)x=p[c],x.kind==="videoinput"&&l.push({id:x.deviceId,label:x.label});return t(n),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(c){for(var p=[],x=0,w=c;x<w.length;x++){var y=w[x];y.kind==="video"&&p.push({id:y.id,label:y.label})}t(p)},l=MediaStreamTrack;l.getSources(r)})},e}(),Zt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Zt||(Zt={}));var h8=function(){function e(){this.state=Zt.NOT_STARTED,this.onGoingTransactionNewState=Zt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Zt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Zt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Zt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Zt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Zt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Zt.UNKNOWN:throw"Transition from unknown is not allowed";case Zt.NOT_STARTED:this.failIfNewStateIs(t,[Zt.PAUSED]);break;case Zt.SCANNING:break;case Zt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,l=n;r<l.length;r++){var c=l[r];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),f8=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Zt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Zt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Zt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Zt.PAUSED},e}(),d8=function(){function e(){}return e.create=function(){return new f8(new h8)},e}(),p8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),li=function(e){p8(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ki),m8=function(){function e(t,n){this.logger=n,this.fps=li.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=li.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!cr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Rg=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new dw(this.verbose),this.qrcode=new e8(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=d8.create()}return e.prototype.start=function(t,n,r,l){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;l?p=l:p=this.verbose?this.logger.log:function(){};var x=m8.create(n,this.logger);this.clearElement();var w=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=w,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:li.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,M=this.stateManagerProxy.startTransition(Zt.SCANNING);return new Promise(function(D,F){var B=y?x.videoConstraints:A.createVideoConstraints(t);if(!B){M.cancel(),F("videoConstraints should be defined");return}var V={};(!y||x.aspectRatio)&&(V.aspectRatio=x.aspectRatio);var z={onRenderSurfaceReady:function(k,R){A.setupUi(k,R,x),A.isScanning=!0,A.foreverScan(x,r,p)}};a8.failIfNotSupported().then(function(k){k.create(B).then(function(R){return R.render(c.element,V,z).then(function(Z){A.renderedCamera=Z,M.execute(),D(null)}).catch(function(Z){M.cancel(),F(Z)})}).catch(function(R){M.cancel(),F(Xo.errorGettingUserMedia(R))})}).catch(function(k){M.cancel(),F(Xo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Zt.PAUSED),this.showPausedState(),(cr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Zt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Zt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var c=document.getElementById(li.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),r(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var x=p.width,w=p.height,y=document.getElementById(r.elementId),E=y.clientWidth?y.clientWidth:li.DEFAULT_WIDTH,A=Math.max(y.clientHeight?y.clientHeight:w,li.FILE_SCAN_MIN_HEIGHT),M=r.computeCanvasDrawConfig(x,w,E,A);if(n){var D=r.createCanvasElement(E,A,"qr-canvas-visible");D.style.display="inline-block",y.appendChild(D);var F=D.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=E,F.canvas.height=A,F.drawImage(p,0,0,x,w,M.x,M.y,M.width,M.height)}var B=li.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(p.width,M.width),z=Math.max(p.height,M.height),k=V+2*B,R=z+2*B,Z=r.createCanvasElement(k,R);y.appendChild(Z);var te=Z.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=k,te.canvas.height=R,te.drawImage(p,0,0,x,w,B,B,V,z);try{r.qrcode.decodeRobustlyAsync(Z).then(function(se){l(Sg.createFromQrcodeResult(se))}).catch(c)}catch(se){c("QR code parse error, error = ".concat(se))}},p.onerror=c,p.onabort=c,p.onstalled=c,p.onsuspend=c,p.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return c8.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!pw.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],l=0,c=t.formatsToSupport;l<c.length;l++){var p=c[l];KI(p)?r.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(cr(t))return!0;if(!cr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(cr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return cr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var l=this,c=r.qrbox;this.validateQrboxConfig(c);var p=this.toQrdimensions(t,n,c),x=function(y){if(y<li.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(li.MIN_QR_BOX_SIZE,"px.")},w=function(y){return y>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};x(p.width),x(p.height),p.width=w(p.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var l=cr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(t,n,l);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=r.isShadedBoxEnabled()&&c.height<=n,x={x:0,y:0,width:t,height:n},w=p?this.getShadedRegionBounds(t,n,c):x,y=this.createCanvasElement(w.width,w.height),E={willReadFrequently:!0},A=y.getContext("2d",E);A.canvas.width=w.width,A.canvas.height=w.height,this.element.append(y),p&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=A,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Xo.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,Sg.createFromQrcodeResult(l)),r.possiblyUpdateShaders(!0),!0}).catch(function(l){r.possiblyUpdateShaders(!1);var c=Xo.codeParseError(l);return n(c,fw.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,r){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),p=c.videoWidth/c.clientWidth,x=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,y=this.qrRegion.height*x,E=this.qrRegion.x*p,A=this.qrRegion.y*x;this.context.drawImage(c,E,A,w,y,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,n,r)},l.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(D){!D&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,r).finally(function(){M()})):M()}).catch(function(D){l.logger.logError("Error happend while scanning context",D),M()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",l={user:!0,environment:!0},c="exact",p=function(F){if(F in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(F,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var w=Object.keys(t)[0];if(w!==n&&w!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(w===n){var y=t.facingMode;if(typeof y=="string"){if(p(y))return{facingMode:y}}else if(typeof y=="object")if(c in y){if(p(y["".concat(c)]))return{facingMode:{exact:y["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var E=typeof y;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(c in A)return{deviceId:{exact:A["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var M=typeof A;throw"Invalid type of 'deviceId' = ".concat(M)}}}var D=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},e.prototype.computeCanvasDrawConfig=function(t,n,r,l){if(t<=r&&n<=l){var c=(r-t)/2,p=(l-n)/2;return{x:c,y:p,width:t,height:n}}else{var x=t,w=n;return t>r&&(n=r/t*n,t=r),n>l&&(t=l/n*t,n=l),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(w)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?li.BORDER_SHADER_MATCH_COLOR:li.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var l=t,c=n,p=document.createElement("canvas");return p.style.width="".concat(l,"px"),p.style.height="".concat(c,"px"),p.style.display="none",p.id=cr(r)?"qr-canvas":r,p},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,l){if(!(n-l.width<1||r-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var p=(n-l.width)/2,x=(r-l.height)/2;if(c.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(li.SHADED_REGION_ELEMENT_ID),n-l.width<11||r-l.height<11)this.hasBorderShaders=!1;else{var w=5,y=40;this.insertShaderBorders(c,y,w,-w,null,0,!0),this.insertShaderBorders(c,y,w,-w,null,0,!1),this.insertShaderBorders(c,y,w,null,-w,0,!0),this.insertShaderBorders(c,y,w,null,-w,0,!1),this.insertShaderBorders(c,w,y+w,-w,null,-w,!0),this.insertShaderBorders(c,w,y+w,null,-w,-w,!0),this.insertShaderBorders(c,w,y+w,-w,null,-w,!1),this.insertShaderBorders(c,w,y+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,r,l,c,p,x){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=li.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(n,"px"),w.style.height="".concat(r,"px"),l!==null&&(w.style.top="".concat(l,"px")),c!==null&&(w.style.bottom="".concat(c,"px")),x?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),v1="data:image/svg+xml;base64,",g8=v1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",x8=v1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Lg=v1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",y8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Dg=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),v8=function(){function e(){this.data=Dg.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Dg.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),w8=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Tg.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=Tg.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),_8=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Lg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=y8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Lg,this.infoIcon.style.opacity="0.6")},e}(),C8=function(){function e(){var t=this;this.infoDiv=new w8,this.infoIcon=new _8(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),E8=function(e,t,n,r){function l(c){return c instanceof n?c:new n(function(p){p(c)})}return new(n||(n=Promise))(function(c,p){function x(E){try{y(r.next(E))}catch(A){p(A)}}function w(E){try{y(r.throw(E))}catch(A){p(A)}}function y(E){E.done?c(E.value):l(E.value).then(x,w)}y((r=r.apply(e,t||[])).next())})},A8=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(E){return w([y,E])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(E){y=[6,E],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},kg=function(){function e(){}return e.hasPermissions=function(){return E8(this,void 0,void 0,function(){var t,n,r,l;return A8(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),n=0,r=t;n<r.length;n++)if(l=r[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),ts=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Ss.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ss.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ki.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ki.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,l=t;r<l.length;r++){var c=l[r];if(!Ki.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e}(),hi=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Mr=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(hi.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),gw=function(e,t,n,r){function l(c){return c instanceof n?c:new n(function(p){p(c)})}return new(n||(n=Promise))(function(c,p){function x(E){try{y(r.next(E))}catch(A){p(A)}}function w(E){try{y(r.throw(E))}catch(A){p(A)}}function y(E){E.done?c(E.value):l(E.value).then(x,w)}y((r=r.apply(e,t||[])).next())})},xw=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(y){return function(E){return w([y,E])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(E){y=[6,E],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Bg=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return gw(this,void 0,void 0,function(){var t,n;return xw(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?gt.torchOffButton():gt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?gt.torchOnFailedMessage():gt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),S8=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Mr.createElement("button",hi.TORCH_BUTTON_ID),this.torchController=new Bg(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=gt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return gw(r,void 0,void 0,function(){return xw(this,function(p){switch(p.label){case 0:return[4,l.torchController.flipState()];case 1:return p.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(hi.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(hi.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(hi.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(hi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Bg(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=gt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,l){var c=new e(n,l);return c.render(t,r),c},e}(),T8=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Mr.createElement("button",hi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Mr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var w=x.target;if(!(w.files&&w.files.length===0)){var y=w.files,E=y[0],A=E.name;c.setImageNameToButton(A),r(E)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var w=x.dataTransfer;if(w){var y=w.files;if(!y||y.length===0)return;for(var E=!1,A=0;A<y.length;++A){var M=y.item(A);if(M){var D=/image.*/;if(M.type.match(D)){E=!0;var F=M.name;c.setImageNameToButton(F),r(M),p.innerText=gt.dragAndDropMessage();break}}}E||(p.innerText=gt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=gt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),l=t.length,c=t.substring(l-8,l);t="".concat(r,"....").concat(c)}var p=gt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var t=gt.fileSelectionChooseImage()+" - "+gt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var l=new e(t,n,r);return l},e}(),b8=function(){function e(t){this.selectElement=Mr.createElement("select",hi.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var l=gt.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,p=0,x=this.cameras;p<x.length;p++){var w=x[p],y=w.id,E=w.label==null?y:w.label;(!E||E==="")&&(E=[gt.anonymousCameraPrefix(),c++].join(" "));var A=document.createElement("option");A.value=y,A.innerText=E,this.options.push(A),this.selectElement.appendChild(A)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var l=r[n];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),I8=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Mr.createElement("input",hi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=gt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=gt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,l){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),ui;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ui||(ui={}));function N8(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function M8(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var O8=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ts(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new dw(this.verbose),this.persistedDataManager=new v8,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,p){if(t)t(c,p);else{if(r.lastMatchFound===c)return;r.lastMatchFound=c,r.setHeaderMessage(gt.lastMatch(c),ui.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,p){n&&n(c,p)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Rg(this.getScanRegionId(),M8(this.config,this.verbose))},e.prototype.pause=function(t){(cr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,l){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ki.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ki.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ki.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ki.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ki.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ki.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ki.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),ts.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new C8;r.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(gt.cameraPermissionRequesting());var c=function(){r||l.createPermissionButton(t,n)};Rg.getCameras().then(function(p){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),p&&p.length>0?(t.removeChild(n),l.renderCameraSelection(p)):(l.setHeaderMessage(gt.noCameraFound(),ui.STATUS_WARNING),c())}).catch(function(p){l.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:c(),l.setHeaderMessage(p,ui.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,l=Mr.createElement("button",this.getCameraPermissionButtonId());l.innerText=gt.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,r.createCameraListUi(t,n,l)}),n.appendChild(l)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(ts.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){kg.hasPermissions().then(function(l){l?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(l){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=ts.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var l=document.createElement("div");l.style.textAlign="center",r.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,l),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=ts.isFileScanType(this.currentScanType),r=this,l=function(c){if(!r.html5Qrcode)throw"html5Qrcode not defined";ts.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(gt.loadingImage()),r.html5Qrcode.scanFileV2(c,!0).then(function(p){r.resetHeaderMessage(),r.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){r.setHeaderMessage(p,ui.STATUS_WARNING),r.qrCodeErrorCallback(p,fw.createFrom(p))}))};this.fileSelectionUi=T8.create(t,n,l)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=I8.create(l,!1),p=function(B){var V=B.zoomFeature();if(V.isSupported()){c.setOnCameraZoomValueChangeCallback(function(k){V.apply(k)});var z=1;n.config.defaultZoomValueIfSupported&&(z=n.config.defaultZoomValueIfSupported),z=QI(z,V.min(),V.max()),c.setValues(V.min(),V.max(),z,V.step()),c.show()}},x=b8.create(l,t),w=document.createElement("span"),y=Mr.createElement("button",hi.CAMERA_START_BUTTON_ID);y.innerText=gt.scanButtonStartScanningText(),w.appendChild(y);var E=Mr.createElement("button",hi.CAMERA_STOP_BUTTON_ID);E.innerText=gt.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,w.appendChild(E);var A,M=function(B){if(!B.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(B.torchFeature()):A=S8.create(w,B.torchFeature(),{display:"none",marginLeft:"5px"},function(V){r.setHeaderMessage(V,ui.STATUS_WARNING)}),A.show()};l.appendChild(w);var D=function(B){B||(y.style.display="none"),y.innerText=gt.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,B&&(y.style.display="inline-block")};if(y.addEventListener("click",function(B){y.innerText=gt.scanButtonScanningStarting(),x.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var V=x.getValue();r.persistedDataManager.setLastUsedCameraId(V),r.html5Qrcode.start(V,N8(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(z){E.disabled=!1,E.style.display="inline-block",D(!1);var k=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&M(k),n.config.showZoomSliderIfSupported===!0&&p(k)}).catch(function(z){r.showHideScanTypeSwapLink(!0),x.enable(),D(!0),r.setHeaderMessage(z,ui.STATUS_WARNING)})}),x.hasSingleItem()&&y.click(),E.addEventListener("click",function(B){if(!r.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,r.html5Qrcode.stop().then(function(V){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),x.enable(),y.disabled=!1,E.style.display="none",y.style.display="inline-block",A&&(A.reset(),A.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(V){E.disabled=!1,r.setHeaderMessage(V,ui.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var F=r.persistedDataManager.getLastUsedCameraId();x.hasValue(F)?(x.setValue(F),y.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=gt.textIfCameraScanSelected(),r=gt.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var p=Mr.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=ts.isCameraScanType(this.currentScanType)?n:r,p.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ts.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),p.innerText=r,t.currentScanType=Ss.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),p.innerText=n,t.currentScanType=Ss.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(p),l.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){kg.hasPermissions().then(function(r){if(r){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ui.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case ui.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ui.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ui.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=g8,this.cameraScanImage.alt=gt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=x8,this.fileScanImage.alt=gt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return hi.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return hi.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function P8({onScan:e,onClose:t}){const[n,r]=W.useState(""),[l,c]=W.useState("camera");W.useEffect(()=>{if(l==="camera"){const x=new O8("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1});return x.render(w=>{x.clear(),e(w)},w=>{}),()=>{x.clear()}}},[l,e]);const p=x=>{x.preventDefault(),n.trim()&&e(n.trim())};return b.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col pt-safe",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 text-white",children:[b.jsx("h2",{className:"text-lg font-bold",children:"Scan AWB Barcode"}),b.jsx("button",{onClick:t,className:"p-2",children:b.jsx(ab,{})})]}),b.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:l==="camera"?b.jsx("div",{id:"reader",className:"w-full max-w-sm rounded-xl overflow-hidden bg-gray-800 border-2 border-primary-500"}):b.jsxs("form",{onSubmit:p,className:"w-full max-w-sm space-y-4",children:[b.jsx("input",{autoFocus:!0,className:"w-full p-4 rounded-xl bg-gray-800 text-white border border-gray-700 outline-none focus:border-primary-500 text-center text-2xl tracking-widest",placeholder:"ENTER AWB #",value:n,onChange:x=>r(x.target.value.toUpperCase())}),b.jsx("button",{className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold",children:"Submit Manually"})]})}),b.jsxs("div",{className:"p-8 flex justify-center gap-4",children:[b.jsxs("button",{onClick:()=>c("camera"),className:`p-4 rounded-full flex items-center gap-2 ${l==="camera"?"bg-primary-600 text-white":"bg-gray-800 text-gray-400"}`,children:[b.jsx(z4,{size:24})," ",b.jsx("span",{children:"Camera"})]}),b.jsxs("button",{onClick:()=>c("manual"),className:`p-4 rounded-full flex items-center gap-2 ${l==="manual"?"bg-primary-600 text-white":"bg-gray-800 text-gray-400"}`,children:[b.jsx(X4,{size:24})," ",b.jsx("span",{children:"Manual"})]})]})]})}function nu(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function R8(e,t){let n;const r=()=>{if(n)return n;const l=indexedDB.open(e);return l.onupgradeneeded=()=>l.result.createObjectStore(t),n=nu(l),n.then(c=>{c.onclose=()=>n=void 0},()=>{}),n};return(l,c)=>r().then(p=>c(p.transaction(t,l).objectStore(t)))}let Cf;function w1(){return Cf||(Cf=R8("keyval-store","keyval")),Cf}function L8(e,t=w1()){return t("readonly",n=>nu(n.get(e)))}function yw(e,t,n=w1()){return n("readwrite",r=>(r.put(t,e),nu(r.transaction)))}function D8(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},nu(e.transaction)}function k8(e=w1()){return e("readonly",t=>{if(t.getAllKeys)return nu(t.getAllKeys());const n=[];return D8(t,r=>n.push(r.key)).then(()=>n)})}const B8=async(e,t,n={})=>{const r=`${e}-${t}-${Date.now()}`,l={id:r,awb:e,event_id:t,payload:n,timestamp:new Date().toISOString(),status:"pending"};return await yw(`queue-${r}`,l),l},vw=async()=>{const t=(await k8()).filter(r=>r.startsWith("queue-"));return(await Promise.all(t.map(r=>L8(r)))).sort((r,l)=>new Date(l.timestamp)-new Date(r.timestamp))},F8=async e=>{const n=(await vw()).filter(r=>r.status==="pending");for(const r of n)try{await g1(e,{awb:r.awb,event_id:r.event_id,timestamp:r.timestamp,payload:r.payload}),r.status="synced",await yw(`queue-${r.id}`,r)}catch(l){console.error("Sync failed for item",r.id,l)}};function j8({awb:e,onBack:t,onComplete:n}){const[r,l]=W.useState([]),[c,p]=W.useState(null),[x,w]=W.useState(!0),[y,E]=W.useState(!1),[A,M]=W.useState("");W.useEffect(()=>{(async()=>{try{const B=localStorage.getItem("token"),V=await uw(B);l(V)}catch{M("Failed to load status options")}finally{w(!1)}})()},[]);const D=async()=>{if(c){E(!0);try{const F=localStorage.getItem("token");await g1(F,{awb:e,event_id:c,timestamp:new Date().toISOString()}),n("SUCCESS")}catch{await B8(e,c),n("QUEUED")}finally{E(!1)}}};return b.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[b.jsxs("div",{className:"p-4 flex items-center gap-4 bg-white dark:bg-gray-800 shadow-sm",children:[b.jsx("button",{onClick:t,className:"p-2 -ml-2 text-gray-600",children:b.jsx(Lc,{})}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-bold text-gray-900 dark:text-white",children:"Update AWB"}),b.jsx("p",{className:"text-xs text-primary-600 font-mono tracking-wider",children:e})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:x?b.jsx("div",{className:"flex justify-center p-8",children:b.jsx(jl,{className:"animate-spin text-primary-500"})}):A?b.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl flex items-center gap-3",children:[b.jsx(Rv,{size:20})," ",A]}):r.map(F=>b.jsxs("button",{onClick:()=>p(F.event_id),className:`w-full p-4 rounded-2xl text-left border-2 transition-all ${c===F.event_id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-white dark:border-gray-800 bg-white dark:bg-gray-800"}`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:F.label}),c===F.event_id&&b.jsx(V4,{className:"text-primary-500",size:20})]}),b.jsx("p",{className:"text-sm text-gray-500",children:F.description})]},F.event_id))}),b.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 shadow-up",children:b.jsx("button",{disabled:!c||y,onClick:D,className:"w-full py-4 bg-primary-600 disabled:opacity-50 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:y?b.jsx(jl,{className:"animate-spin"}):"Confirm Status Update"})})]})}function z8(){const[e,t]=W.useState(!1),[n,r]=W.useState(null),[l,c]=W.useState(null),[p,x]=W.useState(""),w=vo(),{user:y}=Kl();W.useEffect(()=>{const F=localStorage.getItem("token");F&&F8(F);const B=new Date().getHours();B<12?x("Good Morning"):B<18?x("Good Afternoon"):x("Good Evening")},[]);const E=F=>{r(F),t(!1)},A=F=>{c({awb:n,outcome:F}),r(null),setTimeout(()=>c(null),3e3)};if(n)return b.jsx(j8,{awb:n,onBack:()=>r(null),onComplete:A});const M={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},D={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return b.jsxs(bt.div,{initial:"hidden",animate:"visible",exit:{opacity:0,y:-20},variants:M,className:"flex flex-col min-h-screen relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"0s"}}),b.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"3s"}}),b.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-glow-md animate-float",children:b.jsx("span",{className:"text-white font-black italic tracking-tighter text-xl",children:"AN"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-black text-gradient leading-none",children:"AryNik"}),b.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[b.jsxs("span",{className:"relative flex h-2 w-2",children:[b.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),b.jsx("span",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"Online"})]})]})]}),b.jsx("div",{className:"w-10 h-10 rounded-full glass-light flex items-center justify-center border border-white/10",children:b.jsx(ob,{size:18,className:"text-violet-400"})})]}),b.jsxs("main",{className:"flex-1 p-6 space-y-8 pb-32 relative z-10",children:[b.jsxs(bt.div,{variants:D,children:[b.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:p}),b.jsxs("p",{className:"text-slate-400 font-medium",children:[(y==null?void 0:y.name)||"Driver","  Ready to deliver excellence"]})]}),b.jsx(bt.div,{variants:D,children:b.jsx(XI,{})}),l&&b.jsxs(bt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-4 rounded-2xl flex items-center gap-4 shadow-lg ${l.outcome==="SUCCESS"?"bg-gradient-to-r from-emerald-500 to-emerald-600 shadow-emerald-500/20":"bg-gradient-to-r from-violet-500 to-purple-600 shadow-violet-500/20"}`,children:[b.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:b.jsx(Ld,{size:20,className:"text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("span",{className:"font-black text-sm uppercase tracking-wide text-white",children:["Update ",l.outcome==="SUCCESS"?"Confirmed":"Queued"]}),b.jsx("p",{className:"text-xs font-bold text-white/80",children:l.awb})]})]}),b.jsxs(bt.div,{variants:D,className:"space-y-4",children:[b.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Quick Actions"}),b.jsxs(bt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(!0),className:"w-full py-12 bg-gradient-to-br from-violet-600 via-purple-600 to-violet-700 rounded-[32px] shadow-glow-lg flex flex-col items-center justify-center text-white space-y-5 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute inset-0 shimmer opacity-30"}),b.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -ml-12 -mb-12"}),b.jsx("div",{className:"p-6 bg-white/10 rounded-3xl backdrop-blur-sm border border-white/20 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-inner-glow",children:b.jsx(ib,{size:52,strokeWidth:1.5,className:"animate-glow"})}),b.jsxs("div",{className:"text-center relative z-10",children:[b.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Scan Package"}),b.jsxs("p",{className:"text-violet-100 text-xs font-bold opacity-90 uppercase tracking-widest mt-1 flex items-center justify-center gap-2",children:[b.jsx(Fv,{size:12}),"Tap to open scanner"]})]})]}),((y==null?void 0:y.role)==="Manager"||(y==null?void 0:y.role)==="Admin"||(y==null?void 0:y.role)==="Driver")&&b.jsxs(bt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w("/shipments"),className:"w-full p-5 glass-strong rounded-[28px] shadow-lg flex items-center gap-4 text-left group border-iridescent",children:[b.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-[20px] group-hover:shadow-glow-sm transition-all duration-300",children:b.jsx(kv,{size:24,className:"text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("h3",{className:"font-black text-white uppercase text-sm tracking-tight flex items-center gap-2",children:["Search Shipments",b.jsx("span",{className:"text-[8px] bg-emerald-500/20 text-emerald-400 px-2 py-0.5 rounded-full font-bold",children:"LIVE"})]}),b.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mt-0.5 flex items-center gap-1",children:[b.jsx(u1,{size:10}),"Real-time tracking"]})]}),b.jsx("div",{className:"w-10 h-10 rounded-full glass-light flex items-center justify-center group-hover:translate-x-1 transition-transform border border-white/10",children:b.jsx(ca,{className:"text-slate-400",size:18})})]})]})]}),e&&b.jsx(P8,{onScan:E,onClose:()=>t(!1)})]})}const U8="modulepreload",V8=function(e){return"/arynik1/"+e},Fg={},H8=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=Promise.allSettled(n.map(w=>{if(w=V8(w),w in Fg)return;Fg[w]=!0;const y=w.endsWith(".css"),E=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${E}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":U8,y||(A.as="script"),A.crossOrigin="",A.href=w,x&&A.setAttribute("nonce",x),document.head.appendChild(A),y)return new Promise((M,D)=>{A.addEventListener("load",M),A.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${w}`)))})}))}function c(p){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=p,window.dispatchEvent(x),!x.defaultPrevented)throw p}return l.then(p=>{for(const x of p||[])x.status==="rejected"&&c(x.reason);return t().catch(c)})};function W8(){const[e,t]=W.useState(""),[n,r]=W.useState(""),[l,c]=W.useState(!1),[p,x]=W.useState(""),{login:w}=Kl(),y=vo(),E=async A=>{var M,D;A.preventDefault(),x(""),c(!0);try{const{login:F}=await H8(async()=>{const{login:V}=await Promise.resolve().then(()=>YI);return{login:V}},void 0),B=await F(e,n);if(B&&B.access_token)await w(B.access_token,B.role),y("/");else throw new Error("Invalid response from server")}catch(F){console.error("Login error:",F),x(((D=(M=F.response)==null?void 0:M.data)==null?void 0:D.detail)||F.message||"Invalid credentials. Please try again.")}finally{c(!1)}};return b.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600/20 via-purple-600/10 to-pink-600/20 animate-pulse-slow"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600/10 via-transparent to-emerald-600/10"}),[...Array(20)].map((A,M)=>b.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*8}s`,animationDuration:`${8+Math.random()*4}s`}},M)),b.jsx("div",{className:"absolute top-10 left-20 w-72 h-72 bg-violet-500/30 rounded-full blur-3xl animate-float",style:{animationDelay:"0s"}}),b.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-pink-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"4s"}}),b.jsx("div",{className:"absolute top-40 right-40 w-60 h-60 bg-blue-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),b.jsxs("div",{className:"relative z-10 w-full max-w-md animate-scale-in",children:[b.jsxs("div",{className:"text-center mb-8 animate-slide-down",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-3xl shadow-glow-md mb-4 animate-float",children:b.jsx(Bv,{className:"w-10 h-10 text-white"})}),b.jsx("h1",{className:"text-4xl font-black text-gradient mb-2 tracking-tight",children:"AryNik Driver"}),b.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Welcome back, let's get started"})]}),b.jsxs("form",{onSubmit:E,className:"glass-strong rounded-3xl p-8 border-iridescent space-y-6 relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"}),b.jsxs("div",{className:"relative",children:[b.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400 mb-2 flex items-center gap-2",children:[b.jsx(c1,{size:14,className:"text-violet-400"}),"Username"]}),b.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300",placeholder:"Enter your username",required:!0,autoFocus:!0})]}),b.jsxs("div",{className:"relative",children:[b.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400 mb-2 flex items-center gap-2",children:[b.jsx(Q4,{size:14,className:"text-violet-400"}),"Password"]}),b.jsx("input",{type:"password",value:n,onChange:A=>r(A.target.value),className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300",placeholder:"Enter your password",required:!0})]}),p&&b.jsx("div",{className:"bg-rose-500/10 border border-rose-500/30 text-rose-400 px-4 py-3 rounded-xl text-sm font-medium animate-slide-down",children:p}),b.jsx("button",{type:"submit",disabled:l,className:"btn-premium w-full py-4 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-glow-md hover:shadow-glow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 text-sm uppercase tracking-wider magnetic",children:l?b.jsxs(b.Fragment,{children:[b.jsx(jl,{className:"animate-spin",size:20}),"Authenticating..."]}):b.jsxs(b.Fragment,{children:[b.jsx(q4,{size:20}),"Login to Dashboard"]})}),b.jsxs("p",{className:"text-center text-xs text-slate-500 mt-4",children:["Demo: ",b.jsx("span",{className:"text-violet-400 font-mono",children:"demo / demo"})]})]}),b.jsx("p",{className:"text-center text-xs text-slate-600 mt-6",children:"Secure driver authentication  AryNik  2026"})]})]})}function Z8(){const[e,t]=W.useState([]),[n,r]=W.useState(!0),[l,c]=W.useState(!1),p=vo(),x=async(D=!1)=>{D?c(!0):r(!0);try{const F=await vw();let B=[];try{const z=localStorage.getItem("token");B=(await x1(z)).map(R=>({...R,id:R.id,status:"synced",label:R.event_id}))}catch{console.log("Could not fetch server logs, showing local only")}const V=[...F,...B].sort((z,k)=>new Date(k.timestamp)-new Date(z.timestamp));t(V)}finally{r(!1),c(!1)}};W.useEffect(()=>{x()},[]);const w=D=>D==="synced"?{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30",icon:Ld,label:"Synced"}:{bg:"bg-violet-500/20",text:"text-violet-400",border:"border-violet-500/30",icon:ku,label:"Pending"},y=e.filter(D=>D.status==="synced").length,E=e.filter(D=>D.status!=="synced").length,A={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},M={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return b.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-20 right-0 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl animate-float"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),b.jsxs("div",{className:"px-4 py-4 flex items-center justify-between glass-strong sticky top-0 z-30 backdrop-blur-xl border-b border-white/10 animate-slide-down",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>p(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:b.jsx(Lc,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-black text-lg text-gradient tracking-tight",children:"Update History"}),b.jsx("p",{className:"text-xs text-slate-500 font-medium mt-0.5",children:"Recent activity timeline"})]})]}),b.jsx("button",{onClick:()=>x(!0),className:`p-2.5 rounded-xl glass-light hover:bg-violet-500/20 text-violet-400 transition-all border border-white/10 ${l?"animate-spin":""}`,children:b.jsx(Dv,{size:20})})]}),b.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3 relative z-10",children:[b.jsxs(bt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-strong p-4 rounded-2xl border-iridescent",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:b.jsx(Ld,{size:14,className:"text-emerald-400"})}),b.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Synced"})]}),b.jsx("p",{className:"text-2xl font-black text-gradient-blue",children:y})]}),b.jsxs(bt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"glass-strong p-4 rounded-2xl border-iridescent",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg",children:b.jsx(ku,{size:14,className:"text-violet-400"})}),b.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Pending"})]}),b.jsx("p",{className:"text-2xl font-black text-gradient-purple",children:E})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32 relative z-10",children:n?b.jsxs("div",{className:"text-center py-20",children:[b.jsxs("div",{className:"relative inline-block",children:[b.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),b.jsx(fo,{className:"animate-spin relative z-10 text-violet-400 mx-auto",size:48})]}),b.jsx("p",{className:"mt-6 text-sm font-bold text-slate-500 uppercase tracking-wide",children:"Loading history..."})]}):e.length===0?b.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[b.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:b.jsx(ku,{className:"text-slate-500",size:36})}),b.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No recent updates"}),b.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Your activity will appear here"})]}):b.jsx(bt.div,{variants:A,initial:"hidden",animate:"visible",className:"space-y-3 py-2",children:e.map((D,F)=>{const B=w(D.status),V=B.icon;return b.jsxs(bt.div,{variants:M,className:"glass-strong p-5 rounded-2xl border border-white/10 relative overflow-hidden group hover:border-violet-500/30 transition-all",children:[F<e.length-1&&b.jsx("div",{className:"absolute left-11 top-full w-0.5 h-3 bg-gradient-to-b from-white/10 to-transparent"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${B.bg} rounded-2xl flex items-center justify-center border ${B.border}`,children:b.jsx(V,{size:20,className:B.text,strokeWidth:2.5})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-mono text-slate-500 tracking-wider",children:D.awb}),b.jsx("h3",{className:"font-bold text-white mt-1",children:D.event_id||D.label})]}),b.jsx("span",{className:`text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border ${B.bg} ${B.text} ${B.border}`,children:B.label})]}),b.jsxs("p",{className:"text-[10px] text-slate-400 font-medium flex items-center gap-1.5",children:[b.jsx(ku,{size:10}),new Date(D.timestamp).toLocaleString()]}),D.error_message&&b.jsxs("div",{className:"mt-3 px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-2",children:[b.jsx(Rv,{size:14,className:"text-red-400 mt-0.5 flex-shrink-0"}),b.jsx("p",{className:"text-xs text-red-400 font-medium",children:D.error_message})]})]})]})]},F)})})})]})}function G8(){const{user:e,logout:t}=Kl(),n=vo(),r=()=>{t(),n("/login",{replace:!0})},l=[{title:"Preferences",items:[{icon:F4,label:"Notifications",value:"Enabled",color:"violet"},{icon:W4,label:"Language",value:"English",color:"emerald"},{icon:tb,label:"Dark Mode",value:"Auto",color:"amber"}]},{title:"Account",items:[{icon:sb,label:"Security",value:null,color:"violet"},{icon:Y4,label:"App Info",value:"v1.0.0",color:"slate"}]}],c=y=>{const E={violet:"bg-violet-500/20",emerald:"bg-emerald-500/20",amber:"bg-amber-500/20",slate:"bg-slate-500/20"};return E[y]||E.slate},p=y=>{const E={violet:"text-violet-400",emerald:"text-emerald-400",amber:"text-amber-400",slate:"text-slate-400"};return E[y]||E.slate},x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return b.jsxs(bt.div,{initial:"hidden",animate:"visible",exit:{opacity:0,y:-20},variants:x,className:"min-h-screen flex flex-col relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-float"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),b.jsxs("div",{className:"relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-violet-700"}),b.jsx("div",{className:"absolute inset-0 shimmer opacity-20"}),b.jsxs("header",{className:"relative z-10 px-6 pt-6 pb-4",children:[b.jsx("h1",{className:"text-xl font-black text-white uppercase tracking-tight mb-1",children:"Settings"}),b.jsx("p",{className:"text-sm text-violet-100 font-medium",children:"Manage your preferences"})]}),b.jsxs("div",{className:"relative z-10 px-8 pb-8 flex flex-col items-center",children:[b.jsx(bt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-28 h-28 bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-xl rounded-[32px] shadow-2xl flex items-center justify-center text-white mb-5 border-4 border-white/30 animate-float",children:b.jsx(c1,{size:56,strokeWidth:1.5})}),b.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight mb-2",children:(e==null?void 0:e.username)||"Driver"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-[10px] font-black bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full uppercase tracking-widest border border-white/30",children:(e==null?void 0:e.role)||"Carrier"}),b.jsxs("span",{className:"text-[10px] font-bold text-violet-200 uppercase tracking-widest",children:["ID: ",(e==null?void 0:e.driver_id)||"N/A"]})]})]})]}),b.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 relative z-10 -mt-6",children:[l.map((y,E)=>b.jsxs(bt.div,{variants:w,className:"space-y-3",children:[b.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:y.title}),b.jsx("div",{className:"glass-strong rounded-2xl overflow-hidden border-iridescent",children:y.items.map((A,M)=>{const D=A.icon;return b.jsxs("button",{className:`w-full p-4 flex items-center gap-4 hover:bg-white/5 transition-all group ${M<y.items.length-1?"border-b border-white/5":""}`,children:[b.jsx("div",{className:`p-3 ${c(A.color)} rounded-xl group-hover:scale-110 transition-transform`,children:b.jsx(D,{className:p(A.color),size:20,strokeWidth:2})}),b.jsx("span",{className:"flex-1 text-left font-bold text-white",children:A.label}),A.value&&b.jsx("span",{className:"text-xs text-slate-400 font-medium",children:A.value}),b.jsx(ca,{className:"text-slate-500 group-hover:text-violet-400 group-hover:translate-x-1 transition-all",size:18})]},M)})})]},E)),b.jsxs(bt.div,{variants:w,className:"glass-strong p-5 rounded-2xl border-iridescent relative overflow-hidden group",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-amber-600/5 opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[b.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl shadow-glow-sm",children:b.jsx(Bv,{size:24,className:"text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-black text-white text-sm",children:"Premium Features"}),b.jsx("p",{className:"text-[10px] text-slate-400 font-medium mt-1",children:"Unlock advanced analytics & insights"})]}),b.jsx(ca,{className:"text-amber-400",size:20})]})]}),b.jsxs(bt.button,{variants:w,onClick:r,whileTap:{scale:.98},className:"w-full btn-premium py-4 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-400 hover:to-rose-500 text-white rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg hover:shadow-glow-md transition-all",children:[b.jsx(J4,{size:20,strokeWidth:2.5}),"Sign Out"]})]}),b.jsxs(bt.div,{variants:w,className:"p-6 text-center relative z-10",children:[b.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Powered by Postis Bridge"}),b.jsx("p",{className:"text-[9px] text-slate-600 font-medium mt-1",children:" 2025 AryNik Driver App"})]})]})}const Y8="https://router.project-osrm.org/route/v1/driving";async function X8(e,t){if(!e||!t)return null;try{const n=`${Y8}/${e.lon},${e.lat};${t.lon},${t.lat}?overview=full&geometries=geojson`,r=await wt.get(n);return r.data.code==="Ok"&&r.data.routes.length>0?r.data.routes[0].geometry:null}catch(n){return console.error("Error fetching route:",n),null}}function ww(e,t){const n=W.useRef(t);W.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const K8=1;function Q8(e){return Object.freeze({__version:K8,map:e})}function _w(e,t){return Object.freeze({...e,...t})}const Cw=W.createContext(null),Ew=Cw.Provider;function mh(){const e=W.useContext(Cw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Aw(e){function t(n,r){const{instance:l,context:c}=e(n).current;return W.useImperativeHandle(r,()=>l),n.children==null?null:oo.createElement(Ew,{value:c},n.children)}return W.forwardRef(t)}function q8(e){function t(n,r){const[l,c]=W.useState(!1),{instance:p}=e(n,c).current;W.useImperativeHandle(r,()=>p),W.useEffect(function(){l&&p.update()},[p,l,n.children]);const x=p._contentNode;return x?ty.createPortal(n.children,x):null}return W.forwardRef(t)}function J8(e){function t(n,r){const{instance:l}=e(n).current;return W.useImperativeHandle(r,()=>l),null}return W.forwardRef(t)}function _1(e,t){const n=W.useRef();W.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function gh(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function $8(e,t){return function(r,l){const c=mh(),p=e(gh(r,c),c);return ww(c.map,r.attribution),_1(p.current,r.eventHandlers),t(p.current,c,r,l),p}}var Ud={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Oo,function(n){var r="1.9.4";function l(o){var f,g,C,T;for(g=1,C=arguments.length;g<C;g++){T=arguments[g];for(f in T)o[f]=T[f]}return o}var c=Object.create||function(){function o(){}return function(f){return o.prototype=f,new o}}();function p(o,f){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var C=g.call(arguments,2);return function(){return o.apply(f,C.length?C.concat(g.call(arguments)):arguments)}}var x=0;function w(o){return"_leaflet_id"in o||(o._leaflet_id=++x),o._leaflet_id}function y(o,f,g){var C,T,P,H;return H=function(){C=!1,T&&(P.apply(g,T),T=!1)},P=function(){C?T=arguments:(o.apply(g,arguments),setTimeout(H,f),C=!0)},P}function E(o,f,g){var C=f[1],T=f[0],P=C-T;return o===C&&g?o:((o-T)%P+P)%P+T}function A(){return!1}function M(o,f){if(f===!1)return o;var g=Math.pow(10,f===void 0?6:f);return Math.round(o*g)/g}function D(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function F(o){return D(o).split(/\s+/)}function B(o,f){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?c(o.options):{});for(var g in f)o.options[g]=f[g];return o.options}function V(o,f,g){var C=[];for(var T in o)C.push(encodeURIComponent(g?T.toUpperCase():T)+"="+encodeURIComponent(o[T]));return(!f||f.indexOf("?")===-1?"?":"&")+C.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function k(o,f){return o.replace(z,function(g,C){var T=f[C];if(T===void 0)throw new Error("No value provided for variable "+g);return typeof T=="function"&&(T=T(f)),T})}var R=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function Z(o,f){for(var g=0;g<o.length;g++)if(o[g]===f)return g;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var X=0;function oe(o){var f=+new Date,g=Math.max(0,16-(f-X));return X=f+g,window.setTimeout(o,g)}var J=window.requestAnimationFrame||se("RequestAnimationFrame")||oe,fe=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Te(o,f,g){if(g&&J===oe)o.call(f);else return J.call(window,p(o,f))}function xe(o){o&&fe.call(window,o)}var Be={__proto__:null,extend:l,create:c,bind:p,get lastId(){return x},stamp:w,throttle:y,wrapNum:E,falseFn:A,formatNum:M,trim:D,splitWords:F,setOptions:B,getParamString:V,template:k,isArray:R,indexOf:Z,emptyImageUrl:te,requestFn:J,cancelFn:fe,requestAnimFrame:Te,cancelAnimFrame:xe};function De(){}De.extend=function(o){var f=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=f.__super__=this.prototype,C=c(g);C.constructor=f,f.prototype=C;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(f[T]=this[T]);return o.statics&&l(f,o.statics),o.includes&&(re(o.includes),l.apply(null,[C].concat(o.includes))),l(C,o),delete C.statics,delete C.includes,C.options&&(C.options=g.options?c(g.options):{},l(C.options,o.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,H=C._initHooks.length;P<H;P++)C._initHooks[P].call(this)}},f},De.include=function(o){var f=this.prototype.options;return l(this.prototype,o),o.options&&(this.prototype.options=f,this.mergeOptions(o.options)),this},De.mergeOptions=function(o){return l(this.prototype.options,o),this},De.addInitHook=function(o){var f=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function re(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=R(o)?o:[o];for(var f=0;f<o.length;f++)o[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ae={on:function(o,f,g){if(typeof o=="object")for(var C in o)this._on(C,o[C],f);else{o=F(o);for(var T=0,P=o.length;T<P;T++)this._on(o[T],f,g)}return this},off:function(o,f,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var C in o)this._off(C,o[C],f);else{o=F(o);for(var T=arguments.length===1,P=0,H=o.length;P<H;P++)T?this._off(o[P]):this._off(o[P],f,g)}return this},_on:function(o,f,g,C){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(o,f,g)===!1){g===this&&(g=void 0);var T={fn:f,ctx:g};C&&(T.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(T)}},_off:function(o,f,g){var C,T,P;if(this._events&&(C=this._events[o],!!C)){if(arguments.length===1){if(this._firingCount)for(T=0,P=C.length;T<P;T++)C[T].fn=A;delete this._events[o];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var H=this._listens(o,f,g);if(H!==!1){var q=C[H];this._firingCount&&(q.fn=A,this._events[o]=C=C.slice()),C.splice(H,1)}}},fire:function(o,f,g){if(!this.listens(o,g))return this;var C=l({},f,{type:o,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var T=this._events[o];if(T){this._firingCount=this._firingCount+1||1;for(var P=0,H=T.length;P<H;P++){var q=T[P],ne=q.fn;q.once&&this.off(o,ne,q.ctx),ne.call(q.ctx||this,C)}this._firingCount--}}return g&&this._propagateEvent(C),this},listens:function(o,f,g,C){typeof o!="string"&&console.warn('"string" type argument expected');var T=f;typeof f!="function"&&(C=!!f,T=void 0,g=void 0);var P=this._events&&this._events[o];if(P&&P.length&&this._listens(o,T,g)!==!1)return!0;if(C){for(var H in this._eventParents)if(this._eventParents[H].listens(o,f,g,C))return!0}return!1},_listens:function(o,f,g){if(!this._events)return!1;var C=this._events[o]||[];if(!f)return!!C.length;g===this&&(g=void 0);for(var T=0,P=C.length;T<P;T++)if(C[T].fn===f&&C[T].ctx===g)return T;return!1},once:function(o,f,g){if(typeof o=="object")for(var C in o)this._on(C,o[C],f,!0);else{o=F(o);for(var T=0,P=o.length;T<P;T++)this._on(o[T],f,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[w(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[w(o)],this},_propagateEvent:function(o){for(var f in this._eventParents)this._eventParents[f].fire(o.type,l({layer:o.target,propagatedFrom:o.target},o),!0)}};Ae.addEventListener=Ae.on,Ae.removeEventListener=Ae.clearAllEventListeners=Ae.off,Ae.addOneTimeEventListener=Ae.once,Ae.fireEvent=Ae.fire,Ae.hasEventListeners=Ae.listens;var Oe=De.extend(Ae);function ae(o,f,g){this.x=g?Math.round(o):o,this.y=g?Math.round(f):f}var Me=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(o){return this.clone()._add(de(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(de(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ae(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ae(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(o){o=de(o);var f=o.x-this.x,g=o.y-this.y;return Math.sqrt(f*f+g*g)},equals:function(o){return o=de(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=de(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function de(o,f,g){return o instanceof ae?o:R(o)?new ae(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ae(o.x,o.y):new ae(o,f,g)}function ve(o,f){if(o)for(var g=f?[o,f]:o,C=0,T=g.length;C<T;C++)this.extend(g[C])}ve.prototype={extend:function(o){var f,g;if(!o)return this;if(o instanceof ae||typeof o[0]=="number"||"x"in o)f=g=de(o);else if(o=Pe(o),f=o.min,g=o.max,!f||!g)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=g.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return de((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return de(this.min.x,this.max.y)},getTopRight:function(){return de(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var f,g;return typeof o[0]=="number"||o instanceof ae?o=de(o):o=Pe(o),o instanceof ve?(f=o.min,g=o.max):f=g=o,f.x>=this.min.x&&g.x<=this.max.x&&f.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=Pe(o);var f=this.min,g=this.max,C=o.min,T=o.max,P=T.x>=f.x&&C.x<=g.x,H=T.y>=f.y&&C.y<=g.y;return P&&H},overlaps:function(o){o=Pe(o);var f=this.min,g=this.max,C=o.min,T=o.max,P=T.x>f.x&&C.x<g.x,H=T.y>f.y&&C.y<g.y;return P&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var f=this.min,g=this.max,C=Math.abs(f.x-g.x)*o,T=Math.abs(f.y-g.y)*o;return Pe(de(f.x-C,f.y-T),de(g.x+C,g.y+T))},equals:function(o){return o?(o=Pe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Pe(o,f){return!o||o instanceof ve?o:new ve(o,f)}function rt(o,f){if(o)for(var g=f?[o,f]:o,C=0,T=g.length;C<T;C++)this.extend(g[C])}rt.prototype={extend:function(o){var f=this._southWest,g=this._northEast,C,T;if(o instanceof Ge)C=o,T=o;else if(o instanceof rt){if(C=o._southWest,T=o._northEast,!C||!T)return this}else return o?this.extend(he(o)||Fe(o)):this;return!f&&!g?(this._southWest=new Ge(C.lat,C.lng),this._northEast=new Ge(T.lat,T.lng)):(f.lat=Math.min(C.lat,f.lat),f.lng=Math.min(C.lng,f.lng),g.lat=Math.max(T.lat,g.lat),g.lng=Math.max(T.lng,g.lng)),this},pad:function(o){var f=this._southWest,g=this._northEast,C=Math.abs(f.lat-g.lat)*o,T=Math.abs(f.lng-g.lng)*o;return new rt(new Ge(f.lat-C,f.lng-T),new Ge(g.lat+C,g.lng+T))},getCenter:function(){return new Ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ge||"lat"in o?o=he(o):o=Fe(o);var f=this._southWest,g=this._northEast,C,T;return o instanceof rt?(C=o.getSouthWest(),T=o.getNorthEast()):C=T=o,C.lat>=f.lat&&T.lat<=g.lat&&C.lng>=f.lng&&T.lng<=g.lng},intersects:function(o){o=Fe(o);var f=this._southWest,g=this._northEast,C=o.getSouthWest(),T=o.getNorthEast(),P=T.lat>=f.lat&&C.lat<=g.lat,H=T.lng>=f.lng&&C.lng<=g.lng;return P&&H},overlaps:function(o){o=Fe(o);var f=this._southWest,g=this._northEast,C=o.getSouthWest(),T=o.getNorthEast(),P=T.lat>f.lat&&C.lat<g.lat,H=T.lng>f.lng&&C.lng<g.lng;return P&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,f){return o?(o=Fe(o),this._southWest.equals(o.getSouthWest(),f)&&this._northEast.equals(o.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Fe(o,f){return o instanceof rt?o:new rt(o,f)}function Ge(o,f,g){if(isNaN(o)||isNaN(f))throw new Error("Invalid LatLng object: ("+o+", "+f+")");this.lat=+o,this.lng=+f,g!==void 0&&(this.alt=+g)}Ge.prototype={equals:function(o,f){if(!o)return!1;o=he(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(f===void 0?1e-9:f)},toString:function(o){return"LatLng("+M(this.lat,o)+", "+M(this.lng,o)+")"},distanceTo:function(o){return dt.distance(this,he(o))},wrap:function(){return dt.wrapLatLng(this)},toBounds:function(o){var f=180*o/40075017,g=f/Math.cos(Math.PI/180*this.lat);return Fe([this.lat-f,this.lng-g],[this.lat+f,this.lng+g])},clone:function(){return new Ge(this.lat,this.lng,this.alt)}};function he(o,f,g){return o instanceof Ge?o:R(o)&&typeof o[0]!="object"?o.length===3?new Ge(o[0],o[1],o[2]):o.length===2?new Ge(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ge(o.lat,"lng"in o?o.lng:o.lon,o.alt):f===void 0?null:new Ge(o,f,g)}var Yt={latLngToPoint:function(o,f){var g=this.projection.project(o),C=this.scale(f);return this.transformation._transform(g,C)},pointToLatLng:function(o,f){var g=this.scale(f),C=this.transformation.untransform(o,g);return this.projection.unproject(C)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var f=this.projection.bounds,g=this.scale(o),C=this.transformation.transform(f.min,g),T=this.transformation.transform(f.max,g);return new ve(C,T)},infinite:!1,wrapLatLng:function(o){var f=this.wrapLng?E(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?E(o.lat,this.wrapLat,!0):o.lat,C=o.alt;return new Ge(g,f,C)},wrapLatLngBounds:function(o){var f=o.getCenter(),g=this.wrapLatLng(f),C=f.lat-g.lat,T=f.lng-g.lng;if(C===0&&T===0)return o;var P=o.getSouthWest(),H=o.getNorthEast(),q=new Ge(P.lat-C,P.lng-T),ne=new Ge(H.lat-C,H.lng-T);return new rt(q,ne)}},dt=l({},Yt,{wrapLng:[-180,180],R:6371e3,distance:function(o,f){var g=Math.PI/180,C=o.lat*g,T=f.lat*g,P=Math.sin((f.lat-o.lat)*g/2),H=Math.sin((f.lng-o.lng)*g/2),q=P*P+Math.cos(C)*Math.cos(T)*H*H,ne=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*ne}}),yi=6378137,Gn={R:yi,MAX_LATITUDE:85.0511287798,project:function(o){var f=Math.PI/180,g=this.MAX_LATITUDE,C=Math.max(Math.min(g,o.lat),-g),T=Math.sin(C*f);return new ae(this.R*o.lng*f,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(o){var f=180/Math.PI;return new Ge((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*f,o.x*f/this.R)},bounds:function(){var o=yi*Math.PI;return new ve([-o,-o],[o,o])}()};function Et(o,f,g,C){if(R(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=f,this._c=g,this._d=C}Et.prototype={transform:function(o,f){return this._transform(o.clone(),f)},_transform:function(o,f){return f=f||1,o.x=f*(this._a*o.x+this._b),o.y=f*(this._c*o.y+this._d),o},untransform:function(o,f){return f=f||1,new ae((o.x/f-this._b)/this._a,(o.y/f-this._d)/this._c)}};function Bi(o,f,g,C){return new Et(o,f,g,C)}var tt=l({},dt,{code:"EPSG:3857",projection:Gn,transformation:function(){var o=.5/(Math.PI*Gn.R);return Bi(o,.5,-o,.5)}()}),Ur=l({},tt,{code:"EPSG:900913"});function ii(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Vr(o,f){var g="",C,T,P,H,q,ne;for(C=0,P=o.length;C<P;C++){for(q=o[C],T=0,H=q.length;T<H;T++)ne=q[T],g+=(T?"L":"M")+ne.x+" "+ne.y;g+=f?Ne.svg?"z":"x":""}return g||"M0 0"}var Xt=document.documentElement.style,ct="ActiveXObject"in window,nt=ct&&!document.addEventListener,Os="msLaunchUri"in navigator&&!("documentMode"in document),Ie=Mt("webkit"),Ps=Mt("android"),va=Mt("android 2")||Mt("android 3"),Fi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wa=Ps&&Mt("Google")&&Fi<537&&!("AudioNode"in window),Ln=!!window.opera,_a=!Os&&Mt("chrome"),ji=Mt("gecko")&&!Ie&&!Ln&&!ct,wn=!_a&&Mt("safari"),Ca=Mt("phantom"),Rs="OTransition"in Xt,wh=navigator.platform.indexOf("Win")===0,Bt=ct&&"transition"in Xt,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!va,Wt="MozPerspective"in Xt,pt=!window.L_DISABLE_3D&&(Bt||ye||Wt)&&!Rs&&!Ca,yt=typeof orientation<"u"||Mt("mobile"),Ls=yt&&Ie,Ea=yt&&ye,Aa=!window.PointerEvent&&window.MSPointerEvent,st=!!(window.PointerEvent||Aa),tr="ontouchstart"in window||!!window.TouchEvent,iu=!window.L_NO_TOUCH&&(tr||st),ru=yt&&Ln,ri=yt&&ji,Sa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hn=function(){var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",A,f),window.removeEventListener("testPassiveEventSupport",A,f)}catch{}return o}(),Hr=function(){return!!document.createElement("canvas").getContext}(),Wr=!!(document.createElementNS&&ii("svg").createSVGRect),vi=!!Wr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),_h=!Wr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var f=o.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),mr=navigator.platform.indexOf("Mac")===0,Ta=navigator.platform.indexOf("Linux")===0;function Mt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ne={ie:ct,ielt9:nt,edge:Os,webkit:Ie,android:Ps,android23:va,androidStock:wa,opera:Ln,chrome:_a,gecko:ji,safari:wn,phantom:Ca,opera12:Rs,win:wh,ie3d:Bt,webkit3d:ye,gecko3d:Wt,any3d:pt,mobile:yt,mobileWebkit:Ls,mobileWebkit3d:Ea,msPointer:Aa,pointer:st,touch:iu,touchNative:tr,mobileOpera:ru,mobileGecko:ri,retina:Sa,passiveEvents:hn,canvas:Hr,svg:Wr,vml:_h,inlineSvg:vi,mac:mr,linux:Ta},Dn=Ne.msPointer?"MSPointerDown":"pointerdown",Ce=Ne.msPointer?"MSPointerMove":"pointermove",gr=Ne.msPointer?"MSPointerUp":"pointerup",Co=Ne.msPointer?"MSPointerCancel":"pointercancel",fn={touchstart:Dn,touchmove:Ce,touchend:gr,touchcancel:Co},xr={touchstart:nr,touchmove:ks,touchend:ks,touchcancel:ks},zi={},Ds=!1;function wi(o,f,g){return f==="touchstart"&&At(),xr[f]?(g=xr[f].bind(this,g),o.addEventListener(fn[f],g,!1),g):(console.warn("wrong event specified:",f),A)}function Ch(o,f,g){if(!fn[f]){console.warn("wrong event specified:",f);return}o.removeEventListener(fn[f],g,!1)}function Eh(o){zi[o.pointerId]=o}function _i(o){zi[o.pointerId]&&(zi[o.pointerId]=o)}function dn(o){delete zi[o.pointerId]}function At(){Ds||(document.addEventListener(Dn,Eh,!0),document.addEventListener(Ce,_i,!0),document.addEventListener(gr,dn,!0),document.addEventListener(Co,dn,!0),Ds=!0)}function ks(o,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var g in zi)f.touches.push(zi[g]);f.changedTouches=[f],o(f)}}function nr(o,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&on(f),ks(o,f)}function ba(o){var f={},g,C;for(C in o)g=o[C],f[C]=g&&g.bind?g.bind(o):g;return o=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var le=200;function Ah(o,f){o.addEventListener("dblclick",f);var g=0,C;function T(P){if(P.detail!==1){C=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var H=Gr(P);if(!(H.some(function(ne){return ne instanceof HTMLLabelElement&&ne.attributes.for})&&!H.some(function(ne){return ne instanceof HTMLInputElement||ne instanceof HTMLSelectElement}))){var q=Date.now();q-g<=le?(C++,C===2&&f(ba(P))):C=1,g=q}}}return o.addEventListener("click",T),{dblclick:f,simDblclick:T}}function Dt(o,f){o.removeEventListener("dblclick",f.dblclick),o.removeEventListener("click",f.simDblclick)}var ir=Q(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bs=Q(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),at=Bs==="webkitTransition"||Bs==="OTransition"?Bs+"End":"transitionend";function ot(o){return typeof o=="string"?document.getElementById(o):o}function Ye(o,f){var g=o.style[f]||o.currentStyle&&o.currentStyle[f];if((!g||g==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(o,null);g=C?C[f]:null}return g==="auto"?null:g}function et(o,f,g){var C=document.createElement(o);return C.className=f||"",g&&g.appendChild(C),C}function _t(o){var f=o.parentNode;f&&f.removeChild(o)}function Zr(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function St(o){var f=o.parentNode;f&&f.lastChild!==o&&f.appendChild(o)}function kn(o){var f=o.parentNode;f&&f.firstChild!==o&&f.insertBefore(o,f.firstChild)}function Ia(o,f){if(o.classList!==void 0)return o.classList.contains(f);var g=Ui(o);return g.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(g)}function Re(o,f){if(o.classList!==void 0)for(var g=F(f),C=0,T=g.length;C<T;C++)o.classList.add(g[C]);else if(!Ia(o,f)){var P=Ui(o);Na(o,(P?P+" ":"")+f)}}function ht(o,f){o.classList!==void 0?o.classList.remove(f):Na(o,D((" "+Ui(o)+" ").replace(" "+f+" "," ")))}function Na(o,f){o.className.baseVal===void 0?o.className=f:o.className.baseVal=f}function Ui(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Xe(o,f){"opacity"in o.style?o.style.opacity=f:"filter"in o.style&&pn(o,f)}function pn(o,f){var g=!1,C="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(C)}catch{if(f===1)return}f=Math.round(f*100),g?(g.Enabled=f!==100,g.Opacity=f):o.style.filter+=" progid:"+C+"(opacity="+f+")"}function Q(o){for(var f=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in f)return o[g];return!1}function j(o,f,g){var C=f||new ae(0,0);o.style[ir]=(Ne.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(g?" scale("+g+")":"")}function we(o,f){o._leaflet_pos=f,Ne.any3d?j(o,f):(o.style.left=f.x+"px",o.style.top=f.y+"px")}function Tt(o){return o._leaflet_pos||new ae(0,0)}var mn,Fs,js;if("onselectstart"in document)mn=function(){Ue(window,"selectstart",on)},Fs=function(){_e(window,"selectstart",on)};else{var gn=Q(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mn=function(){if(gn){var o=document.documentElement.style;js=o[gn],o[gn]="none"}},Fs=function(){gn&&(document.documentElement.style[gn]=js,js=void 0)}}function Le(){Ue(window,"dragstart",on)}function Ct(){_e(window,"dragstart",on)}var zs,Ma;function Us(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(yr(),zs=o,Ma=o.style.outlineStyle,o.style.outlineStyle="none",Ue(window,"keydown",yr))}function yr(){zs&&(zs.style.outlineStyle=Ma,zs=void 0,Ma=void 0,_e(window,"keydown",yr))}function Eo(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Oa(o){var f=o.getBoundingClientRect();return{x:f.width/o.offsetWidth||1,y:f.height/o.offsetHeight||1,boundingClientRect:f}}var $t={__proto__:null,TRANSFORM:ir,TRANSITION:Bs,TRANSITION_END:at,get:ot,getStyle:Ye,create:et,remove:_t,empty:Zr,toFront:St,toBack:kn,hasClass:Ia,addClass:Re,removeClass:ht,setClass:Na,getClass:Ui,setOpacity:Xe,testProp:Q,setTransform:j,setPosition:we,getPosition:Tt,get disableTextSelection(){return mn},get enableTextSelection(){return Fs},disableImageDrag:Le,enableImageDrag:Ct,preventOutline:Us,restoreOutline:yr,getSizedParentNode:Eo,getScale:Oa};function Ue(o,f,g,C){if(f&&typeof f=="object")for(var T in f)Kt(o,T,f[T],g);else{f=F(f);for(var P=0,H=f.length;P<H;P++)Kt(o,f[P],g,C)}return this}var sn="_leaflet_events";function _e(o,f,g,C){if(arguments.length===1)su(o),delete o[sn];else if(f&&typeof f=="object")for(var T in f)Pa(o,T,f[T],g);else if(f=F(f),arguments.length===2)su(o,function(q){return Z(f,q)!==-1});else for(var P=0,H=f.length;P<H;P++)Pa(o,f[P],g,C);return this}function su(o,f){for(var g in o[sn]){var C=g.split(/\d/)[0];(!f||f(C))&&Pa(o,C,null,null,g)}}var He={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kt(o,f,g,C){var T=f+w(g)+(C?"_"+w(C):"");if(o[sn]&&o[sn][T])return this;var P=function(q){return g.call(C||o,q||window.event)},H=P;!Ne.touchNative&&Ne.pointer&&f.indexOf("touch")===0?P=wi(o,f,P):Ne.touch&&f==="dblclick"?P=Ah(o,P):"addEventListener"in o?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?o.addEventListener(He[f]||f,P,Ne.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(P=function(q){q=q||window.event,vr(o,q)&&H(q)},o.addEventListener(He[f],P,!1)):o.addEventListener(f,H,!1):o.attachEvent("on"+f,P),o[sn]=o[sn]||{},o[sn][T]=P}function Pa(o,f,g,C,T){T=T||f+w(g)+(C?"_"+w(C):"");var P=o[sn]&&o[sn][T];if(!P)return this;!Ne.touchNative&&Ne.pointer&&f.indexOf("touch")===0?Ch(o,f,P):Ne.touch&&f==="dblclick"?Dt(o,P):"removeEventListener"in o?o.removeEventListener(He[f]||f,P,!1):o.detachEvent("on"+f,P),o[sn][T]=null}function Vi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ao(o){return Kt(o,"wheel",Vi),this}function si(o){return Ue(o,"mousedown touchstart dblclick contextmenu",Vi),o._leaflet_disable_click=!0,this}function on(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function oi(o){return on(o),Vi(o),this}function Gr(o){if(o.composedPath)return o.composedPath();for(var f=[],g=o.target;g;)f.push(g),g=g.parentNode;return f}function Yr(o,f){if(!f)return new ae(o.clientX,o.clientY);var g=Oa(f),C=g.boundingClientRect;return new ae((o.clientX-C.left)/g.x-f.clientLeft,(o.clientY-C.top)/g.y-f.clientTop)}var ou=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xr(o){return Ne.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ou:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function vr(o,f){var g=f.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var An={__proto__:null,on:Ue,off:_e,stopPropagation:Vi,disableScrollPropagation:Ao,disableClickPropagation:si,preventDefault:on,stop:oi,getPropagationPath:Gr,getMousePosition:Yr,getWheelDelta:Xr,isExternalTarget:vr,addListener:Ue,removeListener:_e},Ra=Oe.extend({run:function(o,f,g,C){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Tt(o),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Te(this._animate,this),this._step()},_step:function(o){var f=+new Date-this._startTime,g=this._duration*1e3;f<g?this._runFrame(this._easeOut(f/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,f){var g=this._startPos.add(this._offset.multiplyBy(o));f&&g._round(),we(this._el,g),this.fire("step")},_complete:function(){xe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Je=Oe.extend({options:{crs:tt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,f){f=B(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(he(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bs&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ue(this._proxy,at,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,f,g){if(f=f===void 0?this._zoom:this._limitZoom(f),o=this._limitCenter(he(o),f,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=l({animate:g.animate},g.zoom),g.pan=l({animate:g.animate,duration:g.duration},g.pan));var C=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,f,g.zoom):this._tryAnimatedPan(o,g.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(o,f,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,f){return this._loaded?this.setView(this.getCenter(),o,{zoom:f}):(this._zoom=o,this)},zoomIn:function(o,f){return o=o||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,f)},zoomOut:function(o,f){return o=o||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,f)},setZoomAround:function(o,f,g){var C=this.getZoomScale(f),T=this.getSize().divideBy(2),P=o instanceof ae?o:this.latLngToContainerPoint(o),H=P.subtract(T).multiplyBy(1-1/C),q=this.containerPointToLatLng(T.add(H));return this.setView(q,f,{zoom:g})},_getBoundsCenterZoom:function(o,f){f=f||{},o=o.getBounds?o.getBounds():Fe(o);var g=de(f.paddingTopLeft||f.padding||[0,0]),C=de(f.paddingBottomRight||f.padding||[0,0]),T=this.getBoundsZoom(o,!1,g.add(C));if(T=typeof f.maxZoom=="number"?Math.min(f.maxZoom,T):T,T===1/0)return{center:o.getCenter(),zoom:T};var P=C.subtract(g).divideBy(2),H=this.project(o.getSouthWest(),T),q=this.project(o.getNorthEast(),T),ne=this.unproject(H.add(q).divideBy(2).add(P),T);return{center:ne,zoom:T}},fitBounds:function(o,f){if(o=Fe(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,f);return this.setView(g.center,g.zoom,f)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,f){return this.setView(o,this._zoom,{pan:f})},panBy:function(o,f){if(o=de(o).round(),f=f||{},!o.x&&!o.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ra,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Re(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,f.duration||.25,f.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,f,g){if(g=g||{},g.animate===!1||!Ne.any3d)return this.setView(o,f,g);this._stop();var C=this.project(this.getCenter()),T=this.project(o),P=this.getSize(),H=this._zoom;o=he(o),f=f===void 0?H:f;var q=Math.max(P.x,P.y),ne=q*this.getZoomScale(H,f),ue=T.distanceTo(C)||1,Ee=1.42,je=Ee*Ee;function qe(tn){var pu=tn?-1:1,kw=tn?ne:q,Bw=ne*ne-q*q+pu*je*je*ue*ue,Fw=2*kw*je*ue,Oh=Bw/Fw,B1=Math.sqrt(Oh*Oh+1)-Oh,jw=B1<1e-9?-18:Math.log(B1);return jw}function zn(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function xn(tn){return(Math.exp(tn)+Math.exp(-tn))/2}function bi(tn){return zn(tn)/xn(tn)}var Xn=qe(0);function No(tn){return q*(xn(Xn)/xn(Xn+Ee*tn))}function Pw(tn){return q*(xn(Xn)*bi(Xn+Ee*tn)-zn(Xn))/je}function Rw(tn){return 1-Math.pow(1-tn,1.5)}var Lw=Date.now(),D1=(qe(1)-Xn)/Ee,Dw=g.duration?1e3*g.duration:1e3*D1*.8;function k1(){var tn=(Date.now()-Lw)/Dw,pu=Rw(tn)*D1;tn<=1?(this._flyToFrame=Te(k1,this),this._move(this.unproject(C.add(T.subtract(C).multiplyBy(Pw(pu)/ue)),H),this.getScaleZoom(q/No(pu),H),{flyTo:!0})):this._move(o,f)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),k1.call(this),this},flyToBounds:function(o,f){var g=this._getBoundsCenterZoom(o,f);return this.flyTo(g.center,g.zoom,f)},setMaxBounds:function(o){return o=Fe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var f=this.options.minZoom;return this.options.minZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var f=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,f){this._enforcingBounds=!0;var g=this.getCenter(),C=this._limitCenter(g,this._zoom,Fe(o));return g.equals(C)||this.panTo(C,f),this._enforcingBounds=!1,this},panInside:function(o,f){f=f||{};var g=de(f.paddingTopLeft||f.padding||[0,0]),C=de(f.paddingBottomRight||f.padding||[0,0]),T=this.project(this.getCenter()),P=this.project(o),H=this.getPixelBounds(),q=Pe([H.min.add(g),H.max.subtract(C)]),ne=q.getSize();if(!q.contains(P)){this._enforcingBounds=!0;var ue=P.subtract(q.getCenter()),Ee=q.extend(P).getSize().subtract(ne);T.x+=ue.x<0?-Ee.x:Ee.x,T.y+=ue.y<0?-Ee.y:Ee.y,this.panTo(this.unproject(T),f),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=l({animate:!1,pan:!0},o===!0?{animate:!0}:o);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),C=f.divideBy(2).round(),T=g.divideBy(2).round(),P=C.subtract(T);return!P.x&&!P.y?this:(o.animate&&o.pan?this.panBy(P):(o.pan&&this._rawPanBy(P),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=l({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=p(this._handleGeolocationResponse,this),g=p(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,g,o):navigator.geolocation.getCurrentPosition(f,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var f=o.code,g=o.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var f=o.coords.latitude,g=o.coords.longitude,C=new Ge(f,g),T=C.toBounds(o.coords.accuracy*2),P=this._locateOptions;if(P.setView){var H=this.getBoundsZoom(T);this.setView(C,P.maxZoom?Math.min(H,P.maxZoom):H)}var q={latlng:C,bounds:T,timestamp:o.timestamp};for(var ne in o.coords)typeof o.coords[ne]=="number"&&(q[ne]=o.coords[ne]);this.fire("locationfound",q)}},addHandler:function(o,f){if(!f)return this;var g=this[o]=new f(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(xe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)_t(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,f){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),C=et("div",g,f||this._mapPane);return o&&(this._panes[o]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),f=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new rt(f,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,f,g){o=Fe(o),g=de(g||[0,0]);var C=this.getZoom()||0,T=this.getMinZoom(),P=this.getMaxZoom(),H=o.getNorthWest(),q=o.getSouthEast(),ne=this.getSize().subtract(g),ue=Pe(this.project(q,C),this.project(H,C)).getSize(),Ee=Ne.any3d?this.options.zoomSnap:1,je=ne.x/ue.x,qe=ne.y/ue.y,zn=f?Math.max(je,qe):Math.min(je,qe);return C=this.getScaleZoom(zn,C),Ee&&(C=Math.round(C/(Ee/100))*(Ee/100),C=f?Math.ceil(C/Ee)*Ee:Math.floor(C/Ee)*Ee),Math.max(T,Math.min(P,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,f){var g=this._getTopLeftPoint(o,f);return new ve(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,f){var g=this.options.crs;return f=f===void 0?this._zoom:f,g.scale(o)/g.scale(f)},getScaleZoom:function(o,f){var g=this.options.crs;f=f===void 0?this._zoom:f;var C=g.zoom(o*g.scale(f));return isNaN(C)?1/0:C},project:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(he(o),f)},unproject:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(de(o),f)},layerPointToLatLng:function(o){var f=de(o).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(o){var f=this.project(he(o))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(he(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Fe(o))},distance:function(o,f){return this.options.crs.distance(he(o),he(f))},containerPointToLayerPoint:function(o){return de(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return de(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var f=this.containerPointToLayerPoint(de(o));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(o)))},mouseEventToContainerPoint:function(o){return Yr(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var f=this._container=ot(o);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ue(f,"scroll",this._onScroll,this),this._containerId=w(f)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Re(o,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Ye(o,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),we(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Re(o.markerPane,"leaflet-zoom-hide"),Re(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,f,g){we(this._mapPane,new ae(0,0));var C=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var T=this._zoom!==f;this._moveStart(T,g)._move(o,f)._moveEnd(T),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(o,f){return o&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(o,f,g,C){f===void 0&&(f=this._zoom);var T=this._zoom!==f;return this._zoom=f,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),C?g&&g.pinch&&this.fire("zoom",g):((T||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return xe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){we(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[w(this._container)]=this;var f=o?_e:Ue;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){xe(this._resizeRequest),this._resizeRequest=Te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,f){for(var g=[],C,T=f==="mouseout"||f==="mouseover",P=o.target||o.srcElement,H=!1;P;){if(C=this._targets[w(P)],C&&(f==="click"||f==="preclick")&&this._draggableMoved(C)){H=!0;break}if(C&&C.listens(f,!0)&&(T&&!vr(P,o)||(g.push(C),T))||P===this._container)break;P=P.parentNode}return!g.length&&!H&&!T&&this.listens(f,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var f=o.target||o.srcElement;if(!(!this._loaded||f._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(f))){var g=o.type;g==="mousedown"&&Us(f),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,f,g){if(o.type==="click"){var C=l({},o);C.type="preclick",this._fireDOMEvent(C,C.type,g)}var T=this._findEventTargets(o,f);if(g){for(var P=[],H=0;H<g.length;H++)g[H].listens(f,!0)&&P.push(g[H]);T=P.concat(T)}if(T.length){f==="contextmenu"&&on(o);var q=T[0],ne={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ue=q.getLatLng&&(!q._radius||q._radius<=10);ne.containerPoint=ue?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(o),ne.layerPoint=this.containerPointToLayerPoint(ne.containerPoint),ne.latlng=ue?q.getLatLng():this.layerPointToLatLng(ne.layerPoint)}for(H=0;H<T.length;H++)if(T[H].fire(f,ne,!0),ne.originalEvent._stopped||T[H].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,f=this._handlers.length;o<f;o++)this._handlers[o].disable()},whenReady:function(o,f){return this._loaded?o.call(f||this,{target:this}):this.on("load",o,f),this},_getMapPanePos:function(){return Tt(this._mapPane)||new ae(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,f){var g=o&&f!==void 0?this._getNewPixelOrigin(o,f):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,f){var g=this.getSize()._divideBy(2);return this.project(o,f)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,f,g){var C=this._getNewPixelOrigin(g,f);return this.project(o,f)._subtract(C)},_latLngBoundsToNewLayerBounds:function(o,f,g){var C=this._getNewPixelOrigin(g,f);return Pe([this.project(o.getSouthWest(),f)._subtract(C),this.project(o.getNorthWest(),f)._subtract(C),this.project(o.getSouthEast(),f)._subtract(C),this.project(o.getNorthEast(),f)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,f,g){if(!g)return o;var C=this.project(o,f),T=this.getSize().divideBy(2),P=new ve(C.subtract(T),C.add(T)),H=this._getBoundsOffset(P,g,f);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?o:this.unproject(C.add(H),f)},_limitOffset:function(o,f){if(!f)return o;var g=this.getPixelBounds(),C=new ve(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(C,f))},_getBoundsOffset:function(o,f,g){var C=Pe(this.project(f.getNorthEast(),g),this.project(f.getSouthWest(),g)),T=C.min.subtract(o.min),P=C.max.subtract(o.max),H=this._rebound(T.x,-P.x),q=this._rebound(T.y,-P.y);return new ae(H,q)},_rebound:function(o,f){return o+f>0?Math.round(o-f)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(f))},_limitZoom:function(o){var f=this.getMinZoom(),g=this.getMaxZoom(),C=Ne.any3d?this.options.zoomSnap:1;return C&&(o=Math.round(o/C)*C),Math.max(f,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,f){var g=this._getCenterOffset(o)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,f),!0)},_createAnimProxy:function(){var o=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(f){var g=ir,C=this._proxy.style[g];j(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),C===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),f=this.getZoom();j(this._proxy,this.project(o,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,f,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(f),T=this._getCenterOffset(o)._divideBy(1-1/C);return g.animate!==!0&&!this.getSize().contains(T)?!1:(Te(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,f,!0)},this),!0)},_animateZoom:function(o,f,g,C){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=f,Re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:f,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function au(o,f){return new Je(o,f)}var ai=De.extend({options:{position:"topright"},initialize:function(o){B(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var f=this._map;return f&&f.removeControl(this),this.options.position=o,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var f=this._container=this.onAdd(o),g=this.getPosition(),C=o._controlCorners[g];return Re(f,"leaflet-control"),g.indexOf("bottom")!==-1?C.insertBefore(f,C.firstChild):C.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Vs=function(o){return new ai(o)};Je.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},f="leaflet-",g=this._controlContainer=et("div",f+"control-container",this._container);function C(T,P){var H=f+T+" "+f+P;o[T+P]=et("div",H,g)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)_t(this._controlCorners[o]);_t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lu=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,f,g,C){return g<C?-1:C<g?1:0}},initialize:function(o,f,g){B(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in o)this._addLayer(o[C],C);for(C in f)this._addLayer(f[C],C,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ai.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,f){return this._addLayer(o,f),this._map?this._update():this},addOverlay:function(o,f){return this._addLayer(o,f,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var f=this._getLayer(w(o));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",f=this._container=et("div",o),g=this.options.collapsed;f.setAttribute("aria-haspopup",!0),si(f),Ao(f);var C=this._section=et("section",o+"-list");g&&(this._map.on("click",this.collapse,this),Ue(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=et("a",o+"-toggle",f);T.href="#",T.title="Layers",T.setAttribute("role","button"),Ue(T,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){on(P),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=et("div",o+"-base",C),this._separator=et("div",o+"-separator",C),this._overlaysList=et("div",o+"-overlays",C),f.appendChild(C)},_getLayer:function(o){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&w(this._layers[f].layer)===o)return this._layers[f]},_addLayer:function(o,f,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:f,overlay:g}),this.options.sortLayers&&this._layers.sort(p(function(C,T){return this.options.sortFunction(C.layer,T.layer,C.name,T.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zr(this._baseLayersList),Zr(this._overlaysList),this._layerControlInputs=[];var o,f,g,C,T=0;for(g=0;g<this._layers.length;g++)C=this._layers[g],this._addItem(C),f=f||C.overlay,o=o||!C.overlay,T+=C.overlay?0:1;return this.options.hideSingleBase&&(o=o&&T>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=f&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var f=this._getLayer(w(o.target)),g=f.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,f)},_createRadioElement:function(o,f){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(f?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=g,C.firstChild},_addItem:function(o){var f=document.createElement("label"),g=this._map.hasLayer(o.layer),C;o.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=g):C=this._createRadioElement("leaflet-base-layers_"+w(this),g),this._layerControlInputs.push(C),C.layerId=w(o.layer),Ue(C,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+o.name;var P=document.createElement("span");f.appendChild(P),P.appendChild(C),P.appendChild(T);var H=o.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,f,g,C=[],T=[];this._handlingClick=!0;for(var P=o.length-1;P>=0;P--)f=o[P],g=this._getLayer(f.layerId).layer,f.checked?C.push(g):f.checked||T.push(g);for(P=0;P<T.length;P++)this._map.hasLayer(T[P])&&this._map.removeLayer(T[P]);for(P=0;P<C.length;P++)this._map.hasLayer(C[P])||this._map.addLayer(C[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,f,g,C=this._map.getZoom(),T=o.length-1;T>=0;T--)f=o[T],g=this._getLayer(f.layerId).layer,f.disabled=g.options.minZoom!==void 0&&C<g.options.minZoom||g.options.maxZoom!==void 0&&C>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ue(o,"click",on),this.expand();var f=this;setTimeout(function(){_e(o,"click",on),f._preventClick=!1})}}),ft=function(o,f,g){return new lu(o,f,g)},So=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var f="leaflet-control-zoom",g=et("div",f+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,f+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,f+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,f,g,C,T){var P=et("a",g,C);return P.innerHTML=o,P.href="#",P.title=f,P.setAttribute("role","button"),P.setAttribute("aria-label",f),si(P),Ue(P,"click",oi),Ue(P,"click",T,this),Ue(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var o=this._map,f="leaflet-disabled";ht(this._zoomInButton,f),ht(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Re(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Re(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Je.mergeOptions({zoomControl:!0}),Je.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new So,this.addControl(this.zoomControl))});var To=function(o){return new So(o)},Hi=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var f="leaflet-control-scale",g=et("div",f),C=this.options;return this._addScales(C,f+"-line",g),o.on(C.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,f,g){o.metric&&(this._mScale=et("div",f,g)),o.imperial&&(this._iScale=et("div",f,g))},_update:function(){var o=this._map,f=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,f]),o.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var f=this._getRoundNum(o),g=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,g,f/o)},_updateImperial:function(o){var f=o*3.2808399,g,C,T;f>5280?(g=f/5280,C=this._getRoundNum(g),this._updateScale(this._iScale,C+" mi",C/g)):(T=this._getRoundNum(f),this._updateScale(this._iScale,T+" ft",T/f))},_updateScale:function(o,f,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=f},_getRoundNum:function(o){var f=Math.pow(10,(Math.floor(o)+"").length-1),g=o/f;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,f*g}}),Sh=function(o){return new Hi(o)},ee='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ze=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?ee+" ":"")+"Leaflet</a>"},initialize:function(o){B(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=et("div","leaflet-control-attribution"),si(this._container);for(var f in o._layers)o._layers[f].getAttribution&&this.addAttribution(o._layers[f].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var f in this._attributions)this._attributions[f]&&o.push(f);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Je.mergeOptions({attributionControl:!0}),Je.addInitHook(function(){this.options.attributionControl&&new Ze().addTo(this)});var an=function(o){return new Ze(o)};ai.Layers=lu,ai.Zoom=So,ai.Scale=Hi,ai.Attribution=Ze,Vs.layers=ft,Vs.zoom=To,Vs.scale=Sh,Vs.attribution=an;var Bn=De.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bn.addTo=function(o,f){return o.addHandler(f,this),this};var uu={Events:Ae},cu=Ne.touch?"touchstart mousedown":"mousedown",rr=Oe.extend({options:{clickTolerance:3},initialize:function(o,f,g,C){B(this,C),this._element=o,this._dragStartTarget=f||o,this._preventOutline=g},enable:function(){this._enabled||(Ue(this._dragStartTarget,cu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rr._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,cu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ia(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){rr._dragging===this&&this.finishDrag();return}if(!(rr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(rr._dragging=this,this._preventOutline&&Us(this._element),Le(),mn(),!this._moving)){this.fire("down");var f=o.touches?o.touches[0]:o,g=Eo(this._element);this._startPoint=new ae(f.clientX,f.clientY),this._startPos=Tt(this._element),this._parentScale=Oa(g);var C=o.type==="mousedown";Ue(document,C?"mousemove":"touchmove",this._onMove,this),Ue(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var f=o.touches&&o.touches.length===1?o.touches[0]:o,g=new ae(f.clientX,f.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,on(o),this._moved||(this.fire("dragstart"),this._moved=!0,Re(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),we(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),Ct(),Fs();var f=this._moved&&this._moving;this._moving=!1,rr._dragging=!1,f&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function hu(o,f,g){var C,T=[1,4,2,8],P,H,q,ne,ue,Ee,je,qe;for(P=0,Ee=o.length;P<Ee;P++)o[P]._code=_r(o[P],f);for(q=0;q<4;q++){for(je=T[q],C=[],P=0,Ee=o.length,H=Ee-1;P<Ee;H=P++)ne=o[P],ue=o[H],ne._code&je?ue._code&je||(qe=Wi(ue,ne,je,f,g),qe._code=_r(qe,f),C.push(qe)):(ue._code&je&&(qe=Wi(ue,ne,je,f,g),qe._code=_r(qe,f),C.push(qe)),C.push(ne));o=C}return o}function bo(o,f){var g,C,T,P,H,q,ne,ue,Ee;if(!o||o.length===0)throw new Error("latlngs not passed");Fn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var je=he([0,0]),qe=Fe(o),zn=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());zn<1700&&(je=Ft(o));var xn=o.length,bi=[];for(g=0;g<xn;g++){var Xn=he(o[g]);bi.push(f.project(he([Xn.lat-je.lat,Xn.lng-je.lng])))}for(q=ne=ue=0,g=0,C=xn-1;g<xn;C=g++)T=bi[g],P=bi[C],H=T.y*P.x-P.y*T.x,ne+=(T.x+P.x)*H,ue+=(T.y+P.y)*H,q+=H*3;q===0?Ee=bi[0]:Ee=[ne/q,ue/q];var No=f.unproject(de(Ee));return he([No.lat+je.lat,No.lng+je.lng])}function Ft(o){for(var f=0,g=0,C=0,T=0;T<o.length;T++){var P=he(o[T]);f+=P.lat,g+=P.lng,C++}return he([f/C,g/C])}var La={__proto__:null,clipPolygon:hu,polygonCenter:bo,centroid:Ft};function Ot(o,f){if(!f||!o.length)return o.slice();var g=f*f;return o=Th(o,g),o=mt(o,g),o}function Hs(o,f,g){return Math.sqrt(Cr(o,f,g,!0))}function wr(o,f,g){return Cr(o,f,g)}function mt(o,f){var g=o.length,C=typeof Uint8Array<"u"?Uint8Array:Array,T=new C(g);T[0]=T[g-1]=1,ke(o,T,f,0,g-1);var P,H=[];for(P=0;P<g;P++)T[P]&&H.push(o[P]);return H}function ke(o,f,g,C,T){var P=0,H,q,ne;for(q=C+1;q<=T-1;q++)ne=Cr(o[q],o[C],o[T],!0),ne>P&&(H=q,P=ne);P>g&&(f[H]=1,ke(o,f,g,C,H),ke(o,f,g,H,T))}function Th(o,f){for(var g=[o[0]],C=1,T=0,P=o.length;C<P;C++)Ci(o[C],o[T])>f&&(g.push(o[C]),T=C);return T<P-1&&g.push(o[P-1]),g}var vt;function sr(o,f,g,C,T){var P=C?vt:_r(o,g),H=_r(f,g),q,ne,ue;for(vt=H;;){if(!(P|H))return[o,f];if(P&H)return!1;q=P||H,ne=Wi(o,f,q,g,T),ue=_r(ne,g),q===P?(o=ne,P=ue):(f=ne,H=ue)}}function Wi(o,f,g,C,T){var P=f.x-o.x,H=f.y-o.y,q=C.min,ne=C.max,ue,Ee;return g&8?(ue=o.x+P*(ne.y-o.y)/H,Ee=ne.y):g&4?(ue=o.x+P*(q.y-o.y)/H,Ee=q.y):g&2?(ue=ne.x,Ee=o.y+H*(ne.x-o.x)/P):g&1&&(ue=q.x,Ee=o.y+H*(q.x-o.x)/P),new ae(ue,Ee,T)}function _r(o,f){var g=0;return o.x<f.min.x?g|=1:o.x>f.max.x&&(g|=2),o.y<f.min.y?g|=4:o.y>f.max.y&&(g|=8),g}function Ci(o,f){var g=f.x-o.x,C=f.y-o.y;return g*g+C*C}function Cr(o,f,g,C){var T=f.x,P=f.y,H=g.x-T,q=g.y-P,ne=H*H+q*q,ue;return ne>0&&(ue=((o.x-T)*H+(o.y-P)*q)/ne,ue>1?(T=g.x,P=g.y):ue>0&&(T+=H*ue,P+=q*ue)),H=o.x-T,q=o.y-P,C?H*H+q*q:new ae(T,P)}function Fn(o){return!R(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Io(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fn(o)}function Da(o,f){var g,C,T,P,H,q,ne,ue;if(!o||o.length===0)throw new Error("latlngs not passed");Fn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ee=he([0,0]),je=Fe(o),qe=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());qe<1700&&(Ee=Ft(o));var zn=o.length,xn=[];for(g=0;g<zn;g++){var bi=he(o[g]);xn.push(f.project(he([bi.lat-Ee.lat,bi.lng-Ee.lng])))}for(g=0,C=0;g<zn-1;g++)C+=xn[g].distanceTo(xn[g+1])/2;if(C===0)ue=xn[0];else for(g=0,P=0;g<zn-1;g++)if(H=xn[g],q=xn[g+1],T=H.distanceTo(q),P+=T,P>C){ne=(P-C)/T,ue=[q.x-ne*(q.x-H.x),q.y-ne*(q.y-H.y)];break}var Xn=f.unproject(de(ue));return he([Xn.lat+Ee.lat,Xn.lng+Ee.lng])}var fu={__proto__:null,simplify:Ot,pointToSegmentDistance:Hs,closestPointOnSegment:wr,clipSegment:sr,_getEdgeIntersection:Wi,_getBitCode:_r,_sqClosestPointOnSegment:Cr,isFlat:Fn,_flat:Io,polylineCenter:Da},ka={project:function(o){return new ae(o.lng,o.lat)},unproject:function(o){return new Ge(o.y,o.x)},bounds:new ve([-180,-90],[180,90])},or={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var f=Math.PI/180,g=this.R,C=o.lat*f,T=this.R_MINOR/g,P=Math.sqrt(1-T*T),H=P*Math.sin(C),q=Math.tan(Math.PI/4-C/2)/Math.pow((1-H)/(1+H),P/2);return C=-g*Math.log(Math.max(q,1e-10)),new ae(o.lng*f*g,C)},unproject:function(o){for(var f=180/Math.PI,g=this.R,C=this.R_MINOR/g,T=Math.sqrt(1-C*C),P=Math.exp(-o.y/g),H=Math.PI/2-2*Math.atan(P),q=0,ne=.1,ue;q<15&&Math.abs(ne)>1e-7;q++)ue=T*Math.sin(H),ue=Math.pow((1-ue)/(1+ue),T/2),ne=Math.PI/2-2*Math.atan(P*ue)-H,H+=ne;return new Ge(H*f,o.x*f/g)}},Ba={__proto__:null,LonLat:ka,Mercator:or,SphericalMercator:Gn},bh=l({},dt,{code:"EPSG:3395",projection:or,transformation:function(){var o=.5/(Math.PI*or.R);return Bi(o,.5,-o,.5)}()}),Kr=l({},dt,{code:"EPSG:4326",projection:ka,transformation:Bi(1/180,1,-1/180,.5)}),Ih=l({},Yt,{projection:ka,transformation:Bi(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,f){var g=f.lng-o.lng,C=f.lat-o.lat;return Math.sqrt(g*g+C*C)},infinite:!0});Yt.Earth=dt,Yt.EPSG3395=bh,Yt.EPSG3857=tt,Yt.EPSG900913=Ur,Yt.EPSG4326=Kr,Yt.Simple=Ih;var en=Oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[w(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[w(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var f=o.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var g=this.getEvents();f.on(g,this),this.once("remove",function(){f.off(g,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Je.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var f=w(o);return this._layers[f]?this:(this._layers[f]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var f=w(o);return this._layers[f]?(this._loaded&&o.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return w(o)in this._layers},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},_addLayers:function(o){o=o?R(o)?o:[o]:[];for(var f=0,g=o.length;f<g;f++)this.addLayer(o[f])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[w(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var f=w(o);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,f=-1/0,g=this._getZoomSpan();for(var C in this._zoomBoundLayers){var T=this._zoomBoundLayers[C].options;o=T.minZoom===void 0?o:Math.min(o,T.minZoom),f=T.maxZoom===void 0?f:Math.max(f,T.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zi=en.extend({initialize:function(o,f){B(this,f),this._layers={};var g,C;if(o)for(g=0,C=o.length;g<C;g++)this.addLayer(o[g])},addLayer:function(o){var f=this.getLayerId(o);return this._layers[f]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var f=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(o){var f=typeof o=="number"?o:this.getLayerId(o);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var f=Array.prototype.slice.call(arguments,1),g,C;for(g in this._layers)C=this._layers[g],C[o]&&C[o].apply(C,f);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return w(o)}}),Yn=function(o,f){return new Zi(o,f)},Ei=Zi.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Zi.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Zi.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new rt;for(var f in this._layers){var g=this._layers[f];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Ai=function(o,f){return new Ei(o,f)},Qr=De.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){B(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,f){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(g,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(C,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(o,f){var g=this.options,C=g[f+"Size"];typeof C=="number"&&(C=[C,C]);var T=de(C),P=de(f==="shadow"&&g.shadowAnchor||g.iconAnchor||T&&T.divideBy(2,!0));o.className="leaflet-marker-"+f+" "+(g.className||""),P&&(o.style.marginLeft=-P.x+"px",o.style.marginTop=-P.y+"px"),T&&(o.style.width=T.x+"px",o.style.height=T.y+"px")},_createImg:function(o,f){return f=f||document.createElement("img"),f.src=o,f},_getIconUrl:function(o){return Ne.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Fa(o){return new Qr(o)}var Ws=Qr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ws.imagePath!="string"&&(Ws.imagePath=this._detectIconPath()),(this.options.imagePath||Ws.imagePath)+Qr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var f=function(g,C,T){var P=C.exec(g);return P&&P[T]};return o=f(o,/^url\((['"])?(.+)\1\)$/,2),o&&f(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=et("div","leaflet-default-icon-path",document.body),f=Ye(o,"background-image")||Ye(o,"backgroundImage");if(document.body.removeChild(o),f=this._stripUrl(f),f)return f;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),ja=Bn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new rr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Re(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var f=this._marker,g=f._map,C=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,P=Tt(f._icon),H=g.getPixelBounds(),q=g.getPixelOrigin(),ne=Pe(H.min._subtract(q).add(T),H.max._subtract(q).subtract(T));if(!ne.contains(P)){var ue=de((Math.max(ne.max.x,P.x)-ne.max.x)/(H.max.x-ne.max.x)-(Math.min(ne.min.x,P.x)-ne.min.x)/(H.min.x-ne.min.x),(Math.max(ne.max.y,P.y)-ne.max.y)/(H.max.y-ne.max.y)-(Math.min(ne.min.y,P.y)-ne.min.y)/(H.min.y-ne.min.y)).multiplyBy(C);g.panBy(ue,{animate:!1}),this._draggable._newPos._add(ue),this._draggable._startPos._add(ue),we(f._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Te(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(xe(this._panRequest),this._panRequest=Te(this._adjustPan.bind(this,o)))},_onDrag:function(o){var f=this._marker,g=f._shadow,C=Tt(f._icon),T=f._map.layerPointToLatLng(C);g&&we(g,C),f._latlng=T,o.latlng=T,o.oldLatLng=this._oldLatLng,f.fire("move",o).fire("drag",o)},_onDragEnd:function(o){xe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),jn=en.extend({options:{icon:new Ws,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,f){B(this,f),this._latlng=he(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var f=this._latlng;return this._latlng=he(o),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),C=!1;g!==this._icon&&(this._icon&&this._removeIcon(),C=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),Re(g,f),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(g,"focus",this._panOnFocus,this);var T=o.icon.createShadow(this._shadow),P=!1;T!==this._shadow&&(this._removeShadow(),P=!0),T&&(Re(T,f),T.alt=""),this._shadow=T,o.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&P&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),_t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_t(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&we(this._icon,o),this._shadow&&we(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ja)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ja(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Xe(this._icon,o),this._shadow&&Xe(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var f=this.options.icon.options,g=f.iconSize?de(f.iconSize):de(0,0),C=f.iconAnchor?de(f.iconAnchor):de(0,0);o.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:g.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nh(o,f){return new jn(o,f)}var Si=en.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return B(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ar=Si.extend({options:{fill:!0,radius:10},initialize:function(o,f){B(this,f),this._latlng=he(o),this._radius=this.options.radius},setLatLng:function(o){var f=this._latlng;return this._latlng=he(o),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var f=o&&o.radius||this._radius;return Si.prototype.setStyle.call(this,o),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,f=this._radiusY||o,g=this._clickTolerance(),C=[o+g,f+g];this._pxBounds=new ve(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function it(o,f){return new ar(o,f)}var qr=ar.extend({initialize:function(o,f,g){if(typeof f=="number"&&(f=l({},g,{radius:f})),B(this,f),this._latlng=he(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Si.prototype.setStyle,_project:function(){var o=this._latlng.lng,f=this._latlng.lat,g=this._map,C=g.options.crs;if(C.distance===dt.distance){var T=Math.PI/180,P=this._mRadius/dt.R/T,H=g.project([f+P,o]),q=g.project([f-P,o]),ne=H.add(q).divideBy(2),ue=g.unproject(ne).lat,Ee=Math.acos((Math.cos(P*T)-Math.sin(f*T)*Math.sin(ue*T))/(Math.cos(f*T)*Math.cos(ue*T)))/T;(isNaN(Ee)||Ee===0)&&(Ee=P/Math.cos(Math.PI/180*f)),this._point=ne.subtract(g.getPixelOrigin()),this._radius=isNaN(Ee)?0:ne.x-g.project([ue,o-Ee]).x,this._radiusY=ne.y-H.y}else{var je=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(je).x}this._updateBounds()}});function I(o,f,g){return new qr(o,f,g)}var i=Si.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,f){B(this,f),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var f=1/0,g=null,C=Cr,T,P,H=0,q=this._parts.length;H<q;H++)for(var ne=this._parts[H],ue=1,Ee=ne.length;ue<Ee;ue++){T=ne[ue-1],P=ne[ue];var je=C(o,T,P,!0);je<f&&(f=je,g=C(o,T,P))}return g&&(g.distance=Math.sqrt(f)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Da(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,f){return f=f||this._defaultShape(),o=he(o),f.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new rt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Fn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var f=[],g=Fn(o),C=0,T=o.length;C<T;C++)g?(f[C]=he(o[C]),this._bounds.extend(f[C])):f[C]=this._convertLatLngs(o[C]);return f},_project:function(){var o=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),f=new ae(o,o);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(o,f,g){var C=o[0]instanceof Ge,T=o.length,P,H;if(C){for(H=[],P=0;P<T;P++)H[P]=this._map.latLngToLayerPoint(o[P]),g.extend(H[P]);f.push(H)}else for(P=0;P<T;P++)this._projectLatlngs(o[P],f,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,g,C,T,P,H,q,ne;for(g=0,T=0,P=this._rings.length;g<P;g++)for(ne=this._rings[g],C=0,H=ne.length;C<H-1;C++)q=sr(ne[C],ne[C+1],o,C,!0),q&&(f[T]=f[T]||[],f[T].push(q[0]),(q[1]!==ne[C+1]||C===H-2)&&(f[T].push(q[1]),T++))}},_simplifyPoints:function(){for(var o=this._parts,f=this.options.smoothFactor,g=0,C=o.length;g<C;g++)o[g]=Ot(o[g],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,f){var g,C,T,P,H,q,ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,P=this._parts.length;g<P;g++)for(q=this._parts[g],C=0,H=q.length,T=H-1;C<H;T=C++)if(!(!f&&C===0)&&Hs(o,q[T],q[C])<=ne)return!0;return!1}});function s(o,f){return new i(o,f)}i._flat=Io;var a=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var f=i.prototype._convertLatLngs.call(this,o),g=f.length;return g>=2&&f[0]instanceof Ge&&f[0].equals(f[g-1])&&f.pop(),f},_setLatLngs:function(o){i.prototype._setLatLngs.call(this,o),Fn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,f=this.options.weight,g=new ae(f,f);if(o=new ve(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,T=this._rings.length,P;C<T;C++)P=hu(this._rings[C],o,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var f=!1,g,C,T,P,H,q,ne,ue;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(P=0,ne=this._parts.length;P<ne;P++)for(g=this._parts[P],H=0,ue=g.length,q=ue-1;H<ue;q=H++)C=g[H],T=g[q],C.y>o.y!=T.y>o.y&&o.x<(T.x-C.x)*(o.y-C.y)/(T.y-C.y)+C.x&&(f=!f);return f||i.prototype._containsPoint.call(this,o,!0)}});function u(o,f){return new a(o,f)}var h=Ei.extend({initialize:function(o,f){B(this,f),this._layers={},o&&this.addData(o)},addData:function(o){var f=R(o)?o:o.features,g,C,T;if(f){for(g=0,C=f.length;g<C;g++)T=f[g],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var P=this.options;if(P.filter&&!P.filter(o))return this;var H=d(o,P);return H?(H.feature=U(o),H.defaultOptions=H.options,this.resetStyle(H),P.onEachFeature&&P.onEachFeature(o,H),this.addLayer(H)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=l({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(f){this._setLayerStyle(f,o)},this)},_setLayerStyle:function(o,f){o.setStyle&&(typeof f=="function"&&(f=f(o.feature)),o.setStyle(f))}});function d(o,f){var g=o.type==="Feature"?o.geometry:o,C=g?g.coordinates:null,T=[],P=f&&f.pointToLayer,H=f&&f.coordsToLatLng||v,q,ne,ue,Ee;if(!C&&!g)return null;switch(g.type){case"Point":return q=H(C),m(P,o,q,f);case"MultiPoint":for(ue=0,Ee=C.length;ue<Ee;ue++)q=H(C[ue]),T.push(m(P,o,q,f));return new Ei(T);case"LineString":case"MultiLineString":return ne=_(C,g.type==="LineString"?0:1,H),new i(ne,f);case"Polygon":case"MultiPolygon":return ne=_(C,g.type==="Polygon"?1:2,H),new a(ne,f);case"GeometryCollection":for(ue=0,Ee=g.geometries.length;ue<Ee;ue++){var je=d({geometry:g.geometries[ue],type:"Feature",properties:o.properties},f);je&&T.push(je)}return new Ei(T);case"FeatureCollection":for(ue=0,Ee=g.features.length;ue<Ee;ue++){var qe=d(g.features[ue],f);qe&&T.push(qe)}return new Ei(T);default:throw new Error("Invalid GeoJSON object.")}}function m(o,f,g,C){return o?o(f,g):new jn(g,C&&C.markersInheritOptions&&C)}function v(o){return new Ge(o[1],o[0],o[2])}function _(o,f,g){for(var C=[],T=0,P=o.length,H;T<P;T++)H=f?_(o[T],f-1,g):(g||v)(o[T]),C.push(H);return C}function S(o,f){return o=he(o),o.alt!==void 0?[M(o.lng,f),M(o.lat,f),M(o.alt,f)]:[M(o.lng,f),M(o.lat,f)]}function N(o,f,g,C){for(var T=[],P=0,H=o.length;P<H;P++)T.push(f?N(o[P],Fn(o[P])?0:f-1,g,C):S(o[P],C));return!f&&g&&T.length>0&&T.push(T[0].slice()),T}function O(o,f){return o.feature?l({},o.feature,{geometry:f}):U(f)}function U(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var G={toGeoJSON:function(o){return O(this,{type:"Point",coordinates:S(this.getLatLng(),o)})}};jn.include(G),qr.include(G),ar.include(G),i.include({toGeoJSON:function(o){var f=!Fn(this._latlngs),g=N(this._latlngs,f?1:0,!1,o);return O(this,{type:(f?"Multi":"")+"LineString",coordinates:g})}}),a.include({toGeoJSON:function(o){var f=!Fn(this._latlngs),g=f&&!Fn(this._latlngs[0]),C=N(this._latlngs,g?2:f?1:0,!0,o);return f||(C=[C]),O(this,{type:(g?"Multi":"")+"Polygon",coordinates:C})}}),Zi.include({toMultiPoint:function(o){var f=[];return this.eachLayer(function(g){f.push(g.toGeoJSON(o).geometry.coordinates)}),O(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(o){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(o);var g=f==="GeometryCollection",C=[];return this.eachLayer(function(T){if(T.toGeoJSON){var P=T.toGeoJSON(o);if(g)C.push(P.geometry);else{var H=U(P);H.type==="FeatureCollection"?C.push.apply(C,H.features):C.push(H)}}}),g?O(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Y(o,f){return new h(o,f)}var K=Y,$=en.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,f,g){this._url=o,this._bounds=Fe(f),B(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&St(this._image),this},bringToBack:function(){return this._map&&kn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Fe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",f=this._image=o?this._url:et("img");if(Re(f,"leaflet-image-layer"),this._zoomAnimated&&Re(f,"leaflet-zoom-animated"),this.options.className&&Re(f,this.options.className),f.onselectstart=A,f.onmousemove=A,f.onload=p(this.fire,this,"load"),f.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(o){var f=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;j(this._image,g,f)},_reset:function(){var o=this._image,f=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=f.getSize();we(o,f.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){Xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),pe=function(o,f,g){return new $(o,f,g)},me=$.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",f=this._image=o?this._url:et("video");if(Re(f,"leaflet-image-layer"),this._zoomAnimated&&Re(f,"leaflet-zoom-animated"),this.options.className&&Re(f,this.options.className),f.onselectstart=A,f.onmousemove=A,f.onloadeddata=p(this.fire,this,"load"),o){for(var g=f.getElementsByTagName("source"),C=[],T=0;T<g.length;T++)C.push(g[T].src);this._url=g.length>0?C:[f.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var H=et("source");H.src=this._url[P],f.appendChild(H)}}});function ce(o,f,g){return new me(o,f,g)}var Ke=$.extend({_initImage:function(){var o=this._image=this._url;Re(o,"leaflet-image-layer"),this._zoomAnimated&&Re(o,"leaflet-zoom-animated"),this.options.className&&Re(o,this.options.className),o.onselectstart=A,o.onmousemove=A}});function We(o,f,g){return new Ke(o,f,g)}var Pt=en.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,f){o&&(o instanceof Ge||R(o))?(this._latlng=he(o),B(this,f)):(B(this,o),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Xe(this._container,1),this.bringToFront(),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Xe(this._container,0),this._removeTimeout=setTimeout(p(_t,void 0,this._container),200)):_t(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=he(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&St(this._container),this},bringToBack:function(){return this._map&&kn(this._container),this},_prepareOpen:function(o){var f=this._source;if(!f._map)return!1;if(f instanceof Ei){f=null;var g=this._source._layers;for(var C in g)if(g[C]._map){f=g[C];break}if(!f)return!1;this._source=f}if(!o)if(f.getCenter)o=f.getCenter();else if(f.getLatLng)o=f.getLatLng();else if(f.getBounds)o=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")o.innerHTML=f;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),f=de(this.options.offset),g=this._getAnchor();this._zoomAnimated?we(this._container,o.add(g)):f=f.add(o).add(g);var C=this._containerBottom=-f.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=C+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Je.include({_initOverlay:function(o,f,g,C){var T=f;return T instanceof o||(T=new o(C).setContent(f)),g&&T.setLatLng(g),T}}),en.include({_initOverlay:function(o,f,g,C){var T=g;return T instanceof o?(B(T,C),T._source=this):(T=f&&!C?f:new o(C,this),T.setContent(g)),T}});var Sn=Pt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Pt.prototype.openOn.call(this,o)},onAdd:function(o){Pt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Si||this._source.on("preclick",Vi))},onRemove:function(o){Pt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Si||this._source.off("preclick",Vi))},getEvents:function(){var o=Pt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",f=this._container=et("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=et("div",o+"-content-wrapper",f);if(this._contentNode=et("div",o+"-content",g),si(f),Ao(this._contentNode),Ue(f,"contextmenu",Vi),this._tipContainer=et("div",o+"-tip-container",f),this._tip=et("div",o+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=et("a",o+"-close-button",f);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Ue(C,"click",function(T){on(T),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,f=o.style;f.width="",f.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),f.width=g+1+"px",f.whiteSpace="",f.height="";var C=o.offsetHeight,T=this.options.maxHeight,P="leaflet-popup-scrolled";T&&C>T?(f.height=T+"px",Re(o,P)):ht(o,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();we(this._container,f.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,f=parseInt(Ye(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+f,C=this._containerWidth,T=new ae(this._containerLeft,-g-this._containerBottom);T._add(Tt(this._container));var P=o.layerPointToContainerPoint(T),H=de(this.options.autoPanPadding),q=de(this.options.autoPanPaddingTopLeft||H),ne=de(this.options.autoPanPaddingBottomRight||H),ue=o.getSize(),Ee=0,je=0;P.x+C+ne.x>ue.x&&(Ee=P.x+C-ue.x+ne.x),P.x-Ee-q.x<0&&(Ee=P.x-q.x),P.y+g+ne.y>ue.y&&(je=P.y+g-ue.y+ne.y),P.y-je-q.y<0&&(je=P.y-q.y),(Ee||je)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ee,je]))}},_getAnchor:function(){return de(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tn=function(o,f){return new Sn(o,f)};Je.mergeOptions({closePopupOnClick:!0}),Je.include({openPopup:function(o,f,g){return this._initOverlay(Sn,o,f,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),en.include({bindPopup:function(o,f){return this._popup=this._initOverlay(Sn,this._popup,o,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ei||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){oi(o);var f=o.layer||o.target;if(this._popup._source===f&&!(f instanceof Si)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=f,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var ut=Pt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Pt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Pt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Pt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",f=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+w(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var f,g,C=this._map,T=this._container,P=C.latLngToContainerPoint(C.getCenter()),H=C.layerPointToContainerPoint(o),q=this.options.direction,ne=T.offsetWidth,ue=T.offsetHeight,Ee=de(this.options.offset),je=this._getAnchor();q==="top"?(f=ne/2,g=ue):q==="bottom"?(f=ne/2,g=0):q==="center"?(f=ne/2,g=ue/2):q==="right"?(f=0,g=ue/2):q==="left"?(f=ne,g=ue/2):H.x<P.x?(q="right",f=0,g=ue/2):(q="left",f=ne+(Ee.x+je.x)*2,g=ue/2),o=o.subtract(de(f,g,!0)).add(Ee).add(je),ht(T,"leaflet-tooltip-right"),ht(T,"leaflet-tooltip-left"),ht(T,"leaflet-tooltip-top"),ht(T,"leaflet-tooltip-bottom"),Re(T,"leaflet-tooltip-"+q),we(T,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Xe(this._container,o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(f)},_getAnchor:function(){return de(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ln=function(o,f){return new ut(o,f)};Je.include({openTooltip:function(o,f,g){return this._initOverlay(ut,o,f,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),en.include({bindTooltip:function(o,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ut,this._tooltip,o,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var f=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[f](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ei||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&(Ue(f,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ue(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var f=o.latlng,g,C;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),C=this._map.containerPointToLayerPoint(g),f=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(f)}});var bn=Qr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var f=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Zr(f),f.appendChild(g.html)):f.innerHTML=g.html!==!1?g.html:"",g.bgPos){var C=de(g.bgPos);f.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Jr(o){return new bn(o)}Qr.Default=Ws;var Ti=en.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){B(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),_t(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(St(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(kn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ae?o:new ae(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var f=this.getPane().children,g=-o(-1/0,1/0),C=0,T=f.length,P;C<T;C++)P=f[C].style.zIndex,f[C]!==this._container&&P&&(g=o(g,+P));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){Xe(this._container,this.options.opacity);var o=+new Date,f=!1,g=!1;for(var C in this._tiles){var T=this._tiles[C];if(!(!T.current||!T.loaded)){var P=Math.min(1,(o-T.loaded)/200);Xe(T.el,P),P<1?f=!0:(T.active?g=!0:this._onOpaqueTile(T),T.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),f&&(xe(this._fadeFrame),this._fadeFrame=Te(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,f=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=f-Math.abs(o-g),this._onUpdateLevel(g)):(_t(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var C=this._levels[o],T=this._map;return C||(C=this._levels[o]={},C.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=f,C.origin=T.project(T.unproject(T.getPixelOrigin()),o).round(),C.zoom=o,this._setZoomTransform(C,T.getCenter(),T.getZoom()),A(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var o,f,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)f=this._tiles[o],f.retain=f.current;for(o in this._tiles)if(f=this._tiles[o],f.current&&!f.active){var C=f.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var f in this._tiles)this._tiles[f].coords.z===o&&this._removeTile(f)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)_t(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,f,g,C){var T=Math.floor(o/2),P=Math.floor(f/2),H=g-1,q=new ae(+T,+P);q.z=+H;var ne=this._tileCoordsToKey(q),ue=this._tiles[ne];return ue&&ue.active?(ue.retain=!0,!0):(ue&&ue.loaded&&(ue.retain=!0),H>C?this._retainParent(T,P,H,C):!1)},_retainChildren:function(o,f,g,C){for(var T=2*o;T<2*o+2;T++)for(var P=2*f;P<2*f+2;P++){var H=new ae(T,P);H.z=g+1;var q=this._tileCoordsToKey(H),ne=this._tiles[q];if(ne&&ne.active){ne.retain=!0;continue}else ne&&ne.loaded&&(ne.retain=!0);g+1<C&&this._retainChildren(T,P,g+1,C)}},_resetView:function(o){var f=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var f=this.options;return f.minNativeZoom!==void 0&&o<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<o?f.maxNativeZoom:o},_setView:function(o,f,g,C){var T=Math.round(f);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var P=this.options.updateWhenZooming&&T!==this._tileZoom;(!C||P)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,f)},_setZoomTransforms:function(o,f){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,f)},_setZoomTransform:function(o,f,g){var C=this._map.getZoomScale(g,o.zoom),T=o.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(f,g)).round();Ne.any3d?j(o.el,T,C):we(o.el,T)},_resetGrid:function(){var o=this._map,f=o.options.crs,g=this._tileSize=this.getTileSize(),C=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,f.wrapLng[0]],C).x/g.x),Math.ceil(o.project([0,f.wrapLng[1]],C).x/g.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([f.wrapLat[0],0],C).y/g.x),Math.ceil(o.project([f.wrapLat[1],0],C).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var f=this._map,g=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),C=f.getZoomScale(g,this._tileZoom),T=f.project(o,this._tileZoom).floor(),P=f.getSize().divideBy(C*2);return new ve(T.subtract(P),T.add(P))},_update:function(o){var f=this._map;if(f){var g=this._clampZoom(f.getZoom());if(o===void 0&&(o=f.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(o),T=this._pxBoundsToTileRange(C),P=T.getCenter(),H=[],q=this.options.keepBuffer,ne=new ve(T.getBottomLeft().subtract([q,-q]),T.getTopRight().add([q,-q]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ue in this._tiles){var Ee=this._tiles[ue].coords;(Ee.z!==this._tileZoom||!ne.contains(new ae(Ee.x,Ee.y)))&&(this._tiles[ue].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var je=T.min.y;je<=T.max.y;je++)for(var qe=T.min.x;qe<=T.max.x;qe++){var zn=new ae(qe,je);if(zn.z=this._tileZoom,!!this._isValidTile(zn)){var xn=this._tiles[this._tileCoordsToKey(zn)];xn?xn.current=!0:H.push(zn)}}if(H.sort(function(Xn,No){return Xn.distanceTo(P)-No.distanceTo(P)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var bi=document.createDocumentFragment();for(qe=0;qe<H.length;qe++)this._addTile(H[qe],bi);this._level.el.appendChild(bi)}}}},_isValidTile:function(o){var f=this._map.options.crs;if(!f.infinite){var g=this._globalTileRange;if(!f.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!f.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(o);return Fe(this.options.bounds).overlaps(C)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var f=this._map,g=this.getTileSize(),C=o.scaleBy(g),T=C.add(g),P=f.unproject(C,o.z),H=f.unproject(T,o.z);return[P,H]},_tileCoordsToBounds:function(o){var f=this._tileCoordsToNwSe(o),g=new rt(f[0],f[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var f=o.split(":"),g=new ae(+f[0],+f[1]);return g.z=+f[2],g},_removeTile:function(o){var f=this._tiles[o];f&&(_t(f.el),delete this._tiles[o],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Re(o,"leaflet-tile");var f=this.getTileSize();o.style.width=f.x+"px",o.style.height=f.y+"px",o.onselectstart=A,o.onmousemove=A,Ne.ielt9&&this.options.opacity<1&&Xe(o,this.options.opacity)},_addTile:function(o,f){var g=this._getTilePos(o),C=this._tileCoordsToKey(o),T=this.createTile(this._wrapCoords(o),p(this._tileReady,this,o));this._initTile(T),this.createTile.length<2&&Te(p(this._tileReady,this,o,null,T)),we(T,g),this._tiles[C]={el:T,coords:o,current:!0},f.appendChild(T),this.fire("tileloadstart",{tile:T,coords:o})},_tileReady:function(o,f,g){f&&this.fire("tileerror",{error:f,tile:g,coords:o});var C=this._tileCoordsToKey(o);g=this._tiles[C],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Xe(g.el,0),xe(this._fadeFrame),this._fadeFrame=Te(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),f||(Re(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?Te(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var f=new ae(this._wrapX?E(o.x,this._wrapX):o.x,this._wrapY?E(o.y,this._wrapY):o.y);return f.z=o.z,f},_pxBoundsToTileRange:function(o){var f=this.getTileSize();return new ve(o.min.unscaleBy(f).floor(),o.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Mh(o){return new Ti(o)}var $r=Ti.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,f){this._url=o,f=B(this,f),f.detectRetina&&Ne.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,f){return this._url===o&&f===void 0&&(f=!0),this._url=o,f||this.redraw(),this},createTile:function(o,f){var g=document.createElement("img");return Ue(g,"load",p(this._tileOnLoad,this,f,g)),Ue(g,"error",p(this._tileOnError,this,f,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var f={r:Ne.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(f.y=g),f["-y"]=g}return k(this._url,l(f,this.options))},_tileOnLoad:function(o,f){Ne.ielt9?setTimeout(p(o,this,null,f),0):o(null,f)},_tileOnError:function(o,f,g){var C=this.options.errorTileUrl;C&&f.getAttribute("src")!==C&&(f.src=C),o(g,f)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,f=this.options.maxZoom,g=this.options.zoomReverse,C=this.options.zoomOffset;return g&&(o=f-o),o+C},_getSubdomain:function(o){var f=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var o,f;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(f=this._tiles[o].el,f.onload=A,f.onerror=A,!f.complete)){f.src=te;var g=this._tiles[o].coords;_t(f),delete this._tiles[o],this.fire("tileabort",{tile:f,coords:g})}},_removeTile:function(o){var f=this._tiles[o];if(f)return f.el.setAttribute("src",te),Ti.prototype._removeTile.call(this,o)},_tileReady:function(o,f,g){if(!(!this._map||g&&g.getAttribute("src")===te))return Ti.prototype._tileReady.call(this,o,f,g)}});function C1(o,f){return new $r(o,f)}var E1=$r.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,f){this._url=o;var g=l({},this.defaultWmsParams);for(var C in f)C in this.options||(g[C]=f[C]);f=B(this,f);var T=f.detectRetina&&Ne.retina?2:1,P=this.getTileSize();g.width=P.x*T,g.height=P.y*T,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,$r.prototype.onAdd.call(this,o)},getTileUrl:function(o){var f=this._tileCoordsToNwSe(o),g=this._crs,C=Pe(g.project(f[0]),g.project(f[1])),T=C.min,P=C.max,H=(this._wmsVersion>=1.3&&this._crs===Kr?[T.y,T.x,P.y,P.x]:[T.x,T.y,P.x,P.y]).join(","),q=$r.prototype.getTileUrl.call(this,o);return q+V(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(o,f){return l(this.wmsParams,o),f||this.redraw(),this}});function bw(o,f){return new E1(o,f)}$r.WMS=E1,C1.wms=bw;var Er=en.extend({options:{padding:.1},initialize:function(o){B(this,o),w(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,f){var g=this._map.getZoomScale(f,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,f),P=C.multiplyBy(-g).add(T).subtract(this._map._getNewPixelOrigin(o,f));Ne.any3d?j(this._container,P,g):we(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,f=this._map.getSize(),g=this._map.containerPointToLayerPoint(f.multiplyBy(-o)).round();this._bounds=new ve(g,g.add(f.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),A1=Er.extend({options:{tolerance:0},getEvents:function(){var o=Er.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Er.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ue(o,"mousemove",this._onMouseMove,this),Ue(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ue(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){xe(this._redrawRequest),delete this._ctx,_t(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var f in this._layers)o=this._layers[f],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var o=this._bounds,f=this._container,g=o.getSize(),C=Ne.retina?2:1;we(f,o.min),f.width=C*g.x,f.height=C*g.y,f.style.width=g.x+"px",f.style.height=g.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Er.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[w(o)]=o;var f=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var f=o._order,g=f.next,C=f.prev;g?g.prev=C:this._drawLast=C,C?C.next=g:this._drawFirst=g,delete o._order,delete this._layers[w(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var f=o.options.dashArray.split(/[, ]+/),g=[],C,T;for(T=0;T<f.length;T++){if(C=Number(f[T]),isNaN(C))return;g.push(C)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Te(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var f=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(o._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(o._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var f=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,f=this._redrawBounds;if(this._ctx.save(),f){var g=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)o=C.layer,(!f||o._pxBounds&&o._pxBounds.intersects(f))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,f){if(this._drawing){var g,C,T,P,H=o._parts,q=H.length,ne=this._ctx;if(q){for(ne.beginPath(),g=0;g<q;g++){for(C=0,T=H[g].length;C<T;C++)P=H[g][C],ne[C?"lineTo":"moveTo"](P.x,P.y);f&&ne.closePath()}this._fillStroke(ne,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var f=o._point,g=this._ctx,C=Math.max(Math.round(o._radius),1),T=(Math.max(Math.round(o._radiusY),1)||C)/C;T!==1&&(g.save(),g.scale(1,T)),g.beginPath(),g.arc(f.x,f.y/T,C,0,Math.PI*2,!1),T!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,f){var g=f.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(f.options&&f.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var f=this._map.mouseEventToLayerPoint(o),g,C,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(f)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(C=g);this._fireEvent(C?[C]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,f)}},_handleMouseOut:function(o){var f=this._hoveredLayer;f&&(ht(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,f){if(!this._mouseHoverThrottled){for(var g,C,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(f)&&(C=g);C!==this._hoveredLayer&&(this._handleMouseOut(o),C&&(Re(this._container,"leaflet-interactive"),this._fireEvent([C],o,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,f,g){this._map._fireDOMEvent(f,g||f.type,o)},_bringToFront:function(o){var f=o._order;if(f){var g=f.next,C=f.prev;if(g)g.prev=C;else return;C?C.next=g:g&&(this._drawFirst=g),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(o)}},_bringToBack:function(o){var f=o._order;if(f){var g=f.next,C=f.prev;if(C)C.next=g;else return;g?g.prev=C:C&&(this._drawLast=C),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(o)}}});function S1(o){return Ne.canvas?new A1(o):null}var za=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Iw={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Er.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var f=o._container=za("shape");Re(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",o._path=za("path"),f.appendChild(o._path),this._updateStyle(o),this._layers[w(o)]=o},_addPath:function(o){var f=o._container;this._container.appendChild(f),o.options.interactive&&o.addInteractiveTarget(f)},_removePath:function(o){var f=o._container;_t(f),o.removeInteractiveTarget(f),delete this._layers[w(o)]},_updateStyle:function(o){var f=o._stroke,g=o._fill,C=o.options,T=o._container;T.stroked=!!C.stroke,T.filled=!!C.fill,C.stroke?(f||(f=o._stroke=za("stroke")),T.appendChild(f),f.weight=C.weight+"px",f.color=C.color,f.opacity=C.opacity,C.dashArray?f.dashStyle=R(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=C.lineCap.replace("butt","flat"),f.joinstyle=C.lineJoin):f&&(T.removeChild(f),o._stroke=null),C.fill?(g||(g=o._fill=za("fill")),T.appendChild(g),g.color=C.fillColor||C.color,g.opacity=C.fillOpacity):g&&(T.removeChild(g),o._fill=null)},_updateCircle:function(o){var f=o._point.round(),g=Math.round(o._radius),C=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+f.x+","+f.y+" "+g+","+C+" 0,"+65535*360)},_setPath:function(o,f){o._path.v=f},_bringToFront:function(o){St(o._container)},_bringToBack:function(o){kn(o._container)}},du=Ne.vml?za:ii,Ua=Er.extend({_initContainer:function(){this._container=du("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=du("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_t(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var o=this._bounds,f=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,g.setAttribute("width",f.x),g.setAttribute("height",f.y)),we(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(o){var f=o._path=du("path");o.options.className&&Re(f,o.options.className),o.options.interactive&&Re(f,"leaflet-interactive"),this._updateStyle(o),this._layers[w(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){_t(o._path),o.removeInteractiveTarget(o._path),delete this._layers[w(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var f=o._path,g=o.options;f&&(g.stroke?(f.setAttribute("stroke",g.color),f.setAttribute("stroke-opacity",g.opacity),f.setAttribute("stroke-width",g.weight),f.setAttribute("stroke-linecap",g.lineCap),f.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?f.setAttribute("stroke-dasharray",g.dashArray):f.removeAttribute("stroke-dasharray"),g.dashOffset?f.setAttribute("stroke-dashoffset",g.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),g.fill?(f.setAttribute("fill",g.fillColor||g.color),f.setAttribute("fill-opacity",g.fillOpacity),f.setAttribute("fill-rule",g.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(o,f){this._setPath(o,Vr(o._parts,f))},_updateCircle:function(o){var f=o._point,g=Math.max(Math.round(o._radius),1),C=Math.max(Math.round(o._radiusY),1)||g,T="a"+g+","+C+" 0 1,0 ",P=o._empty()?"M0 0":"M"+(f.x-g)+","+f.y+T+g*2+",0 "+T+-g*2+",0 ";this._setPath(o,P)},_setPath:function(o,f){o._path.setAttribute("d",f)},_bringToFront:function(o){St(o._path)},_bringToBack:function(o){kn(o._path)}});Ne.vml&&Ua.include(Iw);function T1(o){return Ne.svg||Ne.vml?new Ua(o):null}Je.include({getRenderer:function(o){var f=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var f=this._paneRenderers[o];return f===void 0&&(f=this._createRenderer({pane:o}),this._paneRenderers[o]=f),f},_createRenderer:function(o){return this.options.preferCanvas&&S1(o)||T1(o)}});var b1=a.extend({initialize:function(o,f){a.prototype.initialize.call(this,this._boundsToLatLngs(o),f)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Fe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Nw(o,f){return new b1(o,f)}Ua.create=du,Ua.pointsToPath=Vr,h.geometryToLayer=d,h.coordsToLatLng=v,h.coordsToLatLngs=_,h.latLngToCoords=S,h.latLngsToCoords=N,h.getFeature=O,h.asFeature=U,Je.mergeOptions({boxZoom:!0});var I1=Bn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),mn(),Le(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ue(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),Re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var f=new ve(this._point,this._startPoint),g=f.getSize();we(this._box,f.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(_t(this._box),ht(this._container,"leaflet-crosshair")),Fs(),Ct(),_e(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var f=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Je.addInitHook("addHandler","boxZoom",I1),Je.mergeOptions({doubleClickZoom:!0});var N1=Bn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var f=this._map,g=f.getZoom(),C=f.options.zoomDelta,T=o.originalEvent.shiftKey?g-C:g+C;f.options.doubleClickZoom==="center"?f.setZoom(T):f.setZoomAround(o.containerPoint,T)}});Je.addInitHook("addHandler","doubleClickZoom",N1),Je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var M1=Bn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new rr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Fe(this._map.options.maxBounds);this._offsetLimit=Pe(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var f=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(f),this._prunePositions(f)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,f){return o-(o-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;o.x<f.min.x&&(o.x=this._viscousLimit(o.x,f.min.x)),o.y<f.min.y&&(o.y=this._viscousLimit(o.y,f.min.y)),o.x>f.max.x&&(o.x=this._viscousLimit(o.x,f.max.x)),o.y>f.max.y&&(o.y=this._viscousLimit(o.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,f=Math.round(o/2),g=this._initialWorldOffset,C=this._draggable._newPos.x,T=(C-f+g)%o+f-g,P=(C+f+g)%o-f-g,H=Math.abs(T+g)<Math.abs(P+g)?T:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(o){var f=this._map,g=f.options,C=!g.inertia||o.noInertia||this._times.length<2;if(f.fire("dragend",o),C)f.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,H=g.easeLinearity,q=T.multiplyBy(H/P),ne=q.distanceTo([0,0]),ue=Math.min(g.inertiaMaxSpeed,ne),Ee=q.multiplyBy(ue/ne),je=ue/(g.inertiaDeceleration*H),qe=Ee.multiplyBy(-je/2).round();!qe.x&&!qe.y?f.fire("moveend"):(qe=f._limitOffset(qe,f.options.maxBounds),Te(function(){f.panBy(qe,{duration:je,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Je.addInitHook("addHandler","dragging",M1),Je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var O1=Bn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ue(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,f=document.documentElement,g=o.scrollTop||f.scrollTop,C=o.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(C,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var f=this._panKeys={},g=this.keyCodes,C,T;for(C=0,T=g.left.length;C<T;C++)f[g.left[C]]=[-1*o,0];for(C=0,T=g.right.length;C<T;C++)f[g.right[C]]=[o,0];for(C=0,T=g.down.length;C<T;C++)f[g.down[C]]=[0,o];for(C=0,T=g.up.length;C<T;C++)f[g.up[C]]=[0,-1*o]},_setZoomDelta:function(o){var f=this._zoomKeys={},g=this.keyCodes,C,T;for(C=0,T=g.zoomIn.length;C<T;C++)f[g.zoomIn[C]]=o;for(C=0,T=g.zoomOut.length;C<T;C++)f[g.zoomOut[C]]=-o},_addHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var f=o.keyCode,g=this._map,C;if(f in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(C=this._panKeys[f],o.shiftKey&&(C=de(C).multiplyBy(3)),g.options.maxBounds&&(C=g._limitOffset(de(C),g.options.maxBounds)),g.options.worldCopyJump){var T=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(C)));g.panTo(T)}else g.panBy(C)}else if(f in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;oi(o)}}});Je.addInitHook("addHandler","keyboard",O1),Je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var P1=Bn.extend({addHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var f=Xr(o),g=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var C=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),C),oi(o)},_performZoom:function(){var o=this._map,f=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,P=g?Math.ceil(T/g)*g:T,H=o._limitZoom(f+(this._delta>0?P:-P))-f;this._delta=0,this._startTime=null,H&&(o.options.scrollWheelZoom==="center"?o.setZoom(f+H):o.setZoomAround(this._lastMousePos,f+H))}});Je.addInitHook("addHandler","scrollWheelZoom",P1);var Mw=600;Je.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var R1=Bn.extend({addHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var f=o.touches[0];this._startPos=this._newPos=new ae(f.clientX,f.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ue(document,"touchend",on),Ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Mw),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){_e(document,"touchend",on),_e(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(o){var f=o.touches[0];this._newPos=new ae(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,f){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});g._simulated=!0,f.target.dispatchEvent(g)}});Je.addInitHook("addHandler","tapHold",R1),Je.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var L1=Bn.extend({addHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var f=this._map;if(!(!o.touches||o.touches.length!==2||f._animatingZoom||this._zooming)){var g=f.mouseEventToContainerPoint(o.touches[0]),C=f.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(g.add(C)._divideBy(2))),this._startDist=g.distanceTo(C),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),on(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var f=this._map,g=f.mouseEventToContainerPoint(o.touches[0]),C=f.mouseEventToContainerPoint(o.touches[1]),T=g.distanceTo(C)/this._startDist;if(this._zoom=f.getScaleZoom(T,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&T<1||this._zoom>f.getMaxZoom()&&T>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var P=g._add(C)._divideBy(2)._subtract(this._centerPoint);if(T===1&&P.x===0&&P.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),xe(this._animRequest);var H=p(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Te(H,this,!0),on(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,xe(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Je.addInitHook("addHandler","touchZoom",L1),Je.BoxZoom=I1,Je.DoubleClickZoom=N1,Je.Drag=M1,Je.Keyboard=O1,Je.ScrollWheelZoom=P1,Je.TapHold=R1,Je.TouchZoom=L1,n.Bounds=ve,n.Browser=Ne,n.CRS=Yt,n.Canvas=A1,n.Circle=qr,n.CircleMarker=ar,n.Class=De,n.Control=ai,n.DivIcon=bn,n.DivOverlay=Pt,n.DomEvent=An,n.DomUtil=$t,n.Draggable=rr,n.Evented=Oe,n.FeatureGroup=Ei,n.GeoJSON=h,n.GridLayer=Ti,n.Handler=Bn,n.Icon=Qr,n.ImageOverlay=$,n.LatLng=Ge,n.LatLngBounds=rt,n.Layer=en,n.LayerGroup=Zi,n.LineUtil=fu,n.Map=Je,n.Marker=jn,n.Mixin=uu,n.Path=Si,n.Point=ae,n.PolyUtil=La,n.Polygon=a,n.Polyline=i,n.Popup=Sn,n.PosAnimation=Ra,n.Projection=Ba,n.Rectangle=b1,n.Renderer=Er,n.SVG=Ua,n.SVGOverlay=Ke,n.TileLayer=$r,n.Tooltip=ut,n.Transformation=Et,n.Util=Be,n.VideoOverlay=me,n.bind=p,n.bounds=Pe,n.canvas=S1,n.circle=I,n.circleMarker=it,n.control=Vs,n.divIcon=Jr,n.extend=l,n.featureGroup=Ai,n.geoJSON=Y,n.geoJson=K,n.gridLayer=Mh,n.icon=Fa,n.imageOverlay=pe,n.latLng=he,n.latLngBounds=Fe,n.layerGroup=Yn,n.map=au,n.marker=Nh,n.point=de,n.polygon=u,n.polyline=s,n.popup=Tn,n.rectangle=Nw,n.setOptions=B,n.stamp=w,n.svg=T1,n.svgOverlay=We,n.tileLayer=C1,n.tooltip=ln,n.transformation=Bi,n.version=r,n.videoOverlay=ce;var Ow=window.L;n.noConflict=function(){return window.L=Ow,this},window.L=n})})(Ud,Ud.exports);var ya=Ud.exports;const xh=Vg(ya);function yh(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function vh(e,t){return t==null?function(r,l){const c=W.useRef();return c.current||(c.current=e(r,l)),c}:function(r,l){const c=W.useRef();c.current||(c.current=e(r,l));const p=W.useRef(r),{instance:x}=c.current;return W.useEffect(function(){p.current!==r&&(t(x,r,p.current),p.current=r)},[x,r,l]),c}}function Sw(e,t){W.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var c;(c=t.layerContainer)==null||c.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Tw(e){return function(n){const r=mh(),l=e(gh(n,r),r);return ww(r.map,n.attribution),_1(l.current,n.eventHandlers),Sw(l.current,r),l}}function eN(e,t){const n=W.useRef();W.useEffect(function(){if(t.pathOptions!==n.current){const l=t.pathOptions??{};e.instance.setStyle(l),n.current=l}},[e,t])}function tN(e){return function(n){const r=mh(),l=e(gh(n,r),r);return _1(l.current,n.eventHandlers),Sw(l.current,r),eN(l.current,n),l}}function nN(e,t){const n=vh(e,t),r=Tw(n);return Aw(r)}function iN(e,t){const n=vh(e),r=$8(n,t);return q8(r)}function rN(e,t){const n=vh(e,t),r=tN(n);return Aw(r)}function sN(e,t){const n=vh(e,t),r=Tw(n);return J8(r)}function oN(e,t,n){const{opacity:r,zIndex:l}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),l!=null&&l!==n.zIndex&&e.setZIndex(l)}function aN(){return mh().map}function Vd(){return Vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd.apply(this,arguments)}function lN({bounds:e,boundsOptions:t,center:n,children:r,className:l,id:c,placeholder:p,style:x,whenReady:w,zoom:y,...E},A){const[M]=W.useState({className:l,id:c,style:x}),[D,F]=W.useState(null);W.useImperativeHandle(A,()=>(D==null?void 0:D.map)??null,[D]);const B=W.useCallback(z=>{if(z!==null&&D===null){const k=new ya.Map(z,E);n!=null&&y!=null?k.setView(n,y):e!=null&&k.fitBounds(e,t),w!=null&&k.whenReady(w),F(Q8(k))}},[]);W.useEffect(()=>()=>{D==null||D.map.remove()},[D]);const V=D?oo.createElement(Ew,{value:D},r):p??null;return oo.createElement("div",Vd({},M,{ref:B}),V)}const uN=W.forwardRef(lN),jg=nN(function({position:t,...n},r){const l=new ya.Marker(t,n);return yh(l,_w(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),cN=rN(function({positions:t,...n},r){const l=new ya.Polyline(t,n);return yh(l,_w(r,{overlayContainer:l}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),zg=iN(function(t,n){const r=new ya.Popup(t,n.overlayContainer);return yh(r,n)},function(t,n,{position:r},l){W.useEffect(function(){const{instance:p}=t;function x(y){y.popup===p&&(p.update(),l(!0))}function w(y){y.popup===p&&l(!1)}return n.map.on({popupopen:x,popupclose:w}),n.overlayContainer==null?(r!=null&&p.setLatLng(r),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){var E;n.map.off({popupopen:x,popupclose:w}),(E=n.overlayContainer)==null||E.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,r])}),hN=sN(function({url:t,...n},r){const l=new ya.TileLayer(t,gh(n,r));return yh(l,r)},function(t,n,r){oN(t,n,r);const{url:l}=n;l!=null&&l!==r.url&&t.setUrl(l)});delete xh.Icon.Default.prototype._getIconUrl;xh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const fN=e=>new xh.DivIcon({className:"custom-icon",html:`<div style="background-color: ${e}; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"></div>`,iconSize:[24,24],iconAnchor:[12,12]}),dN=new xh.DivIcon({className:"truck-icon",html:`<div style="background-color: #0052cc; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.2);">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
    </div>`,iconSize:[32,32],iconAnchor:[16,16]});function pN({center:e}){const t=aN();return W.useEffect(()=>{e&&t.setView(e,t.getZoom())},[e,t]),null}function mN({shipments:e,routeGeometry:t,currentLocation:n}){const l=n?[n.lat,n.lon]:[44.4268,26.1025],[c,p]=W.useState([]);return W.useEffect(()=>{if(t&&t.coordinates){const x=t.coordinates.map(w=>[w[1],w[0]]);p(x)}},[t]),b.jsxs("div",{className:"h-[400px] w-full rounded-3xl overflow-hidden shadow-inner border border-white/20 relative z-0",children:[b.jsxs(uN,{center:l,zoom:13,style:{height:"100%",width:"100%"},zoomControl:!1,children:[b.jsx(hN,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),b.jsx(pN,{center:l}),n&&b.jsx(jg,{position:[n.lat,n.lon],icon:dN,children:b.jsx(zg,{children:b.jsx("div",{className:"font-sans font-bold text-brand-600",children:"You are here"})})}),e.map(x=>{var E,A,M,D;const w=x.latitude||((A=(E=x.raw_data)==null?void 0:E.recipientLocation)==null?void 0:A.latitude),y=x.longitude||((D=(M=x.raw_data)==null?void 0:M.recipientLocation)==null?void 0:D.longitude);return!w||!y?null:b.jsx(jg,{position:[w,y],icon:fN(x.status==="Delivered"?"#22c55e":"#f59e0b"),children:b.jsx(zg,{className:"glass-popup",children:b.jsxs("div",{className:"p-1 min-w-[150px]",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("span",{className:`w-2 h-2 rounded-full ${x.status==="Delivered"?"bg-green-500":"bg-amber-500"}`}),b.jsx("span",{className:"text-xs font-black uppercase text-slate-500 tracking-wider",children:x.awb})]}),b.jsx("p",{className:"font-bold text-slate-800 text-sm mb-1",children:x.recipient_name}),b.jsx("p",{className:"text-xs text-slate-500 truncate",children:x.delivery_address})]})})},x.awb)}),c.length>0&&b.jsx(cN,{positions:c,color:"#4c9aff",weight:4,opacity:.8,dashArray:"10, 10"})]}),b.jsx("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 z-[1000]",children:b.jsx("button",{className:"glass-strong p-3 rounded-xl text-white hover:text-brand-400 hover:border-brand-500/50 transition-all shadow-lg active:scale-95",onClick:x=>{x.stopPropagation()},children:b.jsx(Lv,{size:20})})})]})}function gN(){const[e,t]=W.useState(null),[n,r]=W.useState(null);return W.useEffect(()=>{if(!navigator.geolocation){r("Geolocation is not supported by your browser");return}const l=w=>{const{latitude:y,longitude:E,heading:A,speed:M}=w.coords;t({latitude:y,longitude:E,heading:A,speed:M})},c=w=>{r(w.message)},p={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},x=navigator.geolocation.watchPosition(l,c,p);return()=>navigator.geolocation.clearWatch(x)},[]),{location:e,error:n}}function xN(){const[e,t]=W.useState([]),[n,r]=W.useState(!0),[l,c]=W.useState(""),[p,x]=W.useState(null),[w,y]=W.useState("list"),[E,A]=W.useState(null),M=vo(),{user:D}=Kl(),{location:F}=gN(),B=async()=>{r(!0);try{const fe=D.token,Te=await cw(fe);t(Te)}catch(fe){console.error("Failed to fetch shipments",fe)}finally{r(!1)}};W.useEffect(()=>{B()},[]);const V=F?{lat:F.latitude,lon:F.longitude}:null,z=async fe=>{if(V&&fe.latitude&&fe.longitude){const Te=await X8(V,{lat:fe.latitude,lon:fe.longitude});A(Te)}y("map")},k=e.filter(fe=>{var Te,xe;return((Te=fe.awb)==null?void 0:Te.toLowerCase().includes(l.toLowerCase()))||fe.recipient_name&&((xe=fe.recipient_name)==null?void 0:xe.toLowerCase().includes(l.toLowerCase()))}),R=20,[Z,te]=W.useState(1);W.useEffect(()=>{te(1)},[l,w]);const se=Math.ceil(k.length/R),X=w==="list"?k.slice((Z-1)*R,Z*R):k,oe=fe=>fe==="Delivered"?"from-emerald-500 to-emerald-600":fe==="In Transit"?"from-blue-500 to-blue-600":"from-amber-500 to-amber-600",J=fe=>fe==="Delivered"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":fe==="In Transit"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-amber-500/20 text-amber-400 border-amber-500/30";return b.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-20 right-0 w-72 h-72 bg-violet-500/10 rounded-full blur-3xl animate-float"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),b.jsxs("div",{className:"sticky top-0 z-40 glass-strong backdrop-blur-xl border-b border-white/10 pb-2 shadow-sm",children:[b.jsxs("div",{className:"p-4 flex items-center gap-4",children:[b.jsx("button",{onClick:()=>M(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:b.jsx(Lc,{})}),b.jsx("h1",{className:"flex-1 font-black text-xl text-gradient tracking-tight",children:"Shipments"}),b.jsxs("div",{className:"flex glass-strong p-1 rounded-xl border border-white/10",children:[b.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-lg transition-all ${w==="list"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:b.jsx(K4,{size:20})}),b.jsx("button",{onClick:()=>y("map"),className:`p-2 rounded-lg transition-all ${w==="map"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:b.jsx(eb,{size:20})})]}),b.jsx("button",{onClick:B,className:`p-2 rounded-xl glass-light hover:bg-violet-500/20 text-violet-400 transition-all border border-white/10 ${n?"animate-spin":""}`,children:b.jsx(Dv,{size:20})})]}),b.jsx("div",{className:"px-4 pb-2",children:b.jsxs("div",{className:"relative group",children:[b.jsx(kv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-violet-400 transition-colors z-10",size:18}),b.jsx("input",{type:"text",placeholder:"Search AWB, Client...",className:"w-full pl-12 pr-4 py-3.5 glass-strong rounded-2xl outline-none focus:ring-2 focus:ring-violet-500/30 border border-white/10 text-sm font-medium text-white placeholder-slate-500 transition-all",value:l,onChange:fe=>c(fe.target.value)})]})})]}),b.jsx("div",{className:"flex-1 p-4 space-y-3 pb-32 relative z-10",children:b.jsx(Rd,{mode:"wait",children:n&&e.length===0?b.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),b.jsx(jl,{className:"animate-spin relative z-10 text-violet-400",size:48})]}),b.jsx("p",{className:"mt-6 font-bold text-xs uppercase tracking-widest text-slate-500",children:"Syncing Data..."})]}):k.length===0?b.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[b.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:b.jsx(fo,{className:"text-slate-500",size:36})}),b.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No shipments found"}),b.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Try adjusting your search"})]}):w==="map"?b.jsx(bt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-[70vh] w-full rounded-3xl overflow-hidden border-iridescent shadow-2xl",children:b.jsx(mN,{shipments:k,currentLocation:V,routeGeometry:E})}):b.jsxs("div",{className:"space-y-3",children:[X.map((fe,Te)=>b.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Te*.05},className:`glass-strong rounded-3xl overflow-hidden transition-all duration-300 border border-white/10 ${p===Te?"ring-2 ring-violet-500/30 shadow-glow-sm":""}`,children:[b.jsxs("div",{onClick:()=>x(p===Te?null:Te),className:"p-5 flex items-center gap-4 cursor-pointer relative",children:[b.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shadow-sm bg-gradient-to-br ${oe(fe.status)}`,children:b.jsx(fo,{size:24,strokeWidth:2,className:"text-white"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[b.jsx("h3",{className:"font-mono text-[10px] font-black uppercase tracking-widest text-slate-500",children:fe.awb}),b.jsx("span",{className:`text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border ${J(fe.status)}`,children:fe.status||"Active"})]}),b.jsx("p",{className:"text-sm font-bold text-white truncate leading-tight mb-2",children:fe.recipient_name}),b.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400",children:[b.jsx($4,{size:11,strokeWidth:2.5}),b.jsx("p",{className:"text-[10px] font-medium truncate",children:fe.delivery_address||fe.locality||"No Address"})]})]}),b.jsx(ca,{className:`text-slate-500 transition-transform duration-300 ${p===Te?"rotate-90 text-violet-400":""}`,size:20})]}),b.jsx(Rd,{children:p===Te&&b.jsx(bt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:b.jsxs("div",{className:"p-5 space-y-4 bg-black/20 border-t border-white/5",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"glass-light p-4 rounded-2xl flex items-center gap-3 border border-white/10",children:[b.jsx("div",{className:"p-2 bg-violet-500/20 rounded-xl",children:b.jsx(nb,{size:16,className:"text-violet-400"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-wide mb-0.5",children:"Contact"}),b.jsx("p",{className:"text-xs font-bold text-white truncate",children:"--"})]})]}),b.jsxs("div",{className:"glass-light p-4 rounded-2xl flex items-center gap-3 border border-white/10",children:[b.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl",children:b.jsx(c1,{size:16,className:"text-emerald-400"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-wide mb-0.5",children:"Client"}),b.jsx("p",{className:"text-xs font-bold text-white truncate",children:fe.recipient_name})]})]})]}),fe.latitude&&fe.longitude&&b.jsxs("button",{onClick:()=>z(fe),className:"w-full btn-premium py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold rounded-xl shadow-sm flex items-center justify-center gap-2 text-sm",children:[b.jsx(Lv,{size:16}),"View on Map"]})]})})})]},fe.awb||Te)),se>1&&b.jsxs("div",{className:"flex items-center justify-between pt-4 glass-strong rounded-2xl p-4 border border-white/10",children:[b.jsx("button",{onClick:()=>te(fe=>Math.max(1,fe-1)),disabled:Z===1,className:"p-2 rounded-xl hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-white",children:b.jsx(Lc,{size:20})}),b.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:["Page ",Z," of ",se]}),b.jsx("button",{onClick:()=>te(fe=>Math.min(se,fe+1)),disabled:Z===se,className:"p-2 rounded-xl hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-white",children:b.jsx(ca,{size:20})})]})]})})})]})}function yN(){const[e,t]=W.useState(new Date),[n,r]=W.useState({}),[l,c]=W.useState(!0),p=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),x=new Date(e.getFullYear(),e.getMonth(),1).getDay(),w=()=>t(new Date(e.getFullYear(),e.getMonth()-1,1)),y=()=>t(new Date(e.getFullYear(),e.getMonth()+1,1)),E=e.toLocaleString("default",{month:"long"}),A=e.getFullYear();W.useEffect(()=>{(async()=>{c(!0);try{const V=localStorage.getItem("token"),z=new Date(e.getFullYear(),e.getMonth(),1).toISOString(),k=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59).toISOString(),Z=(await x1(V,{start_date:z,end_date:k})).reduce((te,se)=>{const X=new Date(se.timestamp).getDate();return te[X]||(te[X]=[]),te[X].push(se),te},{});r(Z)}catch(V){console.error("Failed to fetch monthly deliveries",V)}finally{c(!1)}})()},[e]);const M=[];for(let B=0;B<x;B+=1)M.push(b.jsx("div",{className:"h-24"},`empty-${B}`));for(let B=1;B<=p;B+=1){const V=n[B]||[],z=V.length>0,k=B===new Date().getDate()&&e.getMonth()===new Date().getMonth()&&e.getFullYear()===new Date().getFullYear();M.push(b.jsxs("div",{className:`h-24 border-t border-white/5 p-2 relative flex flex-col items-center justify-center gap-1 transition-all duration-300 hover:bg-white/5 cursor-pointer group ${k?"bg-violet-500/10 border-violet-500/30":""}`,children:[b.jsx("span",{className:`text-xs font-black absolute top-2 right-2 transition-all ${k?"text-violet-400":"text-slate-500 group-hover:text-violet-300"}`,children:B}),z&&b.jsxs("div",{className:"flex flex-col items-center animate-scale-in",children:[b.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl text-white shadow-glow-sm",children:b.jsx(fo,{size:16,strokeWidth:2.5})}),b.jsxs("span",{className:"text-[9px] font-black text-emerald-400 uppercase mt-1.5 tracking-wide",children:[V.length," AWB"]})]})]},B))}const D=Object.values(n).flat().length,F=D>0?(D/new Date().getDate()).toFixed(1):0;return b.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl animate-float"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),b.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-black text-gradient tracking-tight",children:"Delivery Calendar"}),b.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"Track your monthly performance"})]}),b.jsx("div",{className:"w-12 h-12 rounded-2xl glass-light flex items-center justify-center border border-white/10",children:b.jsx(j4,{size:20,className:"text-violet-400"})})]}),b.jsxs("div",{className:"flex-1 p-4 pb-32 space-y-6 relative z-10",children:[b.jsxs("div",{className:"glass-strong rounded-[32px] shadow-2xl border-iridescent overflow-hidden animate-scale-in",children:[b.jsxs("div",{className:"p-6 flex items-center justify-between bg-gradient-to-r from-violet-600 via-purple-600 to-violet-700 text-white relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 shimmer opacity-20"}),b.jsx("button",{onClick:w,className:"p-2.5 hover:bg-white/20 rounded-xl transition-all active:scale-95 relative z-10 magnetic",children:b.jsx(H4,{size:20,strokeWidth:2.5})}),b.jsxs("h2",{className:"text-lg font-black uppercase tracking-widest relative z-10",children:[E," ",A]}),b.jsx("button",{onClick:y,className:"p-2.5 hover:bg-white/20 rounded-xl transition-all active:scale-95 relative z-10 magnetic",children:b.jsx(ca,{size:20,strokeWidth:2.5})})]}),b.jsxs("div",{className:"grid grid-cols-7 text-center py-4 bg-black/20 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:[b.jsx("div",{children:"Sun"}),b.jsx("div",{children:"Mon"}),b.jsx("div",{children:"Tue"}),b.jsx("div",{children:"Wed"}),b.jsx("div",{children:"Thu"}),b.jsx("div",{children:"Fri"}),b.jsx("div",{children:"Sat"})]}),b.jsxs("div",{className:"grid grid-cols-7 relative min-h-[400px]",children:[l&&b.jsx("div",{className:"absolute inset-0 glass-strong z-10 flex items-center justify-center backdrop-blur-sm",children:b.jsxs("div",{className:"text-center",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),b.jsx(jl,{className:"animate-spin relative z-10 text-violet-400",size:48})]}),b.jsx("p",{className:"mt-6 font-bold text-xs uppercase tracking-widest text-slate-500",children:"Loading..."})]})}),M]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Monthly Insights"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent animate-scale-in",style:{animationDelay:"0.1s"},children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg",children:b.jsx(fo,{size:16,className:"text-violet-400"})}),b.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Total"})]}),b.jsx("p",{className:"text-3xl font-black text-gradient-purple",children:D}),b.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-1",children:"Deliveries"})]}),b.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent animate-scale-in",style:{animationDelay:"0.2s"},children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:b.jsx(u1,{size:16,className:"text-emerald-400"})}),b.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Average"})]}),b.jsx("p",{className:"text-3xl font-black text-gradient-blue",children:F}),b.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-1",children:"Per Day"})]})]}),b.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent flex items-center gap-4 animate-scale-in",style:{animationDelay:"0.3s"},children:[b.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl shadow-glow-sm",children:b.jsx(Fv,{size:24,className:"text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-black text-white",children:"Active Month"}),b.jsxs("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wide mt-1",children:[D," shipments processed in ",E]})]})]})]})]})]})}const Ug=({children:e,allowedRoles:t})=>{const{user:n,loading:r}=Kl();return r?b.jsx("div",{children:"Loading..."}):n?t&&!t.includes(n.role)?b.jsx(xd,{to:"/",replace:!0}):e:b.jsx(xd,{to:"/login",replace:!0})};function vN(){return b.jsx(p3,{children:b.jsx(wN,{})})}const wN=()=>{const e=yo();return b.jsx(Rd,{mode:"wait",children:b.jsxs(a3,{location:e,children:[b.jsx(Ar,{path:"/login",element:b.jsx(W8,{})}),b.jsxs(Ar,{element:b.jsx(Ug,{children:b.jsx(cb,{})}),children:[b.jsx(Ar,{path:"/",element:b.jsx(z8,{})}),b.jsx(Ar,{path:"/history",element:b.jsx(Z8,{})}),b.jsx(Ar,{path:"/shipments",element:b.jsx(Ug,{allowedRoles:["Manager","Admin","Driver"],children:b.jsx(xN,{})})}),b.jsx(Ar,{path:"/settings",element:b.jsx(G8,{})}),b.jsx(Ar,{path:"/calendar",element:b.jsx(yN,{})})]}),b.jsx(Ar,{path:"*",element:b.jsx(xd,{to:"/",replace:!0})})]},e.pathname)})};Ef.createRoot(document.getElementById("root")).render(b.jsx(oo.StrictMode,{children:b.jsx(hb,{children:b.jsx(vN,{})})}));
