function __(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(r,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var px={exports:{}},Yu={},mx={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),C_=Symbol.for("react.portal"),E_=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),T_=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),M_=Symbol.for("react.memo"),O_=Symbol.for("react.lazy"),sp=Symbol.iterator;function R_(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var gx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xx=Object.assign,yx={};function ya(e,t,n){this.props=e,this.context=t,this.refs=yx,this.updater=n||gx}ya.prototype.isReactComponent={};ya.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ya.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wx(){}wx.prototype=ya.prototype;function o0(e,t,n){this.props=e,this.context=t,this.refs=yx,this.updater=n||gx}var a0=o0.prototype=new wx;a0.constructor=o0;xx(a0,ya.prototype);a0.isPureReactComponent=!0;var op=Array.isArray,vx=Object.prototype.hasOwnProperty,l0={current:null},_x={key:!0,ref:!0,__self:!0,__source:!0};function Cx(e,t,n){var r,l={},u=null,p=null;if(t!=null)for(r in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(u=""+t.key),t)vx.call(t,r)&&!_x.hasOwnProperty(r)&&(l[r]=t[r]);var y=arguments.length-2;if(y===1)l.children=n;else if(1<y){for(var v=Array(y),x=0;x<y;x++)v[x]=arguments[x+2];l.children=v}if(e&&e.defaultProps)for(r in y=e.defaultProps,y)l[r]===void 0&&(l[r]=y[r]);return{$$typeof:Xl,type:e,key:u,ref:p,props:l,_owner:l0.current}}function L_(e,t){return{$$typeof:Xl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xl}function P_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ap=/\/+/g;function Hh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P_(""+e.key):t.toString(36)}function Yc(e,t,n,r,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(u){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Xl:case C_:p=!0}}if(p)return p=e,l=l(p),e=r===""?"."+Hh(p,0):r,op(l)?(n="",e!=null&&(n=e.replace(ap,"$&/")+"/"),Yc(l,t,n,"",function(x){return x})):l!=null&&(c0(l)&&(l=L_(l,n+(!l.key||p&&p.key===l.key?"":(""+l.key).replace(ap,"$&/")+"/")+e)),t.push(l)),1;if(p=0,r=r===""?".":r+":",op(e))for(var y=0;y<e.length;y++){u=e[y];var v=r+Hh(u,y);p+=Yc(u,t,n,v,l)}else if(v=R_(e),typeof v=="function")for(e=v.call(e),y=0;!(u=e.next()).done;)u=u.value,v=r+Hh(u,y++),p+=Yc(u,t,n,v,l);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Ec(e,t,n){if(e==null)return e;var r=[],l=0;return Yc(e,r,"","",function(u){return t.call(n,u,l++)}),r}function D_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qn={current:null},Xc={transition:null},k_={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Xc,ReactCurrentOwner:l0};function Ex(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:Ec,forEach:function(e,t,n){Ec(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ec(e,function(){t++}),t},toArray:function(e){return Ec(e,function(t){return t})||[]},only:function(e){if(!c0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=ya;at.Fragment=E_;at.Profiler=S_;at.PureComponent=o0;at.StrictMode=A_;at.Suspense=N_;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_;at.act=Ex;at.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xx({},e.props),l=e.key,u=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,p=l0.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(v in t)vx.call(t,v)&&!_x.hasOwnProperty(v)&&(r[v]=t[v]===void 0&&y!==void 0?y[v]:t[v])}var v=arguments.length-2;if(v===1)r.children=n;else if(1<v){y=Array(v);for(var x=0;x<v;x++)y[x]=arguments[x+2];r.children=y}return{$$typeof:Xl,type:e.type,key:l,ref:u,props:r,_owner:p}};at.createContext=function(e){return e={$$typeof:T_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b_,_context:e},e.Consumer=e};at.createElement=Cx;at.createFactory=function(e){var t=Cx.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:I_,render:e}};at.isValidElement=c0;at.lazy=function(e){return{$$typeof:O_,_payload:{_status:-1,_result:e},_init:D_}};at.memo=function(e,t){return{$$typeof:M_,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=Xc.transition;Xc.transition={};try{e()}finally{Xc.transition=t}};at.unstable_act=Ex;at.useCallback=function(e,t){return qn.current.useCallback(e,t)};at.useContext=function(e){return qn.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return qn.current.useDeferredValue(e)};at.useEffect=function(e,t){return qn.current.useEffect(e,t)};at.useId=function(){return qn.current.useId()};at.useImperativeHandle=function(e,t,n){return qn.current.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return qn.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return qn.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return qn.current.useMemo(e,t)};at.useReducer=function(e,t,n){return qn.current.useReducer(e,t,n)};at.useRef=function(e){return qn.current.useRef(e)};at.useState=function(e){return qn.current.useState(e)};at.useSyncExternalStore=function(e,t,n){return qn.current.useSyncExternalStore(e,t,n)};at.useTransition=function(){return qn.current.useTransition()};at.version="18.3.1";mx.exports=at;var V=mx.exports;const ho=dx(V),B_=__({__proto__:null,default:ho},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=V,j_=Symbol.for("react.element"),z_=Symbol.for("react.fragment"),U_=Object.prototype.hasOwnProperty,V_=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H_={key:!0,ref:!0,__self:!0,__source:!0};function Ax(e,t,n){var r,l={},u=null,p=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(p=t.ref);for(r in t)U_.call(t,r)&&!H_.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:j_,type:e,key:u,ref:p,props:l,_owner:V_.current}}Yu.Fragment=z_;Yu.jsx=Ax;Yu.jsxs=Ax;px.exports=Yu;var S=px.exports,Bf={},Sx={exports:{}},vi={},bx={exports:{}},Tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(le,Me){var de=le.length;le.push(Me);e:for(;0<de;){var ve=de-1>>>1,te=le[ve];if(0<l(te,Me))le[ve]=Me,le[de]=te,de=ve;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var Me=le[0],de=le.pop();if(de!==Me){le[0]=de;e:for(var ve=0,te=le.length,Ae=te>>>1;ve<Ae;){var me=2*(ve+1)-1,je=le[me],ce=me+1,ue=le[ce];if(0>l(je,de))ce<te&&0>l(ue,je)?(le[ve]=ue,le[ce]=de,ve=ce):(le[ve]=je,le[me]=de,ve=me);else if(ce<te&&0>l(ue,de))le[ve]=ue,le[ce]=de,ve=ce;else break e}}return Me}function l(le,Me){var de=le.sortIndex-Me.sortIndex;return de!==0?de:le.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var p=Date,y=p.now();e.unstable_now=function(){return p.now()-y}}var v=[],x=[],E=1,A=null,I=3,O=!1,D=!1,P=!1,H=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(le){for(var Me=n(x);Me!==null;){if(Me.callback===null)r(x);else if(Me.startTime<=le)r(x),Me.sortIndex=Me.expirationTime,t(v,Me);else break;Me=n(x)}}function Z(le){if(P=!1,B(le),!D)if(n(v)!==null)D=!0,Ce($);else{var Me=n(x);Me!==null&&Te(Z,Me.startTime-le)}}function $(le,Me){D=!1,P&&(P=!1,j(ee),ee=-1),O=!0;var de=I;try{for(B(Me),A=n(v);A!==null&&(!(A.expirationTime>Me)||le&&!Ue());){var ve=A.callback;if(typeof ve=="function"){A.callback=null,I=A.priorityLevel;var te=ve(A.expirationTime<=Me);Me=e.unstable_now(),typeof te=="function"?A.callback=te:A===n(v)&&r(v),B(Me)}else r(v);A=n(v)}if(A!==null)var Ae=!0;else{var me=n(x);me!==null&&Te(Z,me.startTime-Me),Ae=!1}return Ae}finally{A=null,I=de,O=!1}}var ae=!1,X=null,ee=-1,J=5,Re=-1;function Ue(){return!(e.unstable_now()-Re<J)}function we(){if(X!==null){var le=e.unstable_now();Re=le;var Me=!0;try{Me=X(!0,le)}finally{Me?Le():(ae=!1,X=null)}}else ae=!1}var Le;if(typeof F=="function")Le=function(){F(we)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,re=Fe.port2;Fe.port1.onmessage=we,Le=function(){re.postMessage(null)}}else Le=function(){H(we,0)};function Ce(le){X=le,ae||(ae=!0,Le())}function Te(le,Me){ee=H(function(){le(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){D||O||(D=!0,Ce($))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(le){switch(I){case 1:case 2:case 3:var Me=3;break;default:Me=I}var de=I;I=Me;try{return le()}finally{I=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,Me){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var de=I;I=le;try{return Me()}finally{I=de}},e.unstable_scheduleCallback=function(le,Me,de){var ve=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ve+de:ve):de=ve,le){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=de+te,le={id:E++,callback:Me,priorityLevel:le,startTime:de,expirationTime:te,sortIndex:-1},de>ve?(le.sortIndex=de,t(x,le),n(v)===null&&le===n(x)&&(P?(j(ee),ee=-1):P=!0,Te(Z,de-ve))):(le.sortIndex=te,t(v,le),D||O||(D=!0,Ce($))),le},e.unstable_shouldYield=Ue,e.unstable_wrapCallback=function(le){var Me=I;return function(){var de=I;I=Me;try{return le.apply(this,arguments)}finally{I=de}}}})(Tx);bx.exports=Tx;var W_=bx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=V,yi=W_;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ix=new Set,Sl={};function vo(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(Sl[e]=t,e=0;e<t.length;e++)Ix.add(t[e])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ff=Object.prototype.hasOwnProperty,G_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lp={},cp={};function Y_(e){return Ff.call(cp,e)?!0:Ff.call(lp,e)?!1:G_.test(e)?cp[e]=!0:(lp[e]=!0,!1)}function X_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K_(e,t,n,r){if(t===null||typeof t>"u"||X_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qn(e,t,n,r,l,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nn[e]=new Qn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nn[t]=new Qn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nn[e]=new Qn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nn[e]=new Qn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nn[e]=new Qn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nn[e]=new Qn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nn[e]=new Qn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nn[e]=new Qn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nn[e]=new Qn(e,5,!1,e.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function h0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u0,h0);Nn[t]=new Qn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u0,h0);Nn[t]=new Qn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u0,h0);Nn[t]=new Qn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nn[e]=new Qn(e,1,!1,e.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nn[e]=new Qn(e,1,!1,e.toLowerCase(),null,!0,!0)});function f0(e,t,n,r){var l=Nn.hasOwnProperty(t)?Nn[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(K_(t,n,l,r)&&(n=null),r||l===null?Y_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hr=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),Mx=Symbol.for("react.context"),p0=Symbol.for("react.forward_ref"),zf=Symbol.for("react.suspense"),Uf=Symbol.for("react.suspense_list"),m0=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),Ox=Symbol.for("react.offscreen"),up=Symbol.iterator;function Xa(e){return e===null||typeof e!="object"?null:(e=up&&e[up]||e["@@iterator"],typeof e=="function"?e:null)}var Yt=Object.assign,Wh;function sl(e){if(Wh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wh=t&&t[1]||""}return`
`+Wh+e}var Zh=!1;function Gh(e,t){if(!e||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),u=r.stack.split(`
`),p=l.length-1,y=u.length-1;1<=p&&0<=y&&l[p]!==u[y];)y--;for(;1<=p&&0<=y;p--,y--)if(l[p]!==u[y]){if(p!==1||y!==1)do if(p--,y--,0>y||l[p]!==u[y]){var v=`
`+l[p].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=p&&0<=y);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sl(e):""}function q_(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=Gh(e.type,!1),e;case 11:return e=Gh(e.type.render,!1),e;case 1:return e=Gh(e.type,!0),e;default:return""}}function Vf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fo:return"Fragment";case Bo:return"Portal";case jf:return"Profiler";case d0:return"StrictMode";case zf:return"Suspense";case Uf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mx:return(e.displayName||"Context")+".Consumer";case Nx:return(e._context.displayName||"Context")+".Provider";case p0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case m0:return t=e.displayName||null,t!==null?t:Vf(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return Vf(e(t))}catch{}}return null}function Q_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(t);case 8:return t===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function As(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J_(e){var t=Rx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){r=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sc(e){e._valueTracker||(e._valueTracker=J_(e))}function Lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hf(e,t){var n=t.checked;return Yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=As(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Px(e,t){t=t.checked,t!=null&&f0(e,"checked",t,!1)}function Wf(e,t){Px(e,t);var n=As(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zf(e,t.type,As(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zf(e,t,n){(t!=="number"||hu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ol=Array.isArray;function ea(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+As(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Gf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return Yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ye(92));if(ol(n)){if(1<n.length)throw Error(ye(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:As(n)}}function Dx(e,t){var n=As(t.value),r=As(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bc,Bx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$_=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(e){$_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hl[t]=hl[e]})});function Fx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hl.hasOwnProperty(e)&&hl[e]?(""+t).trim():t+"px"}function jx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Fx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var eC=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(e,t){if(t){if(eC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function Kf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=null;function g0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qf=null,ta=null,na=null;function mp(e){if(e=Ql(e)){if(typeof Qf!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=Ju(t),Qf(e.stateNode,e.type,t))}}function zx(e){ta?na?na.push(e):na=[e]:ta=e}function Ux(){if(ta){var e=ta,t=na;if(na=ta=null,mp(e),t)for(e=0;e<t.length;e++)mp(t[e])}}function Vx(e,t){return e(t)}function Hx(){}var Yh=!1;function Wx(e,t,n){if(Yh)return e(t,n);Yh=!0;try{return Vx(e,t,n)}finally{Yh=!1,(ta!==null||na!==null)&&(Hx(),Ux())}}function Tl(e,t){var n=e.stateNode;if(n===null)return null;var r=Ju(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ye(231,t,typeof n));return n}var Jf=!1;if(Fr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Jf=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Jf=!1}function tC(e,t,n,r,l,u,p,y,v){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(E){this.onError(E)}}var fl=!1,fu=null,du=!1,$f=null,nC={onError:function(e){fl=!0,fu=e}};function iC(e,t,n,r,l,u,p,y,v){fl=!1,fu=null,tC.apply(nC,arguments)}function rC(e,t,n,r,l,u,p,y,v){if(iC.apply(this,arguments),fl){if(fl){var x=fu;fl=!1,fu=null}else throw Error(ye(198));du||(du=!0,$f=x)}}function _o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gp(e){if(_o(e)!==e)throw Error(ye(188))}function sC(e){var t=e.alternate;if(!t){if(t=_o(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return gp(l),e;if(u===r)return gp(l),t;u=u.sibling}throw Error(ye(188))}if(n.return!==r.return)n=l,r=u;else{for(var p=!1,y=l.child;y;){if(y===n){p=!0,n=l,r=u;break}if(y===r){p=!0,r=l,n=u;break}y=y.sibling}if(!p){for(y=u.child;y;){if(y===n){p=!0,n=u,r=l;break}if(y===r){p=!0,r=u,n=l;break}y=y.sibling}if(!p)throw Error(ye(189))}}if(n.alternate!==r)throw Error(ye(190))}if(n.tag!==3)throw Error(ye(188));return n.stateNode.current===n?e:t}function Gx(e){return e=sC(e),e!==null?Yx(e):null}function Yx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yx(e);if(t!==null)return t;e=e.sibling}return null}var Xx=yi.unstable_scheduleCallback,xp=yi.unstable_cancelCallback,oC=yi.unstable_shouldYield,aC=yi.unstable_requestPaint,en=yi.unstable_now,lC=yi.unstable_getCurrentPriorityLevel,x0=yi.unstable_ImmediatePriority,Kx=yi.unstable_UserBlockingPriority,pu=yi.unstable_NormalPriority,cC=yi.unstable_LowPriority,qx=yi.unstable_IdlePriority,Xu=null,gr=null;function uC(e){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Xu,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:dC,hC=Math.log,fC=Math.LN2;function dC(e){return e>>>=0,e===0?32:31-(hC(e)/fC|0)|0}var Tc=64,Ic=4194304;function al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,u=e.pingedLanes,p=n&268435455;if(p!==0){var y=p&~l;y!==0?r=al(y):(u&=p,u!==0&&(r=al(u)))}else p=n&~l,p!==0?r=al(p):u!==0&&(r=al(u));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tr(t),l=1<<n,r|=e[n],t&=~l;return r}function pC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-tr(u),y=1<<p,v=l[p];v===-1?(!(y&n)||y&r)&&(l[p]=pC(y,t)):v<=t&&(e.expiredLanes|=y),u&=~y}}function ed(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qx(){var e=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),e}function Xh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=n}function gC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-tr(n),u=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~u}}function y0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tr(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Et=0;function Jx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $x,w0,e2,t2,n2,td=!1,Nc=[],ps=null,ms=null,gs=null,Il=new Map,Nl=new Map,cs=[],xC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function qa(e,t,n,r,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Ql(t),t!==null&&w0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function yC(e,t,n,r,l){switch(t){case"focusin":return ps=qa(ps,e,t,n,r,l),!0;case"dragenter":return ms=qa(ms,e,t,n,r,l),!0;case"mouseover":return gs=qa(gs,e,t,n,r,l),!0;case"pointerover":var u=l.pointerId;return Il.set(u,qa(Il.get(u)||null,e,t,n,r,l)),!0;case"gotpointercapture":return u=l.pointerId,Nl.set(u,qa(Nl.get(u)||null,e,t,n,r,l)),!0}return!1}function i2(e){var t=to(e.target);if(t!==null){var n=_o(t);if(n!==null){if(t=n.tag,t===13){if(t=Zx(n),t!==null){e.blockedOn=t,n2(e.priority,function(){e2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qf=r,n.target.dispatchEvent(r),qf=null}else return t=Ql(n),t!==null&&w0(t),e.blockedOn=n,!1;t.shift()}return!0}function wp(e,t,n){Kc(e)&&n.delete(t)}function wC(){td=!1,ps!==null&&Kc(ps)&&(ps=null),ms!==null&&Kc(ms)&&(ms=null),gs!==null&&Kc(gs)&&(gs=null),Il.forEach(wp),Nl.forEach(wp)}function Qa(e,t){e.blockedOn===t&&(e.blockedOn=null,td||(td=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,wC)))}function Ml(e){function t(l){return Qa(l,e)}if(0<Nc.length){Qa(Nc[0],e);for(var n=1;n<Nc.length;n++){var r=Nc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ps!==null&&Qa(ps,e),ms!==null&&Qa(ms,e),gs!==null&&Qa(gs,e),Il.forEach(t),Nl.forEach(t),n=0;n<cs.length;n++)r=cs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)i2(n),n.blockedOn===null&&cs.shift()}var ia=Hr.ReactCurrentBatchConfig,gu=!0;function vC(e,t,n,r){var l=Et,u=ia.transition;ia.transition=null;try{Et=1,v0(e,t,n,r)}finally{Et=l,ia.transition=u}}function _C(e,t,n,r){var l=Et,u=ia.transition;ia.transition=null;try{Et=4,v0(e,t,n,r)}finally{Et=l,ia.transition=u}}function v0(e,t,n,r){if(gu){var l=nd(e,t,n,r);if(l===null)sf(e,t,r,xu,n),yp(e,r);else if(yC(l,e,t,n,r))r.stopPropagation();else if(yp(e,r),t&4&&-1<xC.indexOf(e)){for(;l!==null;){var u=Ql(l);if(u!==null&&$x(u),u=nd(e,t,n,r),u===null&&sf(e,t,r,xu,n),u===l)break;l=u}l!==null&&r.stopPropagation()}else sf(e,t,r,null,n)}}var xu=null;function nd(e,t,n,r){if(xu=null,e=g0(r),e=to(e),e!==null)if(t=_o(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xu=e,null}function r2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case x0:return 1;case Kx:return 4;case pu:case cC:return 16;case qx:return 536870912;default:return 16}default:return 16}}var hs=null,_0=null,qc=null;function s2(){if(qc)return qc;var e,t=_0,n=t.length,r,l="value"in hs?hs.value:hs.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var p=n-e;for(r=1;r<=p&&t[n-r]===l[u-r];r++);return qc=l.slice(e,1<r?1-r:void 0)}function Qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mc(){return!0}function vp(){return!1}function _i(e){function t(n,r,l,u,p){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Mc:vp,this.isPropagationStopped=vp,this}return Yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C0=_i(wa),ql=Yt({},wa,{view:0,detail:0}),CC=_i(ql),Kh,qh,Ja,Ku=Yt({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(Kh=e.screenX-Ja.screenX,qh=e.screenY-Ja.screenY):qh=Kh=0,Ja=e),Kh)},movementY:function(e){return"movementY"in e?e.movementY:qh}}),_p=_i(Ku),EC=Yt({},Ku,{dataTransfer:0}),AC=_i(EC),SC=Yt({},ql,{relatedTarget:0}),Qh=_i(SC),bC=Yt({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),TC=_i(bC),IC=Yt({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NC=_i(IC),MC=Yt({},wa,{data:0}),Cp=_i(MC),OC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LC[e])?!!t[e]:!1}function E0(){return PC}var DC=Yt({},ql,{key:function(e){if(e.key){var t=OC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E0,charCode:function(e){return e.type==="keypress"?Qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kC=_i(DC),BC=Yt({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ep=_i(BC),FC=Yt({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E0}),jC=_i(FC),zC=Yt({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UC=_i(zC),VC=Yt({},Ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HC=_i(VC),WC=[9,13,27,32],A0=Fr&&"CompositionEvent"in window,dl=null;Fr&&"documentMode"in document&&(dl=document.documentMode);var ZC=Fr&&"TextEvent"in window&&!dl,o2=Fr&&(!A0||dl&&8<dl&&11>=dl),Ap=" ",Sp=!1;function a2(e,t){switch(e){case"keyup":return WC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function GC(e,t){switch(e){case"compositionend":return l2(t);case"keypress":return t.which!==32?null:(Sp=!0,Ap);case"textInput":return e=t.data,e===Ap&&Sp?null:e;default:return null}}function YC(e,t){if(jo)return e==="compositionend"||!A0&&a2(e,t)?(e=s2(),qc=_0=hs=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return o2&&t.locale!=="ko"?null:t.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XC[e.type]:t==="textarea"}function c2(e,t,n,r){zx(r),t=yu(t,"onChange"),0<t.length&&(n=new C0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pl=null,Ol=null;function KC(e){v2(e,0)}function qu(e){var t=Vo(e);if(Lx(t))return e}function qC(e,t){if(e==="change")return t}var u2=!1;if(Fr){var Jh;if(Fr){var $h="oninput"in document;if(!$h){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),$h=typeof Tp.oninput=="function"}Jh=$h}else Jh=!1;u2=Jh&&(!document.documentMode||9<document.documentMode)}function Ip(){pl&&(pl.detachEvent("onpropertychange",h2),Ol=pl=null)}function h2(e){if(e.propertyName==="value"&&qu(Ol)){var t=[];c2(t,Ol,e,g0(e)),Wx(KC,t)}}function QC(e,t,n){e==="focusin"?(Ip(),pl=t,Ol=n,pl.attachEvent("onpropertychange",h2)):e==="focusout"&&Ip()}function JC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(Ol)}function $C(e,t){if(e==="click")return qu(t)}function e3(e,t){if(e==="input"||e==="change")return qu(t)}function t3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ir=typeof Object.is=="function"?Object.is:t3;function Rl(e,t){if(ir(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ff.call(t,l)||!ir(e[l],t[l]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,t){var n=Np(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Np(n)}}function f2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d2(){for(var e=window,t=hu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hu(e.document)}return t}function S0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n3(e){var t=d2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&f2(n.ownerDocument.documentElement,n)){if(r!==null&&S0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,u=Math.min(r.start,l);r=r.end===void 0?u:Math.min(r.end,l),!e.extend&&u>r&&(l=r,r=u,u=l),l=Mp(n,u);var p=Mp(n,r);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i3=Fr&&"documentMode"in document&&11>=document.documentMode,zo=null,id=null,ml=null,rd=!1;function Op(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||zo==null||zo!==hu(r)||(r=zo,"selectionStart"in r&&S0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&Rl(ml,r)||(ml=r,r=yu(id,"onSelect"),0<r.length&&(t=new C0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zo)))}function Oc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Uo={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},ef={},p2={};Fr&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Qu(e){if(ef[e])return ef[e];if(!Uo[e])return e;var t=Uo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in p2)return ef[e]=t[n];return e}var m2=Qu("animationend"),g2=Qu("animationiteration"),x2=Qu("animationstart"),y2=Qu("transitionend"),w2=new Map,Rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(e,t){w2.set(e,t),vo(t,[e])}for(var tf=0;tf<Rp.length;tf++){var nf=Rp[tf],r3=nf.toLowerCase(),s3=nf[0].toUpperCase()+nf.slice(1);Ns(r3,"on"+s3)}Ns(m2,"onAnimationEnd");Ns(g2,"onAnimationIteration");Ns(x2,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(y2,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Lp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rC(r,t,void 0,e),e.currentTarget=null}function v2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var p=r.length-1;0<=p;p--){var y=r[p],v=y.instance,x=y.currentTarget;if(y=y.listener,v!==u&&l.isPropagationStopped())break e;Lp(l,y,x),u=v}else for(p=0;p<r.length;p++){if(y=r[p],v=y.instance,x=y.currentTarget,y=y.listener,v!==u&&l.isPropagationStopped())break e;Lp(l,y,x),u=v}}}if(du)throw e=$f,du=!1,$f=null,e}function Bt(e,t){var n=t[cd];n===void 0&&(n=t[cd]=new Set);var r=e+"__bubble";n.has(r)||(_2(t,e,2,!1),n.add(r))}function rf(e,t,n){var r=0;t&&(r|=4),_2(n,e,r,t)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[Rc]){e[Rc]=!0,Ix.forEach(function(n){n!=="selectionchange"&&(o3.has(n)||rf(n,!1,e),rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rc]||(t[Rc]=!0,rf("selectionchange",!1,t))}}function _2(e,t,n,r){switch(r2(t)){case 1:var l=vC;break;case 4:l=_C;break;default:l=v0}n=l.bind(null,t,n,e),l=void 0,!Jf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function sf(e,t,n,r,l){var u=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var y=r.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(p===4)for(p=r.return;p!==null;){var v=p.tag;if((v===3||v===4)&&(v=p.stateNode.containerInfo,v===l||v.nodeType===8&&v.parentNode===l))return;p=p.return}for(;y!==null;){if(p=to(y),p===null)return;if(v=p.tag,v===5||v===6){r=u=p;continue e}y=y.parentNode}}r=r.return}Wx(function(){var x=u,E=g0(n),A=[];e:{var I=w2.get(e);if(I!==void 0){var O=C0,D=e;switch(e){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":O=kC;break;case"focusin":D="focus",O=Qh;break;case"focusout":D="blur",O=Qh;break;case"beforeblur":case"afterblur":O=Qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=_p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=AC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=jC;break;case m2:case g2:case x2:O=TC;break;case y2:O=UC;break;case"scroll":O=CC;break;case"wheel":O=HC;break;case"copy":case"cut":case"paste":O=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Ep}var P=(t&4)!==0,H=!P&&e==="scroll",j=P?I!==null?I+"Capture":null:I;P=[];for(var F=x,B;F!==null;){B=F;var Z=B.stateNode;if(B.tag===5&&Z!==null&&(B=Z,j!==null&&(Z=Tl(F,j),Z!=null&&P.push(Pl(F,Z,B)))),H)break;F=F.return}0<P.length&&(I=new O(I,D,null,n,E),A.push({event:I,listeners:P}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",I&&n!==qf&&(D=n.relatedTarget||n.fromElement)&&(to(D)||D[jr]))break e;if((O||I)&&(I=E.window===E?E:(I=E.ownerDocument)?I.defaultView||I.parentWindow:window,O?(D=n.relatedTarget||n.toElement,O=x,D=D?to(D):null,D!==null&&(H=_o(D),D!==H||D.tag!==5&&D.tag!==6)&&(D=null)):(O=null,D=x),O!==D)){if(P=_p,Z="onMouseLeave",j="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(P=Ep,Z="onPointerLeave",j="onPointerEnter",F="pointer"),H=O==null?I:Vo(O),B=D==null?I:Vo(D),I=new P(Z,F+"leave",O,n,E),I.target=H,I.relatedTarget=B,Z=null,to(E)===x&&(P=new P(j,F+"enter",D,n,E),P.target=B,P.relatedTarget=H,Z=P),H=Z,O&&D)t:{for(P=O,j=D,F=0,B=P;B;B=Do(B))F++;for(B=0,Z=j;Z;Z=Do(Z))B++;for(;0<F-B;)P=Do(P),F--;for(;0<B-F;)j=Do(j),B--;for(;F--;){if(P===j||j!==null&&P===j.alternate)break t;P=Do(P),j=Do(j)}P=null}else P=null;O!==null&&Pp(A,I,O,P,!1),D!==null&&H!==null&&Pp(A,H,D,P,!0)}}e:{if(I=x?Vo(x):window,O=I.nodeName&&I.nodeName.toLowerCase(),O==="select"||O==="input"&&I.type==="file")var $=qC;else if(bp(I))if(u2)$=e3;else{$=JC;var ae=QC}else(O=I.nodeName)&&O.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&($=$C);if($&&($=$(e,x))){c2(A,$,n,E);break e}ae&&ae(e,I,x),e==="focusout"&&(ae=I._wrapperState)&&ae.controlled&&I.type==="number"&&Zf(I,"number",I.value)}switch(ae=x?Vo(x):window,e){case"focusin":(bp(ae)||ae.contentEditable==="true")&&(zo=ae,id=x,ml=null);break;case"focusout":ml=id=zo=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Op(A,n,E);break;case"selectionchange":if(i3)break;case"keydown":case"keyup":Op(A,n,E)}var X;if(A0)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else jo?a2(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(o2&&n.locale!=="ko"&&(jo||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&jo&&(X=s2()):(hs=E,_0="value"in hs?hs.value:hs.textContent,jo=!0)),ae=yu(x,ee),0<ae.length&&(ee=new Cp(ee,e,null,n,E),A.push({event:ee,listeners:ae}),X?ee.data=X:(X=l2(n),X!==null&&(ee.data=X)))),(X=ZC?GC(e,n):YC(e,n))&&(x=yu(x,"onBeforeInput"),0<x.length&&(E=new Cp("onBeforeInput","beforeinput",null,n,E),A.push({event:E,listeners:x}),E.data=X))}v2(A,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yu(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=Tl(e,n),u!=null&&r.unshift(Pl(e,u,l)),u=Tl(e,t),u!=null&&r.push(Pl(e,u,l))),e=e.return}return r}function Do(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pp(e,t,n,r,l){for(var u=t._reactName,p=[];n!==null&&n!==r;){var y=n,v=y.alternate,x=y.stateNode;if(v!==null&&v===r)break;y.tag===5&&x!==null&&(y=x,l?(v=Tl(n,u),v!=null&&p.unshift(Pl(n,v,y))):l||(v=Tl(n,u),v!=null&&p.push(Pl(n,v,y)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var a3=/\r\n?/g,l3=/\u0000|\uFFFD/g;function Dp(e){return(typeof e=="string"?e:""+e).replace(a3,`
`).replace(l3,"")}function Lc(e,t,n){if(t=Dp(t),Dp(e)!==t&&n)throw Error(ye(425))}function wu(){}var sd=null,od=null;function ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,u3=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(e){return kp.resolve(null).then(e).catch(h3)}:ld;function h3(e){setTimeout(function(){throw e})}function of(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Ml(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Ml(t)}function xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var va=Math.random().toString(36).slice(2),mr="__reactFiber$"+va,Dl="__reactProps$"+va,jr="__reactContainer$"+va,cd="__reactEvents$"+va,f3="__reactListeners$"+va,d3="__reactHandles$"+va;function to(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jr]||n[mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bp(e);e!==null;){if(n=e[mr])return n;e=Bp(e)}return t}e=n,n=e.parentNode}return null}function Ql(e){return e=e[mr]||e[jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function Ju(e){return e[Dl]||null}var ud=[],Ho=-1;function Ms(e){return{current:e}}function Ft(e){0>Ho||(e.current=ud[Ho],ud[Ho]=null,Ho--)}function Rt(e,t){Ho++,ud[Ho]=e.current,e.current=t}var Ss={},jn=Ms(Ss),ni=Ms(!1),fo=Ss;function aa(e,t){var n=e.type.contextTypes;if(!n)return Ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in n)l[u]=t[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ii(e){return e=e.childContextTypes,e!=null}function vu(){Ft(ni),Ft(jn)}function Fp(e,t,n){if(jn.current!==Ss)throw Error(ye(168));Rt(jn,t),Rt(ni,n)}function C2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(ye(108,Q_(e)||"Unknown",l));return Yt({},n,r)}function _u(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,fo=jn.current,Rt(jn,e),Rt(ni,ni.current),!0}function jp(e,t,n){var r=e.stateNode;if(!r)throw Error(ye(169));n?(e=C2(e,t,fo),r.__reactInternalMemoizedMergedChildContext=e,Ft(ni),Ft(jn),Rt(jn,e)):Ft(ni),Rt(ni,n)}var Mr=null,$u=!1,af=!1;function E2(e){Mr===null?Mr=[e]:Mr.push(e)}function p3(e){$u=!0,E2(e)}function Os(){if(!af&&Mr!==null){af=!0;var e=0,t=Et;try{var n=Mr;for(Et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mr=null,$u=!1}catch(l){throw Mr!==null&&(Mr=Mr.slice(e+1)),Xx(x0,Os),l}finally{Et=t,af=!1}}return null}var Wo=[],Zo=0,Cu=null,Eu=0,ki=[],Bi=0,po=null,Or=1,Rr="";function qs(e,t){Wo[Zo++]=Eu,Wo[Zo++]=Cu,Cu=e,Eu=t}function A2(e,t,n){ki[Bi++]=Or,ki[Bi++]=Rr,ki[Bi++]=po,po=e;var r=Or;e=Rr;var l=32-tr(r)-1;r&=~(1<<l),n+=1;var u=32-tr(t)+l;if(30<u){var p=l-l%5;u=(r&(1<<p)-1).toString(32),r>>=p,l-=p,Or=1<<32-tr(t)+l|n<<l|r,Rr=u+e}else Or=1<<u|n<<l|r,Rr=e}function b0(e){e.return!==null&&(qs(e,1),A2(e,1,0))}function T0(e){for(;e===Cu;)Cu=Wo[--Zo],Wo[Zo]=null,Eu=Wo[--Zo],Wo[Zo]=null;for(;e===po;)po=ki[--Bi],ki[Bi]=null,Rr=ki[--Bi],ki[Bi]=null,Or=ki[--Bi],ki[Bi]=null}var xi=null,gi=null,zt=!1,er=null;function S2(e,t){var n=Fi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,gi=xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,gi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=po!==null?{id:Or,overflow:Rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xi=e,gi=null,!0):!1;default:return!1}}function hd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fd(e){if(zt){var t=gi;if(t){var n=t;if(!zp(e,t)){if(hd(e))throw Error(ye(418));t=xs(n.nextSibling);var r=xi;t&&zp(e,t)?S2(r,n):(e.flags=e.flags&-4097|2,zt=!1,xi=e)}}else{if(hd(e))throw Error(ye(418));e.flags=e.flags&-4097|2,zt=!1,xi=e}}}function Up(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Pc(e){if(e!==xi)return!1;if(!zt)return Up(e),zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ad(e.type,e.memoizedProps)),t&&(t=gi)){if(hd(e))throw b2(),Error(ye(418));for(;t;)S2(e,t),t=xs(t.nextSibling)}if(Up(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gi=xs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gi=null}}else gi=xi?xs(e.stateNode.nextSibling):null;return!0}function b2(){for(var e=gi;e;)e=xs(e.nextSibling)}function la(){gi=xi=null,zt=!1}function I0(e){er===null?er=[e]:er.push(e)}var m3=Hr.ReactCurrentBatchConfig;function $a(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ye(309));var r=n.stateNode}if(!r)throw Error(ye(147,e));var l=r,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var y=l.refs;p===null?delete y[u]:y[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(ye(284));if(!n._owner)throw Error(ye(290,e))}return e}function Dc(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vp(e){var t=e._init;return t(e._payload)}function T2(e){function t(j,F){if(e){var B=j.deletions;B===null?(j.deletions=[F],j.flags|=16):B.push(F)}}function n(j,F){if(!e)return null;for(;F!==null;)t(j,F),F=F.sibling;return null}function r(j,F){for(j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function l(j,F){return j=_s(j,F),j.index=0,j.sibling=null,j}function u(j,F,B){return j.index=B,e?(B=j.alternate,B!==null?(B=B.index,B<F?(j.flags|=2,F):B):(j.flags|=2,F)):(j.flags|=1048576,F)}function p(j){return e&&j.alternate===null&&(j.flags|=2),j}function y(j,F,B,Z){return F===null||F.tag!==6?(F=pf(B,j.mode,Z),F.return=j,F):(F=l(F,B),F.return=j,F)}function v(j,F,B,Z){var $=B.type;return $===Fo?E(j,F,B.props.children,Z,B.key):F!==null&&(F.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===os&&Vp($)===F.type)?(Z=l(F,B.props),Z.ref=$a(j,F,B),Z.return=j,Z):(Z=ru(B.type,B.key,B.props,null,j.mode,Z),Z.ref=$a(j,F,B),Z.return=j,Z)}function x(j,F,B,Z){return F===null||F.tag!==4||F.stateNode.containerInfo!==B.containerInfo||F.stateNode.implementation!==B.implementation?(F=mf(B,j.mode,Z),F.return=j,F):(F=l(F,B.children||[]),F.return=j,F)}function E(j,F,B,Z,$){return F===null||F.tag!==7?(F=ao(B,j.mode,Z,$),F.return=j,F):(F=l(F,B),F.return=j,F)}function A(j,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return F=pf(""+F,j.mode,B),F.return=j,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ac:return B=ru(F.type,F.key,F.props,null,j.mode,B),B.ref=$a(j,null,F),B.return=j,B;case Bo:return F=mf(F,j.mode,B),F.return=j,F;case os:var Z=F._init;return A(j,Z(F._payload),B)}if(ol(F)||Xa(F))return F=ao(F,j.mode,B,null),F.return=j,F;Dc(j,F)}return null}function I(j,F,B,Z){var $=F!==null?F.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return $!==null?null:y(j,F,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ac:return B.key===$?v(j,F,B,Z):null;case Bo:return B.key===$?x(j,F,B,Z):null;case os:return $=B._init,I(j,F,$(B._payload),Z)}if(ol(B)||Xa(B))return $!==null?null:E(j,F,B,Z,null);Dc(j,B)}return null}function O(j,F,B,Z,$){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return j=j.get(B)||null,y(F,j,""+Z,$);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ac:return j=j.get(Z.key===null?B:Z.key)||null,v(F,j,Z,$);case Bo:return j=j.get(Z.key===null?B:Z.key)||null,x(F,j,Z,$);case os:var ae=Z._init;return O(j,F,B,ae(Z._payload),$)}if(ol(Z)||Xa(Z))return j=j.get(B)||null,E(F,j,Z,$,null);Dc(F,Z)}return null}function D(j,F,B,Z){for(var $=null,ae=null,X=F,ee=F=0,J=null;X!==null&&ee<B.length;ee++){X.index>ee?(J=X,X=null):J=X.sibling;var Re=I(j,X,B[ee],Z);if(Re===null){X===null&&(X=J);break}e&&X&&Re.alternate===null&&t(j,X),F=u(Re,F,ee),ae===null?$=Re:ae.sibling=Re,ae=Re,X=J}if(ee===B.length)return n(j,X),zt&&qs(j,ee),$;if(X===null){for(;ee<B.length;ee++)X=A(j,B[ee],Z),X!==null&&(F=u(X,F,ee),ae===null?$=X:ae.sibling=X,ae=X);return zt&&qs(j,ee),$}for(X=r(j,X);ee<B.length;ee++)J=O(X,j,ee,B[ee],Z),J!==null&&(e&&J.alternate!==null&&X.delete(J.key===null?ee:J.key),F=u(J,F,ee),ae===null?$=J:ae.sibling=J,ae=J);return e&&X.forEach(function(Ue){return t(j,Ue)}),zt&&qs(j,ee),$}function P(j,F,B,Z){var $=Xa(B);if(typeof $!="function")throw Error(ye(150));if(B=$.call(B),B==null)throw Error(ye(151));for(var ae=$=null,X=F,ee=F=0,J=null,Re=B.next();X!==null&&!Re.done;ee++,Re=B.next()){X.index>ee?(J=X,X=null):J=X.sibling;var Ue=I(j,X,Re.value,Z);if(Ue===null){X===null&&(X=J);break}e&&X&&Ue.alternate===null&&t(j,X),F=u(Ue,F,ee),ae===null?$=Ue:ae.sibling=Ue,ae=Ue,X=J}if(Re.done)return n(j,X),zt&&qs(j,ee),$;if(X===null){for(;!Re.done;ee++,Re=B.next())Re=A(j,Re.value,Z),Re!==null&&(F=u(Re,F,ee),ae===null?$=Re:ae.sibling=Re,ae=Re);return zt&&qs(j,ee),$}for(X=r(j,X);!Re.done;ee++,Re=B.next())Re=O(X,j,ee,Re.value,Z),Re!==null&&(e&&Re.alternate!==null&&X.delete(Re.key===null?ee:Re.key),F=u(Re,F,ee),ae===null?$=Re:ae.sibling=Re,ae=Re);return e&&X.forEach(function(we){return t(j,we)}),zt&&qs(j,ee),$}function H(j,F,B,Z){if(typeof B=="object"&&B!==null&&B.type===Fo&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Ac:e:{for(var $=B.key,ae=F;ae!==null;){if(ae.key===$){if($=B.type,$===Fo){if(ae.tag===7){n(j,ae.sibling),F=l(ae,B.props.children),F.return=j,j=F;break e}}else if(ae.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===os&&Vp($)===ae.type){n(j,ae.sibling),F=l(ae,B.props),F.ref=$a(j,ae,B),F.return=j,j=F;break e}n(j,ae);break}else t(j,ae);ae=ae.sibling}B.type===Fo?(F=ao(B.props.children,j.mode,Z,B.key),F.return=j,j=F):(Z=ru(B.type,B.key,B.props,null,j.mode,Z),Z.ref=$a(j,F,B),Z.return=j,j=Z)}return p(j);case Bo:e:{for(ae=B.key;F!==null;){if(F.key===ae)if(F.tag===4&&F.stateNode.containerInfo===B.containerInfo&&F.stateNode.implementation===B.implementation){n(j,F.sibling),F=l(F,B.children||[]),F.return=j,j=F;break e}else{n(j,F);break}else t(j,F);F=F.sibling}F=mf(B,j.mode,Z),F.return=j,j=F}return p(j);case os:return ae=B._init,H(j,F,ae(B._payload),Z)}if(ol(B))return D(j,F,B,Z);if(Xa(B))return P(j,F,B,Z);Dc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,F!==null&&F.tag===6?(n(j,F.sibling),F=l(F,B),F.return=j,j=F):(n(j,F),F=pf(B,j.mode,Z),F.return=j,j=F),p(j)):n(j,F)}return H}var ca=T2(!0),I2=T2(!1),Au=Ms(null),Su=null,Go=null,N0=null;function M0(){N0=Go=Su=null}function O0(e){var t=Au.current;Ft(Au),e._currentValue=t}function dd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ra(e,t){Su=e,N0=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ti=!0),e.firstContext=null)}function zi(e){var t=e._currentValue;if(N0!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(Su===null)throw Error(ye(308));Go=e,Su.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var no=null;function R0(e){no===null?no=[e]:no.push(e)}function N2(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,R0(t)):(n.next=l.next,l.next=n),t.interleaved=n,zr(e,r)}function zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var as=!1;function L0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ys(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,zr(e,n)}return l=r.interleaved,l===null?(t.next=t,R0(r)):(t.next=l.next,l.next=t),r.interleaved=t,zr(e,n)}function Jc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,y0(e,n)}}function Hp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?l=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bu(e,t,n,r){var l=e.updateQueue;as=!1;var u=l.firstBaseUpdate,p=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var v=y,x=v.next;v.next=null,p===null?u=x:p.next=x,p=v;var E=e.alternate;E!==null&&(E=E.updateQueue,y=E.lastBaseUpdate,y!==p&&(y===null?E.firstBaseUpdate=x:y.next=x,E.lastBaseUpdate=v))}if(u!==null){var A=l.baseState;p=0,E=x=v=null,y=u;do{var I=y.lane,O=y.eventTime;if((r&I)===I){E!==null&&(E=E.next={eventTime:O,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var D=e,P=y;switch(I=t,O=n,P.tag){case 1:if(D=P.payload,typeof D=="function"){A=D.call(O,A,I);break e}A=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=P.payload,I=typeof D=="function"?D.call(O,A,I):D,I==null)break e;A=Yt({},A,I);break e;case 2:as=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[y]:I.push(y))}else O={eventTime:O,lane:I,tag:y.tag,payload:y.payload,callback:y.callback,next:null},E===null?(x=E=O,v=A):E=E.next=O,p|=I;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;I=y,y=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(!0);if(E===null&&(v=A),l.baseState=v,l.firstBaseUpdate=x,l.lastBaseUpdate=E,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);go|=p,e.lanes=p,e.memoizedState=A}}function Wp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(ye(191,l));l.call(r)}}}var Jl={},xr=Ms(Jl),kl=Ms(Jl),Bl=Ms(Jl);function io(e){if(e===Jl)throw Error(ye(174));return e}function P0(e,t){switch(Rt(Bl,t),Rt(kl,e),Rt(xr,Jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yf(t,e)}Ft(xr),Rt(xr,t)}function ua(){Ft(xr),Ft(kl),Ft(Bl)}function O2(e){io(Bl.current);var t=io(xr.current),n=Yf(t,e.type);t!==n&&(Rt(kl,e),Rt(xr,n))}function D0(e){kl.current===e&&(Ft(xr),Ft(kl))}var Wt=Ms(0);function Tu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lf=[];function k0(){for(var e=0;e<lf.length;e++)lf[e]._workInProgressVersionPrimary=null;lf.length=0}var $c=Hr.ReactCurrentDispatcher,cf=Hr.ReactCurrentBatchConfig,mo=0,Gt=null,pn=null,An=null,Iu=!1,gl=!1,Fl=0,g3=0;function Pn(){throw Error(ye(321))}function B0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function F0(e,t,n,r,l,u){if(mo=u,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$c.current=e===null||e.memoizedState===null?v3:_3,e=n(r,l),gl){u=0;do{if(gl=!1,Fl=0,25<=u)throw Error(ye(301));u+=1,An=pn=null,t.updateQueue=null,$c.current=C3,e=n(r,l)}while(gl)}if($c.current=Nu,t=pn!==null&&pn.next!==null,mo=0,An=pn=Gt=null,Iu=!1,t)throw Error(ye(300));return e}function j0(){var e=Fl!==0;return Fl=0,e}function dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Gt.memoizedState=An=e:An=An.next=e,An}function Ui(){if(pn===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=pn.next;var t=An===null?Gt.memoizedState:An.next;if(t!==null)An=t,pn=e;else{if(e===null)throw Error(ye(310));pn=e,e={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},An===null?Gt.memoizedState=An=e:An=An.next=e}return An}function jl(e,t){return typeof t=="function"?t(e):t}function uf(e){var t=Ui(),n=t.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=e;var r=pn,l=r.baseQueue,u=n.pending;if(u!==null){if(l!==null){var p=l.next;l.next=u.next,u.next=p}r.baseQueue=l=u,n.pending=null}if(l!==null){u=l.next,r=r.baseState;var y=p=null,v=null,x=u;do{var E=x.lane;if((mo&E)===E)v!==null&&(v=v.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var A={lane:E,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};v===null?(y=v=A,p=r):v=v.next=A,Gt.lanes|=E,go|=E}x=x.next}while(x!==null&&x!==u);v===null?p=r:v.next=y,ir(r,t.memoizedState)||(ti=!0),t.memoizedState=r,t.baseState=p,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do u=l.lane,Gt.lanes|=u,go|=u,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hf(e){var t=Ui(),n=t.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do u=e(u,p.action),p=p.next;while(p!==l);ir(u,t.memoizedState)||(ti=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function R2(){}function L2(e,t){var n=Gt,r=Ui(),l=t(),u=!ir(r.memoizedState,l);if(u&&(r.memoizedState=l,ti=!0),r=r.queue,z0(k2.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,zl(9,D2.bind(null,n,r,l,t),void 0,null),Sn===null)throw Error(ye(349));mo&30||P2(n,t,l)}return l}function P2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function D2(e,t,n,r){t.value=n,t.getSnapshot=r,B2(t)&&F2(e)}function k2(e,t,n){return n(function(){B2(t)&&F2(e)})}function B2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch{return!0}}function F2(e){var t=zr(e,1);t!==null&&nr(t,e,1,-1)}function Zp(e){var t=dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:e},t.queue=e,e=e.dispatch=w3.bind(null,Gt,e),[t.memoizedState,e]}function zl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function j2(){return Ui().memoizedState}function eu(e,t,n,r){var l=dr();Gt.flags|=e,l.memoizedState=zl(1|t,n,void 0,r===void 0?null:r)}function eh(e,t,n,r){var l=Ui();r=r===void 0?null:r;var u=void 0;if(pn!==null){var p=pn.memoizedState;if(u=p.destroy,r!==null&&B0(r,p.deps)){l.memoizedState=zl(t,n,u,r);return}}Gt.flags|=e,l.memoizedState=zl(1|t,n,u,r)}function Gp(e,t){return eu(8390656,8,e,t)}function z0(e,t){return eh(2048,8,e,t)}function z2(e,t){return eh(4,2,e,t)}function U2(e,t){return eh(4,4,e,t)}function V2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H2(e,t,n){return n=n!=null?n.concat([e]):null,eh(4,4,V2.bind(null,t,e),n)}function U0(){}function W2(e,t){var n=Ui();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&B0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Z2(e,t){var n=Ui();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&B0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function G2(e,t,n){return mo&21?(ir(n,t)||(n=Qx(),Gt.lanes|=n,go|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ti=!0),e.memoizedState=n)}function x3(e,t){var n=Et;Et=n!==0&&4>n?n:4,e(!0);var r=cf.transition;cf.transition={};try{e(!1),t()}finally{Et=n,cf.transition=r}}function Y2(){return Ui().memoizedState}function y3(e,t,n){var r=vs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X2(e))K2(t,n);else if(n=N2(e,t,n,r),n!==null){var l=Kn();nr(n,e,r,l),q2(n,t,r)}}function w3(e,t,n){var r=vs(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X2(e))K2(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,y=u(p,n);if(l.hasEagerState=!0,l.eagerState=y,ir(y,p)){var v=t.interleaved;v===null?(l.next=l,R0(t)):(l.next=v.next,v.next=l),t.interleaved=l;return}}catch{}finally{}n=N2(e,t,l,r),n!==null&&(l=Kn(),nr(n,e,r,l),q2(n,t,r))}}function X2(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function K2(e,t){gl=Iu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function q2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,y0(e,n)}}var Nu={readContext:zi,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},v3={readContext:zi,useCallback:function(e,t){return dr().memoizedState=[e,t===void 0?null:t],e},useContext:zi,useEffect:Gp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eu(4194308,4,V2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return eu(4,2,e,t)},useMemo:function(e,t){var n=dr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=y3.bind(null,Gt,e),[r.memoizedState,e]},useRef:function(e){var t=dr();return e={current:e},t.memoizedState=e},useState:Zp,useDebugValue:U0,useDeferredValue:function(e){return dr().memoizedState=e},useTransition:function(){var e=Zp(!1),t=e[0];return e=x3.bind(null,e[1]),dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Gt,l=dr();if(zt){if(n===void 0)throw Error(ye(407));n=n()}else{if(n=t(),Sn===null)throw Error(ye(349));mo&30||P2(r,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,Gp(k2.bind(null,r,u,e),[e]),r.flags|=2048,zl(9,D2.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=dr(),t=Sn.identifierPrefix;if(zt){var n=Rr,r=Or;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=g3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_3={readContext:zi,useCallback:W2,useContext:zi,useEffect:z0,useImperativeHandle:H2,useInsertionEffect:z2,useLayoutEffect:U2,useMemo:Z2,useReducer:uf,useRef:j2,useState:function(){return uf(jl)},useDebugValue:U0,useDeferredValue:function(e){var t=Ui();return G2(t,pn.memoizedState,e)},useTransition:function(){var e=uf(jl)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:R2,useSyncExternalStore:L2,useId:Y2,unstable_isNewReconciler:!1},C3={readContext:zi,useCallback:W2,useContext:zi,useEffect:z0,useImperativeHandle:H2,useInsertionEffect:z2,useLayoutEffect:U2,useMemo:Z2,useReducer:hf,useRef:j2,useState:function(){return hf(jl)},useDebugValue:U0,useDeferredValue:function(e){var t=Ui();return pn===null?t.memoizedState=e:G2(t,pn.memoizedState,e)},useTransition:function(){var e=hf(jl)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:R2,useSyncExternalStore:L2,useId:Y2,unstable_isNewReconciler:!1};function Qi(e,t){if(e&&e.defaultProps){t=Yt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Yt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var th={isMounted:function(e){return(e=e._reactInternals)?_o(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kn(),l=vs(e),u=Dr(r,l);u.payload=t,n!=null&&(u.callback=n),t=ys(e,u,l),t!==null&&(nr(t,e,l,r),Jc(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kn(),l=vs(e),u=Dr(r,l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=ys(e,u,l),t!==null&&(nr(t,e,l,r),Jc(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kn(),r=vs(e),l=Dr(n,r);l.tag=2,t!=null&&(l.callback=t),t=ys(e,l,r),t!==null&&(nr(t,e,r,n),Jc(t,e,r))}};function Yp(e,t,n,r,l,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,p):t.prototype&&t.prototype.isPureReactComponent?!Rl(n,r)||!Rl(l,u):!0}function Q2(e,t,n){var r=!1,l=Ss,u=t.contextType;return typeof u=="object"&&u!==null?u=zi(u):(l=ii(t)?fo:jn.current,r=t.contextTypes,u=(r=r!=null)?aa(e,l):Ss),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function Xp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function md(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},L0(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=zi(u):(u=ii(t)?fo:jn.current,l.context=aa(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(pd(e,t,u,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&th.enqueueReplaceState(l,l.state,null),bu(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ha(e,t){try{var n="",r=t;do n+=q_(r),r=r.return;while(r);var l=n}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function ff(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var E3=typeof WeakMap=="function"?WeakMap:Map;function J2(e,t,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ou||(Ou=!0,bd=r),gd(e,t)},n}function $2(e,t,n){n=Dr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){gd(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){gd(e,t),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Kp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new E3;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=B3.bind(null,e,t,n),t.then(e,e))}function qp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qp(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dr(-1,1),t.tag=2,ys(n,t,1))),n.lanes|=1),e)}var A3=Hr.ReactCurrentOwner,ti=!1;function Xn(e,t,n,r){t.child=e===null?I2(t,null,n,r):ca(t,e.child,n,r)}function Jp(e,t,n,r,l){n=n.render;var u=t.ref;return ra(t,l),r=F0(e,t,n,r,u,l),n=j0(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ur(e,t,l)):(zt&&n&&b0(t),t.flags|=1,Xn(e,t,r,l),t.child)}function $p(e,t,n,r,l){if(e===null){var u=n.type;return typeof u=="function"&&!K0(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,ey(e,t,u,r,l)):(e=ru(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&l)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(p,r)&&e.ref===t.ref)return Ur(e,t,l)}return t.flags|=1,e=_s(u,r),e.ref=t.ref,e.return=t,t.child=e}function ey(e,t,n,r,l){if(e!==null){var u=e.memoizedProps;if(Rl(u,r)&&e.ref===t.ref)if(ti=!1,t.pendingProps=r=u,(e.lanes&l)!==0)e.flags&131072&&(ti=!0);else return t.lanes=e.lanes,Ur(e,t,l)}return xd(e,t,n,r,l)}function ty(e,t,n){var r=t.pendingProps,l=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Xo,pi),pi|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Xo,pi),pi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,Rt(Xo,pi),pi|=r}else u!==null?(r=u.baseLanes|n,t.memoizedState=null):r=n,Rt(Xo,pi),pi|=r;return Xn(e,t,l,n),t.child}function ny(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xd(e,t,n,r,l){var u=ii(n)?fo:jn.current;return u=aa(t,u),ra(t,l),n=F0(e,t,n,r,u,l),r=j0(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ur(e,t,l)):(zt&&r&&b0(t),t.flags|=1,Xn(e,t,n,l),t.child)}function em(e,t,n,r,l){if(ii(n)){var u=!0;_u(t)}else u=!1;if(ra(t,l),t.stateNode===null)tu(e,t),Q2(t,n,r),md(t,n,r,l),r=!0;else if(e===null){var p=t.stateNode,y=t.memoizedProps;p.props=y;var v=p.context,x=n.contextType;typeof x=="object"&&x!==null?x=zi(x):(x=ii(n)?fo:jn.current,x=aa(t,x));var E=n.getDerivedStateFromProps,A=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function";A||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==r||v!==x)&&Xp(t,p,r,x),as=!1;var I=t.memoizedState;p.state=I,bu(t,r,p,l),v=t.memoizedState,y!==r||I!==v||ni.current||as?(typeof E=="function"&&(pd(t,n,E,r),v=t.memoizedState),(y=as||Yp(t,n,y,r,I,v,x))?(A||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),p.props=r,p.state=v,p.context=x,r=y):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{p=t.stateNode,M2(e,t),y=t.memoizedProps,x=t.type===t.elementType?y:Qi(t.type,y),p.props=x,A=t.pendingProps,I=p.context,v=n.contextType,typeof v=="object"&&v!==null?v=zi(v):(v=ii(n)?fo:jn.current,v=aa(t,v));var O=n.getDerivedStateFromProps;(E=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==A||I!==v)&&Xp(t,p,r,v),as=!1,I=t.memoizedState,p.state=I,bu(t,r,p,l);var D=t.memoizedState;y!==A||I!==D||ni.current||as?(typeof O=="function"&&(pd(t,n,O,r),D=t.memoizedState),(x=as||Yp(t,n,x,r,I,D,v)||!1)?(E||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,D,v),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,D,v)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),p.props=r,p.state=D,p.context=v,r=x):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return yd(e,t,n,r,u,l)}function yd(e,t,n,r,l,u){ny(e,t);var p=(t.flags&128)!==0;if(!r&&!p)return l&&jp(t,n,!1),Ur(e,t,u);r=t.stateNode,A3.current=t;var y=p&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&p?(t.child=ca(t,e.child,null,u),t.child=ca(t,null,y,u)):Xn(e,t,y,u),t.memoizedState=r.state,l&&jp(t,n,!0),t.child}function iy(e){var t=e.stateNode;t.pendingContext?Fp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fp(e,t.context,!1),P0(e,t.containerInfo)}function tm(e,t,n,r,l){return la(),I0(l),t.flags|=256,Xn(e,t,n,r),t.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function vd(e){return{baseLanes:e,cachePool:null,transitions:null}}function ry(e,t,n){var r=t.pendingProps,l=Wt.current,u=!1,p=(t.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Rt(Wt,l&1),e===null)return fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=r.children,e=r.fallback,u?(r=t.mode,u=t.child,p={mode:"hidden",children:p},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=p):u=rh(p,r,0,null),e=ao(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=vd(n),t.memoizedState=wd,e):V0(t,p));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return S3(e,t,p,r,y,l,n);if(u){u=r.fallback,p=t.mode,l=e.child,y=l.sibling;var v={mode:"hidden",children:r.children};return!(p&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=_s(l,v),r.subtreeFlags=l.subtreeFlags&14680064),y!==null?u=_s(y,u):(u=ao(u,p,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,p=e.child.memoizedState,p=p===null?vd(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~n,t.memoizedState=wd,r}return u=e.child,e=u.sibling,r=_s(u,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function V0(e,t){return t=rh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kc(e,t,n,r){return r!==null&&I0(r),ca(t,e.child,null,n),e=V0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S3(e,t,n,r,l,u,p){if(n)return t.flags&256?(t.flags&=-257,r=ff(Error(ye(422))),kc(e,t,p,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=r.fallback,l=t.mode,r=rh({mode:"visible",children:r.children},l,0,null),u=ao(u,l,p,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,t.mode&1&&ca(t,e.child,null,p),t.child.memoizedState=vd(p),t.memoizedState=wd,u);if(!(t.mode&1))return kc(e,t,p,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var y=r.dgst;return r=y,u=Error(ye(419)),r=ff(u,r,void 0),kc(e,t,p,r)}if(y=(p&e.childLanes)!==0,ti||y){if(r=Sn,r!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|p)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,zr(e,l),nr(r,e,l,-1))}return X0(),r=ff(Error(ye(421))),kc(e,t,p,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=F3.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,gi=xs(l.nextSibling),xi=t,zt=!0,er=null,e!==null&&(ki[Bi++]=Or,ki[Bi++]=Rr,ki[Bi++]=po,Or=e.id,Rr=e.overflow,po=t),t=V0(t,r.children),t.flags|=4096,t)}function nm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dd(e.return,t,n)}function df(e,t,n,r,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=l)}function sy(e,t,n){var r=t.pendingProps,l=r.revealOrder,u=r.tail;if(Xn(e,t,r.children,n),r=Wt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nm(e,n,t);else if(e.tag===19)nm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rt(Wt,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Tu(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),df(t,!1,l,n,u);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Tu(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}df(t,!0,n,null,u);break;case"together":df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),go|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,n=_s(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_s(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function b3(e,t,n){switch(t.tag){case 3:iy(t),la();break;case 5:O2(t);break;case 1:ii(t.type)&&_u(t);break;case 4:P0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Rt(Au,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Wt,Wt.current&1),t.flags|=128,null):n&t.child.childLanes?ry(e,t,n):(Rt(Wt,Wt.current&1),e=Ur(e,t,n),e!==null?e.sibling:null);Rt(Wt,Wt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sy(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Rt(Wt,Wt.current),r)break;return null;case 22:case 23:return t.lanes=0,ty(e,t,n)}return Ur(e,t,n)}var oy,_d,ay,ly;oy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_d=function(){};ay=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,io(xr.current);var u=null;switch(n){case"input":l=Hf(e,l),r=Hf(e,r),u=[];break;case"select":l=Yt({},l,{value:void 0}),r=Yt({},r,{value:void 0}),u=[];break;case"textarea":l=Gf(e,l),r=Gf(e,r),u=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wu)}Xf(n,r);var p;n=null;for(x in l)if(!r.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var y=l[x];for(p in y)y.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Sl.hasOwnProperty(x)?u||(u=[]):(u=u||[]).push(x,null));for(x in r){var v=r[x];if(y=l!=null?l[x]:void 0,r.hasOwnProperty(x)&&v!==y&&(v!=null||y!=null))if(x==="style")if(y){for(p in y)!y.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in v)v.hasOwnProperty(p)&&y[p]!==v[p]&&(n||(n={}),n[p]=v[p])}else n||(u||(u=[]),u.push(x,n)),n=v;else x==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(u=u||[]).push(x,v)):x==="children"?typeof v!="string"&&typeof v!="number"||(u=u||[]).push(x,""+v):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(x)?(v!=null&&x==="onScroll"&&Bt("scroll",e),u||y===v||(u=[])):(u=u||[]).push(x,v))}n&&(u=u||[]).push("style",n);var x=u;(t.updateQueue=x)&&(t.flags|=4)}};ly=function(e,t,n,r){n!==r&&(t.flags|=4)};function el(e,t){if(!zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function T3(e,t,n){var r=t.pendingProps;switch(T0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(t),null;case 1:return ii(t.type)&&vu(),Dn(t),null;case 3:return r=t.stateNode,ua(),Ft(ni),Ft(jn),k0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,er!==null&&(Nd(er),er=null))),_d(e,t),Dn(t),null;case 5:D0(t);var l=io(Bl.current);if(n=t.type,e!==null&&t.stateNode!=null)ay(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ye(166));return Dn(t),null}if(e=io(xr.current),Pc(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[mr]=t,r[Dl]=u,e=(t.mode&1)!==0,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(l=0;l<ll.length;l++)Bt(ll[l],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":hp(r,u),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Bt("invalid",r);break;case"textarea":dp(r,u),Bt("invalid",r)}Xf(n,u),l=null;for(var p in u)if(u.hasOwnProperty(p)){var y=u[p];p==="children"?typeof y=="string"?r.textContent!==y&&(u.suppressHydrationWarning!==!0&&Lc(r.textContent,y,e),l=["children",y]):typeof y=="number"&&r.textContent!==""+y&&(u.suppressHydrationWarning!==!0&&Lc(r.textContent,y,e),l=["children",""+y]):Sl.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&Bt("scroll",r)}switch(n){case"input":Sc(r),fp(r,u,!0);break;case"textarea":Sc(r),pp(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=wu)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=p.createElement(n,{is:r.is}):(e=p.createElement(n),n==="select"&&(p=e,r.multiple?p.multiple=!0:r.size&&(p.size=r.size))):e=p.createElementNS(e,n),e[mr]=t,e[Dl]=r,oy(e,t,!1,!1),t.stateNode=e;e:{switch(p=Kf(n,r),n){case"dialog":Bt("cancel",e),Bt("close",e),l=r;break;case"iframe":case"object":case"embed":Bt("load",e),l=r;break;case"video":case"audio":for(l=0;l<ll.length;l++)Bt(ll[l],e);l=r;break;case"source":Bt("error",e),l=r;break;case"img":case"image":case"link":Bt("error",e),Bt("load",e),l=r;break;case"details":Bt("toggle",e),l=r;break;case"input":hp(e,r),l=Hf(e,r),Bt("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Yt({},r,{value:void 0}),Bt("invalid",e);break;case"textarea":dp(e,r),l=Gf(e,r),Bt("invalid",e);break;default:l=r}Xf(n,l),y=l;for(u in y)if(y.hasOwnProperty(u)){var v=y[u];u==="style"?jx(e,v):u==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Bx(e,v)):u==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&bl(e,v):typeof v=="number"&&bl(e,""+v):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sl.hasOwnProperty(u)?v!=null&&u==="onScroll"&&Bt("scroll",e):v!=null&&f0(e,u,v,p))}switch(n){case"input":Sc(e),fp(e,r,!1);break;case"textarea":Sc(e),pp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+As(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?ea(e,!!r.multiple,u,!1):r.defaultValue!=null&&ea(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dn(t),null;case 6:if(e&&t.stateNode!=null)ly(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ye(166));if(n=io(Bl.current),io(xr.current),Pc(t)){if(r=t.stateNode,n=t.memoizedProps,r[mr]=t,(u=r.nodeValue!==n)&&(e=xi,e!==null))switch(e.tag){case 3:Lc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lc(r.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=t,t.stateNode=r}return Dn(t),null;case 13:if(Ft(Wt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zt&&gi!==null&&t.mode&1&&!(t.flags&128))b2(),la(),t.flags|=98560,u=!1;else if(u=Pc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(ye(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ye(317));u[mr]=t}else la(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dn(t),u=!1}else er!==null&&(Nd(er),er=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Wt.current&1?mn===0&&(mn=3):X0())),t.updateQueue!==null&&(t.flags|=4),Dn(t),null);case 4:return ua(),_d(e,t),e===null&&Ll(t.stateNode.containerInfo),Dn(t),null;case 10:return O0(t.type._context),Dn(t),null;case 17:return ii(t.type)&&vu(),Dn(t),null;case 19:if(Ft(Wt),u=t.memoizedState,u===null)return Dn(t),null;if(r=(t.flags&128)!==0,p=u.rendering,p===null)if(r)el(u,!1);else{if(mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=Tu(e),p!==null){for(t.flags|=128,el(u,!1),r=p.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)u=n,e=r,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rt(Wt,Wt.current&1|2),t.child}e=e.sibling}u.tail!==null&&en()>fa&&(t.flags|=128,r=!0,el(u,!1),t.lanes=4194304)}else{if(!r)if(e=Tu(p),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),el(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!zt)return Dn(t),null}else 2*en()-u.renderingStartTime>fa&&n!==1073741824&&(t.flags|=128,r=!0,el(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(n=u.last,n!==null?n.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=en(),t.sibling=null,n=Wt.current,Rt(Wt,r?n&1|2:n&1),t):(Dn(t),null);case 22:case 23:return Y0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pi&1073741824&&(Dn(t),t.subtreeFlags&6&&(t.flags|=8192)):Dn(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function I3(e,t){switch(T0(t),t.tag){case 1:return ii(t.type)&&vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(),Ft(ni),Ft(jn),k0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return D0(t),null;case 13:if(Ft(Wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(Wt),null;case 4:return ua(),null;case 10:return O0(t.type._context),null;case 22:case 23:return Y0(),null;case 24:return null;default:return null}}var Bc=!1,Bn=!1,N3=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Yo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(e,t,r)}else n.current=null}function Cd(e,t,n){try{n()}catch(r){Qt(e,t,r)}}var im=!1;function M3(e,t){if(sd=gu,e=d2(),S0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,y=-1,v=-1,x=0,E=0,A=e,I=null;t:for(;;){for(var O;A!==n||l!==0&&A.nodeType!==3||(y=p+l),A!==u||r!==0&&A.nodeType!==3||(v=p+r),A.nodeType===3&&(p+=A.nodeValue.length),(O=A.firstChild)!==null;)I=A,A=O;for(;;){if(A===e)break t;if(I===n&&++x===l&&(y=p),I===u&&++E===r&&(v=p),(O=A.nextSibling)!==null)break;A=I,I=A.parentNode}A=O}n=y===-1||v===-1?null:{start:y,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(od={focusedElem:e,selectionRange:n},gu=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var P=D.memoizedProps,H=D.memoizedState,j=t.stateNode,F=j.getSnapshotBeforeUpdate(t.elementType===t.type?P:Qi(t.type,P),H);j.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(Z){Qt(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return D=im,im=!1,D}function xl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&Cd(t,n,u)}l=l.next}while(l!==r)}}function nh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ed(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cy(e){var t=e.alternate;t!==null&&(e.alternate=null,cy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mr],delete t[Dl],delete t[cd],delete t[f3],delete t[d3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uy(e){return e.tag===5||e.tag===3||e.tag===4}function rm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ad(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wu));else if(r!==4&&(e=e.child,e!==null))for(Ad(e,t,n),e=e.sibling;e!==null;)Ad(e,t,n),e=e.sibling}function Sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sd(e,t,n),e=e.sibling;e!==null;)Sd(e,t,n),e=e.sibling}var Tn=null,Ji=!1;function is(e,t,n){for(n=n.child;n!==null;)hy(e,t,n),n=n.sibling}function hy(e,t,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Xu,n)}catch{}switch(n.tag){case 5:Bn||Yo(n,t);case 6:var r=Tn,l=Ji;Tn=null,is(e,t,n),Tn=r,Ji=l,Tn!==null&&(Ji?(e=Tn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(Ji?(e=Tn,n=n.stateNode,e.nodeType===8?of(e.parentNode,n):e.nodeType===1&&of(e,n),Ml(e)):of(Tn,n.stateNode));break;case 4:r=Tn,l=Ji,Tn=n.stateNode.containerInfo,Ji=!0,is(e,t,n),Tn=r,Ji=l;break;case 0:case 11:case 14:case 15:if(!Bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var u=l,p=u.destroy;u=u.tag,p!==void 0&&(u&2||u&4)&&Cd(n,t,p),l=l.next}while(l!==r)}is(e,t,n);break;case 1:if(!Bn&&(Yo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(y){Qt(n,t,y)}is(e,t,n);break;case 21:is(e,t,n);break;case 22:n.mode&1?(Bn=(r=Bn)||n.memoizedState!==null,is(e,t,n),Bn=r):is(e,t,n);break;default:is(e,t,n)}}function sm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new N3),t.forEach(function(r){var l=j3.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function qi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var u=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 5:Tn=y.stateNode,Ji=!1;break e;case 3:Tn=y.stateNode.containerInfo,Ji=!0;break e;case 4:Tn=y.stateNode.containerInfo,Ji=!0;break e}y=y.return}if(Tn===null)throw Error(ye(160));hy(u,p,l),Tn=null,Ji=!1;var v=l.alternate;v!==null&&(v.return=null),l.return=null}catch(x){Qt(l,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fy(t,e),t=t.sibling}function fy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qi(t,e),fr(e),r&4){try{xl(3,e,e.return),nh(3,e)}catch(P){Qt(e,e.return,P)}try{xl(5,e,e.return)}catch(P){Qt(e,e.return,P)}}break;case 1:qi(t,e),fr(e),r&512&&n!==null&&Yo(n,n.return);break;case 5:if(qi(t,e),fr(e),r&512&&n!==null&&Yo(n,n.return),e.flags&32){var l=e.stateNode;try{bl(l,"")}catch(P){Qt(e,e.return,P)}}if(r&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,p=n!==null?n.memoizedProps:u,y=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{y==="input"&&u.type==="radio"&&u.name!=null&&Px(l,u),Kf(y,p);var x=Kf(y,u);for(p=0;p<v.length;p+=2){var E=v[p],A=v[p+1];E==="style"?jx(l,A):E==="dangerouslySetInnerHTML"?Bx(l,A):E==="children"?bl(l,A):f0(l,E,A,x)}switch(y){case"input":Wf(l,u);break;case"textarea":Dx(l,u);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var O=u.value;O!=null?ea(l,!!u.multiple,O,!1):I!==!!u.multiple&&(u.defaultValue!=null?ea(l,!!u.multiple,u.defaultValue,!0):ea(l,!!u.multiple,u.multiple?[]:"",!1))}l[Dl]=u}catch(P){Qt(e,e.return,P)}}break;case 6:if(qi(t,e),fr(e),r&4){if(e.stateNode===null)throw Error(ye(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(P){Qt(e,e.return,P)}}break;case 3:if(qi(t,e),fr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(P){Qt(e,e.return,P)}break;case 4:qi(t,e),fr(e);break;case 13:qi(t,e),fr(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(Z0=en())),r&4&&sm(e);break;case 22:if(E=n!==null&&n.memoizedState!==null,e.mode&1?(Bn=(x=Bn)||E,qi(t,e),Bn=x):qi(t,e),fr(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!E&&e.mode&1)for(Pe=e,E=e.child;E!==null;){for(A=Pe=E;Pe!==null;){switch(I=Pe,O=I.child,I.tag){case 0:case 11:case 14:case 15:xl(4,I,I.return);break;case 1:Yo(I,I.return);var D=I.stateNode;if(typeof D.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(P){Qt(r,n,P)}}break;case 5:Yo(I,I.return);break;case 22:if(I.memoizedState!==null){am(A);continue}}O!==null?(O.return=I,Pe=O):am(A)}E=E.sibling}e:for(E=null,A=e;;){if(A.tag===5){if(E===null){E=A;try{l=A.stateNode,x?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(y=A.stateNode,v=A.memoizedProps.style,p=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=Fx("display",p))}catch(P){Qt(e,e.return,P)}}}else if(A.tag===6){if(E===null)try{A.stateNode.nodeValue=x?"":A.memoizedProps}catch(P){Qt(e,e.return,P)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;E===A&&(E=null),A=A.return}E===A&&(E=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:qi(t,e),fr(e),r&4&&sm(e);break;case 21:break;default:qi(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uy(n)){var r=n;break e}n=n.return}throw Error(ye(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(bl(l,""),r.flags&=-33);var u=rm(e);Sd(e,u,l);break;case 3:case 4:var p=r.stateNode.containerInfo,y=rm(e);Ad(e,y,p);break;default:throw Error(ye(161))}}catch(v){Qt(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O3(e,t,n){Pe=e,dy(e)}function dy(e,t,n){for(var r=(e.mode&1)!==0;Pe!==null;){var l=Pe,u=l.child;if(l.tag===22&&r){var p=l.memoizedState!==null||Bc;if(!p){var y=l.alternate,v=y!==null&&y.memoizedState!==null||Bn;y=Bc;var x=Bn;if(Bc=p,(Bn=v)&&!x)for(Pe=l;Pe!==null;)p=Pe,v=p.child,p.tag===22&&p.memoizedState!==null?lm(l):v!==null?(v.return=p,Pe=v):lm(l);for(;u!==null;)Pe=u,dy(u),u=u.sibling;Pe=l,Bc=y,Bn=x}om(e)}else l.subtreeFlags&8772&&u!==null?(u.return=l,Pe=u):om(e)}}function om(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bn||nh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bn)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Qi(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Wp(t,u,r);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wp(t,p,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var E=x.memoizedState;if(E!==null){var A=E.dehydrated;A!==null&&Ml(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Bn||t.flags&512&&Ed(t)}catch(I){Qt(t,t.return,I)}}if(t===e){Pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function am(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function lm(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nh(4,t)}catch(v){Qt(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(v){Qt(t,l,v)}}var u=t.return;try{Ed(t)}catch(v){Qt(t,u,v)}break;case 5:var p=t.return;try{Ed(t)}catch(v){Qt(t,p,v)}}}catch(v){Qt(t,t.return,v)}if(t===e){Pe=null;break}var y=t.sibling;if(y!==null){y.return=t.return,Pe=y;break}Pe=t.return}}var R3=Math.ceil,Mu=Hr.ReactCurrentDispatcher,H0=Hr.ReactCurrentOwner,ji=Hr.ReactCurrentBatchConfig,mt=0,Sn=null,ln=null,In=0,pi=0,Xo=Ms(0),mn=0,Ul=null,go=0,ih=0,W0=0,yl=null,ei=null,Z0=0,fa=1/0,Nr=null,Ou=!1,bd=null,ws=null,Fc=!1,fs=null,Ru=0,wl=0,Td=null,nu=-1,iu=0;function Kn(){return mt&6?en():nu!==-1?nu:nu=en()}function vs(e){return e.mode&1?mt&2&&In!==0?In&-In:m3.transition!==null?(iu===0&&(iu=Qx()),iu):(e=Et,e!==0||(e=window.event,e=e===void 0?16:r2(e.type)),e):1}function nr(e,t,n,r){if(50<wl)throw wl=0,Td=null,Error(ye(185));Kl(e,n,r),(!(mt&2)||e!==Sn)&&(e===Sn&&(!(mt&2)&&(ih|=n),mn===4&&us(e,In)),ri(e,r),n===1&&mt===0&&!(t.mode&1)&&(fa=en()+500,$u&&Os()))}function ri(e,t){var n=e.callbackNode;mC(e,t);var r=mu(e,e===Sn?In:0);if(r===0)n!==null&&xp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xp(n),t===1)e.tag===0?p3(cm.bind(null,e)):E2(cm.bind(null,e)),u3(function(){!(mt&6)&&Os()}),n=null;else{switch(Jx(r)){case 1:n=x0;break;case 4:n=Kx;break;case 16:n=pu;break;case 536870912:n=qx;break;default:n=pu}n=_y(n,py.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function py(e,t){if(nu=-1,iu=0,mt&6)throw Error(ye(327));var n=e.callbackNode;if(sa()&&e.callbackNode!==n)return null;var r=mu(e,e===Sn?In:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lu(e,r);else{t=r;var l=mt;mt|=2;var u=gy();(Sn!==e||In!==t)&&(Nr=null,fa=en()+500,oo(e,t));do try{D3();break}catch(y){my(e,y)}while(!0);M0(),Mu.current=u,mt=l,ln!==null?t=0:(Sn=null,In=0,t=mn)}if(t!==0){if(t===2&&(l=ed(e),l!==0&&(r=l,t=Id(e,l))),t===1)throw n=Ul,oo(e,0),us(e,r),ri(e,en()),n;if(t===6)us(e,r);else{if(l=e.current.alternate,!(r&30)&&!L3(l)&&(t=Lu(e,r),t===2&&(u=ed(e),u!==0&&(r=u,t=Id(e,u))),t===1))throw n=Ul,oo(e,0),us(e,r),ri(e,en()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(ye(345));case 2:Qs(e,ei,Nr);break;case 3:if(us(e,r),(r&130023424)===r&&(t=Z0+500-en(),10<t)){if(mu(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Kn(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ld(Qs.bind(null,e,ei,Nr),t);break}Qs(e,ei,Nr);break;case 4:if(us(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var p=31-tr(r);u=1<<p,p=t[p],p>l&&(l=p),r&=~u}if(r=l,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R3(r/1960))-r,10<r){e.timeoutHandle=ld(Qs.bind(null,e,ei,Nr),r);break}Qs(e,ei,Nr);break;case 5:Qs(e,ei,Nr);break;default:throw Error(ye(329))}}}return ri(e,en()),e.callbackNode===n?py.bind(null,e):null}function Id(e,t){var n=yl;return e.current.memoizedState.isDehydrated&&(oo(e,t).flags|=256),e=Lu(e,t),e!==2&&(t=ei,ei=n,t!==null&&Nd(t)),e}function Nd(e){ei===null?ei=e:ei.push.apply(ei,e)}function L3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],u=l.getSnapshot;l=l.value;try{if(!ir(u(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~W0,t&=~ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),r=1<<n;e[n]=-1,t&=~r}}function cm(e){if(mt&6)throw Error(ye(327));sa();var t=mu(e,0);if(!(t&1))return ri(e,en()),null;var n=Lu(e,t);if(e.tag!==0&&n===2){var r=ed(e);r!==0&&(t=r,n=Id(e,r))}if(n===1)throw n=Ul,oo(e,0),us(e,t),ri(e,en()),n;if(n===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,ei,Nr),ri(e,en()),null}function G0(e,t){var n=mt;mt|=1;try{return e(t)}finally{mt=n,mt===0&&(fa=en()+500,$u&&Os())}}function xo(e){fs!==null&&fs.tag===0&&!(mt&6)&&sa();var t=mt;mt|=1;var n=ji.transition,r=Et;try{if(ji.transition=null,Et=1,e)return e()}finally{Et=r,ji.transition=n,mt=t,!(mt&6)&&Os()}}function Y0(){pi=Xo.current,Ft(Xo)}function oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,c3(n)),ln!==null)for(n=ln.return;n!==null;){var r=n;switch(T0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vu();break;case 3:ua(),Ft(ni),Ft(jn),k0();break;case 5:D0(r);break;case 4:ua();break;case 13:Ft(Wt);break;case 19:Ft(Wt);break;case 10:O0(r.type._context);break;case 22:case 23:Y0()}n=n.return}if(Sn=e,ln=e=_s(e.current,null),In=pi=t,mn=0,Ul=null,W0=ih=go=0,ei=yl=null,no!==null){for(t=0;t<no.length;t++)if(n=no[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,u=n.pending;if(u!==null){var p=u.next;u.next=l,r.next=p}n.pending=r}no=null}return e}function my(e,t){do{var n=ln;try{if(M0(),$c.current=Nu,Iu){for(var r=Gt.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Iu=!1}if(mo=0,An=pn=Gt=null,gl=!1,Fl=0,H0.current=null,n===null||n.return===null){mn=1,Ul=t,ln=null;break}e:{var u=e,p=n.return,y=n,v=t;if(t=In,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=v,E=y,A=E.tag;if(!(E.mode&1)&&(A===0||A===11||A===15)){var I=E.alternate;I?(E.updateQueue=I.updateQueue,E.memoizedState=I.memoizedState,E.lanes=I.lanes):(E.updateQueue=null,E.memoizedState=null)}var O=qp(p);if(O!==null){O.flags&=-257,Qp(O,p,y,u,t),O.mode&1&&Kp(u,x,t),t=O,v=x;var D=t.updateQueue;if(D===null){var P=new Set;P.add(v),t.updateQueue=P}else D.add(v);break e}else{if(!(t&1)){Kp(u,x,t),X0();break e}v=Error(ye(426))}}else if(zt&&y.mode&1){var H=qp(p);if(H!==null){!(H.flags&65536)&&(H.flags|=256),Qp(H,p,y,u,t),I0(ha(v,y));break e}}u=v=ha(v,y),mn!==4&&(mn=2),yl===null?yl=[u]:yl.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var j=J2(u,v,t);Hp(u,j);break e;case 1:y=v;var F=u.type,B=u.stateNode;if(!(u.flags&128)&&(typeof F.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ws===null||!ws.has(B)))){u.flags|=65536,t&=-t,u.lanes|=t;var Z=$2(u,y,t);Hp(u,Z);break e}}u=u.return}while(u!==null)}yy(n)}catch($){t=$,ln===n&&n!==null&&(ln=n=n.return);continue}break}while(!0)}function gy(){var e=Mu.current;return Mu.current=Nu,e===null?Nu:e}function X0(){(mn===0||mn===3||mn===2)&&(mn=4),Sn===null||!(go&268435455)&&!(ih&268435455)||us(Sn,In)}function Lu(e,t){var n=mt;mt|=2;var r=gy();(Sn!==e||In!==t)&&(Nr=null,oo(e,t));do try{P3();break}catch(l){my(e,l)}while(!0);if(M0(),mt=n,Mu.current=r,ln!==null)throw Error(ye(261));return Sn=null,In=0,mn}function P3(){for(;ln!==null;)xy(ln)}function D3(){for(;ln!==null&&!oC();)xy(ln)}function xy(e){var t=vy(e.alternate,e,pi);e.memoizedProps=e.pendingProps,t===null?yy(e):ln=t,H0.current=null}function yy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=I3(n,t),n!==null){n.flags&=32767,ln=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mn=6,ln=null;return}}else if(n=T3(n,t,pi),n!==null){ln=n;return}if(t=t.sibling,t!==null){ln=t;return}ln=t=e}while(t!==null);mn===0&&(mn=5)}function Qs(e,t,n){var r=Et,l=ji.transition;try{ji.transition=null,Et=1,k3(e,t,n,r)}finally{ji.transition=l,Et=r}return null}function k3(e,t,n,r){do sa();while(fs!==null);if(mt&6)throw Error(ye(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(gC(e,u),e===Sn&&(ln=Sn=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fc||(Fc=!0,_y(pu,function(){return sa(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=ji.transition,ji.transition=null;var p=Et;Et=1;var y=mt;mt|=4,H0.current=null,M3(e,n),fy(n,e),n3(od),gu=!!sd,od=sd=null,e.current=n,O3(n),aC(),mt=y,Et=p,ji.transition=u}else e.current=n;if(Fc&&(Fc=!1,fs=e,Ru=l),u=e.pendingLanes,u===0&&(ws=null),uC(n.stateNode),ri(e,en()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ou)throw Ou=!1,e=bd,bd=null,e;return Ru&1&&e.tag!==0&&sa(),u=e.pendingLanes,u&1?e===Td?wl++:(wl=0,Td=e):wl=0,Os(),null}function sa(){if(fs!==null){var e=Jx(Ru),t=ji.transition,n=Et;try{if(ji.transition=null,Et=16>e?16:e,fs===null)var r=!1;else{if(e=fs,fs=null,Ru=0,mt&6)throw Error(ye(331));var l=mt;for(mt|=4,Pe=e.current;Pe!==null;){var u=Pe,p=u.child;if(Pe.flags&16){var y=u.deletions;if(y!==null){for(var v=0;v<y.length;v++){var x=y[v];for(Pe=x;Pe!==null;){var E=Pe;switch(E.tag){case 0:case 11:case 15:xl(8,E,u)}var A=E.child;if(A!==null)A.return=E,Pe=A;else for(;Pe!==null;){E=Pe;var I=E.sibling,O=E.return;if(cy(E),E===x){Pe=null;break}if(I!==null){I.return=O,Pe=I;break}Pe=O}}}var D=u.alternate;if(D!==null){var P=D.child;if(P!==null){D.child=null;do{var H=P.sibling;P.sibling=null,P=H}while(P!==null)}}Pe=u}}if(u.subtreeFlags&2064&&p!==null)p.return=u,Pe=p;else e:for(;Pe!==null;){if(u=Pe,u.flags&2048)switch(u.tag){case 0:case 11:case 15:xl(9,u,u.return)}var j=u.sibling;if(j!==null){j.return=u.return,Pe=j;break e}Pe=u.return}}var F=e.current;for(Pe=F;Pe!==null;){p=Pe;var B=p.child;if(p.subtreeFlags&2064&&B!==null)B.return=p,Pe=B;else e:for(p=F;Pe!==null;){if(y=Pe,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:nh(9,y)}}catch($){Qt(y,y.return,$)}if(y===p){Pe=null;break e}var Z=y.sibling;if(Z!==null){Z.return=y.return,Pe=Z;break e}Pe=y.return}}if(mt=l,Os(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Xu,e)}catch{}r=!0}return r}finally{Et=n,ji.transition=t}}return!1}function um(e,t,n){t=ha(n,t),t=J2(e,t,1),e=ys(e,t,1),t=Kn(),e!==null&&(Kl(e,1,t),ri(e,t))}function Qt(e,t,n){if(e.tag===3)um(e,e,n);else for(;t!==null;){if(t.tag===3){um(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){e=ha(n,e),e=$2(t,e,1),t=ys(t,e,1),e=Kn(),t!==null&&(Kl(t,1,e),ri(t,e));break}}t=t.return}}function B3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Kn(),e.pingedLanes|=e.suspendedLanes&n,Sn===e&&(In&n)===n&&(mn===4||mn===3&&(In&130023424)===In&&500>en()-Z0?oo(e,0):W0|=n),ri(e,t)}function wy(e,t){t===0&&(e.mode&1?(t=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):t=1);var n=Kn();e=zr(e,t),e!==null&&(Kl(e,t,n),ri(e,n))}function F3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wy(e,n)}function j3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(t),wy(e,n)}var vy;vy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ni.current)ti=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ti=!1,b3(e,t,n);ti=!!(e.flags&131072)}else ti=!1,zt&&t.flags&1048576&&A2(t,Eu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tu(e,t),e=t.pendingProps;var l=aa(t,jn.current);ra(t,n),l=F0(null,t,r,e,l,n);var u=j0();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ii(r)?(u=!0,_u(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,L0(t),l.updater=th,t.stateNode=l,l._reactInternals=t,md(t,r,e,n),t=yd(null,t,r,!0,u,n)):(t.tag=0,zt&&u&&b0(t),Xn(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tu(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=U3(r),e=Qi(r,e),l){case 0:t=xd(null,t,r,e,n);break e;case 1:t=em(null,t,r,e,n);break e;case 11:t=Jp(null,t,r,e,n);break e;case 14:t=$p(null,t,r,Qi(r.type,e),n);break e}throw Error(ye(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qi(r,l),xd(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qi(r,l),em(e,t,r,l,n);case 3:e:{if(iy(t),e===null)throw Error(ye(387));r=t.pendingProps,u=t.memoizedState,l=u.element,M2(e,t),bu(t,r,null,n);var p=t.memoizedState;if(r=p.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=ha(Error(ye(423)),t),t=tm(e,t,r,n,l);break e}else if(r!==l){l=ha(Error(ye(424)),t),t=tm(e,t,r,n,l);break e}else for(gi=xs(t.stateNode.containerInfo.firstChild),xi=t,zt=!0,er=null,n=I2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===l){t=Ur(e,t,n);break e}Xn(e,t,r,n)}t=t.child}return t;case 5:return O2(t),e===null&&fd(t),r=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,p=l.children,ad(r,l)?p=null:u!==null&&ad(r,u)&&(t.flags|=32),ny(e,t),Xn(e,t,p,n),t.child;case 6:return e===null&&fd(t),null;case 13:return ry(e,t,n);case 4:return P0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ca(t,null,r,n):Xn(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qi(r,l),Jp(e,t,r,l,n);case 7:return Xn(e,t,t.pendingProps,n),t.child;case 8:return Xn(e,t,t.pendingProps.children,n),t.child;case 12:return Xn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,u=t.memoizedProps,p=l.value,Rt(Au,r._currentValue),r._currentValue=p,u!==null)if(ir(u.value,p)){if(u.children===l.children&&!ni.current){t=Ur(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var y=u.dependencies;if(y!==null){p=u.child;for(var v=y.firstContext;v!==null;){if(v.context===r){if(u.tag===1){v=Dr(-1,n&-n),v.tag=2;var x=u.updateQueue;if(x!==null){x=x.shared;var E=x.pending;E===null?v.next=v:(v.next=E.next,E.next=v),x.pending=v}}u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),dd(u.return,n,t),y.lanes|=n;break}v=v.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(ye(341));p.lanes|=n,y=p.alternate,y!==null&&(y.lanes|=n),dd(p,n,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}Xn(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,ra(t,n),l=zi(l),r=r(l),t.flags|=1,Xn(e,t,r,n),t.child;case 14:return r=t.type,l=Qi(r,t.pendingProps),l=Qi(r.type,l),$p(e,t,r,l,n);case 15:return ey(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qi(r,l),tu(e,t),t.tag=1,ii(r)?(e=!0,_u(t)):e=!1,ra(t,n),Q2(t,r,l),md(t,r,l,n),yd(null,t,r,!0,e,n);case 19:return sy(e,t,n);case 22:return ty(e,t,n)}throw Error(ye(156,t.tag))};function _y(e,t){return Xx(e,t)}function z3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,n,r){return new z3(e,t,n,r)}function K0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U3(e){if(typeof e=="function")return K0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===p0)return 11;if(e===m0)return 14}return 2}function _s(e,t){var n=e.alternate;return n===null?(n=Fi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ru(e,t,n,r,l,u){var p=2;if(r=e,typeof e=="function")K0(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Fo:return ao(n.children,l,u,t);case d0:p=8,l|=8;break;case jf:return e=Fi(12,n,t,l|2),e.elementType=jf,e.lanes=u,e;case zf:return e=Fi(13,n,t,l),e.elementType=zf,e.lanes=u,e;case Uf:return e=Fi(19,n,t,l),e.elementType=Uf,e.lanes=u,e;case Ox:return rh(n,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nx:p=10;break e;case Mx:p=9;break e;case p0:p=11;break e;case m0:p=14;break e;case os:p=16,r=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=Fi(p,n,t,l),t.elementType=e,t.type=r,t.lanes=u,t}function ao(e,t,n,r){return e=Fi(7,e,r,t),e.lanes=n,e}function rh(e,t,n,r){return e=Fi(22,e,r,t),e.elementType=Ox,e.lanes=n,e.stateNode={isHidden:!1},e}function pf(e,t,n){return e=Fi(6,e,null,t),e.lanes=n,e}function mf(e,t,n){return t=Fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function V3(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xh(0),this.expirationTimes=Xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xh(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function q0(e,t,n,r,l,u,p,y,v){return e=new V3(e,t,n,y,v),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Fi(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},L0(u),e}function H3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cy(e){if(!e)return Ss;e=e._reactInternals;e:{if(_o(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var n=e.type;if(ii(n))return C2(e,n,t)}return t}function Ey(e,t,n,r,l,u,p,y,v){return e=q0(n,r,!0,e,l,u,p,y,v),e.context=Cy(null),n=e.current,r=Kn(),l=vs(n),u=Dr(r,l),u.callback=t??null,ys(n,u,l),e.current.lanes=l,Kl(e,l,r),ri(e,r),e}function sh(e,t,n,r){var l=t.current,u=Kn(),p=vs(l);return n=Cy(n),t.context===null?t.context=n:t.pendingContext=n,t=Dr(u,p),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ys(l,t,p),e!==null&&(nr(e,l,p,u),Jc(e,l,p)),p}function Pu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Q0(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function W3(){return null}var Ay=typeof reportError=="function"?reportError:function(e){console.error(e)};function J0(e){this._internalRoot=e}oh.prototype.render=J0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));sh(e,t,null,null)};oh.prototype.unmount=J0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xo(function(){sh(null,e,null,null)}),t[jr]=null}};function oh(e){this._internalRoot=e}oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=t2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cs.length&&t!==0&&t<cs[n].priority;n++);cs.splice(n,0,e),n===0&&i2(e)}};function $0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fm(){}function Z3(e,t,n,r,l){if(l){if(typeof r=="function"){var u=r;r=function(){var x=Pu(p);u.call(x)}}var p=Ey(t,r,e,0,null,!1,!1,"",fm);return e._reactRootContainer=p,e[jr]=p.current,Ll(e.nodeType===8?e.parentNode:e),xo(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var y=r;r=function(){var x=Pu(v);y.call(x)}}var v=q0(e,0,!1,null,null,!1,!1,"",fm);return e._reactRootContainer=v,e[jr]=v.current,Ll(e.nodeType===8?e.parentNode:e),xo(function(){sh(t,v,n,r)}),v}function lh(e,t,n,r,l){var u=n._reactRootContainer;if(u){var p=u;if(typeof l=="function"){var y=l;l=function(){var v=Pu(p);y.call(v)}}sh(t,p,e,l)}else p=Z3(n,t,e,l,r);return Pu(p)}$x=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=al(t.pendingLanes);n!==0&&(y0(t,n|1),ri(t,en()),!(mt&6)&&(fa=en()+500,Os()))}break;case 13:xo(function(){var r=zr(e,1);if(r!==null){var l=Kn();nr(r,e,1,l)}}),Q0(e,1)}};w0=function(e){if(e.tag===13){var t=zr(e,134217728);if(t!==null){var n=Kn();nr(t,e,134217728,n)}Q0(e,134217728)}};e2=function(e){if(e.tag===13){var t=vs(e),n=zr(e,t);if(n!==null){var r=Kn();nr(n,e,t,r)}Q0(e,t)}};t2=function(){return Et};n2=function(e,t){var n=Et;try{return Et=e,t()}finally{Et=n}};Qf=function(e,t,n){switch(t){case"input":if(Wf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ju(r);if(!l)throw Error(ye(90));Lx(r),Wf(r,l)}}}break;case"textarea":Dx(e,n);break;case"select":t=n.value,t!=null&&ea(e,!!n.multiple,t,!1)}};Vx=G0;Hx=xo;var G3={usingClientEntryPoint:!1,Events:[Ql,Vo,Ju,zx,Ux,G0]},tl={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y3={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gx(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||W3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Xu=jc.inject(Y3),gr=jc}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;vi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(t))throw Error(ye(200));return H3(e,t,null,n)};vi.createRoot=function(e,t){if(!$0(e))throw Error(ye(299));var n=!1,r="",l=Ay;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=q0(e,1,!1,null,null,n,!1,r,l),e[jr]=t.current,Ll(e.nodeType===8?e.parentNode:e),new J0(t)};vi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=Gx(t),e=e===null?null:e.stateNode,e};vi.flushSync=function(e){return xo(e)};vi.hydrate=function(e,t,n){if(!ah(t))throw Error(ye(200));return lh(null,e,t,!0,n)};vi.hydrateRoot=function(e,t,n){if(!$0(e))throw Error(ye(405));var r=n!=null&&n.hydratedSources||null,l=!1,u="",p=Ay;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=Ey(t,null,e,1,n??null,l,!1,u,p),e[jr]=t.current,Ll(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new oh(t)};vi.render=function(e,t,n){if(!ah(t))throw Error(ye(200));return lh(null,e,t,!1,n)};vi.unmountComponentAtNode=function(e){if(!ah(e))throw Error(ye(40));return e._reactRootContainer?(xo(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[jr]=null})}),!0):!1};vi.unstable_batchedUpdates=G0;vi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ah(n))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return lh(e,t,n,!1,r)};vi.version="18.3.1-next-f1338f8080-20240426";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(e){console.error(e)}}Sy(),Sx.exports=vi;var by=Sx.exports,dm=by;Bf.createRoot=dm.createRoot,Bf.hydrateRoot=dm.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(this,arguments)}var ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ds||(ds={}));const pm="popstate";function X3(e){e===void 0&&(e={});function t(l,u){let{pathname:p="/",search:y="",hash:v=""}=Co(l.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),Md("",{pathname:p,search:y,hash:v},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let p=l.document.querySelector("base"),y="";if(p&&p.getAttribute("href")){let v=l.location.href,x=v.indexOf("#");y=x===-1?v:v.slice(0,x)}return y+"#"+(typeof u=="string"?u:Du(u))}function r(l,u){ch(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return q3(t,n,r,e)}function nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ch(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K3(){return Math.random().toString(36).substr(2,8)}function mm(e,t){return{usr:e.state,key:e.key,idx:t}}function Md(e,t,n,r){return n===void 0&&(n=null),Vl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Co(t):t,{state:n,key:t&&t.key||r||K3()})}function Du(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Co(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q3(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:u=!1}=r,p=l.history,y=ds.Pop,v=null,x=E();x==null&&(x=0,p.replaceState(Vl({},p.state,{idx:x}),""));function E(){return(p.state||{idx:null}).idx}function A(){y=ds.Pop;let H=E(),j=H==null?null:H-x;x=H,v&&v({action:y,location:P.location,delta:j})}function I(H,j){y=ds.Push;let F=Md(P.location,H,j);n&&n(F,H),x=E()+1;let B=mm(F,x),Z=P.createHref(F);try{p.pushState(B,"",Z)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(Z)}u&&v&&v({action:y,location:P.location,delta:1})}function O(H,j){y=ds.Replace;let F=Md(P.location,H,j);n&&n(F,H),x=E();let B=mm(F,x),Z=P.createHref(F);p.replaceState(B,"",Z),u&&v&&v({action:y,location:P.location,delta:0})}function D(H){let j=l.location.origin!=="null"?l.location.origin:l.location.href,F=typeof H=="string"?H:Du(H);return F=F.replace(/ $/,"%20"),nn(j,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,j)}let P={get action(){return y},get location(){return e(l,p)},listen(H){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(pm,A),v=H,()=>{l.removeEventListener(pm,A),v=null}},createHref(H){return t(l,H)},createURL:D,encodeLocation(H){let j=D(H);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:I,replace:O,go(H){return p.go(H)}};return P}var gm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gm||(gm={}));function Q3(e,t,n){return n===void 0&&(n="/"),J3(e,t,n)}function J3(e,t,n,r){let l=typeof t=="string"?Co(t):t,u=e1(l.pathname||"/",n);if(u==null)return null;let p=Ty(e);$3(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let x=hE(u);y=lE(p[v],x)}return y}function Ty(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(u,p,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};v.relativePath.startsWith("/")&&(nn(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let x=Cs([r,v.relativePath]),E=n.concat(v);u.children&&u.children.length>0&&(nn(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Ty(u.children,t,E,x)),!(u.path==null&&!u.index)&&t.push({path:x,score:oE(x,u.index),routesMeta:E})};return e.forEach((u,p)=>{var y;if(u.path===""||!((y=u.path)!=null&&y.includes("?")))l(u,p);else for(let v of Iy(u.path))l(u,p,v)}),t}function Iy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let p=Iy(r.join("/")),y=[];return y.push(...p.map(v=>v===""?u:[u,v].join("/"))),l&&y.push(...p),y.map(v=>e.startsWith("/")&&v===""?"/":v)}function $3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eE=/^:[\w-]+$/,tE=3,nE=2,iE=1,rE=10,sE=-2,xm=e=>e==="*";function oE(e,t){let n=e.split("/"),r=n.length;return n.some(xm)&&(r+=sE),t&&(r+=nE),n.filter(l=>!xm(l)).reduce((l,u)=>l+(eE.test(u)?tE:u===""?iE:rE),r)}function aE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function lE(e,t,n){let{routesMeta:r}=e,l={},u="/",p=[];for(let y=0;y<r.length;++y){let v=r[y],x=y===r.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=cE({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},E),I=v.route;if(!A)return null;Object.assign(l,A.params),p.push({params:l,pathname:Cs([u,A.pathname]),pathnameBase:gE(Cs([u,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(u=Cs([u,A.pathnameBase]))}return p}function cE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uE(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let u=l[0],p=u.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:r.reduce((x,E,A)=>{let{paramName:I,isOptional:O}=E;if(I==="*"){let P=y[A]||"";p=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const D=y[A];return O&&!D?x[I]=void 0:x[I]=(D||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:p,pattern:e}}function uE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ch(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(r.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function hE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ch(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function e1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dE=e=>fE.test(e);function pE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Co(e):e,u;if(n)if(dE(n))u=n;else{if(n.includes("//")){let p=n;n=n.replace(/\/\/+/g,"/"),ch(!1,"Pathnames cannot have embedded double slashes - normalizing "+(p+" -> "+n))}n.startsWith("/")?u=ym(n.substring(1),"/"):u=ym(n,t)}else u=t;return{pathname:u,search:xE(r),hash:yE(l)}}function ym(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function gf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function t1(e,t){let n=mE(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function n1(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Co(e):(l=Vl({},e),nn(!l.pathname||!l.pathname.includes("?"),gf("?","pathname","search",l)),nn(!l.pathname||!l.pathname.includes("#"),gf("#","pathname","hash",l)),nn(!l.search||!l.search.includes("#"),gf("#","search","hash",l)));let u=e===""||l.pathname==="",p=u?"/":l.pathname,y;if(p==null)y=n;else{let A=t.length-1;if(!r&&p.startsWith("..")){let I=p.split("/");for(;I[0]==="..";)I.shift(),A-=1;l.pathname=I.join("/")}y=A>=0?t[A]:"/"}let v=pE(l,y),x=p&&p!=="/"&&p.endsWith("/"),E=(u||p===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(x||E)&&(v.pathname+="/"),v}const Cs=e=>e.join("/").replace(/\/\/+/g,"/"),gE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ny=["post","put","patch","delete"];new Set(Ny);const vE=["get",...Ny];new Set(vE);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl.apply(this,arguments)}const i1=V.createContext(null),_E=V.createContext(null),Rs=V.createContext(null),uh=V.createContext(null),wr=V.createContext({outlet:null,matches:[],isDataRoute:!1}),My=V.createContext(null);function CE(e,t){let{relative:n}=t===void 0?{}:t;_a()||nn(!1);let{basename:r,navigator:l}=V.useContext(Rs),{hash:u,pathname:p,search:y}=Ry(e,{relative:n}),v=p;return r!=="/"&&(v=p==="/"?r:Cs([r,p])),l.createHref({pathname:v,search:y,hash:u})}function _a(){return V.useContext(uh)!=null}function Eo(){return _a()||nn(!1),V.useContext(uh).location}function Oy(e){V.useContext(Rs).static||V.useLayoutEffect(e)}function Wr(){let{isDataRoute:e}=V.useContext(wr);return e?FE():EE()}function EE(){_a()||nn(!1);let e=V.useContext(i1),{basename:t,future:n,navigator:r}=V.useContext(Rs),{matches:l}=V.useContext(wr),{pathname:u}=Eo(),p=JSON.stringify(t1(l,n.v7_relativeSplatPath)),y=V.useRef(!1);return Oy(()=>{y.current=!0}),V.useCallback(function(x,E){if(E===void 0&&(E={}),!y.current)return;if(typeof x=="number"){r.go(x);return}let A=n1(x,JSON.parse(p),u,E.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Cs([t,A.pathname])),(E.replace?r.replace:r.push)(A,E.state,E)},[t,r,p,u,e])}const AE=V.createContext(null);function SE(e){let t=V.useContext(wr).outlet;return t&&V.createElement(AE.Provider,{value:e},t)}function bE(){let{matches:e}=V.useContext(wr),t=e[e.length-1];return t?t.params:{}}function Ry(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=V.useContext(Rs),{matches:l}=V.useContext(wr),{pathname:u}=Eo(),p=JSON.stringify(t1(l,r.v7_relativeSplatPath));return V.useMemo(()=>n1(e,JSON.parse(p),u,n==="path"),[e,p,u,n])}function TE(e,t){return IE(e,t)}function IE(e,t,n,r){_a()||nn(!1);let{navigator:l}=V.useContext(Rs),{matches:u}=V.useContext(wr),p=u[u.length-1],y=p?p.params:{};p&&p.pathname;let v=p?p.pathnameBase:"/";p&&p.route;let x=Eo(),E;if(t){var A;let H=typeof t=="string"?Co(t):t;v==="/"||(A=H.pathname)!=null&&A.startsWith(v)||nn(!1),E=H}else E=x;let I=E.pathname||"/",O=I;if(v!=="/"){let H=v.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=Q3(e,{pathname:O}),P=LE(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},y,H.params),pathname:Cs([v,l.encodeLocation?l.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:Cs([v,l.encodeLocation?l.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,r);return t&&P?V.createElement(uh.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:ds.Pop}},P):P}function NE(){let e=BE(),t=wE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:l},n):null,null)}const ME=V.createElement(NE,null);class OE extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?V.createElement(wr.Provider,{value:this.props.routeContext},V.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RE(e){let{routeContext:t,match:n,children:r}=e,l=V.useContext(i1);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(wr.Provider,{value:t},r)}function LE(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var u;if(!n)return null;if(n.errors)e=n.matches;else if((u=r)!=null&&u.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let p=e,y=(l=n)==null?void 0:l.errors;if(y!=null){let E=p.findIndex(A=>A.route.id&&(y==null?void 0:y[A.route.id])!==void 0);E>=0||nn(!1),p=p.slice(0,Math.min(p.length,E+1))}let v=!1,x=-1;if(n&&r&&r.v7_partialHydration)for(let E=0;E<p.length;E++){let A=p[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(x=E),A.route.id){let{loaderData:I,errors:O}=n,D=A.route.loader&&I[A.route.id]===void 0&&(!O||O[A.route.id]===void 0);if(A.route.lazy||D){v=!0,x>=0?p=p.slice(0,x+1):p=[p[0]];break}}}return p.reduceRight((E,A,I)=>{let O,D=!1,P=null,H=null;n&&(O=y&&A.route.id?y[A.route.id]:void 0,P=A.route.errorElement||ME,v&&(x<0&&I===0?(jE("route-fallback"),D=!0,H=null):x===I&&(D=!0,H=A.route.hydrateFallbackElement||null)));let j=t.concat(p.slice(0,I+1)),F=()=>{let B;return O?B=P:D?B=H:A.route.Component?B=V.createElement(A.route.Component,null):A.route.element?B=A.route.element:B=E,V.createElement(RE,{match:A,routeContext:{outlet:E,matches:j,isDataRoute:n!=null},children:B})};return n&&(A.route.ErrorBoundary||A.route.errorElement||I===0)?V.createElement(OE,{location:n.location,revalidation:n.revalidation,component:P,error:O,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):F()},null)}var Ly=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ly||{}),Py=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Py||{});function PE(e){let t=V.useContext(i1);return t||nn(!1),t}function DE(e){let t=V.useContext(_E);return t||nn(!1),t}function kE(e){let t=V.useContext(wr);return t||nn(!1),t}function Dy(e){let t=kE(),n=t.matches[t.matches.length-1];return n.route.id||nn(!1),n.route.id}function BE(){var e;let t=V.useContext(My),n=DE(),r=Dy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function FE(){let{router:e}=PE(Ly.UseNavigateStable),t=Dy(Py.UseNavigateStable),n=V.useRef(!1);return Oy(()=>{n.current=!0}),V.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Hl({fromRouteId:t},u)))},[e,t])}const wm={};function jE(e,t,n){wm[e]||(wm[e]=!0)}function zE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Od(e){let{to:t,replace:n,state:r,relative:l}=e;_a()||nn(!1);let{future:u,static:p}=V.useContext(Rs),{matches:y}=V.useContext(wr),{pathname:v}=Eo(),x=Wr(),E=n1(t,t1(y,u.v7_relativeSplatPath),v,l==="path"),A=JSON.stringify(E);return V.useEffect(()=>x(JSON.parse(A),{replace:n,state:r,relative:l}),[x,A,l,n,r]),null}function UE(e){return SE(e.context)}function Pi(e){nn(!1)}function VE(e){let{basename:t="/",children:n=null,location:r,navigationType:l=ds.Pop,navigator:u,static:p=!1,future:y}=e;_a()&&nn(!1);let v=t.replace(/^\/*/,"/"),x=V.useMemo(()=>({basename:v,navigator:u,static:p,future:Hl({v7_relativeSplatPath:!1},y)}),[v,y,u,p]);typeof r=="string"&&(r=Co(r));let{pathname:E="/",search:A="",hash:I="",state:O=null,key:D="default"}=r,P=V.useMemo(()=>{let H=e1(E,v);return H==null?null:{location:{pathname:H,search:A,hash:I,state:O,key:D},navigationType:l}},[v,E,A,I,O,D,l]);return P==null?null:V.createElement(Rs.Provider,{value:x},V.createElement(uh.Provider,{children:n,value:P}))}function HE(e){let{children:t,location:n}=e;return TE(Rd(t),n)}new Promise(()=>{});function Rd(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,l)=>{if(!V.isValidElement(r))return;let u=[...t,l];if(r.type===V.Fragment){n.push.apply(n,Rd(r.props.children,u));return}r.type!==Pi&&nn(!1),!r.props.index||!r.props.children||nn(!1);let p={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(p.children=Rd(r.props.children,u)),n.push(p)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ld.apply(this,arguments)}function WE(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,u;for(u=0;u<r.length;u++)l=r[u],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function ZE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GE(e,t){return e.button===0&&(!t||t==="_self")&&!ZE(e)}const YE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XE="6";try{window.__reactRouterVersion=XE}catch{}const KE="startTransition",vm=B_[KE];function qE(e){let{basename:t,children:n,future:r,window:l}=e,u=V.useRef();u.current==null&&(u.current=X3({window:l,v5Compat:!0}));let p=u.current,[y,v]=V.useState({action:p.action,location:p.location}),{v7_startTransition:x}=r||{},E=V.useCallback(A=>{x&&vm?vm(()=>v(A)):v(A)},[v,x]);return V.useLayoutEffect(()=>p.listen(E),[p,E]),V.useEffect(()=>zE(r),[r]),V.createElement(VE,{basename:t,children:n,location:y.location,navigationType:y.action,navigator:p,future:r})}const QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$E=V.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:u,replace:p,state:y,target:v,to:x,preventScrollReset:E,viewTransition:A}=t,I=WE(t,YE),{basename:O}=V.useContext(Rs),D,P=!1;if(typeof x=="string"&&JE.test(x)&&(D=x,QE))try{let B=new URL(window.location.href),Z=x.startsWith("//")?new URL(B.protocol+x):new URL(x),$=e1(Z.pathname,O);Z.origin===B.origin&&$!=null?x=$+Z.search+Z.hash:P=!0}catch{}let H=CE(x,{relative:l}),j=eA(x,{replace:p,state:y,target:v,preventScrollReset:E,relative:l,viewTransition:A});function F(B){r&&r(B),B.defaultPrevented||j(B)}return V.createElement("a",Ld({},I,{href:D||H,onClick:P||u?r:F,ref:n,target:v}))});var _m;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_m||(_m={}));var Cm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cm||(Cm={}));function eA(e,t){let{target:n,replace:r,state:l,preventScrollReset:u,relative:p,viewTransition:y}=t===void 0?{}:t,v=Wr(),x=Eo(),E=Ry(e,{relative:p});return V.useCallback(A=>{if(GE(A,n)){A.preventDefault();let I=r!==void 0?r:Du(x)===Du(E);v(e,{replace:I,state:l,preventScrollReset:u,relative:p,viewTransition:y})}},[x,v,E,r,l,n,e,u,p,y])}const ky=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),hh=V.createContext({}),fh=V.createContext(null),dh=typeof document<"u",r1=dh?V.useLayoutEffect:V.useEffect,By=V.createContext({strict:!1}),s1=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),tA="framerAppearId",Fy="data-"+s1(tA);function nA(e,t,n,r){const{visualElement:l}=V.useContext(hh),u=V.useContext(By),p=V.useContext(fh),y=V.useContext(ky).reducedMotion,v=V.useRef();r=r||u.renderer,!v.current&&r&&(v.current=r(e,{visualState:t,parent:l,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const x=v.current;V.useInsertionEffect(()=>{x&&x.update(n,p)});const E=V.useRef(!!(n[Fy]&&!window.HandoffComplete));return r1(()=>{x&&(x.render(),E.current&&x.animationState&&x.animationState.animateChanges())}),V.useEffect(()=>{x&&(x.updateFeatures(),!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(E.current=!1,window.HandoffComplete=!0))}),x}function Ko(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iA(e,t,n){return V.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ko(n)&&(n.current=r))},[t])}function Wl(e){return typeof e=="string"||Array.isArray(e)}function ph(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const o1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a1=["initial",...o1];function mh(e){return ph(e.animate)||a1.some(t=>Wl(e[t]))}function jy(e){return!!(mh(e)||e.variants)}function rA(e,t){if(mh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Wl(n)?n:void 0,animate:Wl(r)?r:void 0}}return e.inherit!==!1?t:{}}function sA(e){const{initial:t,animate:n}=rA(e,V.useContext(hh));return V.useMemo(()=>({initial:t,animate:n}),[Em(t),Em(n)])}function Em(e){return Array.isArray(e)?e.join(" "):e}const Am={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const e in Am)Zl[e]={isEnabled:t=>Am[e].some(n=>!!t[n])};function oA(e){for(const t in e)Zl[t]={...Zl[t],...e[t]}}const l1=V.createContext({}),zy=V.createContext({}),aA=Symbol.for("motionComponentSymbol");function lA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:l}){e&&oA(e);function u(y,v){let x;const E={...V.useContext(ky),...y,layoutId:cA(y)},{isStatic:A}=E,I=sA(y),O=r(y,A);if(!A&&dh){I.visualElement=nA(l,O,E,t);const D=V.useContext(zy),P=V.useContext(By).strict;I.visualElement&&(x=I.visualElement.loadFeatures(E,P,e,D))}return V.createElement(hh.Provider,{value:I},x&&I.visualElement?V.createElement(x,{visualElement:I.visualElement,...E}):null,n(l,y,iA(O,I.visualElement,v),O,A,I.visualElement))}const p=V.forwardRef(u);return p[aA]=l,p}function cA({layoutId:e}){const t=V.useContext(l1).id;return t&&e!==void 0?t+"-"+e:e}function uA(e){function t(r,l={}){return lA(e(r,l))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,l)=>(n.has(l)||n.set(l,t(l)),n.get(l))})}const hA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c1(e){return typeof e!="string"||e.includes("-")?!1:!!(hA.indexOf(e)>-1||/[A-Z]/.test(e))}const ku={};function fA(e){Object.assign(ku,e)}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ao=new Set($l);function Uy(e,{layout:t,layoutId:n}){return Ao.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ku[e]||e==="opacity")}const ai=e=>!!(e&&e.getVelocity),dA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pA=$l.length;function mA(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,l){let u="";for(let p=0;p<pA;p++){const y=$l[p];if(e[y]!==void 0){const v=dA[y]||y;u+=`${v}(${e[y]}) `}}return t&&!e.z&&(u+="translateZ(0)"),u=u.trim(),l?u=l(e,r?"":u):n&&r&&(u="none"),u}const Vy=e=>t=>typeof t=="string"&&t.startsWith(e),Hy=Vy("--"),Pd=Vy("var(--"),gA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,xA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bs=(e,t,n)=>Math.min(Math.max(n,e),t),So={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vl={...So,transform:e=>bs(0,1,e)},zc={...So,default:1},_l=e=>Math.round(e*1e5)/1e5,gh=/(-)?([\d]*\.?[\d])+/g,Wy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ec(e){return typeof e=="string"}const tc=e=>({test:t=>ec(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ss=tc("deg"),yr=tc("%"),Ge=tc("px"),wA=tc("vh"),vA=tc("vw"),Sm={...yr,parse:e=>yr.parse(e)/100,transform:e=>yr.transform(e*100)},bm={...So,transform:Math.round},Zy={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,size:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:zc,scaleX:zc,scaleY:zc,scaleZ:zc,skew:ss,skewX:ss,skewY:ss,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:vl,originX:Sm,originY:Sm,originZ:Ge,zIndex:bm,fillOpacity:vl,strokeOpacity:vl,numOctaves:bm};function u1(e,t,n,r){const{style:l,vars:u,transform:p,transformOrigin:y}=e;let v=!1,x=!1,E=!0;for(const A in t){const I=t[A];if(Hy(A)){u[A]=I;continue}const O=Zy[A],D=xA(I,O);if(Ao.has(A)){if(v=!0,p[A]=D,!E)continue;I!==(O.default||0)&&(E=!1)}else A.startsWith("origin")?(x=!0,y[A]=D):l[A]=D}if(t.transform||(v||r?l.transform=mA(e.transform,n,E,r):l.transform&&(l.transform="none")),x){const{originX:A="50%",originY:I="50%",originZ:O=0}=y;l.transformOrigin=`${A} ${I} ${O}`}}const h1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gy(e,t,n){for(const r in t)!ai(t[r])&&!Uy(r,n)&&(e[r]=t[r])}function _A({transformTemplate:e},t,n){return V.useMemo(()=>{const r=h1();return u1(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function CA(e,t,n){const r=e.style||{},l={};return Gy(l,r,e),Object.assign(l,_A(e,t,n)),e.transformValues?e.transformValues(l):l}function EA(e,t,n){const r={},l=CA(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=l,r}const AA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||AA.has(e)}let Yy=e=>!Bu(e);function SA(e){e&&(Yy=t=>t.startsWith("on")?!Bu(t):e(t))}try{SA(require("@emotion/is-prop-valid").default)}catch{}function bA(e,t,n){const r={};for(const l in e)l==="values"&&typeof e.values=="object"||(Yy(l)||n===!0&&Bu(l)||!t&&!Bu(l)||e.draggable&&l.startsWith("onDrag"))&&(r[l]=e[l]);return r}function Tm(e,t,n){return typeof e=="string"?e:Ge.transform(t+n*e)}function TA(e,t,n){const r=Tm(t,e.x,e.width),l=Tm(n,e.y,e.height);return`${r} ${l}`}const IA={offset:"stroke-dashoffset",array:"stroke-dasharray"},NA={offset:"strokeDashoffset",array:"strokeDasharray"};function MA(e,t,n=1,r=0,l=!0){e.pathLength=1;const u=l?IA:NA;e[u.offset]=Ge.transform(-r);const p=Ge.transform(t),y=Ge.transform(n);e[u.array]=`${p} ${y}`}function f1(e,{attrX:t,attrY:n,attrScale:r,originX:l,originY:u,pathLength:p,pathSpacing:y=1,pathOffset:v=0,...x},E,A,I){if(u1(e,x,E,I),A){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:O,style:D,dimensions:P}=e;O.transform&&(P&&(D.transform=O.transform),delete O.transform),P&&(l!==void 0||u!==void 0||D.transform)&&(D.transformOrigin=TA(P,l!==void 0?l:.5,u!==void 0?u:.5)),t!==void 0&&(O.x=t),n!==void 0&&(O.y=n),r!==void 0&&(O.scale=r),p!==void 0&&MA(O,p,y,v,!1)}const Xy=()=>({...h1(),attrs:{}}),d1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OA(e,t,n,r){const l=V.useMemo(()=>{const u=Xy();return f1(u,t,{enableHardwareAcceleration:!1},d1(r),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};Gy(u,e.style,e),l.style={...u,...l.style}}return l}function RA(e=!1){return(n,r,l,{latestValues:u},p)=>{const v=(c1(n)?OA:EA)(r,u,p,n),E={...bA(r,typeof n=="string",e),...v,ref:l},{children:A}=r,I=V.useMemo(()=>ai(A)?A.get():A,[A]);return V.createElement(n,{...E,children:I})}}function Ky(e,{style:t,vars:n},r,l){Object.assign(e.style,t,l&&l.getProjectionStyles(r));for(const u in n)e.style.setProperty(u,n[u])}const qy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qy(e,t,n,r){Ky(e,t,void 0,r);for(const l in t.attrs)e.setAttribute(qy.has(l)?l:s1(l),t.attrs[l])}function p1(e,t){const{style:n}=e,r={};for(const l in n)(ai(n[l])||t.style&&ai(t.style[l])||Uy(l,e))&&(r[l]=n[l]);return r}function Jy(e,t){const n=p1(e,t);for(const r in e)if(ai(e[r])||ai(t[r])){const l=$l.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=e[r]}return n}function m1(e,t,n,r={},l={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,l)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,l)),t}function $y(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fu=e=>Array.isArray(e),LA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),PA=e=>Fu(e)?e[e.length-1]||0:e;function su(e){const t=ai(e)?e.get():e;return LA(t)?t.toValue():t}function DA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,l,u){const p={latestValues:kA(r,l,u,e),renderState:t()};return n&&(p.mount=y=>n(r,y,p)),p}const ew=e=>(t,n)=>{const r=V.useContext(hh),l=V.useContext(fh),u=()=>DA(e,t,r,l);return n?u():$y(u)};function kA(e,t,n,r){const l={},u=r(e,{});for(const I in u)l[I]=su(u[I]);let{initial:p,animate:y}=e;const v=mh(e),x=jy(e);t&&x&&!v&&e.inherit!==!1&&(p===void 0&&(p=t.initial),y===void 0&&(y=t.animate));let E=n?n.initial===!1:!1;E=E||p===!1;const A=E?y:p;return A&&typeof A!="boolean"&&!ph(A)&&(Array.isArray(A)?A:[A]).forEach(O=>{const D=m1(e,O);if(!D)return;const{transitionEnd:P,transition:H,...j}=D;for(const F in j){let B=j[F];if(Array.isArray(B)){const Z=E?B.length-1:0;B=B[Z]}B!==null&&(l[F]=B)}for(const F in P)l[F]=P[F]}),l}const tn=e=>e;class Im{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function BA(e){let t=new Im,n=new Im,r=0,l=!1,u=!1;const p=new WeakSet,y={schedule:(v,x=!1,E=!1)=>{const A=E&&l,I=A?t:n;return x&&p.add(v),I.add(v)&&A&&l&&(r=t.order.length),v},cancel:v=>{n.remove(v),p.delete(v)},process:v=>{if(l){u=!0;return}if(l=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let x=0;x<r;x++){const E=t.order[x];E(v),p.has(E)&&(y.schedule(E),e())}l=!1,u&&(u=!1,y.process(v))}};return y}const Uc=["prepare","read","update","preRender","render","postRender"],FA=40;function jA(e,t){let n=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=Uc.reduce((A,I)=>(A[I]=BA(()=>n=!0),A),{}),p=A=>u[A].process(l),y=()=>{const A=performance.now();n=!1,l.delta=r?1e3/60:Math.max(Math.min(A-l.timestamp,FA),1),l.timestamp=A,l.isProcessing=!0,Uc.forEach(p),l.isProcessing=!1,n&&t&&(r=!1,e(y))},v=()=>{n=!0,r=!0,l.isProcessing||e(y)};return{schedule:Uc.reduce((A,I)=>{const O=u[I];return A[I]=(D,P=!1,H=!1)=>(n||v(),O.schedule(D,P,H)),A},{}),cancel:A=>Uc.forEach(I=>u[I].cancel(A)),state:l,steps:u}}const{schedule:Lt,cancel:Vr,state:kn,steps:xf}=jA(typeof requestAnimationFrame<"u"?requestAnimationFrame:tn,!0),zA={useVisualState:ew({scrapeMotionValuesFromProps:Jy,createRenderState:Xy,onMount:(e,t,{renderState:n,latestValues:r})=>{Lt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Lt.render(()=>{f1(n,r,{enableHardwareAcceleration:!1},d1(t.tagName),e.transformTemplate),Qy(t,n)})}})},UA={useVisualState:ew({scrapeMotionValuesFromProps:p1,createRenderState:h1})};function VA(e,{forwardMotionProps:t=!1},n,r){return{...c1(e)?zA:UA,preloadedFeatures:n,useRender:RA(t),createVisualElement:r,Component:e}}function Lr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const tw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function xh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const HA=e=>t=>tw(t)&&e(t,xh(t));function kr(e,t,n,r){return Lr(e,t,HA(n),r)}const WA=(e,t)=>n=>t(e(n)),Es=(...e)=>e.reduce(WA);function nw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Nm=nw("dragHorizontal"),Mm=nw("dragVertical");function iw(e){let t=!1;if(e==="y")t=Mm();else if(e==="x")t=Nm();else{const n=Nm(),r=Mm();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function rw(){const e=iw(!0);return e?(e(),!1):!0}class Ls{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Om(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),l=(u,p)=>{if(u.pointerType==="touch"||rw())return;const y=e.getProps();e.animationState&&y.whileHover&&e.animationState.setActive("whileHover",t),y[r]&&Lt.update(()=>y[r](u,p))};return kr(e.current,n,l,{passive:!e.getProps()[r]})}class ZA extends Ls{mount(){this.unmount=Es(Om(this.node,!0),Om(this.node,!1))}unmount(){}}class GA extends Ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Es(Lr(this.node.current,"focus",()=>this.onFocus()),Lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sw=(e,t)=>t?e===t?!0:sw(e,t.parentElement):!1;function yf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,xh(n))}class YA extends Ls{constructor(){super(...arguments),this.removeStartListeners=tn,this.removeEndListeners=tn,this.removeAccessibleListeners=tn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),u=kr(window,"pointerup",(y,v)=>{if(!this.checkPressEnd())return;const{onTap:x,onTapCancel:E,globalTapTarget:A}=this.node.getProps();Lt.update(()=>{!A&&!sw(this.node.current,y.target)?E&&E(y,v):x&&x(y,v)})},{passive:!(r.onTap||r.onPointerUp)}),p=kr(window,"pointercancel",(y,v)=>this.cancelPress(y,v),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Es(u,p),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=u=>{if(u.key!=="Enter"||this.isPressing)return;const p=y=>{y.key!=="Enter"||!this.checkPressEnd()||yf("up",(v,x)=>{const{onTap:E}=this.node.getProps();E&&Lt.update(()=>E(v,x))})};this.removeEndListeners(),this.removeEndListeners=Lr(this.node.current,"keyup",p),yf("down",(y,v)=>{this.startPress(y,v)})},n=Lr(this.node.current,"keydown",t),r=()=>{this.isPressing&&yf("cancel",(u,p)=>this.cancelPress(u,p))},l=Lr(this.node.current,"blur",r);this.removeAccessibleListeners=Es(n,l)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:l}=this.node.getProps();l&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Lt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Lt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=kr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Lr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Es(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Dd=new WeakMap,wf=new WeakMap,XA=e=>{const t=Dd.get(e.target);t&&t(e)},KA=e=>{e.forEach(XA)};function qA({root:e,...t}){const n=e||document;wf.has(n)||wf.set(n,{});const r=wf.get(n),l=JSON.stringify(t);return r[l]||(r[l]=new IntersectionObserver(KA,{root:e,...t})),r[l]}function QA(e,t,n){const r=qA(t);return Dd.set(e,n),r.observe(e),()=>{Dd.delete(e),r.unobserve(e)}}const JA={some:0,all:1};class $A extends Ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:l="some",once:u}=t,p={root:n?n.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:JA[l]},y=v=>{const{isIntersecting:x}=v;if(this.isInView===x||(this.isInView=x,u&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),I=x?E:A;I&&I(v)};return QA(this.node.current,p,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eS(t,n))&&this.startObserver()}unmount(){}}function eS({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tS={inView:{Feature:$A},tap:{Feature:YA},focus:{Feature:GA},hover:{Feature:ZA}};function ow(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function nS(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function iS(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function yh(e,t,n){const r=e.getProps();return m1(r,t,n!==void 0?n:r.custom,nS(e),iS(e))}let g1=tn;const lo=e=>e*1e3,Br=e=>e/1e3,rS={current:!1},aw=e=>Array.isArray(e)&&typeof e[0]=="number";function lw(e){return!!(!e||typeof e=="string"&&cw[e]||aw(e)||Array.isArray(e)&&e.every(lw))}const cl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,cw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cl([0,.65,.55,1]),circOut:cl([.55,0,1,.45]),backIn:cl([.31,.01,.66,-.59]),backOut:cl([.33,1.53,.69,.99])};function uw(e){if(e)return aw(e)?cl(e):Array.isArray(e)?e.map(uw):cw[e]}function sS(e,t,n,{delay:r=0,duration:l,repeat:u=0,repeatType:p="loop",ease:y,times:v}={}){const x={[t]:n};v&&(x.offset=v);const E=uw(y);return Array.isArray(E)&&(x.easing=E),e.animate(x,{delay:r,duration:l,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:p==="reverse"?"alternate":"normal"})}function oS(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const hw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,aS=1e-7,lS=12;function cS(e,t,n,r,l){let u,p,y=0;do p=t+(n-t)/2,u=hw(p,r,l)-e,u>0?n=p:t=p;while(Math.abs(u)>aS&&++y<lS);return p}function nc(e,t,n,r){if(e===t&&n===r)return tn;const l=u=>cS(u,0,1,e,n);return u=>u===0||u===1?u:hw(l(u),t,r)}const uS=nc(.42,0,1,1),hS=nc(0,0,.58,1),fw=nc(.42,0,.58,1),fS=e=>Array.isArray(e)&&typeof e[0]!="number",dw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pw=e=>t=>1-e(1-t),x1=e=>1-Math.sin(Math.acos(e)),mw=pw(x1),dS=dw(x1),gw=nc(.33,1.53,.69,.99),y1=pw(gw),pS=dw(y1),mS=e=>(e*=2)<1?.5*y1(e):.5*(2-Math.pow(2,-10*(e-1))),gS={linear:tn,easeIn:uS,easeInOut:fw,easeOut:hS,circIn:x1,circInOut:dS,circOut:mw,backIn:y1,backInOut:pS,backOut:gw,anticipate:mS},Rm=e=>{if(Array.isArray(e)){g1(e.length===4);const[t,n,r,l]=e;return nc(t,n,r,l)}else if(typeof e=="string")return gS[e];return e},w1=(e,t)=>n=>!!(ec(n)&&yA.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),xw=(e,t,n)=>r=>{if(!ec(r))return r;const[l,u,p,y]=r.match(gh);return{[e]:parseFloat(l),[t]:parseFloat(u),[n]:parseFloat(p),alpha:y!==void 0?parseFloat(y):1}},xS=e=>bs(0,255,e),vf={...So,transform:e=>Math.round(xS(e))},ro={test:w1("rgb","red"),parse:xw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vf.transform(e)+", "+vf.transform(t)+", "+vf.transform(n)+", "+_l(vl.transform(r))+")"};function yS(e){let t="",n="",r="",l="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),l=e.substring(4,5),t+=t,n+=n,r+=r,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const kd={test:w1("#"),parse:yS,transform:ro.transform},qo={test:w1("hsl","hue"),parse:xw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+yr.transform(_l(t))+", "+yr.transform(_l(n))+", "+_l(vl.transform(r))+")"},Yn={test:e=>ro.test(e)||kd.test(e)||qo.test(e),parse:e=>ro.test(e)?ro.parse(e):qo.test(e)?qo.parse(e):kd.parse(e),transform:e=>ec(e)?e:e.hasOwnProperty("red")?ro.transform(e):qo.transform(e)},Zt=(e,t,n)=>-n*e+n*t+e;function _f(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wS({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let l=0,u=0,p=0;if(!t)l=u=p=n;else{const y=n<.5?n*(1+t):n+t-n*t,v=2*n-y;l=_f(v,y,e+1/3),u=_f(v,y,e),p=_f(v,y,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(p*255),alpha:r}}const Cf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},vS=[kd,ro,qo],_S=e=>vS.find(t=>t.test(e));function Lm(e){const t=_S(e);let n=t.parse(e);return t===qo&&(n=wS(n)),n}const yw=(e,t)=>{const n=Lm(e),r=Lm(t),l={...n};return u=>(l.red=Cf(n.red,r.red,u),l.green=Cf(n.green,r.green,u),l.blue=Cf(n.blue,r.blue,u),l.alpha=Zt(n.alpha,r.alpha,u),ro.transform(l))};function CS(e){var t,n;return isNaN(e)&&ec(e)&&(((t=e.match(gh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Wy))===null||n===void 0?void 0:n.length)||0)>0}const ww={regex:gA,countKey:"Vars",token:"${v}",parse:tn},vw={regex:Wy,countKey:"Colors",token:"${c}",parse:Yn.parse},_w={regex:gh,countKey:"Numbers",token:"${n}",parse:So.parse};function Ef(e,{regex:t,countKey:n,token:r,parse:l}){const u=e.tokenised.match(t);u&&(e["num"+n]=u.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...u.map(l)))}function ju(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ef(n,ww),Ef(n,vw),Ef(n,_w),n}function Cw(e){return ju(e).values}function Ew(e){const{values:t,numColors:n,numVars:r,tokenised:l}=ju(e),u=t.length;return p=>{let y=l;for(let v=0;v<u;v++)v<r?y=y.replace(ww.token,p[v]):v<r+n?y=y.replace(vw.token,Yn.transform(p[v])):y=y.replace(_w.token,_l(p[v]));return y}}const ES=e=>typeof e=="number"?0:e;function AS(e){const t=Cw(e);return Ew(e)(t.map(ES))}const Ts={test:CS,parse:Cw,createTransformer:Ew,getAnimatableNone:AS},Aw=(e,t)=>n=>`${n>0?t:e}`;function Sw(e,t){return typeof e=="number"?n=>Zt(e,t,n):Yn.test(e)?yw(e,t):e.startsWith("var(")?Aw(e,t):Tw(e,t)}const bw=(e,t)=>{const n=[...e],r=n.length,l=e.map((u,p)=>Sw(u,t[p]));return u=>{for(let p=0;p<r;p++)n[p]=l[p](u);return n}},SS=(e,t)=>{const n={...e,...t},r={};for(const l in n)e[l]!==void 0&&t[l]!==void 0&&(r[l]=Sw(e[l],t[l]));return l=>{for(const u in r)n[u]=r[u](l);return n}},Tw=(e,t)=>{const n=Ts.createTransformer(t),r=ju(e),l=ju(t);return r.numVars===l.numVars&&r.numColors===l.numColors&&r.numNumbers>=l.numNumbers?Es(bw(r.values,l.values),n):Aw(e,t)},Gl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Pm=(e,t)=>n=>Zt(e,t,n);function bS(e){return typeof e=="number"?Pm:typeof e=="string"?Yn.test(e)?yw:Tw:Array.isArray(e)?bw:typeof e=="object"?SS:Pm}function TS(e,t,n){const r=[],l=n||bS(e[0]),u=e.length-1;for(let p=0;p<u;p++){let y=l(e[p],e[p+1]);if(t){const v=Array.isArray(t)?t[p]||tn:t;y=Es(v,y)}r.push(y)}return r}function Iw(e,t,{clamp:n=!0,ease:r,mixer:l}={}){const u=e.length;if(g1(u===t.length),u===1)return()=>t[0];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=TS(t,r,l),y=p.length,v=x=>{let E=0;if(y>1)for(;E<e.length-2&&!(x<e[E+1]);E++);const A=Gl(e[E],e[E+1],x);return p[E](A)};return n?x=>v(bs(e[0],e[u-1],x)):v}function IS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const l=Gl(0,t,r);e.push(Zt(n,1,l))}}function NS(e){const t=[0];return IS(t,e.length-1),t}function MS(e,t){return e.map(n=>n*t)}function OS(e,t){return e.map(()=>t||fw).splice(0,e.length-1)}function zu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const l=fS(r)?r.map(Rm):Rm(r),u={done:!1,value:t[0]},p=MS(n&&n.length===t.length?n:NS(t),e),y=Iw(p,t,{ease:Array.isArray(l)?l:OS(t,l)});return{calculatedDuration:e,next:v=>(u.value=y(v),u.done=v>=e,u)}}function Nw(e,t){return t?e*(1e3/t):0}const RS=5;function Mw(e,t,n){const r=Math.max(t-RS,0);return Nw(n-e(r),t-r)}const Af=.001,LS=.01,PS=10,DS=.05,kS=1;function BS({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let l,u,p=1-t;p=bs(DS,kS,p),e=bs(LS,PS,Br(e)),p<1?(l=x=>{const E=x*p,A=E*e,I=E-n,O=Bd(x,p),D=Math.exp(-A);return Af-I/O*D},u=x=>{const A=x*p*e,I=A*n+n,O=Math.pow(p,2)*Math.pow(x,2)*e,D=Math.exp(-A),P=Bd(Math.pow(x,2),p);return(-l(x)+Af>0?-1:1)*((I-O)*D)/P}):(l=x=>{const E=Math.exp(-x*e),A=(x-n)*e+1;return-Af+E*A},u=x=>{const E=Math.exp(-x*e),A=(n-x)*(e*e);return E*A});const y=5/e,v=jS(l,u,y);if(e=lo(e),isNaN(v))return{stiffness:100,damping:10,duration:e};{const x=Math.pow(v,2)*r;return{stiffness:x,damping:p*2*Math.sqrt(r*x),duration:e}}}const FS=12;function jS(e,t,n){let r=n;for(let l=1;l<FS;l++)r=r-e(r)/t(r);return r}function Bd(e,t){return e*Math.sqrt(1-t*t)}const zS=["duration","bounce"],US=["stiffness","damping","mass"];function Dm(e,t){return t.some(n=>e[n]!==void 0)}function VS(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Dm(e,US)&&Dm(e,zS)){const n=BS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Ow({keyframes:e,restDelta:t,restSpeed:n,...r}){const l=e[0],u=e[e.length-1],p={done:!1,value:l},{stiffness:y,damping:v,mass:x,duration:E,velocity:A,isResolvedFromDuration:I}=VS({...r,velocity:-Br(r.velocity||0)}),O=A||0,D=v/(2*Math.sqrt(y*x)),P=u-l,H=Br(Math.sqrt(y/x)),j=Math.abs(P)<5;n||(n=j?.01:2),t||(t=j?.005:.5);let F;if(D<1){const B=Bd(H,D);F=Z=>{const $=Math.exp(-D*H*Z);return u-$*((O+D*H*P)/B*Math.sin(B*Z)+P*Math.cos(B*Z))}}else if(D===1)F=B=>u-Math.exp(-H*B)*(P+(O+H*P)*B);else{const B=H*Math.sqrt(D*D-1);F=Z=>{const $=Math.exp(-D*H*Z),ae=Math.min(B*Z,300);return u-$*((O+D*H*P)*Math.sinh(ae)+B*P*Math.cosh(ae))/B}}return{calculatedDuration:I&&E||null,next:B=>{const Z=F(B);if(I)p.done=B>=E;else{let $=O;B!==0&&(D<1?$=Mw(F,B,Z):$=0);const ae=Math.abs($)<=n,X=Math.abs(u-Z)<=t;p.done=ae&&X}return p.value=p.done?u:Z,p}}}function km({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:p,min:y,max:v,restDelta:x=.5,restSpeed:E}){const A=e[0],I={done:!1,value:A},O=ee=>y!==void 0&&ee<y||v!==void 0&&ee>v,D=ee=>y===void 0?v:v===void 0||Math.abs(y-ee)<Math.abs(v-ee)?y:v;let P=n*t;const H=A+P,j=p===void 0?H:p(H);j!==H&&(P=j-A);const F=ee=>-P*Math.exp(-ee/r),B=ee=>j+F(ee),Z=ee=>{const J=F(ee),Re=B(ee);I.done=Math.abs(J)<=x,I.value=I.done?j:Re};let $,ae;const X=ee=>{O(I.value)&&($=ee,ae=Ow({keyframes:[I.value,D(I.value)],velocity:Mw(B,ee,I.value),damping:l,stiffness:u,restDelta:x,restSpeed:E}))};return X(0),{calculatedDuration:null,next:ee=>{let J=!1;return!ae&&$===void 0&&(J=!0,Z(ee),X(ee)),$!==void 0&&ee>$?ae.next(ee-$):(!J&&Z(ee),I)}}}const HS=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Lt.update(t,!0),stop:()=>Vr(t),now:()=>kn.isProcessing?kn.timestamp:performance.now()}},Bm=2e4;function Fm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Bm;)t+=n,r=e.next(t);return t>=Bm?1/0:t}const WS={decay:km,inertia:km,tween:zu,keyframes:zu,spring:Ow};function Uu({autoplay:e=!0,delay:t=0,driver:n=HS,keyframes:r,type:l="keyframes",repeat:u=0,repeatDelay:p=0,repeatType:y="loop",onPlay:v,onStop:x,onComplete:E,onUpdate:A,...I}){let O=1,D=!1,P,H;const j=()=>{H=new Promise(ve=>{P=ve})};j();let F;const B=WS[l]||zu;let Z;B!==zu&&typeof r[0]!="number"&&(Z=Iw([0,100],r,{clamp:!1}),r=[0,100]);const $=B({...I,keyframes:r});let ae;y==="mirror"&&(ae=B({...I,keyframes:[...r].reverse(),velocity:-(I.velocity||0)}));let X="idle",ee=null,J=null,Re=null;$.calculatedDuration===null&&u&&($.calculatedDuration=Fm($));const{calculatedDuration:Ue}=$;let we=1/0,Le=1/0;Ue!==null&&(we=Ue+p,Le=we*(u+1)-p);let Fe=0;const re=ve=>{if(J===null)return;O>0&&(J=Math.min(J,ve)),O<0&&(J=Math.min(ve-Le/O,J)),ee!==null?Fe=ee:Fe=Math.round(ve-J)*O;const te=Fe-t*(O>=0?1:-1),Ae=O>=0?te<0:te>Le;Fe=Math.max(te,0),X==="finished"&&ee===null&&(Fe=Le);let me=Fe,je=$;if(u){const qe=Math.min(Fe,Le)/we;let De=Math.floor(qe),st=qe%1;!st&&qe>=1&&(st=1),st===1&&De--,De=Math.min(De,u+1),!!(De%2)&&(y==="reverse"?(st=1-st,p&&(st-=p/we)):y==="mirror"&&(je=ae)),me=bs(0,1,st)*we}const ce=Ae?{done:!1,value:r[0]}:je.next(me);Z&&(ce.value=Z(ce.value));let{done:ue}=ce;!Ae&&Ue!==null&&(ue=O>=0?Fe>=Le:Fe<=0);const Ee=ee===null&&(X==="finished"||X==="running"&&ue);return A&&A(ce.value),Ee&&le(),ce},Ce=()=>{F&&F.stop(),F=void 0},Te=()=>{X="idle",Ce(),P(),j(),J=Re=null},le=()=>{X="finished",E&&E(),Ce(),P()},Me=()=>{if(D)return;F||(F=n(re));const ve=F.now();v&&v(),ee!==null?J=ve-ee:(!J||X==="finished")&&(J=ve),X==="finished"&&j(),Re=J,ee=null,X="running",F.start()};e&&Me();const de={then(ve,te){return H.then(ve,te)},get time(){return Br(Fe)},set time(ve){ve=lo(ve),Fe=ve,ee!==null||!F||O===0?ee=ve:J=F.now()-ve/O},get duration(){const ve=$.calculatedDuration===null?Fm($):$.calculatedDuration;return Br(ve)},get speed(){return O},set speed(ve){ve===O||!F||(O=ve,de.time=Br(Fe))},get state(){return X},play:Me,pause:()=>{X="paused",ee=Fe},stop:()=>{D=!0,X!=="idle"&&(X="idle",x&&x(),Te())},cancel:()=>{Re!==null&&re(Re),Te()},complete:()=>{X="finished"},sample:ve=>(J=0,re(ve))};return de}function ZS(e){let t;return()=>(t===void 0&&(t=e()),t)}const GS=ZS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),YS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Vc=10,XS=2e4,KS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!lw(t.ease);function qS(e,t,{onUpdate:n,onComplete:r,...l}){if(!(GS()&&YS.has(t)&&!l.repeatDelay&&l.repeatType!=="mirror"&&l.damping!==0&&l.type!=="inertia"))return!1;let p=!1,y,v,x=!1;const E=()=>{v=new Promise(B=>{y=B})};E();let{keyframes:A,duration:I=300,ease:O,times:D}=l;if(KS(t,l)){const B=Uu({...l,repeat:0,delay:0});let Z={done:!1,value:A[0]};const $=[];let ae=0;for(;!Z.done&&ae<XS;)Z=B.sample(ae),$.push(Z.value),ae+=Vc;D=void 0,A=$,I=ae-Vc,O="linear"}const P=sS(e.owner.current,t,A,{...l,duration:I,ease:O,times:D}),H=()=>{x=!1,P.cancel()},j=()=>{x=!0,Lt.update(H),y(),E()};return P.onfinish=()=>{x||(e.set(oS(A,l)),r&&r(),j())},{then(B,Z){return v.then(B,Z)},attachTimeline(B){return P.timeline=B,P.onfinish=null,tn},get time(){return Br(P.currentTime||0)},set time(B){P.currentTime=lo(B)},get speed(){return P.playbackRate},set speed(B){P.playbackRate=B},get duration(){return Br(I)},play:()=>{p||(P.play(),Vr(H))},pause:()=>P.pause(),stop:()=>{if(p=!0,P.playState==="idle")return;const{currentTime:B}=P;if(B){const Z=Uu({...l,autoplay:!1});e.setWithVelocity(Z.sample(B-Vc).value,Z.sample(B).value,Vc)}j()},complete:()=>{x||P.finish()},cancel:j}}function QS({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const l=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:tn,pause:tn,stop:tn,then:u=>(u(),Promise.resolve()),cancel:tn,complete:tn});return t?Uu({keyframes:[0,1],duration:0,delay:t,onComplete:l}):l()}const JS={type:"spring",stiffness:500,damping:25,restSpeed:10},$S=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eb={type:"keyframes",duration:.8},tb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nb=(e,{keyframes:t})=>t.length>2?eb:Ao.has(e)?e.startsWith("scale")?$S(t[1]):JS:tb,Fd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ts.test(t)||t==="0")&&!t.startsWith("url(")),ib=new Set(["brightness","contrast","saturate","opacity"]);function rb(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(gh)||[];if(!r)return e;const l=n.replace(r,"");let u=ib.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+l+")"}const sb=/([a-z-]*)\(.*?\)/g,jd={...Ts,getAnimatableNone:e=>{const t=e.match(sb);return t?t.map(rb).join(" "):e}},ob={...Zy,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:jd,WebkitFilter:jd},v1=e=>ob[e];function Rw(e,t){let n=v1(e);return n!==jd&&(n=Ts),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Lw=e=>/^0[^.\s]+$/.test(e);function ab(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Lw(e)}function lb(e,t,n,r){const l=Fd(t,n);let u;Array.isArray(n)?u=[...n]:u=[null,n];const p=r.from!==void 0?r.from:e.get();let y;const v=[];for(let x=0;x<u.length;x++)u[x]===null&&(u[x]=x===0?p:u[x-1]),ab(u[x])&&v.push(x),typeof u[x]=="string"&&u[x]!=="none"&&u[x]!=="0"&&(y=u[x]);if(l&&v.length&&y)for(let x=0;x<v.length;x++){const E=v[x];u[E]=Rw(t,y)}return u}function cb({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:l,repeat:u,repeatType:p,repeatDelay:y,from:v,elapsed:x,...E}){return!!Object.keys(E).length}function _1(e,t){return e[t]||e.default||e}const ub={skipAnimations:!1},C1=(e,t,n,r={})=>l=>{const u=_1(r,e)||{},p=u.delay||r.delay||0;let{elapsed:y=0}=r;y=y-lo(p);const v=lb(t,e,n,u),x=v[0],E=v[v.length-1],A=Fd(e,x),I=Fd(e,E);let O={keyframes:v,velocity:t.getVelocity(),ease:"easeOut",...u,delay:-y,onUpdate:D=>{t.set(D),u.onUpdate&&u.onUpdate(D)},onComplete:()=>{l(),u.onComplete&&u.onComplete()}};if(cb(u)||(O={...O,...nb(e,O)}),O.duration&&(O.duration=lo(O.duration)),O.repeatDelay&&(O.repeatDelay=lo(O.repeatDelay)),!A||!I||rS.current||u.type===!1||ub.skipAnimations)return QS(O);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const D=qS(t,e,O);if(D)return D}return Uu(O)};function Vu(e){return!!(ai(e)&&e.add)}const Pw=e=>/^\-?\d*\.?\d+$/.test(e);function E1(e,t){e.indexOf(t)===-1&&e.push(t)}function A1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class S1{constructor(){this.subscriptions=[]}add(t){return E1(this.subscriptions,t),()=>A1(this.subscriptions,t)}notify(t,n,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,r);else for(let u=0;u<l;u++){const p=this.subscriptions[u];p&&p(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hb=e=>!isNaN(parseFloat(e));class fb{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,l=!0)=>{this.prev=this.current,this.current=r;const{delta:u,timestamp:p}=kn;this.lastUpdated!==p&&(this.timeDelta=u,this.lastUpdated=p,Lt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Lt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=hb(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new S1);const r=this.events[t].add(n);return t==="change"?()=>{r(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Nw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function da(e,t){return new fb(e,t)}const Dw=e=>t=>t.test(e),db={test:e=>e==="auto",parse:e=>e},kw=[So,Ge,yr,ss,vA,wA,db],nl=e=>kw.find(Dw(e)),pb=[...kw,Yn,Ts],mb=e=>pb.find(Dw(e));function gb(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,da(n))}function xb(e,t){const n=yh(e,t);let{transitionEnd:r={},transition:l={},...u}=n?e.makeTargetAnimatable(n,!1):{};u={...u,...r};for(const p in u){const y=PA(u[p]);gb(e,p,y)}}function yb(e,t,n){var r,l;const u=Object.keys(t).filter(y=>!e.hasValue(y)),p=u.length;if(p)for(let y=0;y<p;y++){const v=u[y],x=t[v];let E=null;Array.isArray(x)&&(E=x[0]),E===null&&(E=(l=(r=n[v])!==null&&r!==void 0?r:e.readValue(v))!==null&&l!==void 0?l:t[v]),E!=null&&(typeof E=="string"&&(Pw(E)||Lw(E))?E=parseFloat(E):!mb(E)&&Ts.test(x)&&(E=Rw(v,x)),e.addValue(v,da(E,{owner:e})),n[v]===void 0&&(n[v]=E),E!==null&&e.setBaseTarget(v,E))}}function wb(e,t){return t?(t[e]||t.default||t).from:void 0}function vb(e,t,n){const r={};for(const l in e){const u=wb(l,t);if(u!==void 0)r[l]=u;else{const p=n.getValue(l);p&&(r[l]=p.get())}}return r}function _b({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Cb(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Bw(e,t,{delay:n=0,transitionOverride:r,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:p,...y}=e.makeTargetAnimatable(t);const v=e.getValue("willChange");r&&(u=r);const x=[],E=l&&e.animationState&&e.animationState.getState()[l];for(const A in y){const I=e.getValue(A),O=y[A];if(!I||O===void 0||E&&_b(E,A))continue;const D={delay:n,elapsed:0,..._1(u||{},A)};if(window.HandoffAppearAnimations){const j=e.getProps()[Fy];if(j){const F=window.HandoffAppearAnimations(j,A,I,Lt);F!==null&&(D.elapsed=F,D.isHandoff=!0)}}let P=!D.isHandoff&&!Cb(I,O);if(D.type==="spring"&&(I.getVelocity()||D.velocity)&&(P=!1),I.animation&&(P=!1),P)continue;I.start(C1(A,I,O,e.shouldReduceMotion&&Ao.has(A)?{type:!1}:D));const H=I.animation;Vu(v)&&(v.add(A),H.then(()=>v.remove(A))),x.push(H)}return p&&Promise.all(x).then(()=>{p&&xb(e,p)}),x}function zd(e,t,n={}){const r=yh(e,t,n.custom);let{transition:l=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const u=r?()=>Promise.all(Bw(e,r,n)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(v=0)=>{const{delayChildren:x=0,staggerChildren:E,staggerDirection:A}=l;return Eb(e,t,x+v,E,A,n)}:()=>Promise.resolve(),{when:y}=l;if(y){const[v,x]=y==="beforeChildren"?[u,p]:[p,u];return v().then(()=>x())}else return Promise.all([u(),p(n.delay)])}function Eb(e,t,n=0,r=0,l=1,u){const p=[],y=(e.variantChildren.size-1)*r,v=l===1?(x=0)=>x*r:(x=0)=>y-x*r;return Array.from(e.variantChildren).sort(Ab).forEach((x,E)=>{x.notify("AnimationStart",t),p.push(zd(x,t,{...u,delay:n+v(E)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(p)}function Ab(e,t){return e.sortNodePosition(t)}function Sb(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const l=t.map(u=>zd(e,u,n));r=Promise.all(l)}else if(typeof t=="string")r=zd(e,t,n);else{const l=typeof t=="function"?yh(e,t,n.custom):t;r=Promise.all(Bw(e,l,n))}return r.then(()=>e.notify("AnimationComplete",t))}const bb=[...o1].reverse(),Tb=o1.length;function Ib(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Sb(e,n,r)))}function Nb(e){let t=Ib(e);const n=Ob();let r=!0;const l=(v,x)=>{const E=yh(e,x);if(E){const{transition:A,transitionEnd:I,...O}=E;v={...v,...O,...I}}return v};function u(v){t=v(e)}function p(v,x){const E=e.getProps(),A=e.getVariantContext(!0)||{},I=[],O=new Set;let D={},P=1/0;for(let j=0;j<Tb;j++){const F=bb[j],B=n[F],Z=E[F]!==void 0?E[F]:A[F],$=Wl(Z),ae=F===x?B.isActive:null;ae===!1&&(P=j);let X=Z===A[F]&&Z!==E[F]&&$;if(X&&r&&e.manuallyAnimateOnMount&&(X=!1),B.protectedKeys={...D},!B.isActive&&ae===null||!Z&&!B.prevProp||ph(Z)||typeof Z=="boolean")continue;let J=Mb(B.prevProp,Z)||F===x&&B.isActive&&!X&&$||j>P&&$,Re=!1;const Ue=Array.isArray(Z)?Z:[Z];let we=Ue.reduce(l,{});ae===!1&&(we={});const{prevResolvedValues:Le={}}=B,Fe={...Le,...we},re=Ce=>{J=!0,O.has(Ce)&&(Re=!0,O.delete(Ce)),B.needsAnimating[Ce]=!0};for(const Ce in Fe){const Te=we[Ce],le=Le[Ce];if(D.hasOwnProperty(Ce))continue;let Me=!1;Fu(Te)&&Fu(le)?Me=!ow(Te,le):Me=Te!==le,Me?Te!==void 0?re(Ce):O.add(Ce):Te!==void 0&&O.has(Ce)?re(Ce):B.protectedKeys[Ce]=!0}B.prevProp=Z,B.prevResolvedValues=we,B.isActive&&(D={...D,...we}),r&&e.blockInitialAnimation&&(J=!1),J&&(!X||Re)&&I.push(...Ue.map(Ce=>({animation:Ce,options:{type:F,...v}})))}if(O.size){const j={};O.forEach(F=>{const B=e.getBaseTarget(F);B!==void 0&&(j[F]=B)}),I.push({animation:j})}let H=!!I.length;return r&&(E.initial===!1||E.initial===E.animate)&&!e.manuallyAnimateOnMount&&(H=!1),r=!1,H?t(I):Promise.resolve()}function y(v,x,E){var A;if(n[v].isActive===x)return Promise.resolve();(A=e.variantChildren)===null||A===void 0||A.forEach(O=>{var D;return(D=O.animationState)===null||D===void 0?void 0:D.setActive(v,x)}),n[v].isActive=x;const I=p(E,v);for(const O in n)n[O].protectedKeys={};return I}return{animateChanges:p,setActive:y,setAnimateFunction:u,getState:()=>n}}function Mb(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ow(t,e):!1}function Ks(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ob(){return{animate:Ks(!0),whileInView:Ks(),whileHover:Ks(),whileTap:Ks(),whileDrag:Ks(),whileFocus:Ks(),exit:Ks()}}class Rb extends Ls{constructor(t){super(t),t.animationState||(t.animationState=Nb(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ph(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Lb=0;class Pb extends Ls{constructor(){super(...arguments),this.id=Lb++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===l)return;const u=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&u.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Db={animation:{Feature:Rb},exit:{Feature:Pb}},jm=(e,t)=>Math.abs(e-t);function kb(e,t){const n=jm(e.x,t.x),r=jm(e.y,t.y);return Math.sqrt(n**2+r**2)}class Fw{constructor(t,n,{transformPagePoint:r,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=bf(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,O=kb(A.offset,{x:0,y:0})>=3;if(!I&&!O)return;const{point:D}=A,{timestamp:P}=kn;this.history.push({...D,timestamp:P});const{onStart:H,onMove:j}=this.handlers;I||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Sf(I,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:O,onSessionEnd:D,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=bf(A.type==="pointercancel"?this.lastMoveEventInfo:Sf(I,this.transformPagePoint),this.history);this.startEvent&&O&&O(A,H),D&&D(A,H)},!tw(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=l||window;const p=xh(t),y=Sf(p,this.transformPagePoint),{point:v}=y,{timestamp:x}=kn;this.history=[{...v,timestamp:x}];const{onSessionStart:E}=n;E&&E(t,bf(y,this.history)),this.removeListeners=Es(kr(this.contextWindow,"pointermove",this.handlePointerMove),kr(this.contextWindow,"pointerup",this.handlePointerUp),kr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vr(this.updatePoint)}}function Sf(e,t){return t?{point:t(e.point)}:e}function zm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bf({point:e},t){return{point:e,delta:zm(e,jw(t)),offset:zm(e,Bb(t)),velocity:Fb(t,.1)}}function Bb(e){return e[0]}function jw(e){return e[e.length-1]}function Fb(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const l=jw(e);for(;n>=0&&(r=e[n],!(l.timestamp-r.timestamp>lo(t)));)n--;if(!r)return{x:0,y:0};const u=Br(l.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const p={x:(l.x-r.x)/u,y:(l.y-r.y)/u};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function wi(e){return e.max-e.min}function Ud(e,t=0,n=.01){return Math.abs(e-t)<=n}function Um(e,t,n,r=.5){e.origin=r,e.originPoint=Zt(t.min,t.max,e.origin),e.scale=wi(n)/wi(t),(Ud(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Zt(n.min,n.max,e.origin)-e.originPoint,(Ud(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Cl(e,t,n,r){Um(e.x,t.x,n.x,r?r.originX:void 0),Um(e.y,t.y,n.y,r?r.originY:void 0)}function Vm(e,t,n){e.min=n.min+t.min,e.max=e.min+wi(t)}function jb(e,t,n){Vm(e.x,t.x,n.x),Vm(e.y,t.y,n.y)}function Hm(e,t,n){e.min=t.min-n.min,e.max=e.min+wi(t)}function El(e,t,n){Hm(e.x,t.x,n.x),Hm(e.y,t.y,n.y)}function zb(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Zt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Zt(n,e,r.max):Math.min(e,n)),e}function Wm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Ub(e,{top:t,left:n,bottom:r,right:l}){return{x:Wm(e.x,n,l),y:Wm(e.y,t,r)}}function Zm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Vb(e,t){return{x:Zm(e.x,t.x),y:Zm(e.y,t.y)}}function Hb(e,t){let n=.5;const r=wi(e),l=wi(t);return l>r?n=Gl(t.min,t.max-r,e.min):r>l&&(n=Gl(e.min,e.max-l,t.min)),bs(0,1,n)}function Wb(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vd=.35;function Zb(e=Vd){return e===!1?e=0:e===!0&&(e=Vd),{x:Gm(e,"left","right"),y:Gm(e,"top","bottom")}}function Gm(e,t,n){return{min:Ym(e,t),max:Ym(e,n)}}function Ym(e,t){return typeof e=="number"?e:e[t]||0}const Xm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:Xm(),y:Xm()}),Km=()=>({min:0,max:0}),an=()=>({x:Km(),y:Km()});function Di(e){return[e("x"),e("y")]}function zw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Gb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Yb(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tf(e){return e===void 0||e===1}function Hd({scale:e,scaleX:t,scaleY:n}){return!Tf(e)||!Tf(t)||!Tf(n)}function Js(e){return Hd(e)||Uw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Uw(e){return qm(e.x)||qm(e.y)}function qm(e){return e&&e!=="0%"}function Hu(e,t,n){const r=e-n,l=t*r;return n+l}function Qm(e,t,n,r,l){return l!==void 0&&(e=Hu(e,l,r)),Hu(e,n,r)+t}function Wd(e,t=0,n=1,r,l){e.min=Qm(e.min,t,n,r,l),e.max=Qm(e.max,t,n,r,l)}function Vw(e,{x:t,y:n}){Wd(e.x,t.translate,t.scale,t.originPoint),Wd(e.y,n.translate,n.scale,n.originPoint)}function Xb(e,t,n,r=!1){const l=n.length;if(!l)return;t.x=t.y=1;let u,p;for(let y=0;y<l;y++){u=n[y],p=u.projectionDelta;const v=u.instance;v&&v.style&&v.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Jo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,Vw(e,p)),r&&Js(u.latestValues)&&Jo(e,u.latestValues))}t.x=Jm(t.x),t.y=Jm(t.y)}function Jm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ls(e,t){e.min=e.min+t,e.max=e.max+t}function $m(e,t,[n,r,l]){const u=t[l]!==void 0?t[l]:.5,p=Zt(e.min,e.max,u);Wd(e,t[n],t[r],p,t.scale)}const Kb=["x","scaleX","originX"],qb=["y","scaleY","originY"];function Jo(e,t){$m(e.x,t,Kb),$m(e.y,t,qb)}function Hw(e,t){return zw(Yb(e.getBoundingClientRect(),t))}function Qb(e,t,n){const r=Hw(e,n),{scroll:l}=t;return l&&(ls(r.x,l.offset.x),ls(r.y,l.offset.y)),r}const Ww=({current:e})=>e?e.ownerDocument.defaultView:null,Jb=new WeakMap;class $b{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=an(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xh(E,"page").point)},u=(E,A)=>{const{drag:I,dragPropagation:O,onDragStart:D}=this.getProps();if(I&&!O&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iw(I),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Di(H=>{let j=this.getAxisMotionValue(H).get()||0;if(yr.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const B=F.layout.layoutBox[H];B&&(j=wi(B)*(parseFloat(j)/100))}}this.originPoint[H]=j}),D&&Lt.update(()=>D(E,A),!1,!0);const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},p=(E,A)=>{const{dragPropagation:I,dragDirectionLock:O,onDirectionLock:D,onDrag:P}=this.getProps();if(!I&&!this.openGlobalLock)return;const{offset:H}=A;if(O&&this.currentDirection===null){this.currentDirection=eT(H),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",A.point,H),this.updateAxis("y",A.point,H),this.visualElement.render(),P&&P(E,A)},y=(E,A)=>this.stop(E,A),v=()=>Di(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Fw(t,{onSessionStart:l,onStart:u,onMove:p,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:Ww(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Lt.update(()=>u(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:l}=this.getProps();if(!r||!Hc(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let p=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(p=zb(p,this.constraints[t],this.elastic[t])),u.set(p)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;n&&Ko(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&l?this.constraints=Ub(l.layoutBox,n):this.constraints=!1,this.elastic=Zb(r),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Di(p=>{this.getAxisMotionValue(p)&&(this.constraints[p]=Wb(l.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ko(t))return!1;const r=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=Qb(r,l.root,this.visualElement.getTransformPagePoint());let p=Vb(l.layout.layoutBox,u);if(n){const y=n(Gb(p));this.hasMutatedConstraints=!!y,y&&(p=zw(y))}return p}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:l,dragTransition:u,dragSnapToOrigin:p,onDragTransitionEnd:y}=this.getProps(),v=this.constraints||{},x=Di(E=>{if(!Hc(E,n,this.currentDirection))return;let A=v&&v[E]||{};p&&(A={min:0,max:0});const I=l?200:1e6,O=l?40:1e7,D={type:"inertia",velocity:r?t[E]:0,bounceStiffness:I,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(E,D)});return Promise.all(x).then(y)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(C1(t,r,0,n))}stopAnimation(){Di(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Di(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),l=r[n];return l||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Di(n=>{const{drag:r}=this.getProps();if(!Hc(n,r,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:p,max:y}=l.layout.layoutBox[n];u.set(t[n]-Zt(p,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(n)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Di(p=>{const y=this.getAxisMotionValue(p);if(y){const v=y.get();l[p]=Hb({min:v,max:v},this.constraints[p])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Di(p=>{if(!Hc(p,t,null))return;const y=this.getAxisMotionValue(p),{min:v,max:x}=this.constraints[p];y.set(Zt(v,x,l[p]))})}addListeners(){if(!this.visualElement.current)return;Jb.set(this.visualElement,this);const t=this.visualElement.current,n=kr(t,"pointerdown",v=>{const{drag:x,dragListener:E=!0}=this.getProps();x&&E&&this.start(v)}),r=()=>{const{dragConstraints:v}=this.getProps();Ko(v)&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),r();const p=Lr(window,"resize",()=>this.scalePositionWithinConstraints()),y=l.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x})=>{this.isDragging&&x&&(Di(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=v[E].translate,A.set(A.get()+v[E].translate))}),this.visualElement.render())});return()=>{p(),n(),u(),y&&y()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:p=Vd,dragMomentum:y=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:l,dragConstraints:u,dragElastic:p,dragMomentum:y}}}function Hc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function eT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class tT extends Ls{constructor(t){super(t),this.removeGroupControls=tn,this.removeListeners=tn,this.controls=new $b(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const eg=e=>(t,n)=>{e&&Lt.update(()=>e(t,n))};class nT extends Ls{constructor(){super(...arguments),this.removePointerDownListener=tn}onPointerDown(t){this.session=new Fw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ww(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:eg(t),onStart:eg(n),onMove:r,onEnd:(u,p)=>{delete this.session,l&&Lt.update(()=>l(u,p))}}}mount(){this.removePointerDownListener=kr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iT(){const e=V.useContext(fh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,l=V.useId();return V.useEffect(()=>r(l),[]),!t&&n?[!1,()=>n&&n(l)]:[!0]}const ou={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const il={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ge.test(e))e=parseFloat(e);else return e;const n=tg(e,t.target.x),r=tg(e,t.target.y);return`${n}% ${r}%`}},rT={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,l=Ts.parse(e);if(l.length>5)return r;const u=Ts.createTransformer(e),p=typeof l[0]!="number"?1:0,y=n.x.scale*t.x,v=n.y.scale*t.y;l[0+p]/=y,l[1+p]/=v;const x=Zt(y,v,.5);return typeof l[2+p]=="number"&&(l[2+p]/=x),typeof l[3+p]=="number"&&(l[3+p]/=x),u(l)}};class sT extends ho.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:l}=this.props,{projection:u}=t;fA(oT),u&&(n.group&&n.group.add(u),r&&r.register&&l&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),ou.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:l,isPresent:u}=this.props,p=r.projection;return p&&(p.isPresent=u,l||t.layoutDependency!==n||n===void 0?p.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?p.promote():p.relegate()||Lt.postRender(()=>{const y=p.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zw(e){const[t,n]=iT(),r=V.useContext(l1);return ho.createElement(sT,{...e,layoutGroup:r,switchLayoutGroup:V.useContext(zy),isPresent:t,safeToRemove:n})}const oT={borderRadius:{...il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:il,borderTopRightRadius:il,borderBottomLeftRadius:il,borderBottomRightRadius:il,boxShadow:rT},Gw=["TopLeft","TopRight","BottomLeft","BottomRight"],aT=Gw.length,ng=e=>typeof e=="string"?parseFloat(e):e,ig=e=>typeof e=="number"||Ge.test(e);function lT(e,t,n,r,l,u){l?(e.opacity=Zt(0,n.opacity!==void 0?n.opacity:1,cT(r)),e.opacityExit=Zt(t.opacity!==void 0?t.opacity:1,0,uT(r))):u&&(e.opacity=Zt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let p=0;p<aT;p++){const y=`border${Gw[p]}Radius`;let v=rg(t,y),x=rg(n,y);if(v===void 0&&x===void 0)continue;v||(v=0),x||(x=0),v===0||x===0||ig(v)===ig(x)?(e[y]=Math.max(Zt(ng(v),ng(x),r),0),(yr.test(x)||yr.test(v))&&(e[y]+="%")):e[y]=x}(t.rotate||n.rotate)&&(e.rotate=Zt(t.rotate||0,n.rotate||0,r))}function rg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cT=Yw(0,.5,mw),uT=Yw(.5,.95,tn);function Yw(e,t,n){return r=>r<e?0:r>t?1:n(Gl(e,t,r))}function sg(e,t){e.min=t.min,e.max=t.max}function Ri(e,t){sg(e.x,t.x),sg(e.y,t.y)}function og(e,t,n,r,l){return e-=t,e=Hu(e,1/n,r),l!==void 0&&(e=Hu(e,1/l,r)),e}function hT(e,t=0,n=1,r=.5,l,u=e,p=e){if(yr.test(t)&&(t=parseFloat(t),t=Zt(p.min,p.max,t/100)-p.min),typeof t!="number")return;let y=Zt(u.min,u.max,r);e===u&&(y-=t),e.min=og(e.min,t,n,y,l),e.max=og(e.max,t,n,y,l)}function ag(e,t,[n,r,l],u,p){hT(e,t[n],t[r],t[l],t.scale,u,p)}const fT=["x","scaleX","originX"],dT=["y","scaleY","originY"];function lg(e,t,n,r){ag(e.x,t,fT,n?n.x:void 0,r?r.x:void 0),ag(e.y,t,dT,n?n.y:void 0,r?r.y:void 0)}function cg(e){return e.translate===0&&e.scale===1}function Xw(e){return cg(e.x)&&cg(e.y)}function pT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Kw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ug(e){return wi(e.x)/wi(e.y)}class mT{constructor(){this.members=[]}add(t){E1(this.members,t),t.scheduleRender()}remove(t){if(A1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let r;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hg(e,t,n){let r="";const l=e.x.translate/t.x,u=e.y.translate/t.y;if((l||u)&&(r=`translate3d(${l}px, ${u}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:v,rotateX:x,rotateY:E}=n;v&&(r+=`rotate(${v}deg) `),x&&(r+=`rotateX(${x}deg) `),E&&(r+=`rotateY(${E}deg) `)}const p=e.x.scale*t.x,y=e.y.scale*t.y;return(p!==1||y!==1)&&(r+=`scale(${p}, ${y})`),r||"none"}const gT=(e,t)=>e.depth-t.depth;class xT{constructor(){this.children=[],this.isDirty=!1}add(t){E1(this.children,t),this.isDirty=!0}remove(t){A1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gT),this.isDirty=!1,this.children.forEach(t)}}function yT(e,t){const n=performance.now(),r=({timestamp:l})=>{const u=l-n;u>=t&&(Vr(r),e(u-t))};return Lt.read(r,!0),()=>Vr(r)}function wT(e){window.MotionDebug&&window.MotionDebug.record(e)}function vT(e){return e instanceof SVGElement&&e.tagName!=="svg"}function _T(e,t,n){const r=ai(e)?e:da(e);return r.start(C1("",r,t,n)),r.animation}const fg=["","X","Y","Z"],CT={visibility:"hidden"},dg=1e3;let ET=0;const $s={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(p={},y=t==null?void 0:t()){this.id=ET++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$s.totalNodes=$s.resolvedTargetDeltas=$s.recalculatedProjection=0,this.nodes.forEach(bT),this.nodes.forEach(OT),this.nodes.forEach(RT),this.nodes.forEach(TT),wT($s)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new xT)}addEventListener(p,y){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new S1),this.eventHandlers.get(p).add(y)}notifyListeners(p,...y){const v=this.eventHandlers.get(p);v&&v.notify(...y)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,y=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vT(p),this.instance=p;const{layoutId:v,layout:x,visualElement:E}=this.options;if(E&&!E.current&&E.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),y&&(x||v)&&(this.isLayoutDirty=!0),e){let A;const I=()=>this.root.updateBlockedByResize=!1;e(p,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=yT(I,250),ou.hasAnimatedSinceResize&&(ou.hasAnimatedSinceResize=!1,this.nodes.forEach(mg))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&E&&(v||x)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:I,hasRelativeTargetChanged:O,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||E.getDefaultTransition()||BT,{onLayoutAnimationStart:H,onLayoutAnimationComplete:j}=E.getProps(),F=!this.targetLayout||!Kw(this.targetLayout,D)||O,B=!I&&O;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||I&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,B);const Z={..._1(P,"layout"),onPlay:H,onComplete:j};(E.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else I||mg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LT),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:y,layout:v}=this.options;if(y===void 0&&!v)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pg);return}this.isUpdating||this.nodes.forEach(NT),this.isUpdating=!1,this.nodes.forEach(MT),this.nodes.forEach(AT),this.nodes.forEach(ST),this.clearAllSnapshots();const y=performance.now();kn.delta=bs(0,1e3/60,y-kn.timestamp),kn.timestamp=y,kn.isProcessing=!0,xf.update.process(kn),xf.preRender.process(kn),xf.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(IT),this.sharedNodes.forEach(PT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=an(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let y=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(y=!1),y&&(this.scroll={animationId:this.root.animationId,phase:p,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!l)return;const p=this.isLayoutDirty||this.shouldResetTransform,y=this.projectionDelta&&!Xw(this.projectionDelta),v=this.getTransformTemplate(),x=v?v(this.latestValues,""):void 0,E=x!==this.prevTransformTemplateValue;p&&(y||Js(this.latestValues)||E)&&(l(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const y=this.measurePageBox();let v=this.removeElementScroll(y);return p&&(v=this.removeTransform(v)),FT(v),{animationId:this.root.animationId,measuredBox:y,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return an();const y=p.measureViewportBox(),{scroll:v}=this.root;return v&&(ls(y.x,v.offset.x),ls(y.y,v.offset.y)),y}removeElementScroll(p){const y=an();Ri(y,p);for(let v=0;v<this.path.length;v++){const x=this.path[v],{scroll:E,options:A}=x;if(x!==this.root&&E&&A.layoutScroll){if(E.isRoot){Ri(y,p);const{scroll:I}=this.root;I&&(ls(y.x,-I.offset.x),ls(y.y,-I.offset.y))}ls(y.x,E.offset.x),ls(y.y,E.offset.y)}}return y}applyTransform(p,y=!1){const v=an();Ri(v,p);for(let x=0;x<this.path.length;x++){const E=this.path[x];!y&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Jo(v,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Js(E.latestValues)&&Jo(v,E.latestValues)}return Js(this.latestValues)&&Jo(v,this.latestValues),v}removeTransform(p){const y=an();Ri(y,p);for(let v=0;v<this.path.length;v++){const x=this.path[v];if(!x.instance||!Js(x.latestValues))continue;Hd(x.latestValues)&&x.updateSnapshot();const E=an(),A=x.measurePageBox();Ri(E,A),lg(y,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,E)}return Js(this.latestValues)&&lg(y,this.latestValues),y}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var y;const v=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=v.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=v.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=v.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==v;if(!(p||x&&this.isSharedProjectionDirty||this.isProjectionDirty||!((y=this.parent)===null||y===void 0)&&y.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:A,layoutId:I}=this.options;if(!(!this.layout||!(A||I))){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),El(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=an(),this.targetWithTransforms=an()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),Vw(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),El(this.relativeTargetOrigin,this.target,O.target),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$s.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hd(this.parent.latestValues)||Uw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const y=this.getLead(),v=!!this.resumingFrom||this!==y;let x=!0;if((this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty)&&(x=!1),v&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(x=!1),x)return;const{layout:E,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||A))return;Ri(this.layoutCorrected,this.layout.layoutBox);const I=this.treeScale.x,O=this.treeScale.y;Xb(this.layoutCorrected,this.treeScale,this.path,v),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox);const{target:D}=y;if(!D){this.projectionTransform&&(this.projectionDelta=Qo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo());const P=this.projectionTransform;Cl(this.projectionDelta,this.layoutCorrected,D,this.latestValues),this.projectionTransform=hg(this.projectionDelta,this.treeScale),(this.projectionTransform!==P||this.treeScale.x!==I||this.treeScale.y!==O)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),$s.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),p){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(p,y=!1){const v=this.snapshot,x=v?v.latestValues:{},E={...this.latestValues},A=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const I=an(),O=v?v.source:void 0,D=this.layout?this.layout.source:void 0,P=O!==D,H=this.getStack(),j=!H||H.members.length<=1,F=!!(P&&!j&&this.options.crossfade===!0&&!this.path.some(kT));this.animationProgress=0;let B;this.mixTargetDelta=Z=>{const $=Z/1e3;gg(A.x,p.x,$),gg(A.y,p.y,$),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(El(I,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DT(this.relativeTarget,this.relativeTargetOrigin,I,$),B&&pT(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=an()),Ri(B,this.relativeTarget)),P&&(this.animationValues=E,lT(E,x,this.latestValues,$,F,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{ou.hasAnimatedSinceResize=!0,this.currentAnimation=_T(0,dg,{...p,onUpdate:y=>{this.mixTargetDelta(y),p.onUpdate&&p.onUpdate(y)},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:y,target:v,layout:x,latestValues:E}=p;if(!(!y||!v||!x)){if(this!==p&&this.layout&&x&&Qw(this.options.animationType,this.layout.layoutBox,x.layoutBox)){v=this.target||an();const A=wi(this.layout.layoutBox.x);v.x.min=p.target.x.min,v.x.max=v.x.min+A;const I=wi(this.layout.layoutBox.y);v.y.min=p.target.y.min,v.y.max=v.y.min+I}Ri(y,v),Jo(y,E),Cl(this.projectionDeltaWithTransform,this.layoutCorrected,y,E)}}registerSharedNode(p,y){this.sharedNodes.has(p)||this.sharedNodes.set(p,new mT),this.sharedNodes.get(p).add(y);const x=y.options.initialPromotionConfig;y.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(y):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var p;const{layoutId:y}=this.options;return y?((p=this.getStack())===null||p===void 0?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:y}=this.options;return y?(p=this.getStack())===null||p===void 0?void 0:p.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:y,preserveFollowOpacity:v}={}){const x=this.getStack();x&&x.promote(this,v),p&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetRotation(){const{visualElement:p}=this.options;if(!p)return;let y=!1;const{latestValues:v}=p;if((v.rotate||v.rotateX||v.rotateY||v.rotateZ)&&(y=!0),!y)return;const x={};for(let E=0;E<fg.length;E++){const A="rotate"+fg[E];v[A]&&(x[A]=v[A],p.setStaticValue(A,0))}p.render();for(const E in x)p.setStaticValue(E,x[E]);p.scheduleRender()}getProjectionStyles(p){var y,v;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CT;const x={visibility:""},E=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,x.opacity="",x.pointerEvents=su(p==null?void 0:p.pointerEvents)||"",x.transform=E?E(this.latestValues,""):"none",x;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=su(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!Js(this.latestValues)&&(P.transform=E?E({},""):"none",this.hasProjected=!1),P}const I=A.animationValues||A.latestValues;this.applyTransformsToTarget(),x.transform=hg(this.projectionDeltaWithTransform,this.treeScale,I),E&&(x.transform=E(I,x.transform));const{x:O,y:D}=this.projectionDelta;x.transformOrigin=`${O.origin*100}% ${D.origin*100}% 0`,A.animationValues?x.opacity=A===this?(v=(y=I.opacity)!==null&&y!==void 0?y:this.latestValues.opacity)!==null&&v!==void 0?v:1:this.preserveOpacity?this.latestValues.opacity:I.opacityExit:x.opacity=A===this?I.opacity!==void 0?I.opacity:"":I.opacityExit!==void 0?I.opacityExit:0;for(const P in ku){if(I[P]===void 0)continue;const{correct:H,applyTo:j}=ku[P],F=x.transform==="none"?I[P]:H(I[P],A);if(j){const B=j.length;for(let Z=0;Z<B;Z++)x[j[Z]]=F}else x[P]=F}return this.options.layoutId&&(x.pointerEvents=A===this?su(p==null?void 0:p.pointerEvents)||"":"none"),x}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var y;return(y=p.currentAnimation)===null||y===void 0?void 0:y.stop()}),this.root.nodes.forEach(pg),this.root.sharedNodes.clear()}}}function AT(e){e.updateLayout()}function ST(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:l}=e.layout,{animationType:u}=e.options,p=n.source!==e.layout.source;u==="size"?Di(A=>{const I=p?n.measuredBox[A]:n.layoutBox[A],O=wi(I);I.min=r[A].min,I.max=I.min+O}):Qw(u,n.layoutBox,r)&&Di(A=>{const I=p?n.measuredBox[A]:n.layoutBox[A],O=wi(r[A]);I.max=I.min+O,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+O)});const y=Qo();Cl(y,r,n.layoutBox);const v=Qo();p?Cl(v,e.applyTransform(l,!0),n.measuredBox):Cl(v,r,n.layoutBox);const x=!Xw(y);let E=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:I,layout:O}=A;if(I&&O){const D=an();El(D,n.layoutBox,I.layoutBox);const P=an();El(P,r,O.layoutBox),Kw(D,P)||(E=!0),A.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=D,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:v,layoutDelta:y,hasLayoutChanged:x,hasRelativeTargetChanged:E})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function bT(e){$s.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IT(e){e.clearSnapshot()}function pg(e){e.clearMeasurements()}function NT(e){e.isLayoutDirty=!1}function MT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OT(e){e.resolveTargetDelta()}function RT(e){e.calcProjection()}function LT(e){e.resetRotation()}function PT(e){e.removeLeadSnapshot()}function gg(e,t,n){e.translate=Zt(t.translate,0,n),e.scale=Zt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xg(e,t,n,r){e.min=Zt(t.min,n.min,r),e.max=Zt(t.max,n.max,r)}function DT(e,t,n,r){xg(e.x,t.x,n.x,r),xg(e.y,t.y,n.y,r)}function kT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const BT={duration:.45,ease:[.4,0,.1,1]},yg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),wg=yg("applewebkit/")&&!yg("chrome/")?Math.round:tn;function vg(e){e.min=wg(e.min),e.max=wg(e.max)}function FT(e){vg(e.x),vg(e.y)}function Qw(e,t,n){return e==="position"||e==="preserve-aspect"&&!Ud(ug(t),ug(n),.2)}const jT=qw({attachResizeListener:(e,t)=>Lr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),If={current:void 0},Jw=qw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!If.current){const e=new jT({});e.mount(window),e.setOptions({layoutScroll:!0}),If.current=e}return If.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zT={pan:{Feature:nT},drag:{Feature:tT,ProjectionNode:Jw,MeasureLayout:Zw}},UT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function VT(e){const t=UT.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Zd(e,t,n=1){const[r,l]=VT(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const p=u.trim();return Pw(p)?parseFloat(p):p}else return Pd(l)?Zd(l,t,n+1):l}function HT(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(l=>{const u=l.get();if(!Pd(u))return;const p=Zd(u,r);p&&l.set(p)});for(const l in t){const u=t[l];if(!Pd(u))continue;const p=Zd(u,r);p&&(t[l]=p,n||(n={}),n[l]===void 0&&(n[l]=u))}return{target:t,transitionEnd:n}}const WT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$w=e=>WT.has(e),ZT=e=>Object.keys(e).some($w),_g=e=>e===So||e===Ge,Cg=(e,t)=>parseFloat(e.split(", ")[t]),Eg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const l=r.match(/^matrix3d\((.+)\)$/);if(l)return Cg(l[1],t);{const u=r.match(/^matrix\((.+)\)$/);return u?Cg(u[1],e):0}},GT=new Set(["x","y","z"]),YT=$l.filter(e=>!GT.has(e));function XT(e){const t=[];return YT.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const pa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Eg(4,13),y:Eg(5,14)};pa.translateX=pa.x;pa.translateY=pa.y;const KT=(e,t,n)=>{const r=t.measureViewportBox(),l=t.current,u=getComputedStyle(l),{display:p}=u,y={};p==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(x=>{y[x]=pa[x](r,u)}),t.render();const v=t.measureViewportBox();return n.forEach(x=>{const E=t.getValue(x);E&&E.jump(y[x]),e[x]=pa[x](v,u)}),e},qT=(e,t,n={},r={})=>{t={...t},r={...r};const l=Object.keys(t).filter($w);let u=[],p=!1;const y=[];if(l.forEach(v=>{const x=e.getValue(v);if(!e.hasValue(v))return;let E=n[v],A=nl(E);const I=t[v];let O;if(Fu(I)){const D=I.length,P=I[0]===null?1:0;E=I[P],A=nl(E);for(let H=P;H<D&&I[H]!==null;H++)O?g1(nl(I[H])===O):O=nl(I[H])}else O=nl(I);if(A!==O)if(_g(A)&&_g(O)){const D=x.get();typeof D=="string"&&x.set(parseFloat(D)),typeof I=="string"?t[v]=parseFloat(I):Array.isArray(I)&&O===Ge&&(t[v]=I.map(parseFloat))}else A!=null&&A.transform&&(O!=null&&O.transform)&&(E===0||I===0)?E===0?x.set(O.transform(E)):t[v]=A.transform(I):(p||(u=XT(e),p=!0),y.push(v),r[v]=r[v]!==void 0?r[v]:t[v],x.jump(I))}),y.length){const v=y.indexOf("height")>=0?window.pageYOffset:null,x=KT(t,e,y);return u.length&&u.forEach(([E,A])=>{e.getValue(E).set(A)}),e.render(),dh&&v!==null&&window.scrollTo({top:v}),{target:x,transitionEnd:r}}else return{target:t,transitionEnd:r}};function QT(e,t,n,r){return ZT(t)?qT(e,t,n,r):{target:t,transitionEnd:r}}const JT=(e,t,n,r)=>{const l=HT(e,t,r);return t=l.target,r=l.transitionEnd,QT(e,t,n,r)},Gd={current:null},ev={current:!1};function $T(){if(ev.current=!0,!!dh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gd.current=e.matches;e.addListener(t),t()}else Gd.current=!1}function e4(e,t,n){const{willChange:r}=t;for(const l in t){const u=t[l],p=n[l];if(ai(u))e.addValue(l,u),Vu(r)&&r.add(l);else if(ai(p))e.addValue(l,da(u,{owner:e})),Vu(r)&&r.remove(l);else if(p!==u)if(e.hasValue(l)){const y=e.getValue(l);!y.hasAnimated&&y.set(u)}else{const y=e.getStaticValue(l);e.addValue(l,da(y!==void 0?y:u,{owner:e}))}}for(const l in n)t[l]===void 0&&e.removeValue(l);return t}const Ag=new WeakMap,tv=Object.keys(Zl),t4=tv.length,Sg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],n4=a1.length;class i4{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:l,visualState:u},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Lt.render(this.render,!1,!0);const{latestValues:y,renderState:v}=u;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.isControllingVariants=mh(n),this.isVariantNode=jy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...E}=this.scrapeMotionValuesFromProps(n,{});for(const A in E){const I=E[A];y[A]!==void 0&&ai(I)&&(I.set(y[A],!1),Vu(x)&&x.add(A))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Ag.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ev.current||$T(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ag.delete(this.current),this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ao.has(t),l=n.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Lt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{l(),u()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,l,u){let p,y;for(let v=0;v<t4;v++){const x=tv[v],{isEnabled:E,Feature:A,ProjectionNode:I,MeasureLayout:O}=Zl[x];I&&(p=I),E(n)&&(!this.features[x]&&A&&(this.features[x]=new A(this)),O&&(y=O))}if((this.type==="html"||this.type==="svg")&&!this.projection&&p){this.projection=new p(this.latestValues,this.parent&&this.parent.projection);const{layoutId:v,layout:x,drag:E,dragConstraints:A,layoutScroll:I,layoutRoot:O}=n;this.projection.setOptions({layoutId:v,layout:x,alwaysMeasureLayout:!!E||A&&Ko(A),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof x=="string"?x:"both",initialPromotionConfig:u,layoutScroll:I,layoutRoot:O})}return y}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):an()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Sg.length;r++){const l=Sg[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u=t["on"+l];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=e4(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<n4;r++){const l=a1[r],u=this.props[l];(Wl(u)||u===!1)&&(n[l]=u)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=da(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,l=typeof r=="string"||typeof r=="object"?(n=m1(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!ai(u)?u:this.initialValues[t]!==void 0&&l===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new S1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class nv extends i4{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:l},u){let p=vb(r,t||{},this);if(l&&(n&&(n=l(n)),r&&(r=l(r)),p&&(p=l(p))),u){yb(this,r,p);const y=JT(this,r,p,n);n=y.transitionEnd,r=y.target}return{transition:t,transitionEnd:n,...r}}}function r4(e){return window.getComputedStyle(e)}class s4 extends nv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ao.has(n)){const r=v1(n);return r&&r.default||0}else{const r=r4(t),l=(Hy(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Hw(t,n)}build(t,n,r,l){u1(t,n,r,l.transformTemplate)}scrapeMotionValuesFromProps(t,n){return p1(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ai(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,l){Ky(t,n,r,l)}}class o4 extends nv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ao.has(n)){const r=v1(n);return r&&r.default||0}return n=qy.has(n)?n:s1(n),t.getAttribute(n)}measureInstanceViewportBox(){return an()}scrapeMotionValuesFromProps(t,n){return Jy(t,n)}build(t,n,r,l){f1(t,n,r,this.isSVGTag,l.transformTemplate)}renderInstance(t,n,r,l){Qy(t,n,r,l)}mount(t){this.isSVGTag=d1(t.tagName),super.mount(t)}}const a4=(e,t)=>c1(e)?new o4(t,{enableHardwareAcceleration:!1}):new s4(t,{enableHardwareAcceleration:!0}),l4={layout:{ProjectionNode:Jw,MeasureLayout:Zw}},c4={...Db,...tS,...zT,...l4},dt=uA((e,t)=>VA(e,t,c4,a4));function iv(){const e=V.useRef(!1);return r1(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function u4(){const e=iv(),[t,n]=V.useState(0),r=V.useCallback(()=>{e.current&&n(t+1)},[t]);return[V.useCallback(()=>Lt.postRender(r),[r]),t]}class h4 extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function f4({children:e,isPresent:t}){const n=V.useId(),r=V.useRef(null),l=V.useRef({width:0,height:0,top:0,left:0});return V.useInsertionEffect(()=>{const{width:u,height:p,top:y,left:v}=l.current;if(t||!r.current||!u||!p)return;r.current.dataset.motionPopId=n;const x=document.createElement("style");return document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${p}px !important;
            top: ${y}px !important;
            left: ${v}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),V.createElement(h4,{isPresent:t,childRef:r,sizeRef:l},V.cloneElement(e,{ref:r}))}const Nf=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:u,mode:p})=>{const y=$y(d4),v=V.useId(),x=V.useMemo(()=>({id:v,initial:t,isPresent:n,custom:l,onExitComplete:E=>{y.set(E,!0);for(const A of y.values())if(!A)return;r&&r()},register:E=>(y.set(E,!1),()=>y.delete(E))}),u?void 0:[n]);return V.useMemo(()=>{y.forEach((E,A)=>y.set(A,!1))},[n]),V.useEffect(()=>{!n&&!y.size&&r&&r()},[n]),p==="popLayout"&&(e=V.createElement(f4,{isPresent:n},e)),V.createElement(fh.Provider,{value:x},e)};function d4(){return new Map}function p4(e){return V.useEffect(()=>()=>e(),[])}const eo=e=>e.key||"";function m4(e,t){e.forEach(n=>{const r=eo(n);t.set(r,n)})}function g4(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const Al=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:l,presenceAffectsLayout:u=!0,mode:p="sync"})=>{const y=V.useContext(l1).forceRender||u4()[0],v=iv(),x=g4(e);let E=x;const A=V.useRef(new Map).current,I=V.useRef(E),O=V.useRef(new Map).current,D=V.useRef(!0);if(r1(()=>{D.current=!1,m4(x,O),I.current=E}),p4(()=>{D.current=!0,O.clear(),A.clear()}),D.current)return V.createElement(V.Fragment,null,E.map(F=>V.createElement(Nf,{key:eo(F),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:u,mode:p},F)));E=[...E];const P=I.current.map(eo),H=x.map(eo),j=P.length;for(let F=0;F<j;F++){const B=P[F];H.indexOf(B)===-1&&!A.has(B)&&A.set(B,void 0)}return p==="wait"&&A.size&&(E=[]),A.forEach((F,B)=>{if(H.indexOf(B)!==-1)return;const Z=O.get(B);if(!Z)return;const $=P.indexOf(B);let ae=F;if(!ae){const X=()=>{A.delete(B);const ee=Array.from(O.keys()).filter(J=>!H.includes(J));if(ee.forEach(J=>O.delete(J)),I.current=x.filter(J=>{const Re=eo(J);return Re===B||ee.includes(Re)}),!A.size){if(v.current===!1)return;y(),r&&r()}};ae=V.createElement(Nf,{key:eo(Z),isPresent:!1,onExitComplete:X,custom:t,presenceAffectsLayout:u,mode:p},Z),A.set(B,ae)}E.splice($,0,ae)}),E=E.map(F=>{const B=F.key;return A.has(B)?F:V.createElement(Nf,{key:eo(F),isPresent:!0,presenceAffectsLayout:u,mode:p},F)}),V.createElement(V.Fragment,null,A.size?E:E.map(F=>V.cloneElement(F)))};var x4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ke=(e,t)=>{const n=V.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:p,children:y,...v},x)=>V.createElement("svg",{ref:x,...x4,width:l,height:l,stroke:r,strokeWidth:p?Number(u)*24/Number(l):u,className:`lucide lucide-${y4(e)}`,...v},[...t.map(([E,A])=>V.createElement(E,A)),...(Array.isArray(y)?y:[y])||[]]));return n.displayName=`${e}`,n},w4=Ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),rv=Ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yl=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),v4=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),_4=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),C4=Ke("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),E4=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),A4=Ke("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Yd=Ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),S4=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),b4=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ma=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Wc=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),T4=Ke("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),I4=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),N4=Ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),M4=Ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),O4=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),R4=Ke("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),sv=Ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ga=Ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),L4=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),P4=Ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),D4=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),k4=Ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),co=Ke("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]),ov=Ke("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),B4=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),av=Ke("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),yo=Ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),F4=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),lv=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),b1=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),j4=Ke("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),T1=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),z4=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),U4=Ke("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),V4=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),cv=Ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),uv=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),I1=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),H4=Ke("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),N1=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),W4=Ke("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Z4=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hv=Ke("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),G4=({to:e,icon:t,label:n,isActive:r})=>S.jsxs($E,{to:e,className:`relative flex flex-col items-center justify-center gap-1.5 px-3 py-3 rounded-2xl transition-all duration-300 ${r?"text-white":"text-slate-500 hover:text-slate-300"}`,children:[r&&S.jsx(dt.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-gradient-to-t from-brand-blue/20 to-transparent rounded-2xl border-b-2 border-brand-blue shadow-[0_0_20px_rgba(59,130,246,0.5)]",transition:{type:"spring",stiffness:300,damping:30}}),S.jsx(t,{size:22,className:`relative z-10 transition-all duration-300 ${r?"scale-110 drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]":"scale-100"}`,strokeWidth:r?2.5:2}),S.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wide relative z-10 ${r?"text-white drop-shadow-md":"opacity-70"}`,children:n})]});function Y4(){const t=Eo().pathname,n=[{to:"/home",icon:M4,label:"Home"},{to:"/shipments",icon:yo,label:"Track"},{to:"/routes",icon:co,label:"Routes"},{to:"/history",icon:N4,label:"History"},{to:"/settings",icon:z4,label:"Settings"}];return S.jsx("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4",children:S.jsxs("div",{className:"glass-strong rounded-[32px] border-iridescent shadow-2xl px-2 py-2 flex justify-around items-center relative backdrop-blur-2xl",children:[S.jsx("div",{className:"absolute inset-x-4 top-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),n.map(r=>S.jsx(G4,{to:r.to,icon:r.icon,label:r.label,isActive:t===r.to||r.to!=="/home"&&t.startsWith(r.to)||t==="/"&&r.to==="/home"},r.to))]})})}function X4(){return S.jsxs("div",{className:"min-h-screen pb-32",children:[" ",S.jsx("div",{className:"max-w-xl mx-auto",children:S.jsx(UE,{})}),S.jsx(Y4,{})]})}const bg=e=>{try{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch{return null}},fv=V.createContext(),K4=({children:e})=>{const[t,n]=V.useState(null),[r,l]=V.useState(!0);V.useEffect(()=>{const y=localStorage.getItem("token");if(y){const v=bg(y);v&&v.sub?n({username:v.sub,driver_id:v.driver_id,role:v.role,token:y}):(console.warn("Invalid/undecodable token in localStorage; clearing it."),localStorage.removeItem("token"))}l(!1)},[]);const u=(y,v)=>{localStorage.setItem("token",y);const x=bg(y);if(!x||!x.sub){console.error("Login returned an invalid token; clearing it."),localStorage.removeItem("token"),n(null);return}n({username:x.sub,driver_id:x.driver_id,role:v||x.role,token:y})},p=()=>{localStorage.setItem("token",""),localStorage.removeItem("token"),n(null)};return S.jsx(fv.Provider,{value:{user:t,login:u,logout:p,loading:r},children:!r&&e})},bo=()=>V.useContext(fv);function dv(e,t){return function(){return e.apply(t,arguments)}}const{toString:q4}=Object.prototype,{getPrototypeOf:M1}=Object,{iterator:wh,toStringTag:pv}=Symbol,vh=(e=>t=>{const n=q4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rr=e=>(e=e.toLowerCase(),t=>vh(t)===e),_h=e=>t=>typeof t===e,{isArray:Ca}=Array,xa=_h("undefined");function ic(e){return e!==null&&!xa(e)&&e.constructor!==null&&!xa(e.constructor)&&si(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mv=rr("ArrayBuffer");function Q4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&mv(e.buffer),t}const J4=_h("string"),si=_h("function"),gv=_h("number"),rc=e=>e!==null&&typeof e=="object",$4=e=>e===!0||e===!1,au=e=>{if(vh(e)!=="object")return!1;const t=M1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pv in e)&&!(wh in e)},eI=e=>{if(!rc(e)||ic(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tI=rr("Date"),nI=rr("File"),iI=rr("Blob"),rI=rr("FileList"),sI=e=>rc(e)&&si(e.pipe),oI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||si(e.append)&&((t=vh(e))==="formdata"||t==="object"&&si(e.toString)&&e.toString()==="[object FormData]"))},aI=rr("URLSearchParams"),[lI,cI,uI,hI]=["ReadableStream","Request","Response","Headers"].map(rr),fI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),Ca(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{if(ic(e))return;const u=n?Object.getOwnPropertyNames(e):Object.keys(e),p=u.length;let y;for(r=0;r<p;r++)y=u[r],t.call(null,e[y],y,e)}}function xv(e,t){if(ic(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const so=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yv=e=>!xa(e)&&e!==so;function Xd(){const{caseless:e,skipUndefined:t}=yv(this)&&this||{},n={},r=(l,u)=>{if(u==="__proto__"||u==="constructor"||u==="prototype")return;const p=e&&xv(n,u)||u;au(n[p])&&au(l)?n[p]=Xd(n[p],l):au(l)?n[p]=Xd({},l):Ca(l)?n[p]=l.slice():(!t||!xa(l))&&(n[p]=l)};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&sc(arguments[l],r);return n}const dI=(e,t,n,{allOwnKeys:r}={})=>(sc(t,(l,u)=>{n&&si(l)?Object.defineProperty(e,u,{value:dv(l,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,u,{value:l,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),pI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},gI=(e,t,n,r)=>{let l,u,p;const y={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)p=l[u],(!r||r(p,e,t))&&!y[p]&&(t[p]=e[p],y[p]=!0);e=n!==!1&&M1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},xI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},yI=e=>{if(!e)return null;if(Ca(e))return e;let t=e.length;if(!gv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},wI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&M1(Uint8Array)),vI=(e,t)=>{const r=(e&&e[wh]).call(e);let l;for(;(l=r.next())&&!l.done;){const u=l.value;t.call(e,u[0],u[1])}},_I=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},CI=rr("HTMLFormElement"),EI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),Tg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),AI=rr("RegExp"),wv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};sc(n,(l,u)=>{let p;(p=t(l,u,e))!==!1&&(r[u]=p||l)}),Object.defineProperties(e,r)},SI=e=>{wv(e,(t,n)=>{if(si(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(si(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bI=(e,t)=>{const n={},r=l=>{l.forEach(u=>{n[u]=!0})};return Ca(e)?r(e):r(String(e).split(t)),n},TI=()=>{},II=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function NI(e){return!!(e&&si(e.append)&&e[pv]==="FormData"&&e[wh])}const MI=e=>{const t=new Array(10),n=(r,l)=>{if(rc(r)){if(t.indexOf(r)>=0)return;if(ic(r))return r;if(!("toJSON"in r)){t[l]=r;const u=Ca(r)?[]:{};return sc(r,(p,y)=>{const v=n(p,l+1);!xa(v)&&(u[y]=v)}),t[l]=void 0,u}}return r};return n(e,0)},OI=rr("AsyncFunction"),RI=e=>e&&(rc(e)||si(e))&&si(e.then)&&si(e.catch),vv=((e,t)=>e?setImmediate:t?((n,r)=>(so.addEventListener("message",({source:l,data:u})=>{l===so&&u===n&&r.length&&r.shift()()},!1),l=>{r.push(l),so.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",si(so.postMessage)),LI=typeof queueMicrotask<"u"?queueMicrotask.bind(so):typeof process<"u"&&process.nextTick||vv,PI=e=>e!=null&&si(e[wh]),oe={isArray:Ca,isArrayBuffer:mv,isBuffer:ic,isFormData:oI,isArrayBufferView:Q4,isString:J4,isNumber:gv,isBoolean:$4,isObject:rc,isPlainObject:au,isEmptyObject:eI,isReadableStream:lI,isRequest:cI,isResponse:uI,isHeaders:hI,isUndefined:xa,isDate:tI,isFile:nI,isBlob:iI,isRegExp:AI,isFunction:si,isStream:sI,isURLSearchParams:aI,isTypedArray:wI,isFileList:rI,forEach:sc,merge:Xd,extend:dI,trim:fI,stripBOM:pI,inherits:mI,toFlatObject:gI,kindOf:vh,kindOfTest:rr,endsWith:xI,toArray:yI,forEachEntry:vI,matchAll:_I,isHTMLForm:CI,hasOwnProperty:Tg,hasOwnProp:Tg,reduceDescriptors:wv,freezeMethods:SI,toObjectSet:bI,toCamelCase:EI,noop:TI,toFiniteNumber:II,findKey:xv,global:so,isContextDefined:yv,isSpecCompliantForm:NI,toJSONObject:MI,isAsyncFn:OI,isThenable:RI,setImmediate:vv,asap:LI,isIterable:PI};let Xe=class _v extends Error{static from(t,n,r,l,u,p){const y=new _v(t.message,n||t.code,r,l,u);return y.cause=t,y.name=t.name,p&&Object.assign(y,p),y}constructor(t,n,r,l,u){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),l&&(this.request=l),u&&(this.response=u,this.status=u.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}};Xe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Xe.ERR_BAD_OPTION="ERR_BAD_OPTION";Xe.ECONNABORTED="ECONNABORTED";Xe.ETIMEDOUT="ETIMEDOUT";Xe.ERR_NETWORK="ERR_NETWORK";Xe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Xe.ERR_DEPRECATED="ERR_DEPRECATED";Xe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Xe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Xe.ERR_CANCELED="ERR_CANCELED";Xe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Xe.ERR_INVALID_URL="ERR_INVALID_URL";const DI=null;function Kd(e){return oe.isPlainObject(e)||oe.isArray(e)}function Cv(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function Ig(e,t,n){return e?e.concat(t).map(function(l,u){return l=Cv(l),!n&&u?"["+l+"]":l}).join(n?".":""):t}function kI(e){return oe.isArray(e)&&!e.some(Kd)}const BI=oe.toFlatObject(oe,{},null,function(t){return/^is[A-Z]/.test(t)});function Ch(e,t,n){if(!oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,H){return!oe.isUndefined(H[P])});const r=n.metaTokens,l=n.visitor||E,u=n.dots,p=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(t);if(!oe.isFunction(l))throw new TypeError("visitor must be a function");function x(D){if(D===null)return"";if(oe.isDate(D))return D.toISOString();if(oe.isBoolean(D))return D.toString();if(!v&&oe.isBlob(D))throw new Xe("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(D)||oe.isTypedArray(D)?v&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function E(D,P,H){let j=D;if(D&&!H&&typeof D=="object"){if(oe.endsWith(P,"{}"))P=r?P:P.slice(0,-2),D=JSON.stringify(D);else if(oe.isArray(D)&&kI(D)||(oe.isFileList(D)||oe.endsWith(P,"[]"))&&(j=oe.toArray(D)))return P=Cv(P),j.forEach(function(B,Z){!(oe.isUndefined(B)||B===null)&&t.append(p===!0?Ig([P],Z,u):p===null?P:P+"[]",x(B))}),!1}return Kd(D)?!0:(t.append(Ig(H,P,u),x(D)),!1)}const A=[],I=Object.assign(BI,{defaultVisitor:E,convertValue:x,isVisitable:Kd});function O(D,P){if(!oe.isUndefined(D)){if(A.indexOf(D)!==-1)throw Error("Circular reference detected in "+P.join("."));A.push(D),oe.forEach(D,function(j,F){(!(oe.isUndefined(j)||j===null)&&l.call(t,j,oe.isString(F)?F.trim():F,P,I))===!0&&O(j,P?P.concat(F):[F])}),A.pop()}}if(!oe.isObject(e))throw new TypeError("data must be an object");return O(e),t}function Ng(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function O1(e,t){this._pairs=[],e&&Ch(e,this,t)}const Ev=O1.prototype;Ev.append=function(t,n){this._pairs.push([t,n])};Ev.toString=function(t){const n=t?function(r){return t.call(this,r,Ng)}:Ng;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function FI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Av(e,t,n){if(!t)return e;const r=n&&n.encode||FI,l=oe.isFunction(n)?{serialize:n}:n,u=l&&l.serialize;let p;if(u?p=u(t,l):p=oe.isURLSearchParams(t)?t.toString():new O1(t,l).toString(r),p){const y=e.indexOf("#");y!==-1&&(e=e.slice(0,y)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class Mg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){oe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const R1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},jI=typeof URLSearchParams<"u"?URLSearchParams:O1,zI=typeof FormData<"u"?FormData:null,UI=typeof Blob<"u"?Blob:null,VI={isBrowser:!0,classes:{URLSearchParams:jI,FormData:zI,Blob:UI},protocols:["http","https","file","blob","url","data"]},L1=typeof window<"u"&&typeof document<"u",qd=typeof navigator=="object"&&navigator||void 0,HI=L1&&(!qd||["ReactNative","NativeScript","NS"].indexOf(qd.product)<0),WI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZI=L1&&window.location.href||"http://localhost",GI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:L1,hasStandardBrowserEnv:HI,hasStandardBrowserWebWorkerEnv:WI,navigator:qd,origin:ZI},Symbol.toStringTag,{value:"Module"})),Fn={...GI,...VI};function YI(e,t){return Ch(e,new Fn.classes.URLSearchParams,{visitor:function(n,r,l,u){return Fn.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...t})}function XI(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function KI(e){const t={},n=Object.keys(e);let r;const l=n.length;let u;for(r=0;r<l;r++)u=n[r],t[u]=e[u];return t}function Sv(e){function t(n,r,l,u){let p=n[u++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),v=u>=n.length;return p=!p&&oe.isArray(l)?l.length:p,v?(oe.hasOwnProp(l,p)?l[p]=[l[p],r]:l[p]=r,!y):((!l[p]||!oe.isObject(l[p]))&&(l[p]=[]),t(n,r,l[p],u)&&oe.isArray(l[p])&&(l[p]=KI(l[p])),!y)}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const n={};return oe.forEachEntry(e,(r,l)=>{t(XI(r),l,n,0)}),n}return null}function qI(e,t,n){if(oe.isString(e))try{return(t||JSON.parse)(e),oe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const oc={transitional:R1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,u=oe.isObject(t);if(u&&oe.isHTMLForm(t)&&(t=new FormData(t)),oe.isFormData(t))return l?JSON.stringify(Sv(t)):t;if(oe.isArrayBuffer(t)||oe.isBuffer(t)||oe.isStream(t)||oe.isFile(t)||oe.isBlob(t)||oe.isReadableStream(t))return t;if(oe.isArrayBufferView(t))return t.buffer;if(oe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let y;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return YI(t,this.formSerializer).toString();if((y=oe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Ch(y?{"files[]":t}:t,v&&new v,this.formSerializer)}}return u||l?(n.setContentType("application/json",!1),qI(t)):t}],transformResponse:[function(t){const n=this.transitional||oc.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(oe.isResponse(t)||oe.isReadableStream(t))return t;if(t&&oe.isString(t)&&(r&&!this.responseType||l)){const p=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(y){if(p)throw y.name==="SyntaxError"?Xe.from(y,Xe.ERR_BAD_RESPONSE,this,null,this.response):y}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],e=>{oc.headers[e]={}});const QI=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JI=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(p){l=p.indexOf(":"),n=p.substring(0,l).trim().toLowerCase(),r=p.substring(l+1).trim(),!(!n||t[n]&&QI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Og=Symbol("internals");function rl(e){return e&&String(e).trim().toLowerCase()}function lu(e){return e===!1||e==null?e:oe.isArray(e)?e.map(lu):String(e)}function $I(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const eN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mf(e,t,n,r,l){if(oe.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!oe.isString(t)){if(oe.isString(r))return t.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(t)}}function tN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function nN(e,t){const n=oe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,u,p){return this[r].call(this,t,l,u,p)},configurable:!0})})}let oi=class{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function u(y,v,x){const E=rl(v);if(!E)throw new Error("header name must be a non-empty string");const A=oe.findKey(l,E);(!A||l[A]===void 0||x===!0||x===void 0&&l[A]!==!1)&&(l[A||v]=lu(y))}const p=(y,v)=>oe.forEach(y,(x,E)=>u(x,E,v));if(oe.isPlainObject(t)||t instanceof this.constructor)p(t,n);else if(oe.isString(t)&&(t=t.trim())&&!eN(t))p(JI(t),n);else if(oe.isObject(t)&&oe.isIterable(t)){let y={},v,x;for(const E of t){if(!oe.isArray(E))throw TypeError("Object iterator must return a key-value pair");y[x=E[0]]=(v=y[x])?oe.isArray(v)?[...v,E[1]]:[v,E[1]]:E[1]}p(y,n)}else t!=null&&u(n,t,r);return this}get(t,n){if(t=rl(t),t){const r=oe.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return $I(l);if(oe.isFunction(n))return n.call(this,l,r);if(oe.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=rl(t),t){const r=oe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Mf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function u(p){if(p=rl(p),p){const y=oe.findKey(r,p);y&&(!n||Mf(r,r[y],y,n))&&(delete r[y],l=!0)}}return oe.isArray(t)?t.forEach(u):u(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const u=n[r];(!t||Mf(this,this[u],u,t,!0))&&(delete this[u],l=!0)}return l}normalize(t){const n=this,r={};return oe.forEach(this,(l,u)=>{const p=oe.findKey(r,u);if(p){n[p]=lu(l),delete n[u];return}const y=t?tN(u):String(u).trim();y!==u&&delete n[u],n[y]=lu(l),r[y]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return oe.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[Og]=this[Og]={accessors:{}}).accessors,l=this.prototype;function u(p){const y=rl(p);r[y]||(nN(l,p),r[y]=!0)}return oe.isArray(t)?t.forEach(u):u(t),this}};oi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(oi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});oe.freezeMethods(oi);function Of(e,t){const n=this||oc,r=t||n,l=oi.from(r.headers);let u=r.data;return oe.forEach(e,function(y){u=y.call(n,u,l.normalize(),t?t.status:void 0)}),l.normalize(),u}function bv(e){return!!(e&&e.__CANCEL__)}let ac=class extends Xe{constructor(t,n,r){super(t??"canceled",Xe.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function Tv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Xe("Request failed with status code "+n.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rN(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,u=0,p;return t=t!==void 0?t:1e3,function(v){const x=Date.now(),E=r[u];p||(p=x),n[l]=v,r[l]=x;let A=u,I=0;for(;A!==l;)I+=n[A++],A=A%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),x-p<t)return;const O=E&&x-E;return O?Math.round(I*1e3/O):void 0}}function sN(e,t){let n=0,r=1e3/t,l,u;const p=(x,E=Date.now())=>{n=E,l=null,u&&(clearTimeout(u),u=null),e(...x)};return[(...x)=>{const E=Date.now(),A=E-n;A>=r?p(x,E):(l=x,u||(u=setTimeout(()=>{u=null,p(l)},r-A)))},()=>l&&p(l)]}const Wu=(e,t,n=3)=>{let r=0;const l=rN(50,250);return sN(u=>{const p=u.loaded,y=u.lengthComputable?u.total:void 0,v=p-r,x=l(v),E=p<=y;r=p;const A={loaded:p,total:y,progress:y?p/y:void 0,bytes:v,rate:x||void 0,estimated:x&&y&&E?(y-p)/x:void 0,event:u,lengthComputable:y!=null,[t?"download":"upload"]:!0};e(A)},n)},Rg=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Lg=e=>(...t)=>oe.asap(()=>e(...t)),oN=Fn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Fn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,aN=Fn.hasStandardBrowserEnv?{write(e,t,n,r,l,u,p){if(typeof document>"u")return;const y=[`${e}=${encodeURIComponent(t)}`];oe.isNumber(n)&&y.push(`expires=${new Date(n).toUTCString()}`),oe.isString(r)&&y.push(`path=${r}`),oe.isString(l)&&y.push(`domain=${l}`),u===!0&&y.push("secure"),oe.isString(p)&&y.push(`SameSite=${p}`),document.cookie=y.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lN(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Iv(e,t,n){let r=!lN(t);return e&&(r||n==!1)?cN(e,t):t}const Pg=e=>e instanceof oi?{...e}:e;function wo(e,t){t=t||{};const n={};function r(x,E,A,I){return oe.isPlainObject(x)&&oe.isPlainObject(E)?oe.merge.call({caseless:I},x,E):oe.isPlainObject(E)?oe.merge({},E):oe.isArray(E)?E.slice():E}function l(x,E,A,I){if(oe.isUndefined(E)){if(!oe.isUndefined(x))return r(void 0,x,A,I)}else return r(x,E,A,I)}function u(x,E){if(!oe.isUndefined(E))return r(void 0,E)}function p(x,E){if(oe.isUndefined(E)){if(!oe.isUndefined(x))return r(void 0,x)}else return r(void 0,E)}function y(x,E,A){if(A in t)return r(x,E);if(A in e)return r(void 0,x)}const v={url:u,method:u,data:u,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(x,E,A)=>l(Pg(x),Pg(E),A,!0)};return oe.forEach(Object.keys({...e,...t}),function(E){if(E==="__proto__"||E==="constructor"||E==="prototype")return;const A=oe.hasOwnProp(v,E)?v[E]:l,I=A(e[E],t[E],E);oe.isUndefined(I)&&A!==y||(n[E]=I)}),n}const Nv=e=>{const t=wo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:u,headers:p,auth:y}=t;if(t.headers=p=oi.from(p),t.url=Av(Iv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),oe.isFormData(n)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(oe.isFunction(n.getHeaders)){const v=n.getHeaders(),x=["content-type","content-length"];Object.entries(v).forEach(([E,A])=>{x.includes(E.toLowerCase())&&p.set(E,A)})}}if(Fn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(t)),r||r!==!1&&oN(t.url))){const v=l&&u&&aN.read(u);v&&p.set(l,v)}return t},uN=typeof XMLHttpRequest<"u",hN=uN&&function(e){return new Promise(function(n,r){const l=Nv(e);let u=l.data;const p=oi.from(l.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:x}=l,E,A,I,O,D;function P(){O&&O(),D&&D(),l.cancelToken&&l.cancelToken.unsubscribe(E),l.signal&&l.signal.removeEventListener("abort",E)}let H=new XMLHttpRequest;H.open(l.method.toUpperCase(),l.url,!0),H.timeout=l.timeout;function j(){if(!H)return;const B=oi.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),$={data:!y||y==="text"||y==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:B,config:e,request:H};Tv(function(X){n(X),P()},function(X){r(X),P()},$),H=null}"onloadend"in H?H.onloadend=j:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(j)},H.onabort=function(){H&&(r(new Xe("Request aborted",Xe.ECONNABORTED,e,H)),H=null)},H.onerror=function(Z){const $=Z&&Z.message?Z.message:"Network Error",ae=new Xe($,Xe.ERR_NETWORK,e,H);ae.event=Z||null,r(ae),H=null},H.ontimeout=function(){let Z=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const $=l.transitional||R1;l.timeoutErrorMessage&&(Z=l.timeoutErrorMessage),r(new Xe(Z,$.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,e,H)),H=null},u===void 0&&p.setContentType(null),"setRequestHeader"in H&&oe.forEach(p.toJSON(),function(Z,$){H.setRequestHeader($,Z)}),oe.isUndefined(l.withCredentials)||(H.withCredentials=!!l.withCredentials),y&&y!=="json"&&(H.responseType=l.responseType),x&&([I,D]=Wu(x,!0),H.addEventListener("progress",I)),v&&H.upload&&([A,O]=Wu(v),H.upload.addEventListener("progress",A),H.upload.addEventListener("loadend",O)),(l.cancelToken||l.signal)&&(E=B=>{H&&(r(!B||B.type?new ac(null,e,H):B),H.abort(),H=null)},l.cancelToken&&l.cancelToken.subscribe(E),l.signal&&(l.signal.aborted?E():l.signal.addEventListener("abort",E)));const F=iN(l.url);if(F&&Fn.protocols.indexOf(F)===-1){r(new Xe("Unsupported protocol "+F+":",Xe.ERR_BAD_REQUEST,e));return}H.send(u||null)})},fN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const u=function(x){if(!l){l=!0,y();const E=x instanceof Error?x:this.reason;r.abort(E instanceof Xe?E:new ac(E instanceof Error?E.message:E))}};let p=t&&setTimeout(()=>{p=null,u(new Xe(`timeout of ${t}ms exceeded`,Xe.ETIMEDOUT))},t);const y=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(u):x.removeEventListener("abort",u)}),e=null)};e.forEach(x=>x.addEventListener("abort",u));const{signal:v}=r;return v.unsubscribe=()=>oe.asap(y),v}},dN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},pN=async function*(e,t){for await(const n of mN(e))yield*dN(n,t)},mN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Dg=(e,t,n,r)=>{const l=pN(e,t);let u=0,p,y=v=>{p||(p=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:x,value:E}=await l.next();if(x){y(),v.close();return}let A=E.byteLength;if(n){let I=u+=A;n(I)}v.enqueue(new Uint8Array(E))}catch(x){throw y(x),x}},cancel(v){return y(v),l.return()}},{highWaterMark:2})},kg=64*1024,{isFunction:Zc}=oe,gN=(({Request:e,Response:t})=>({Request:e,Response:t}))(oe.global),{ReadableStream:Bg,TextEncoder:Fg}=oe.global,jg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xN=e=>{e=oe.merge.call({skipUndefined:!0},gN,e);const{fetch:t,Request:n,Response:r}=e,l=t?Zc(t):typeof fetch=="function",u=Zc(n),p=Zc(r);if(!l)return!1;const y=l&&Zc(Bg),v=l&&(typeof Fg=="function"?(D=>P=>D.encode(P))(new Fg):async D=>new Uint8Array(await new n(D).arrayBuffer())),x=u&&y&&jg(()=>{let D=!1;const P=new n(Fn.origin,{body:new Bg,method:"POST",get duplex(){return D=!0,"half"}}).headers.has("Content-Type");return D&&!P}),E=p&&y&&jg(()=>oe.isReadableStream(new r("").body)),A={stream:E&&(D=>D.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!A[D]&&(A[D]=(P,H)=>{let j=P&&P[D];if(j)return j.call(P);throw new Xe(`Response type '${D}' is not supported`,Xe.ERR_NOT_SUPPORT,H)})});const I=async D=>{if(D==null)return 0;if(oe.isBlob(D))return D.size;if(oe.isSpecCompliantForm(D))return(await new n(Fn.origin,{method:"POST",body:D}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(D)||oe.isArrayBuffer(D))return D.byteLength;if(oe.isURLSearchParams(D)&&(D=D+""),oe.isString(D))return(await v(D)).byteLength},O=async(D,P)=>{const H=oe.toFiniteNumber(D.getContentLength());return H??I(P)};return async D=>{let{url:P,method:H,data:j,signal:F,cancelToken:B,timeout:Z,onDownloadProgress:$,onUploadProgress:ae,responseType:X,headers:ee,withCredentials:J="same-origin",fetchOptions:Re}=Nv(D),Ue=t||fetch;X=X?(X+"").toLowerCase():"text";let we=fN([F,B&&B.toAbortSignal()],Z),Le=null;const Fe=we&&we.unsubscribe&&(()=>{we.unsubscribe()});let re;try{if(ae&&x&&H!=="get"&&H!=="head"&&(re=await O(ee,j))!==0){let ve=new n(P,{method:"POST",body:j,duplex:"half"}),te;if(oe.isFormData(j)&&(te=ve.headers.get("content-type"))&&ee.setContentType(te),ve.body){const[Ae,me]=Rg(re,Wu(Lg(ae)));j=Dg(ve.body,kg,Ae,me)}}oe.isString(J)||(J=J?"include":"omit");const Ce=u&&"credentials"in n.prototype,Te={...Re,signal:we,method:H.toUpperCase(),headers:ee.normalize().toJSON(),body:j,duplex:"half",credentials:Ce?J:void 0};Le=u&&new n(P,Te);let le=await(u?Ue(Le,Re):Ue(P,Te));const Me=E&&(X==="stream"||X==="response");if(E&&($||Me&&Fe)){const ve={};["status","statusText","headers"].forEach(je=>{ve[je]=le[je]});const te=oe.toFiniteNumber(le.headers.get("content-length")),[Ae,me]=$&&Rg(te,Wu(Lg($),!0))||[];le=new r(Dg(le.body,kg,Ae,()=>{me&&me(),Fe&&Fe()}),ve)}X=X||"text";let de=await A[oe.findKey(A,X)||"text"](le,D);return!Me&&Fe&&Fe(),await new Promise((ve,te)=>{Tv(ve,te,{data:de,headers:oi.from(le.headers),status:le.status,statusText:le.statusText,config:D,request:Le})})}catch(Ce){throw Fe&&Fe(),Ce&&Ce.name==="TypeError"&&/Load failed|fetch/i.test(Ce.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,D,Le,Ce&&Ce.response),{cause:Ce.cause||Ce}):Xe.from(Ce,Ce&&Ce.code,D,Le,Ce&&Ce.response)}}},yN=new Map,Mv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:l}=t,u=[r,l,n];let p=u.length,y=p,v,x,E=yN;for(;y--;)v=u[y],x=E.get(v),x===void 0&&E.set(v,x=y?new Map:xN(t)),E=x;return x};Mv();const P1={http:DI,xhr:hN,fetch:{get:Mv}};oe.forEach(P1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zg=e=>`- ${e}`,wN=e=>oe.isFunction(e)||e===null||e===!1;function vN(e,t){e=oe.isArray(e)?e:[e];const{length:n}=e;let r,l;const u={};for(let p=0;p<n;p++){r=e[p];let y;if(l=r,!wN(r)&&(l=P1[(y=String(r)).toLowerCase()],l===void 0))throw new Xe(`Unknown adapter '${y}'`);if(l&&(oe.isFunction(l)||(l=l.get(t))))break;u[y||"#"+p]=l}if(!l){const p=Object.entries(u).map(([v,x])=>`adapter ${v} `+(x===!1?"is not supported by the environment":"is not available in the build"));let y=n?p.length>1?`since :
`+p.map(zg).join(`
`):" "+zg(p[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return l}const Ov={getAdapter:vN,adapters:P1};function Rf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ac(null,e)}function Ug(e){return Rf(e),e.headers=oi.from(e.headers),e.data=Of.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ov.getAdapter(e.adapter||oc.adapter,e)(e).then(function(r){return Rf(e),r.data=Of.call(e,e.transformResponse,r),r.headers=oi.from(r.headers),r},function(r){return bv(r)||(Rf(e),r&&r.response&&(r.response.data=Of.call(e,e.transformResponse,r.response),r.response.headers=oi.from(r.response.headers))),Promise.reject(r)})}const Rv="1.13.5",Eh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Eh[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Vg={};Eh.transitional=function(t,n,r){function l(u,p){return"[Axios v"+Rv+"] Transitional option '"+u+"'"+p+(r?". "+r:"")}return(u,p,y)=>{if(t===!1)throw new Xe(l(p," has been removed"+(n?" in "+n:"")),Xe.ERR_DEPRECATED);return n&&!Vg[p]&&(Vg[p]=!0,console.warn(l(p," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,p,y):!0}};Eh.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function _N(e,t,n){if(typeof e!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const u=r[l],p=t[u];if(p){const y=e[u],v=y===void 0||p(y,u,e);if(v!==!0)throw new Xe("option "+u+" must be "+v,Xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xe("Unknown option "+u,Xe.ERR_BAD_OPTION)}}const cu={assertOptions:_N,validators:Eh},Li=cu.validators;let uo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Mg,response:new Mg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wo(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:u}=n;r!==void 0&&cu.assertOptions(r,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean),legacyInterceptorReqResOrdering:Li.transitional(Li.boolean)},!1),l!=null&&(oe.isFunction(l)?n.paramsSerializer={serialize:l}:cu.assertOptions(l,{encode:Li.function,serialize:Li.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),cu.assertOptions(n,{baseUrl:Li.spelling("baseURL"),withXsrfToken:Li.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=u&&oe.merge(u.common,u[n.method]);u&&oe.forEach(["delete","get","head","post","put","patch","common"],D=>{delete u[D]}),n.headers=oi.concat(p,u);const y=[];let v=!0;this.interceptors.request.forEach(function(P){if(typeof P.runWhen=="function"&&P.runWhen(n)===!1)return;v=v&&P.synchronous;const H=n.transitional||R1;H&&H.legacyInterceptorReqResOrdering?y.unshift(P.fulfilled,P.rejected):y.push(P.fulfilled,P.rejected)});const x=[];this.interceptors.response.forEach(function(P){x.push(P.fulfilled,P.rejected)});let E,A=0,I;if(!v){const D=[Ug.bind(this),void 0];for(D.unshift(...y),D.push(...x),I=D.length,E=Promise.resolve(n);A<I;)E=E.then(D[A++],D[A++]);return E}I=y.length;let O=n;for(;A<I;){const D=y[A++],P=y[A++];try{O=D(O)}catch(H){P.call(this,H);break}}try{E=Ug.call(this,O)}catch(D){return Promise.reject(D)}for(A=0,I=x.length;A<I;)E=E.then(x[A++],x[A++]);return E}getUri(t){t=wo(this.defaults,t);const n=Iv(t.baseURL,t.url,t.allowAbsoluteUrls);return Av(n,t.params,t.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(t){uo.prototype[t]=function(n,r){return this.request(wo(r||{},{method:t,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(t){function n(r){return function(u,p,y){return this.request(wo(y||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:p}))}}uo.prototype[t]=n(),uo.prototype[t+"Form"]=n(!0)});let CN=class Lv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(l=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](l);r._listeners=null}),this.promise.then=l=>{let u;const p=new Promise(y=>{r.subscribe(y),u=y}).then(l);return p.cancel=function(){r.unsubscribe(u)},p},t(function(u,p,y){r.reason||(r.reason=new ac(u,p,y),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Lv(function(l){t=l}),cancel:t}}};function EN(e){return function(n){return e.apply(null,n)}}function AN(e){return oe.isObject(e)&&e.isAxiosError===!0}const Qd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qd).forEach(([e,t])=>{Qd[t]=e});function Pv(e){const t=new uo(e),n=dv(uo.prototype.request,t);return oe.extend(n,uo.prototype,t,{allOwnKeys:!0}),oe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return Pv(wo(e,l))},n}const At=Pv(oc);At.Axios=uo;At.CanceledError=ac;At.CancelToken=CN;At.isCancel=bv;At.VERSION=Rv;At.toFormData=Ch;At.AxiosError=Xe;At.Cancel=At.CanceledError;At.all=function(t){return Promise.all(t)};At.spread=EN;At.isAxiosError=AN;At.mergeConfig=wo;At.AxiosHeaders=oi;At.formToJSON=e=>Sv(oe.isHTMLForm(e)?new FormData(e):e);At.getAdapter=Ov.getAdapter;At.HttpStatusCode=Qd;At.default=At;const{Axios:bM,AxiosError:TM,CanceledError:IM,isCancel:NM,CancelToken:MM,VERSION:OM,all:RM,Cancel:LM,isAxiosError:PM,spread:DM,toFormData:kM,AxiosHeaders:BM,HttpStatusCode:FM,formToJSON:jM,getAdapter:zM,mergeConfig:UM}=At,SN=[{event_id:"1",label:"Expediere preluata de Curier",description:"Expediere preluata de Curier"},{event_id:"2",label:"Expeditie Livrata",description:"Expeditie Livrata"},{event_id:"3",label:"Refuzare colet",description:"Refuzare colet"},{event_id:"4",label:"Expeditie returnata",description:"Expeditie returnata"},{event_id:"5",label:"Expeditie anulata",description:"Expeditie anulata"},{event_id:"6",label:"Intrare in depozit",description:"Intrare in depozit"},{event_id:"7",label:"Livrare reprogramata",description:"Livrare reprogramata"},{event_id:"R3",label:"Ramburs transferat",description:"Ramburs transferat"}];SN.reduce((e,t)=>(e[t.event_id]=t.label,e),{});const bN=!1,Lf="http://localhost:8000",Jd="arynik_api_url_v1",ul=e=>String(e||"").trim().replace(/\/+$/,""),TN=e=>{try{return localStorage.getItem(e)}catch{return null}},IN=(e,t)=>{try{localStorage.setItem(e,t)}catch{}},NN=e=>{try{localStorage.removeItem(e)}catch{}},Ps=()=>{if(typeof window>"u")return ul(Lf);const t=new URLSearchParams(window.location.search).get("api"),n=TN(Jd);return ul(t||n||Lf)||ul(Lf)},Dv=e=>{const t=ul(e);t?IN(Jd,t):NN(Jd)},lc=e=>e?{Authorization:`Bearer ${e}`}:{},Hg=e=>{const t=new TextEncoder().encode(String(e));let n="";return t.forEach(r=>{n+=String.fromCharCode(r)}),btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")},MN=e=>`${Hg(JSON.stringify({alg:"none",typ:"JWT"}))}.${Hg(JSON.stringify(e))}.offline`,ON=e=>{const t=String(e).trim().toLowerCase();return t.includes("admin")?"Admin":t.includes("manager")?"Manager":"Driver"},RN=(e,t)=>{if(e==="Driver"){const n=String(t).trim().toUpperCase();return/^D\\d{3,}$/i.test(n)?n:"D002"}return"D001"};async function LN(e,t){const n=Ps(),r=new URLSearchParams;r.append("username",e),r.append("password",t);try{return(await At.post(`${n}/login`,r,{headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:3e3})).data}catch(l){if(l&&l.response)throw l;console.warn("Login API unavailable; using snapshot/offline token.",l);const u=String(e||"").trim()||"offline",p=ON(u),y={sub:u,driver_id:RN(p,u),role:p,offline:!0,exp:Math.floor(Date.now()/1e3)+7*24*60*60};return{access_token:MN(y),token_type:"bearer",role:p}}}async function kv(e){const t=Ps();return(await At.get(`${t}/stats`,{headers:lc(e)})).data}async function Bv(e){const t=Ps();return(await At.get(`${t}/status-options`,{headers:lc(e)})).data}async function D1(e,t){const n=Ps();return(await At.post(`${n}/update-awb`,t,{headers:lc(e)})).data}async function k1(e,t={}){const n=Ps();return(await At.get(`${n}/logs`,{params:t,headers:lc(e)})).data}async function B1(e){const t=Ps();try{return(await At.get(`${t}/shipments`,{headers:lc(e),timeout:5e3})).data}catch(n){console.warn("Backend API unavailable, attempting to load static snapshot...",n);try{const r="/arynik1/data/shipments.json".replace("//","/"),l=await At.get(r);console.info("Loaded shipments from static snapshot.");let u=l.data;if(e)try{const y=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),v=decodeURIComponent(window.atob(y).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join("")),x=JSON.parse(v),E=x.role,A=x.driver_id;E==="Driver"&&(console.info(`Offline RBAC: Filtering for Driver ${A}`),u=u.filter(I=>I.driver_id===A))}catch(p){console.warn("Offline RBAC: Failed to decode token",p)}return u}catch(r){throw console.error("Failed to load both API and static snapshot",r),n}}}const PN=Object.freeze(Object.defineProperty({__proto__:null,getApiUrl:Ps,getLogs:k1,getShipments:B1,getStats:kv,getStatusOptions:Bv,isDemoMode:bN,login:LN,setApiUrl:Dv,updateAwb:D1},Symbol.toStringTag,{value:"Module"}));function DN(){const[e,t]=V.useState(null),[n,r]=V.useState(!0);V.useEffect(()=>{(async()=>{try{const v=localStorage.getItem("token"),x=await kv(v);t(x)}catch(v){console.error("Failed to fetch stats",v)}finally{r(!1)}})()},[]);const l=(y,v=2e3)=>{const[x,E]=V.useState(0);return V.useEffect(()=>{let A=0;const I=y/(v/16),O=setInterval(()=>{A+=I,A>=y?(E(y),clearInterval(O)):E(Math.floor(A))},16);return()=>clearInterval(O)},[y,v]),x},u=l((e==null?void 0:e.today_count)||0),p=l((e==null?void 0:e.total_count)||0);return n?S.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-pulse",children:[S.jsx("div",{className:"h-24 glass-strong rounded-3xl border-iridescent opacity-50"}),S.jsx("div",{className:"h-24 glass-strong rounded-3xl border-iridescent opacity-50"})]}):S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"glass-strong p-5 rounded-3xl shadow-xl shadow-brand-blue/20 border-iridescent flex flex-col justify-between relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-blue/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),S.jsx("div",{className:"absolute -right-4 -top-4 opacity-10 scale-150 group-hover:rotate-12 transition-transform duration-500",children:S.jsx(A4,{size:80,className:"text-brand-blue"})}),S.jsxs("div",{className:"relative z-10 flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-1.5 bg-brand-blue/20 rounded-lg",children:S.jsx(I1,{size:16,className:"text-brand-blue"})}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Today"})]}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("span",{className:"text-3xl font-black text-white",children:u}),S.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Success Syncs"})]})]}),S.jsxs("div",{className:"glass-strong p-5 rounded-3xl shadow-sm border-iridescent flex flex-col justify-between relative overflow-hidden group",children:[S.jsx("div",{className:"absolute -right-4 -top-4 opacity-5 scale-150 text-slate-400 group-hover:rotate-12 transition-transform duration-500",children:S.jsx(w4,{size:80})}),S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-1.5 bg-slate-700/50 rounded-lg text-slate-400",children:S.jsx(yo,{size:16})}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"All Time"})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-3xl font-black text-white",children:p}),S.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Total Updates"})]})]})]})}var Oe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Oe||(Oe={}));var Wg=new Map([[Oe.QR_CODE,"QR_CODE"],[Oe.AZTEC,"AZTEC"],[Oe.CODABAR,"CODABAR"],[Oe.CODE_39,"CODE_39"],[Oe.CODE_93,"CODE_93"],[Oe.CODE_128,"CODE_128"],[Oe.DATA_MATRIX,"DATA_MATRIX"],[Oe.MAXICODE,"MAXICODE"],[Oe.ITF,"ITF"],[Oe.EAN_13,"EAN_13"],[Oe.EAN_8,"EAN_8"],[Oe.PDF_417,"PDF_417"],[Oe.RSS_14,"RSS_14"],[Oe.RSS_EXPANDED,"RSS_EXPANDED"],[Oe.UPC_A,"UPC_A"],[Oe.UPC_E,"UPC_E"],[Oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Zg;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Zg||(Zg={}));function kN(e){return Object.values(Oe).includes(e)}var Is;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Is||(Is={}));var $i=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Is.SCAN_TYPE_CAMERA,Is.SCAN_TYPE_FILE],e}(),Fv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Wg.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Wg.get(t))},e}(),Gg=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),$d;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})($d||($d={}));var jv=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:$d.UNKWOWN_ERROR}},e}(),zv=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function pr(e){return typeof e>"u"||e===null}function BN(e,t,n){return e>n?n:e<t?t:e}var $o=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ct=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Yg=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Uv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(l),p=Object.keys(t),y=0,v=p;y<v.length;y++){var x=v[y];if(u.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),e0={exports:{}};(function(e,t){(function(n,r){r(t)})(ko,function(n){function r(N){return N==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,i){N.__proto__=i}||function(N,i){for(var s in i)i.hasOwnProperty(s)&&(N[s]=i[s])};function u(N,i){l(N,i);function s(){this.constructor=N}N.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}function p(N,i){var s=Object.setPrototypeOf;s?s(N,i):N.__proto__=i}function y(N,i){i===void 0&&(i=N.constructor);var s=Error.captureStackTrace;s&&s(N,i)}var v=function(N){u(i,N);function i(s){var a=this.constructor,c=N.call(this,s)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),p(c,a.prototype),y(c),c}return i}(Error);class x extends v{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class I{constructor(i){if(this.binarizer=i,i===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,s){return this.binarizer.getBlackRow(i,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,s,a,c){const h=this.binarizer.getLuminanceSource().crop(i,s,a,c);return new I(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class D{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(i,s,a,c,h){for(;h--;)a[c++]=i[s++]}static currentTimeMillis(){return Date.now()}}class H extends x{}H.kind="IndexOutOfBoundsException";class j extends H{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}j.kind="ArrayIndexOutOfBoundsException";class F{static fill(i,s){for(let a=0,c=i.length;a<c;a++)i[a]=s}static fillWithin(i,s,a,c){F.rangeCheck(i.length,s,a);for(let h=s;h<a;h++)i[h]=c}static rangeCheck(i,s,a){if(s>a)throw new A("fromIndex("+s+") > toIndex("+a+")");if(s<0)throw new j(s);if(a>i)throw new j(a)}static asList(...i){return i}static create(i,s,a){return Array.from({length:i}).map(h=>Array.from({length:s}).fill(a))}static createInt32Array(i,s,a){return Array.from({length:i}).map(h=>Int32Array.from({length:s}).fill(a))}static equals(i,s){if(!i||!s||!i.length||!s.length||i.length!==s.length)return!1;for(let a=0,c=i.length;a<c;a++)if(i[a]!==s[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let s=1;for(const a of i)s=31*s+a;return s}static fillUint8Array(i,s){for(let a=0;a!==i.length;a++)i[a]=s}static copyOf(i,s){return i.slice(0,s)}static copyOfUint8Array(i,s){if(i.length<=s){const a=new Uint8Array(s);return a.set(i),a}return i.slice(0,s)}static copyOfRange(i,s,a){const c=a-s,h=new Int32Array(c);return P.arraycopy(i,s,h,0,c),h}static binarySearch(i,s,a){a===void 0&&(a=F.numberComparator);let c=0,h=i.length-1;for(;c<=h;){const d=h+c>>1,m=a(s,i[d]);if(m>0)c=d+1;else if(m<0)h=d-1;else return d}return-c-1}static numberComparator(i,s){return i-s}}class B{static numberOfTrailingZeros(i){let s;if(i===0)return 32;let a=31;return s=i<<16,s!==0&&(a-=16,i=s),s=i<<8,s!==0&&(a-=8,i=s),s=i<<4,s!==0&&(a-=4,i=s),s=i<<2,s!==0&&(a-=2,i=s),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let s=1;return i>>>16||(s+=16,i<<=16),i>>>24||(s+=8,i<<=8),i>>>28||(s+=4,i<<=4),i>>>30||(s+=2,i<<=2),s-=i>>>31,s}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,s){return Math.trunc(i/s)}static parseInt(i,s=void 0){return parseInt(i,s)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(i,s){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,s==null?this.bits=Z.makeArray(i):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const s=Z.makeArray(i);P.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const s=this.size;if(i>=s)return s;const a=this.bits;let c=Math.floor(i/32),h=a[c];h&=~((1<<(i&31))-1);const d=a.length;for(;h===0;){if(++c===d)return s;h=a[c]}const m=c*32+B.numberOfTrailingZeros(h);return m>s?s:m}getNextUnset(i){const s=this.size;if(i>=s)return s;const a=this.bits;let c=Math.floor(i/32),h=~a[c];h&=~((1<<(i&31))-1);const d=a.length;for(;h===0;){if(++c===d)return s;h=~a[c]}const m=c*32+B.numberOfTrailingZeros(h);return m>s?s:m}setBulk(i,s){this.bits[Math.floor(i/32)]=s}setRange(i,s){if(s<i||i<0||s>this.size)throw new A;if(s===i)return;s--;const a=Math.floor(i/32),c=Math.floor(s/32),h=this.bits;for(let d=a;d<=c;d++){const m=d>a?0:i&31,_=(2<<(d<c?31:s&31))-(1<<m);h[d]|=_}}clear(){const i=this.bits.length,s=this.bits;for(let a=0;a<i;a++)s[a]=0}isRange(i,s,a){if(s<i||i<0||s>this.size)throw new A;if(s===i)return!0;s--;const c=Math.floor(i/32),h=Math.floor(s/32),d=this.bits;for(let m=c;m<=h;m++){const w=m>c?0:i&31,b=(2<<(m<h?31:s&31))-(1<<w)&4294967295;if((d[m]&b)!==(a?b:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,s){if(s<0||s>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let a=s;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const s=i.size;this.ensureCapacity(this.size+s);for(let a=0;a<s;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new A("Sizes don't match");const s=this.bits;for(let a=0,c=s.length;a<c;a++)s[a]^=i.bits[a]}toBytes(i,s,a,c){for(let h=0;h<c;h++){let d=0;for(let m=0;m<8;m++)this.get(i)&&(d|=1<<7-m),i++;s[a+h]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),a=s+1,c=this.bits;for(let h=0;h<a;h++){let d=c[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[s-h]=d}if(this.size!==a*32){const h=a*32-this.size;let d=i[0]>>>h;for(let m=1;m<a;m++){const w=i[m];d|=w<<32-h,i[m-1]=d,d=w>>>h}i[a-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof Z))return!1;const s=i;return this.size===s.size&&F.equals(this.bits,s.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let i="";for(let s=0,a=this.size;s<a;s++)s&7||(i+=" "),i+=this.get(s)?"X":".";return i}clone(){return new Z(this.size,this.bits.slice())}}var $;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var ae=$;class X extends x{static getFormatInstance(){return new X}}X.kind="FormatException";var ee;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class J{constructor(i,s,a,...c){this.valueIdentifier=i,this.name=a,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=c,J.VALUE_IDENTIFIER_TO_ECI.set(i,this),J.NAME_TO_ECI.set(a,this);const h=this.values;for(let d=0,m=h.length;d!==m;d++){const w=h[d];J.VALUES_TO_ECI.set(w,this)}for(const d of c)J.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new X("incorect value");const s=J.VALUES_TO_ECI.get(i);if(s===void 0)throw new X("incorect value");return s}static getCharacterSetECIByName(i){const s=J.NAME_TO_ECI.get(i);if(s===void 0)throw new X("incorect value");return s}equals(i){if(!(i instanceof J))return!1;const s=i;return this.getName()===s.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(ee.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(ee.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(ee.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(ee.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(ee.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(ee.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(ee.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(ee.Big5,28,"Big5"),J.GB18030=new J(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(ee.EUC_KR,30,"EUC_KR","EUC-KR");class Re extends x{}Re.kind="UnsupportedOperationException";class Ue{static decode(i,s){const a=this.encodingName(s);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!Ue.isBrowser()&&i==="ISO-8859-1"}static encode(i,s){const a=this.encodingName(s);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof J?i:J.getCharacterSetECIByName(i)}static decodeFallback(i,s){const a=this.encodingCharacterSet(s);if(Ue.isDecodeFallbackSupported(a)){let c="";for(let h=0,d=i.length;h<d;h++){let m=i[h].toString(16);m.length<2&&(m="0"+m),c+="%"+m}return decodeURIComponent(c)}if(a.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Re(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(J.UTF8)||i.equals(J.ISO8859_1)||i.equals(J.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let h=0;h<a.length;h++)c.push(a[h].charCodeAt(0));return new Uint8Array(c)}}class we{static castAsNonUtf8Char(i,s=null){const a=s?s.getName():this.ISO88591;return Ue.decode(new Uint8Array([i]),a)}static guessEncoding(i,s){if(s!=null&&s.get(ae.CHARACTER_SET)!==void 0)return s.get(ae.CHARACTER_SET).toString();const a=i.length;let c=!0,h=!0,d=!0,m=0,w=0,_=0,b=0,M=0,R=0,U=0,G=0,Y=0,K=0,ne=0;const ge=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let xe=0;xe<a&&(c||h||d);xe++){const pe=i[xe]&255;d&&(m>0?pe&128?m--:d=!1:pe&128&&(pe&64?(m++,pe&32?(m++,pe&16?(m++,pe&8?d=!1:b++):_++):w++):d=!1)),c&&(pe>127&&pe<160?c=!1:pe>159&&(pe<192||pe===215||pe===247)&&ne++),h&&(M>0?pe<64||pe===127||pe>252?h=!1:M--:pe===128||pe===160||pe>239?h=!1:pe>160&&pe<224?(R++,G=0,U++,U>Y&&(Y=U)):pe>127?(M++,U=0,G++,G>K&&(K=G)):(U=0,G=0))}return d&&m>0&&(d=!1),h&&M>0&&(h=!1),d&&(ge||w+_+b>0)?we.UTF8:h&&(we.ASSUME_SHIFT_JIS||Y>=3||K>=3)?we.SHIFT_JIS:c&&h?Y===2&&R===2||ne*10>=a?we.SHIFT_JIS:we.ISO88591:c?we.ISO88591:h?we.SHIFT_JIS:d?we.UTF8:we.PLATFORM_DEFAULT_ENCODING}static format(i,...s){let a=-1;function c(d,m,w,_,b,M){if(d==="%%")return"%";if(s[++a]===void 0)return;d=_?parseInt(_.substr(1)):void 0;let R=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(d);break;case"p":U=parseFloat(s[a]).toPrecision(d);break;case"e":U=parseFloat(s[a]).toExponential(d);break;case"x":U=parseInt(s[a]).toString(R||16);break;case"d":U=parseFloat(parseInt(s[a],R||10).toPrecision(d)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(R);let G=parseInt(w),Y=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=m!==void 0?U+Y:Y+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,c)}static getBytes(i,s){return Ue.encode(i,s)}static getCharCode(i,s=0){return i.charCodeAt(s)}static getCharAt(i){return String.fromCharCode(i)}}we.SHIFT_JIS=J.SJIS.getName(),we.GB2312="GB2312",we.ISO88591=J.ISO8859_1.getName(),we.EUC_JP="EUC_JP",we.UTF8=J.UTF8.getName(),we.PLATFORM_DEFAULT_ENCODING=we.UTF8,we.ASSUME_SHIFT_JIS=!1;class Le{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=we.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,s,a){for(let c=s;s<s+a;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+1)}substring(i,s){return this.value.substring(i,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+s.length)}}class Fe{constructor(i,s,a,c){if(this.width=i,this.height=s,this.rowSize=a,this.bits=c,s==null&&(s=i),this.height=s,i<1||s<1)throw new A("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const s=i.length,a=i[0].length,c=new Fe(a,s);for(let h=0;h<s;h++){const d=i[h];for(let m=0;m<a;m++)d[m]&&c.set(m,h)}return c}static parseFromString(i,s,a){if(i===null)throw new A("stringRepresentation cannot be null");const c=new Array(i.length);let h=0,d=0,m=-1,w=0,_=0;for(;_<i.length;)if(i.charAt(_)===`
`||i.charAt(_)==="\r"){if(h>d){if(m===-1)m=h-d;else if(h-d!==m)throw new A("row lengths do not match");d=h,w++}_++}else if(i.substring(_,_+s.length)===s)_+=s.length,c[h]=!0,h++;else if(i.substring(_,_+a.length)===a)_+=a.length,c[h]=!1,h++;else throw new A("illegal character encountered: "+i.substring(_));if(h>d){if(m===-1)m=h-d;else if(h-d!==m)throw new A("row lengths do not match");w++}const b=new Fe(m,w);for(let M=0;M<h;M++)c[M]&&b.set(Math.floor(M%m),Math.floor(M/m));return b}get(i,s){const a=s*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new A("input matrix dimensions do not match");const s=new Z(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let h=0,d=this.height;h<d;h++){const m=h*a,w=i.getRow(h,s).getBitArray();for(let _=0;_<a;_++)c[m+_]^=w[_]}}clear(){const i=this.bits,s=i.length;for(let a=0;a<s;a++)i[a]=0}setRegion(i,s,a,c){if(s<0||i<0)throw new A("Left and top must be nonnegative");if(c<1||a<1)throw new A("Height and width must be at least 1");const h=i+a,d=s+c;if(d>this.height||h>this.width)throw new A("The region must fit inside the matrix");const m=this.rowSize,w=this.bits;for(let _=s;_<d;_++){const b=_*m;for(let M=i;M<h;M++)w[b+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(i,s){s==null||s.getSize()<this.width?s=new Z(this.width):s.clear();const a=this.rowSize,c=this.bits,h=i*a;for(let d=0;d<a;d++)s.setBulk(d*32,c[h+d]);return s}setRow(i,s){P.arraycopy(s.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),s=this.getHeight();let a=new Z(i),c=new Z(i);for(let h=0,d=Math.floor((s+1)/2);h<d;h++)a=this.getRow(h,a),c=this.getRow(s-1-h,c),a.reverse(),c.reverse(),this.setRow(h,c),this.setRow(s-1-h,a)}getEnclosingRectangle(){const i=this.width,s=this.height,a=this.rowSize,c=this.bits;let h=i,d=s,m=-1,w=-1;for(let _=0;_<s;_++)for(let b=0;b<a;b++){const M=c[_*a+b];if(M!==0){if(_<d&&(d=_),_>w&&(w=_),b*32<h){let R=0;for(;!(M<<31-R&4294967295);)R++;b*32+R<h&&(h=b*32+R)}if(b*32+31>m){let R=31;for(;!(M>>>R);)R--;b*32+R>m&&(m=b*32+R)}}}return m<h||w<d?null:Int32Array.from([h,d,m-h+1,w-d+1])}getTopLeftOnBit(){const i=this.rowSize,s=this.bits;let a=0;for(;a<s.length&&s[a]===0;)a++;if(a===s.length)return null;const c=a/i;let h=a%i*32;const d=s[a];let m=0;for(;!(d<<31-m&4294967295);)m++;return h+=m,Int32Array.from([h,c])}getBottomRightOnBit(){const i=this.rowSize,s=this.bits;let a=s.length-1;for(;a>=0&&s[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/i);let h=Math.floor(a%i)*32;const d=s[a];let m=31;for(;!(d>>>m);)m--;return h+=m,Int32Array.from([h,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Fe))return!1;const s=i;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&F.equals(this.bits,s.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+F.hashCode(this.bits),i}toString(i="X ",s="  ",a=`
`){return this.buildToString(i,s,a)}buildToString(i,s,a){let c=new Le;for(let h=0,d=this.height;h<d;h++){for(let m=0,w=this.width;m<w;m++)c.append(this.get(m,h)?i:s);c.append(a)}return c.toString()}clone(){return new Fe(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends x{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class Ce extends D{constructor(i){super(i),this.luminances=Ce.EMPTY,this.buckets=new Int32Array(Ce.LUMINANCE_BUCKETS)}getBlackRow(i,s){const a=this.getLuminanceSource(),c=a.getWidth();s==null||s.getSize()<c?s=new Z(c):s.clear(),this.initArrays(c);const h=a.getRow(i,this.luminances),d=this.buckets;for(let w=0;w<c;w++)d[(h[w]&255)>>Ce.LUMINANCE_SHIFT]++;const m=Ce.estimateBlackPoint(d);if(c<3)for(let w=0;w<c;w++)(h[w]&255)<m&&s.set(w);else{let w=h[0]&255,_=h[1]&255;for(let b=1;b<c-1;b++){const M=h[b+1]&255;(_*4-w-M)/2<m&&s.set(b),w=_,_=M}}return s}getBlackMatrix(){const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight(),c=new Fe(s,a);this.initArrays(s);const h=this.buckets;for(let w=1;w<5;w++){const _=Math.floor(a*w/5),b=i.getRow(_,this.luminances),M=Math.floor(s*4/5);for(let R=Math.floor(s/5);R<M;R++){const U=b[R]&255;h[U>>Ce.LUMINANCE_SHIFT]++}}const d=Ce.estimateBlackPoint(h),m=i.getMatrix();for(let w=0;w<a;w++){const _=w*s;for(let b=0;b<s;b++)(m[_+b]&255)<d&&c.set(b,w)}return c}createBinarizer(i){return new Ce(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const s=this.buckets;for(let a=0;a<Ce.LUMINANCE_BUCKETS;a++)s[a]=0}static estimateBlackPoint(i){const s=i.length;let a=0,c=0,h=0;for(let b=0;b<s;b++)i[b]>h&&(c=b,h=i[b]),i[b]>a&&(a=i[b]);let d=0,m=0;for(let b=0;b<s;b++){const M=b-c,R=i[b]*M*M;R>m&&(d=b,m=R)}if(c>d){const b=c;c=d,d=b}if(d-c<=s/16)throw new re;let w=d-1,_=-1;for(let b=d-1;b>c;b--){const M=b-c,R=M*M*(d-b)*(a-i[b]);R>_&&(w=b,_=R)}return w<<Ce.LUMINANCE_SHIFT}}Ce.LUMINANCE_BITS=5,Ce.LUMINANCE_SHIFT=8-Ce.LUMINANCE_BITS,Ce.LUMINANCE_BUCKETS=1<<Ce.LUMINANCE_BITS,Ce.EMPTY=Uint8ClampedArray.from([0]);class Te extends Ce{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight();if(s>=Te.MINIMUM_DIMENSION&&a>=Te.MINIMUM_DIMENSION){const c=i.getMatrix();let h=s>>Te.BLOCK_SIZE_POWER;s&Te.BLOCK_SIZE_MASK&&h++;let d=a>>Te.BLOCK_SIZE_POWER;a&Te.BLOCK_SIZE_MASK&&d++;const m=Te.calculateBlackPoints(c,h,d,s,a),w=new Fe(s,a);Te.calculateThresholdForBlock(c,h,d,s,a,m,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Te(i)}static calculateThresholdForBlock(i,s,a,c,h,d,m){const w=h-Te.BLOCK_SIZE,_=c-Te.BLOCK_SIZE;for(let b=0;b<a;b++){let M=b<<Te.BLOCK_SIZE_POWER;M>w&&(M=w);const R=Te.cap(b,2,a-3);for(let U=0;U<s;U++){let G=U<<Te.BLOCK_SIZE_POWER;G>_&&(G=_);const Y=Te.cap(U,2,s-3);let K=0;for(let ge=-2;ge<=2;ge++){const xe=d[R+ge];K+=xe[Y-2]+xe[Y-1]+xe[Y]+xe[Y+1]+xe[Y+2]}const ne=K/25;Te.thresholdBlock(i,G,M,ne,c,m)}}}static cap(i,s,a){return i<s?s:i>a?a:i}static thresholdBlock(i,s,a,c,h,d){for(let m=0,w=a*h+s;m<Te.BLOCK_SIZE;m++,w+=h)for(let _=0;_<Te.BLOCK_SIZE;_++)(i[w+_]&255)<=c&&d.set(s+_,a+m)}static calculateBlackPoints(i,s,a,c,h){const d=h-Te.BLOCK_SIZE,m=c-Te.BLOCK_SIZE,w=new Array(a);for(let _=0;_<a;_++){w[_]=new Int32Array(s);let b=_<<Te.BLOCK_SIZE_POWER;b>d&&(b=d);for(let M=0;M<s;M++){let R=M<<Te.BLOCK_SIZE_POWER;R>m&&(R=m);let U=0,G=255,Y=0;for(let ne=0,ge=b*c+R;ne<Te.BLOCK_SIZE;ne++,ge+=c){for(let xe=0;xe<Te.BLOCK_SIZE;xe++){const pe=i[ge+xe]&255;U+=pe,pe<G&&(G=pe),pe>Y&&(Y=pe)}if(Y-G>Te.MIN_DYNAMIC_RANGE)for(ne++,ge+=c;ne<Te.BLOCK_SIZE;ne++,ge+=c)for(let xe=0;xe<Te.BLOCK_SIZE;xe++)U+=i[ge+xe]&255}let K=U>>Te.BLOCK_SIZE_POWER*2;if(Y-G<=Te.MIN_DYNAMIC_RANGE&&(K=G/2,_>0&&M>0)){const ne=(w[_-1][M]+2*w[_][M-1]+w[_-1][M-1])/4;G<ne&&(K=ne)}w[_][M]=K}}return w}}Te.BLOCK_SIZE_POWER=3,Te.BLOCK_SIZE=1<<Te.BLOCK_SIZE_POWER,Te.BLOCK_SIZE_MASK=Te.BLOCK_SIZE-1,Te.MINIMUM_DIMENSION=Te.BLOCK_SIZE*5,Te.MIN_DYNAMIC_RANGE=24;class le{constructor(i,s){this.width=i,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,s,a,c){throw new Re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Re("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let s=new Le;for(let a=0;a<this.height;a++){const c=this.getRow(a,i);for(let h=0;h<this.width;h++){const d=c[h]&255;let m;d<64?m="#":d<128?m="+":d<192?m=".":m=" ",s.append(m)}s.append(`
`)}return s.toString()}}class Me extends le{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,s){const a=this.delegate.getRow(i,s),c=this.getWidth();for(let h=0;h<c;h++)a[h]=255-(a[h]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(s);for(let c=0;c<s;c++)a[c]=255-(i[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,s,a,c){return new Me(this.delegate.crop(i,s,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class de extends le{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=de.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const s=i.getContext("2d").getImageData(0,0,i.width,i.height);return de.toGrayscaleBuffer(s.data,i.width,i.height)}static toGrayscaleBuffer(i,s,a){const c=new Uint8ClampedArray(s*a);for(let h=0,d=0,m=i.length;h<m;h+=4,d++){let w;if(i[h+3]===0)w=255;else{const b=i[h],M=i[h+1],R=i[h+2];w=306*b+601*M+117*R+512>>10}c[d]=w}return c}getRow(i,s){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const a=this.getWidth(),c=i*a;return s===null?s=this.buffer.slice(c,c+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(c,c+a))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,s,a,c){return super.crop(i,s,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const s=this.getTempCanvasElement(),a=s.getContext("2d"),c=i*de.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(c))*h+Math.abs(Math.sin(c))*d),w=Math.ceil(Math.abs(Math.sin(c))*h+Math.abs(Math.cos(c))*d);return s.width=m,s.height=w,a.translate(m/2,w/2),a.rotate(c),a.drawImage(this.canvas,h/-2,d/-2),this.buffer=de.makeBufferFromCanvasImageData(s),this}invert(){return new Me(this)}}de.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(i,s,a){this.deviceId=i,this.label=s,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var te=(globalThis||ko||self||window||void 0)&&(globalThis||ko||self||window||void 0).__awaiter||function(N,i,s,a){function c(h){return h instanceof s?h:new s(function(d){d(h)})}return new(s||(s=Promise))(function(h,d){function m(b){try{_(a.next(b))}catch(M){d(M)}}function w(b){try{_(a.throw(b))}catch(M){d(M)}}function _(b){b.done?h(b.value):c(b.value).then(m,w)}_((a=a.apply(N,i||[])).next())})};class Ae{constructor(i,s=500,a){this.reader=i,this.timeBetweenScansMillis=s,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const a of i){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const h=a.deviceId||a.id,d=a.label||`Video device ${s.length+1}`,m=a.groupId,w={deviceId:h,label:d,kind:c,groupId:m};s.push(w)}return s})}getVideoInputDevices(){return te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new ve(s.deviceId,s.label))})}findDeviceById(i){return te(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,s){return te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,s)})}decodeOnceFromVideoDevice(i,s){return te(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(i,s){return te(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,s)})}decodeOnceFromStream(i,s){return te(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,s);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,s,a){return te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,s,a)})}decodeFromVideoDevice(i,s,a){return te(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeFromConstraints(h,s,a)})}decodeFromConstraints(i,s,a){return te(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,s,a)})}decodeFromStream(i,s,a){return te(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,s);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,s){return te(this,void 0,void 0,function*(){const a=this.prepareVideoElement(s);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((s,a)=>this.playVideoOnLoad(i,()=>s()))}playVideoOnLoad(i,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",s),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return te(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,s){const a=document.getElementById(i);if(!a)throw new E(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==s.toLowerCase())throw new E(`element with id '${i}' must be an ${s} element`);return a}decodeFromImage(i,s){if(!i&&!s)throw new E("either imageElement with a src set or an url must be provided");return s&&!i?this.decodeFromImageUrl(s):this.decodeFromImageElement(i)}decodeFromVideo(i,s){if(!i&&!s)throw new E("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,s,a){if(i===void 0&&s===void 0)throw new E("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrlContinuously(s,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new E("An image element must be provided.");this.reset();const s=this.prepareImageElement(i);this.imageElement=s;let a;return this.isImageLoaded(s)?a=this.decodeOnce(s,!1,!0):a=this._decodeOnLoadImage(s),a}decodeFromVideoElement(i){const s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(i,s){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,s)}_decodeFromVideoElementSetup(i){if(!i)throw new E("A video element must be provided.");this.reset();const s=this.prepareVideoElement(i);return this.videoElement=s,s}decodeFromImageUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const a=this._decodeOnLoadImage(s);return s.src=i,a}decodeFromVideoUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElement(s);return s.src=i,a}decodeFromVideoUrlContinuously(i,s){if(!i)throw new E("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,s);return a.src=i,c}_decodeOnLoadImage(i){return new Promise((s,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(s,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,s){return te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,s)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let s;return typeof i>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(s=i),s}prepareVideoElement(i){let s;return!i&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(s=i),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(i,s=!0,a=!0){this._stopAsyncDecode=!1;const c=(h,d)=>{if(this._stopAsyncDecode){d(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);h(m)}catch(m){const w=s&&m instanceof re,b=(m instanceof O||m instanceof X)&&a;if(w||b)return setTimeout(c,this._timeBetweenDecodingAttempts,h,d);d(m)}};return new Promise((h,d)=>c(h,d))}decodeContinuously(i,s){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);s(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){s(null,c);const h=c instanceof O||c instanceof X,d=c instanceof re;(h||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const s=this.createBinaryBitmap(i);return this.decodeBitmap(s)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,s,a){s||(s={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(i,s,a=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const s=this.getCaptureCanvas(i),a=new de(s),c=new Te(a);return new I(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const s=this.createCaptureCanvas(i);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let a,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),s.style.width=a+"px",s.style.height=c+"px",s.width=a,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,s){try{i.srcObject=s}catch{i.src=URL.createObjectURL(s)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class me{constructor(i,s,a=s==null?0:8*s.length,c,h,d=P.currentTimeMillis()){this.text=i,this.rawBytes=s,this.numBits=a,this.resultPoints=c,this.format=h,this.timestamp=d,this.text=i,this.rawBytes=s,a==null?this.numBits=s==null?0:8*s.length:this.numBits=a,this.resultPoints=c,this.format=h,this.resultMetadata=null,d==null?this.timestamp=P.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,s)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const s=this.resultPoints;if(s===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(s.length+i.length);P.arraycopy(s,0,a,0,s.length),P.arraycopy(i,0,a,s.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var je;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(je||(je={}));var ce=je,ue;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ue||(ue={}));var Ee=ue;class qe{constructor(i,s,a,c,h=-1,d=-1){this.rawBytes=i,this.text=s,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class De{exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}static addOrSubtract(i,s){return i^s}}class st{constructor(i,s){if(s.length===0)throw new A;this.field=i;const a=s.length;if(a>1&&s[0]===0){let c=1;for(;c<a&&s[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),P.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const s=this.coefficients;let a;if(i===1){a=0;for(let d=0,m=s.length;d!==m;d++){const w=s[d];a=De.addOrSubtract(a,w)}return a}a=s[0];const c=s.length,h=this.field;for(let d=1;d<c;d++)a=De.addOrSubtract(h.multiply(i,a),s[d]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){const d=s;s=a,a=d}let c=new Int32Array(a.length);const h=a.length-s.length;P.arraycopy(a,0,c,0,h);for(let d=h;d<a.length;d++)c[d]=De.addOrSubtract(s[d-h],a[d]);return new st(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const s=this.coefficients,a=s.length,c=i.coefficients,h=c.length,d=new Int32Array(a+h-1),m=this.field;for(let w=0;w<a;w++){const _=s[w];for(let b=0;b<h;b++)d[w+b]=De.addOrSubtract(d[w+b],m.multiply(_,c[b]))}return new st(m,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const s=this.coefficients.length,a=this.field,c=new Int32Array(s),h=this.coefficients;for(let d=0;d<s;d++)c[d]=a.multiply(h[d],i);return new st(a,c)}multiplyByMonomial(i,s){if(i<0)throw new A;if(s===0)return this.field.getZero();const a=this.coefficients,c=a.length,h=new Int32Array(c+i),d=this.field;for(let m=0;m<c;m++)h[m]=d.multiply(a[m],s);return new st(d,h)}divide(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new A("Divide by 0");const s=this.field;let a=s.getZero(),c=this;const h=i.getCoefficient(i.getDegree()),d=s.inverse(h);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const m=c.getDegree()-i.getDegree(),w=s.multiply(c.getCoefficient(c.getDegree()),d),_=i.multiplyByMonomial(m,w),b=s.buildMonomial(m,w);a=a.addOrSubtract(b),c=c.addOrSubtract(_)}return[a,c]}toString(){let i="";for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),s===0||a!==1){const c=this.field.log(a);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}s!==0&&(s===1?i+="x":(i+="x^",i+=s))}}return i}}class tt extends x{}tt.kind="ArithmeticException";class Ve extends De{constructor(i,s,a){super(),this.primitive=i,this.size=s,this.generatorBase=a;const c=new Int32Array(s);let h=1;for(let m=0;m<s;m++)c[m]=h,h*=2,h>=s&&(h^=i,h&=s-1);this.expTable=c;const d=new Int32Array(s);for(let m=0;m<s-1;m++)d[c[m]]=m;this.logTable=d,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new A;if(s===0)return this.zero;const a=new Int32Array(i+1);return a[0]=s,new st(this,a)}inverse(i){if(i===0)throw new tt;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Ve.AZTEC_DATA_12=new Ve(4201,4096,1),Ve.AZTEC_DATA_10=new Ve(1033,1024,1),Ve.AZTEC_DATA_6=new Ve(67,64,1),Ve.AZTEC_PARAM=new Ve(19,16,1),Ve.QR_CODE_FIELD_256=new Ve(285,256,0),Ve.DATA_MATRIX_FIELD_256=new Ve(301,256,1),Ve.AZTEC_DATA_8=Ve.DATA_MATRIX_FIELD_256,Ve.MAXICODE_FIELD_64=Ve.AZTEC_DATA_6;class Ci extends x{}Ci.kind="ReedSolomonException";class cn extends x{}cn.kind="IllegalStateException";class Zr{constructor(i){this.field=i}decode(i,s){const a=this.field,c=new st(a,i),h=new Int32Array(s);let d=!0;for(let U=0;U<s;U++){const G=c.evaluateAt(a.exp(U+a.getGeneratorBase()));h[h.length-1-U]=G,G!==0&&(d=!1)}if(d)return;const m=new st(a,h),w=this.runEuclideanAlgorithm(a.buildMonomial(s,1),m,s),_=w[0],b=w[1],M=this.findErrorLocations(_),R=this.findErrorMagnitudes(b,M);for(let U=0;U<M.length;U++){const G=i.length-1-a.log(M[U]);if(G<0)throw new Ci("Bad error location");i[G]=Ve.addOrSubtract(i[G],R[U])}}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){const U=i;i=s,s=U}const c=this.field;let h=i,d=s,m=c.getZero(),w=c.getOne();for(;d.getDegree()>=(a/2|0);){let U=h,G=m;if(h=d,m=w,h.isZero())throw new Ci("r_{i-1} was zero");d=U;let Y=c.getZero();const K=h.getCoefficient(h.getDegree()),ne=c.inverse(K);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const ge=d.getDegree()-h.getDegree(),xe=c.multiply(d.getCoefficient(d.getDegree()),ne);Y=Y.addOrSubtract(c.buildMonomial(ge,xe)),d=d.addOrSubtract(h.multiplyByMonomial(ge,xe))}if(w=Y.multiply(m).addOrSubtract(G),d.getDegree()>=h.getDegree())throw new cn("Division algorithm failed to reduce polynomial?")}const _=w.getCoefficient(0);if(_===0)throw new Ci("sigmaTilde(0) was zero");const b=c.inverse(_),M=w.multiplyScalar(b),R=d.multiplyScalar(b);return[M,R]}findErrorLocations(i){const s=i.getDegree();if(s===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(s);let c=0;const h=this.field;for(let d=1;d<h.getSize()&&c<s;d++)i.evaluateAt(d)===0&&(a[c]=h.inverse(d),c++);if(c!==s)throw new Ci("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,s){const a=s.length,c=new Int32Array(a),h=this.field;for(let d=0;d<a;d++){const m=h.inverse(s[d]);let w=1;for(let _=0;_<a;_++)if(d!==_){const b=h.multiply(s[_],m),M=b&1?b&-2:b|1;w=h.multiply(w,M)}c[d]=h.multiply(i.evaluateAt(m),h.inverse(w)),h.getGeneratorBase()!==0&&(c[d]=h.multiply(c[d],m))}return c}}var Jt;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Jt||(Jt={}));class xt{decode(i){this.ddata=i;let s=i.getBits(),a=this.extractBits(s),c=this.correctBits(a),h=xt.convertBoolArrayToByteArray(c),d=xt.getEncodedData(c),m=new qe(h,d,null,null);return m.setNumBits(c.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,a=Jt.UPPER,c=Jt.UPPER,h="",d=0;for(;d<s;)if(c===Jt.BINARY){if(s-d<5)break;let m=xt.readCode(i,d,5);if(d+=5,m===0){if(s-d<11)break;m=xt.readCode(i,d,11)+31,d+=11}for(let w=0;w<m;w++){if(s-d<8){d=s;break}const _=xt.readCode(i,d,8);h+=we.castAsNonUtf8Char(_),d+=8}c=a}else{let m=c===Jt.DIGIT?4:5;if(s-d<m)break;let w=xt.readCode(i,d,m);d+=m;let _=xt.getCharacter(c,w);_.startsWith("CTRL_")?(a=c,c=xt.getTable(_.charAt(5)),_.charAt(6)==="L"&&(a=c)):(h+=_,c=a)}return h}static getTable(i){switch(i){case"L":return Jt.LOWER;case"P":return Jt.PUNCT;case"M":return Jt.MIXED;case"D":return Jt.DIGIT;case"B":return Jt.BINARY;case"U":default:return Jt.UPPER}}static getCharacter(i,s){switch(i){case Jt.UPPER:return xt.UPPER_TABLE[s];case Jt.LOWER:return xt.LOWER_TABLE[s];case Jt.MIXED:return xt.MIXED_TABLE[s];case Jt.PUNCT:return xt.PUNCT_TABLE[s];case Jt.DIGIT:return xt.DIGIT_TABLE[s];default:throw new cn("Bad table")}}correctBits(i){let s,a;this.ddata.getNbLayers()<=2?(a=6,s=Ve.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,s=Ve.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,s=Ve.AZTEC_DATA_10):(a=12,s=Ve.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),h=i.length/a;if(h<c)throw new X;let d=i.length%a,m=new Int32Array(h);for(let R=0;R<h;R++,d+=a)m[R]=xt.readCode(i,d,a);try{new Zr(s).decode(m,h-c)}catch(R){throw new X(R)}let w=(1<<a)-1,_=0;for(let R=0;R<c;R++){let U=m[R];if(U===0||U===w)throw new X;(U===1||U===w-1)&&_++}let b=new Array(c*a-_),M=0;for(let R=0;R<c;R++){let U=m[R];if(U===1||U===w-1)b.fill(U>1,M,M+a-1),M+=a-1;else for(let G=a-1;G>=0;--G)b[M++]=(U&1<<G)!==0}return b}extractBits(i){let s=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(s?11:14)+a*4,h=new Int32Array(c),d=new Array(this.totalBitsInLayer(a,s));if(s)for(let m=0;m<h.length;m++)h[m]=m;else{let m=c+1+2*B.truncDivision(B.truncDivision(c,2)-1,15),w=c/2,_=B.truncDivision(m,2);for(let b=0;b<w;b++){let M=b+B.truncDivision(b,15);h[w-b-1]=_-M-1,h[w+b]=_+M+1}}for(let m=0,w=0;m<a;m++){let _=(a-m)*4+(s?9:12),b=m*2,M=c-1-b;for(let R=0;R<_;R++){let U=R*2;for(let G=0;G<2;G++)d[w+U+G]=i.get(h[b+G],h[b+R]),d[w+2*_+U+G]=i.get(h[b+R],h[M-G]),d[w+4*_+U+G]=i.get(h[M-G],h[M-R]),d[w+6*_+U+G]=i.get(h[M-R],h[b+G])}w+=_*8}return d}static readCode(i,s,a){let c=0;for(let h=s;h<s+a;h++)c<<=1,i[h]&&(c|=1);return c}static readByte(i,s){let a=i.length-s;return a>=8?xt.readCode(i,s,8):xt.readCode(i,s,a)<<8-a}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let a=0;a<s.length;a++)s[a]=xt.readByte(i,8*a);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}xt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],xt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],xt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],xt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],xt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ct{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,s,a,c){const h=i-a,d=s-c;return Math.sqrt(h*h+d*d)}static sum(i){let s=0;for(let a=0,c=i.length;a!==c;a++){const h=i[a];s+=h}return s}}class Ds{static floatToIntBits(i){return i}}Ds.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(i,s){this.x=i,this.y=s}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof ke){const s=i;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Ds.floatToIntBits(this.x)+Ds.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const s=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let h,d,m;if(a>=s&&a>=c?(d=i[0],h=i[1],m=i[2]):c>=a&&c>=s?(d=i[1],h=i[0],m=i[2]):(d=i[2],h=i[0],m=i[1]),this.crossProductZ(h,d,m)<0){const w=h;h=m,m=w}i[0]=h,i[1]=d,i[2]=m}static distance(i,s){return ct.distance(i.x,i.y,s.x,s.y)}static crossProductZ(i,s,a){const c=s.x,h=s.y;return(a.x-c)*(i.y-h)-(a.y-h)*(i.x-c)}}class ks{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Sa extends ks{constructor(i,s,a,c,h){super(i,s),this.compact=a,this.nbDatablocks=c,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Vi{constructor(i,s,a,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=Vi.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const h=s/2|0;if(this.leftInit=a-h,this.rightInit=a+h,this.upInit=c-h,this.downInit=c+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let i=this.leftInit,s=this.rightInit,a=this.upInit,c=this.downInit,h=!1,d=!0,m=!1,w=!1,_=!1,b=!1,M=!1;const R=this.width,U=this.height;for(;d;){d=!1;let G=!0;for(;(G||!w)&&s<R;)G=this.containsBlackPoint(a,c,s,!1),G?(s++,d=!0,w=!0):w||s++;if(s>=R){h=!0;break}let Y=!0;for(;(Y||!_)&&c<U;)Y=this.containsBlackPoint(i,s,c,!0),Y?(c++,d=!0,_=!0):_||c++;if(c>=U){h=!0;break}let K=!0;for(;(K||!b)&&i>=0;)K=this.containsBlackPoint(a,c,i,!1),K?(i--,d=!0,b=!0):b||i--;if(i<0){h=!0;break}let ne=!0;for(;(ne||!M)&&a>=0;)ne=this.containsBlackPoint(i,s,a,!0),ne?(a--,d=!0,M=!0):M||a--;if(a<0){h=!0;break}d&&(m=!0)}if(!h&&m){const G=s-i;let Y=null;for(let xe=1;Y===null&&xe<G;xe++)Y=this.getBlackPointOnSegment(i,c-xe,i+xe,c);if(Y==null)throw new re;let K=null;for(let xe=1;K===null&&xe<G;xe++)K=this.getBlackPointOnSegment(i,a+xe,i+xe,a);if(K==null)throw new re;let ne=null;for(let xe=1;ne===null&&xe<G;xe++)ne=this.getBlackPointOnSegment(s,a+xe,s-xe,a);if(ne==null)throw new re;let ge=null;for(let xe=1;ge===null&&xe<G;xe++)ge=this.getBlackPointOnSegment(s,c-xe,s-xe,c);if(ge==null)throw new re;return this.centerEdges(ge,Y,ne,K)}else throw new re}getBlackPointOnSegment(i,s,a,c){const h=ct.round(ct.distance(i,s,a,c)),d=(a-i)/h,m=(c-s)/h,w=this.image;for(let _=0;_<h;_++){const b=ct.round(i+_*d),M=ct.round(s+_*m);if(w.get(b,M))return new ke(b,M)}return null}centerEdges(i,s,a,c){const h=i.getX(),d=i.getY(),m=s.getX(),w=s.getY(),_=a.getX(),b=a.getY(),M=c.getX(),R=c.getY(),U=Vi.CORR;return h<this.width/2?[new ke(M-U,R+U),new ke(m+U,w+U),new ke(_-U,b-U),new ke(h+U,d-U)]:[new ke(M+U,R+U),new ke(m+U,w-U),new ke(_-U,b+U),new ke(h-U,d-U)]}containsBlackPoint(i,s,a,c){const h=this.image;if(c){for(let d=i;d<=s;d++)if(h.get(d,a))return!0}else for(let d=i;d<=s;d++)if(h.get(a,d))return!0;return!1}}Vi.INIT_SIZE=10,Vi.CORR=1;class ba{static checkAndNudgePoints(i,s){const a=i.getWidth(),c=i.getHeight();let h=!0;for(let d=0;d<s.length&&h;d+=2){const m=Math.floor(s[d]),w=Math.floor(s[d+1]);if(m<-1||m>a||w<-1||w>c)throw new re;h=!1,m===-1?(s[d]=0,h=!0):m===a&&(s[d]=a-1,h=!0),w===-1?(s[d+1]=0,h=!0):w===c&&(s[d+1]=c-1,h=!0)}h=!0;for(let d=s.length-2;d>=0&&h;d-=2){const m=Math.floor(s[d]),w=Math.floor(s[d+1]);if(m<-1||m>a||w<-1||w>c)throw new re;h=!1,m===-1?(s[d]=0,h=!0):m===a&&(s[d]=a-1,h=!0),w===-1?(s[d+1]=0,h=!0):w===c&&(s[d+1]=c-1,h=!0)}}}class zn{constructor(i,s,a,c,h,d,m,w,_){this.a11=i,this.a21=s,this.a31=a,this.a12=c,this.a22=h,this.a32=d,this.a13=m,this.a23=w,this.a33=_}static quadrilateralToQuadrilateral(i,s,a,c,h,d,m,w,_,b,M,R,U,G,Y,K){const ne=zn.quadrilateralToSquare(i,s,a,c,h,d,m,w);return zn.squareToQuadrilateral(_,b,M,R,U,G,Y,K).times(ne)}transformPoints(i){const s=i.length,a=this.a11,c=this.a12,h=this.a13,d=this.a21,m=this.a22,w=this.a23,_=this.a31,b=this.a32,M=this.a33;for(let R=0;R<s;R+=2){const U=i[R],G=i[R+1],Y=h*U+w*G+M;i[R]=(a*U+d*G+_)/Y,i[R+1]=(c*U+m*G+b)/Y}}transformPointsWithValues(i,s){const a=this.a11,c=this.a12,h=this.a13,d=this.a21,m=this.a22,w=this.a23,_=this.a31,b=this.a32,M=this.a33,R=i.length;for(let U=0;U<R;U++){const G=i[U],Y=s[U],K=h*G+w*Y+M;i[U]=(a*G+d*Y+_)/K,s[U]=(c*G+m*Y+b)/K}}static squareToQuadrilateral(i,s,a,c,h,d,m,w){const _=i-a+h-m,b=s-c+d-w;if(_===0&&b===0)return new zn(a-i,h-a,i,c-s,d-c,s,0,0,1);{const M=a-h,R=m-h,U=c-d,G=w-d,Y=M*G-R*U,K=(_*G-R*b)/Y,ne=(M*b-_*U)/Y;return new zn(a-i+K*a,m-i+ne*m,i,c-s+K*c,w-s+ne*w,s,K,ne,1)}}static quadrilateralToSquare(i,s,a,c,h,d,m,w){return zn.squareToQuadrilateral(i,s,a,c,h,d,m,w).buildAdjoint()}buildAdjoint(){return new zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new zn(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Ta extends ba{sampleGrid(i,s,a,c,h,d,m,w,_,b,M,R,U,G,Y,K,ne,ge,xe){const pe=zn.quadrilateralToQuadrilateral(c,h,d,m,w,_,b,M,R,U,G,Y,K,ne,ge,xe);return this.sampleGridWithTransform(i,s,a,pe)}sampleGridWithTransform(i,s,a,c){if(s<=0||a<=0)throw new re;const h=new Fe(s,a),d=new Float32Array(2*s);for(let m=0;m<a;m++){const w=d.length,_=m+.5;for(let b=0;b<w;b+=2)d[b]=b/2+.5,d[b+1]=_;c.transformPoints(d),ba.checkAndNudgePoints(i,d);try{for(let b=0;b<w;b+=2)i.get(Math.floor(d[b]),Math.floor(d[b+1]))&&h.set(b/2,m)}catch{throw new re}}return h}}class Hi{static setGridSampler(i){Hi.gridSampler=i}static getInstance(){return Hi.gridSampler}}Hi.gridSampler=new Ta;class bn{constructor(i,s){this.x=i,this.y=s}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ia{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let s=this.getMatrixCenter(),a=this.getBullsEyeCorners(s);if(i){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),h=this.getMatrixCornerPoints(a);return new Sa(c,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new re;let s=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],s),this.sampleLine(i[1],i[2],s),this.sampleLine(i[2],i[3],s),this.sampleLine(i[3],i[0],s)]);this.shift=this.getRotation(a,s);let c=0;for(let d=0;d<4;d++){let m=a[(this.shift+d)%4];this.compact?(c<<=7,c+=m>>1&127):(c<<=10,c+=(m>>2&992)+(m>>1&31))}let h=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,s){let a=0;i.forEach((c,h,d)=>{let m=(c>>s-2<<1)+(c&1);a=(a<<3)+m}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(B.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new re}getCorrectedParameterData(i,s){let a,c;s?(a=7,c=2):(a=10,c=4);let h=a-c,d=new Int32Array(a);for(let w=a-1;w>=0;--w)d[w]=i&15,i>>=4;try{new Zr(Ve.AZTEC_PARAM).decode(d,h)}catch{throw new re}let m=0;for(let w=0;w<c;w++)m=(m<<4)+d[w];return m}getBullsEyeCorners(i){let s=i,a=i,c=i,h=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(s,d,1,-1),R=this.getFirstDifferent(a,d,1,1),U=this.getFirstDifferent(c,d,-1,1),G=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(G,M)*this.nbCenterLayers/(this.distancePoint(h,s)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(M,R,U,G))break}s=M,a=R,c=U,h=G,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let m=new ke(s.getX()+.5,s.getY()-.5),w=new ke(a.getX()+.5,a.getY()+.5),_=new ke(c.getX()-.5,c.getY()+.5),b=new ke(h.getX()-.5,h.getY()-.5);return this.expandSquare([m,w,_,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,s,a,c;try{let m=new Vi(this.image).detect();i=m[0],s=m[1],a=m[2],c=m[3]}catch{let w=this.image.getWidth()/2,_=this.image.getHeight()/2;i=this.getFirstDifferent(new bn(w+7,_-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new bn(w+7,_+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new bn(w-7,_+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new bn(w-7,_-7),!1,-1,-1).toResultPoint()}let h=ct.round((i.getX()+c.getX()+s.getX()+a.getX())/4),d=ct.round((i.getY()+c.getY()+s.getY()+a.getY())/4);try{let m=new Vi(this.image,15,h,d).detect();i=m[0],s=m[1],a=m[2],c=m[3]}catch{i=this.getFirstDifferent(new bn(h+7,d-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new bn(h+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new bn(h-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new bn(h-7,d-7),!1,-1,-1).toResultPoint()}return h=ct.round((i.getX()+c.getX()+s.getX()+a.getX())/4),d=ct.round((i.getY()+c.getY()+s.getY()+a.getY())/4),new bn(h,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,s,a,c,h){let d=Hi.getInstance(),m=this.getDimension(),w=m/2-this.nbCenterLayers,_=m/2+this.nbCenterLayers;return d.sampleGrid(i,m,m,w,w,_,w,_,_,w,_,s.getX(),s.getY(),a.getX(),a.getY(),c.getX(),c.getY(),h.getX(),h.getY())}sampleLine(i,s,a){let c=0,h=this.distanceResultPoint(i,s),d=h/a,m=i.getX(),w=i.getY(),_=d*(s.getX()-i.getX())/h,b=d*(s.getY()-i.getY())/h;for(let M=0;M<a;M++)this.image.get(ct.round(m+M*_),ct.round(w+M*b))&&(c|=1<<a-M-1);return c}isWhiteOrBlackRectangle(i,s,a,c){let h=3;i=new bn(i.getX()-h,i.getY()+h),s=new bn(s.getX()-h,s.getY()-h),a=new bn(a.getX()+h,a.getY()-h),c=new bn(c.getX()+h,c.getY()+h);let d=this.getColor(c,i);if(d===0)return!1;let m=this.getColor(i,s);return m!==d||(m=this.getColor(s,a),m!==d)?!1:(m=this.getColor(a,c),m===d)}getColor(i,s){let a=this.distancePoint(i,s),c=(s.getX()-i.getX())/a,h=(s.getY()-i.getY())/a,d=0,m=i.getX(),w=i.getY(),_=this.image.get(i.getX(),i.getY()),b=Math.ceil(a);for(let R=0;R<b;R++)m+=c,w+=h,this.image.get(ct.round(m),ct.round(w))!==_&&d++;let M=d/a;return M>.1&&M<.9?0:M<=.1===_?1:-1}getFirstDifferent(i,s,a,c){let h=i.getX()+a,d=i.getY()+c;for(;this.isValid(h,d)&&this.image.get(h,d)===s;)h+=a,d+=c;for(h-=a,d-=c;this.isValid(h,d)&&this.image.get(h,d)===s;)h+=a;for(h-=a;this.isValid(h,d)&&this.image.get(h,d)===s;)d+=c;return d-=c,new bn(h,d)}expandSquare(i,s,a){let c=a/(2*s),h=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,w=(i[0].getY()+i[2].getY())/2,_=new ke(m+c*h,w+c*d),b=new ke(m-c*h,w-c*d);h=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,w=(i[1].getY()+i[3].getY())/2;let M=new ke(m+c*h,w+c*d),R=new ke(m-c*h,w-c*d);return[_,M,b,R]}isValid(i,s){return i>=0&&i<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(i){let s=ct.round(i.getX()),a=ct.round(i.getY());return this.isValid(s,a)}distancePoint(i,s){return ct.distance(i.getX(),i.getY(),s.getX(),s.getY())}distanceResultPoint(i,s){return ct.distance(i.getX(),i.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class Bs{decode(i,s=null){let a=null,c=new Ia(i.getBlackMatrix()),h=null,d=null;try{let b=c.detectMirror(!1);h=b.getPoints(),this.reportFoundResultPoints(s,h),d=new xt().decode(b)}catch(b){a=b}if(d==null)try{let b=c.detectMirror(!0);h=b.getPoints(),this.reportFoundResultPoints(s,h),d=new xt().decode(b)}catch(b){throw a??b}let m=new me(d.getText(),d.getRawBytes(),d.getNumBits(),h,ce.AZTEC,P.currentTimeMillis()),w=d.getByteSegments();w!=null&&m.putMetadata(Ee.BYTE_SEGMENTS,w);let _=d.getECLevel();return _!=null&&m.putMetadata(Ee.ERROR_CORRECTION_LEVEL,_),m}reportFoundResultPoints(i,s){if(i!=null){let a=i.get(ae.NEED_RESULT_POINT_CALLBACK);a!=null&&s.forEach((c,h,d)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Oh extends Ae{constructor(i=500){super(new Bs,i)}}class Ut{decode(i,s){try{return this.doDecode(i,s)}catch{if(s&&s.get(ae.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),d=this.doDecode(h,s),m=d.getResultMetadata();let w=270;m!==null&&m.get(Ee.ORIENTATION)===!0&&(w=w+m.get(Ee.ORIENTATION)%360),d.putMetadata(Ee.ORIENTATION,w);const _=d.getResultPoints();if(_!==null){const b=h.getHeight();for(let M=0;M<_.length;M++)_[M]=new ke(b-_[M].getY()-1,_[M].getX())}return d}else throw new re}}reset(){}doDecode(i,s){const a=i.getWidth(),c=i.getHeight();let h=new Z(a);const d=s&&s.get(ae.TRY_HARDER)===!0,m=Math.max(1,c>>(d?8:5));let w;d?w=c:w=15;const _=Math.trunc(c/2);for(let b=0;b<w;b++){const M=Math.trunc((b+1)/2),R=(b&1)===0,U=_+m*(R?M:-M);if(U<0||U>=c)break;try{h=i.getBlackRow(U,h)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(h.reverse(),s&&s.get(ae.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;s.forEach((K,ne)=>Y.set(ne,K)),Y.delete(ae.NEED_RESULT_POINT_CALLBACK),s=Y}try{const Y=this.decodeRow(U,h,s);if(G===1){Y.putMetadata(Ee.ORIENTATION,180);const K=Y.getResultPoints();K!==null&&(K[0]=new ke(a-K[0].getX()-1,K[0].getY()),K[1]=new ke(a-K[1].getX()-1,K[1].getY()))}return Y}catch{}}}throw new re}static recordPattern(i,s,a){const c=a.length;for(let _=0;_<c;_++)a[_]=0;const h=i.getSize();if(s>=h)throw new re;let d=!i.get(s),m=0,w=s;for(;w<h;){if(i.get(w)!==d)a[m]++;else{if(++m===c)break;a[m]=1,d=!d}w++}if(!(m===c||m===c-1&&w===h))throw new re}static recordPatternInReverse(i,s,a){let c=a.length,h=i.get(s);for(;s>0&&c>=0;)i.get(--s)!==h&&(c--,h=!h);if(c>=0)throw new re;Ut.recordPattern(i,s+1,a)}static patternMatchVariance(i,s,a){const c=i.length;let h=0,d=0;for(let _=0;_<c;_++)h+=i[_],d+=s[_];if(h<d)return Number.POSITIVE_INFINITY;const m=h/d;a*=m;let w=0;for(let _=0;_<c;_++){const b=i[_],M=s[_]*m,R=b>M?b-M:M-b;if(R>a)return Number.POSITIVE_INFINITY;w+=R}return w/h}}class _e extends Ut{static findStartPattern(i){const s=i.getSize(),a=i.getNextSet(0);let c=0,h=Int32Array.from([0,0,0,0,0,0]),d=a,m=!1;const w=6;for(let _=a;_<s;_++)if(i.get(_)!==m)h[c]++;else{if(c===w-1){let b=_e.MAX_AVG_VARIANCE,M=-1;for(let R=_e.CODE_START_A;R<=_e.CODE_START_C;R++){const U=Ut.patternMatchVariance(h,_e.CODE_PATTERNS[R],_e.MAX_INDIVIDUAL_VARIANCE);U<b&&(b=U,M=R)}if(M>=0&&i.isRange(Math.max(0,d-(_-d)/2),d,!1))return Int32Array.from([d,_,M]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[c-1]=0,h[c]=0,c--}else c++;h[c]=1,m=!m}throw new re}static decodeCode(i,s,a){Ut.recordPattern(i,a,s);let c=_e.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<_e.CODE_PATTERNS.length;d++){const m=_e.CODE_PATTERNS[d],w=this.patternMatchVariance(s,m,_e.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,h=d)}if(h>=0)return h;throw new re}decodeRow(i,s,a){const c=a&&a.get(ae.ASSUME_GS1)===!0,h=_e.findStartPattern(s),d=h[2];let m=0;const w=new Uint8Array(20);w[m++]=d;let _;switch(d){case _e.CODE_START_A:_=_e.CODE_CODE_A;break;case _e.CODE_START_B:_=_e.CODE_CODE_B;break;case _e.CODE_START_C:_=_e.CODE_CODE_C;break;default:throw new X}let b=!1,M=!1,R="",U=h[0],G=h[1];const Y=Int32Array.from([0,0,0,0,0,0]);let K=0,ne=0,ge=d,xe=0,pe=!0,it=!1,Je=!1;for(;!b;){const Mi=M;switch(M=!1,K=ne,ne=_e.decodeCode(s,Y,G),w[m++]=ne,ne!==_e.CODE_STOP&&(pe=!0),ne!==_e.CODE_STOP&&(xe++,ge+=xe*ne),U=G,G+=Y.reduce((Uh,ns)=>Uh+ns,0),ne){case _e.CODE_START_A:case _e.CODE_START_B:case _e.CODE_START_C:throw new X}switch(_){case _e.CODE_CODE_A:if(ne<64)Je===it?R+=String.fromCharCode(32+ne):R+=String.fromCharCode(32+ne+128),Je=!1;else if(ne<96)Je===it?R+=String.fromCharCode(ne-64):R+=String.fromCharCode(ne+64),Je=!1;else switch(ne!==_e.CODE_STOP&&(pe=!1),ne){case _e.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_A:!it&&Je?(it=!0,Je=!1):it&&Je?(it=!1,Je=!1):Je=!0;break;case _e.CODE_SHIFT:M=!0,_=_e.CODE_CODE_B;break;case _e.CODE_CODE_B:_=_e.CODE_CODE_B;break;case _e.CODE_CODE_C:_=_e.CODE_CODE_C;break;case _e.CODE_STOP:b=!0;break}break;case _e.CODE_CODE_B:if(ne<96)Je===it?R+=String.fromCharCode(32+ne):R+=String.fromCharCode(32+ne+128),Je=!1;else switch(ne!==_e.CODE_STOP&&(pe=!1),ne){case _e.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_B:!it&&Je?(it=!0,Je=!1):it&&Je?(it=!1,Je=!1):Je=!0;break;case _e.CODE_SHIFT:M=!0,_=_e.CODE_CODE_A;break;case _e.CODE_CODE_A:_=_e.CODE_CODE_A;break;case _e.CODE_CODE_C:_=_e.CODE_CODE_C;break;case _e.CODE_STOP:b=!0;break}break;case _e.CODE_CODE_C:if(ne<100)ne<10&&(R+="0"),R+=ne;else switch(ne!==_e.CODE_STOP&&(pe=!1),ne){case _e.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case _e.CODE_CODE_A:_=_e.CODE_CODE_A;break;case _e.CODE_CODE_B:_=_e.CODE_CODE_B;break;case _e.CODE_STOP:b=!0;break}break}Mi&&(_=_===_e.CODE_CODE_A?_e.CODE_CODE_B:_e.CODE_CODE_A)}const kt=G-U;if(G=s.getNextUnset(G),!s.isRange(G,Math.min(s.getSize(),G+(G-U)/2),!1))throw new re;if(ge-=xe*K,ge%103!==K)throw new O;const On=R.length;if(On===0)throw new re;On>0&&pe&&(_===_e.CODE_CODE_C?R=R.substring(0,On-2):R=R.substring(0,On-1));const Rn=(h[1]+h[0])/2,gt=U+kt/2,dn=w.length,Ln=new Uint8Array(dn);for(let Mi=0;Mi<dn;Mi++)Ln[Mi]=w[Mi];const ts=[new ke(Rn,i),new ke(gt,i)];return new me(R,Ln,0,ts,ce.CODE_128,new Date().getTime())}}_e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],_e.MAX_AVG_VARIANCE=.25,_e.MAX_INDIVIDUAL_VARIANCE=.7,_e.CODE_SHIFT=98,_e.CODE_CODE_C=99,_e.CODE_CODE_B=100,_e.CODE_CODE_A=101,_e.CODE_FNC_1=102,_e.CODE_FNC_2=97,_e.CODE_FNC_3=96,_e.CODE_FNC_4_A=101,_e.CODE_FNC_4_B=100,_e.CODE_START_A=103,_e.CODE_START_B=104,_e.CODE_START_C=105,_e.CODE_STOP=106;class Xt extends Ut{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let h=Xt.findAsteriskPattern(s,c),d=s.getNextSet(h[1]),m=s.getSize(),w,_;do{Xt.recordPattern(s,d,c);let Y=Xt.toNarrowWidePattern(c);if(Y<0)throw new re;w=Xt.patternToChar(Y),this.decodeRowResult+=w,_=d;for(let K of c)d+=K;d=s.getNextSet(d)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let Y of c)b+=Y;let M=d-_-b;if(d!==m&&M*2<b)throw new re;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,K=0;for(let ne=0;ne<Y;ne++)K+=Xt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(Y)!==Xt.ALPHABET_STRING.charAt(K%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new re;let R;this.extendedMode?R=Xt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let U=(h[1]+h[0])/2,G=_+b/2;return new me(R,null,0,[new ke(U,i),new ke(G,i)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let a=i.getSize(),c=i.getNextSet(0),h=0,d=c,m=!1,w=s.length;for(let _=c;_<a;_++)if(i.get(_)!==m)s[h]++;else{if(h===w-1){if(this.toNarrowWidePattern(s)===Xt.ASTERISK_ENCODING&&i.isRange(Math.max(0,d-Math.floor((_-d)/2)),d,!1))return[d,_];d+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,m=!m}throw new re}static toNarrowWidePattern(i){let s=i.length,a=0,c;do{let h=2147483647;for(let w of i)w<h&&w>a&&(h=w);a=h,c=0;let d=0,m=0;for(let w=0;w<s;w++){let _=i[w];_>a&&(m|=1<<s-1-w,c++,d+=_)}if(c===3){for(let w=0;w<s&&c>0;w++){let _=i[w];if(_>a&&(c--,_*2>=d))return-1}return m}}while(c>3);return-1}static patternToChar(i){for(let s=0;s<Xt.CHARACTER_ENCODINGS.length;s++)if(Xt.CHARACTER_ENCODINGS[s]===i)return Xt.ALPHABET_STRING.charAt(s);if(i===Xt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(i){let s=i.length,a="";for(let c=0;c<s;c++){let h=i.charAt(c);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=i.charAt(c+1),m="\0";switch(h){case"+":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)+32);else throw new X;break;case"$":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)-64);else throw new X;break;case"%":if(d>="A"&&d<="E")m=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")m=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")m=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")m="\0";else if(d==="V")m="@";else if(d==="W")m="`";else if(d==="X"||d==="Y"||d==="Z")m="";else throw new X;break;case"/":if(d>="A"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")m=":";else throw new X;break}a+=m,c++}else a+=h}return a}}Xt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xt.ASTERISK_ENCODING=148;class vt extends Ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,s,a){let c=this.decodeStart(s),h=this.decodeEnd(s),d=new Le;vt.decodeMiddle(s,c[1],h[0],d);let m=d.toString(),w=null;a!=null&&(w=a.get(ae.ALLOWED_LENGTHS)),w==null&&(w=vt.DEFAULT_ALLOWED_LENGTHS);let _=m.length,b=!1,M=0;for(let G of w){if(_===G){b=!0;break}G>M&&(M=G)}if(!b&&_>M&&(b=!0),!b)throw new X;const R=[new ke(c[1],i),new ke(h[0],i)];return new me(m,null,0,R,ce.ITF,new Date().getTime())}static decodeMiddle(i,s,a,c){let h=new Int32Array(10),d=new Int32Array(5),m=new Int32Array(5);for(h.fill(0),d.fill(0),m.fill(0);s<a;){Ut.recordPattern(i,s,h);for(let _=0;_<5;_++){let b=2*_;d[_]=h[b],m[_]=h[b+1]}let w=vt.decodeDigit(d);c.append(w.toString()),w=this.decodeDigit(m),c.append(w.toString()),h.forEach(function(_){s+=_})}}decodeStart(i){let s=vt.skipWhiteSpace(i),a=vt.findGuardPattern(i,s,vt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,s){let a=this.narrowLineWidth*10;a=a<s?a:s;for(let c=s-1;a>0&&c>=0&&!i.get(c);c--)a--;if(a!==0)throw new re}static skipWhiteSpace(i){const s=i.getSize(),a=i.getNextSet(0);if(a===s)throw new re;return a}decodeEnd(i){i.reverse();try{let s=vt.skipWhiteSpace(i),a;try{a=vt.findGuardPattern(i,s,vt.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(a=vt.findGuardPattern(i,s,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let c=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-c,a}finally{i.reverse()}}static findGuardPattern(i,s,a){let c=a.length,h=new Int32Array(c),d=i.getSize(),m=!1,w=0,_=s;h.fill(0);for(let b=s;b<d;b++)if(i.get(b)!==m)h[w]++;else{if(w===c-1){if(Ut.patternMatchVariance(h,a,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[_,b];_+=h[0]+h[1],P.arraycopy(h,2,h,0,w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,m=!m}throw new re}static decodeDigit(i){let s=vt.MAX_AVG_VARIANCE,a=-1,c=vt.PATTERNS.length;for(let h=0;h<c;h++){let d=vt.PATTERNS[h],m=Ut.patternMatchVariance(i,d,vt.MAX_INDIVIDUAL_VARIANCE);m<s?(s=m,a=h):m===s&&(a=-1)}if(a>=0)return a%10;throw new re}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class St extends Ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let s=!1,a,c=0,h=Int32Array.from([0,0,0]);for(;!s;){h=Int32Array.from([0,0,0]),a=St.findGuardPattern(i,c,!1,this.START_END_PATTERN,h);let d=a[0];c=a[1];let m=d-(c-d);m>=0&&(s=i.isRange(m,d,!1))}return a}static checkChecksum(i){return St.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return St.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let c=s-1;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}a*=3;for(let c=s-2;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}return(1e3-a)%10}static decodeEnd(i,s){return St.findGuardPattern(i,s,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,s,a,c){return this.findGuardPattern(i,s,a,c,new Int32Array(c.length))}static findGuardPattern(i,s,a,c,h){let d=i.getSize();s=a?i.getNextUnset(s):i.getNextSet(s);let m=0,w=s,_=c.length,b=a;for(let M=s;M<d;M++)if(i.get(M)!==b)h[m]++;else{if(m===_-1){if(Ut.patternMatchVariance(h,c,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return Int32Array.from([w,M]);w+=h[0]+h[1];let R=h.slice(2,h.length-1);for(let U=0;U<m-1;U++)h[U]=R[U];h[m-1]=0,h[m]=0,m--}else m++;h[m]=1,b=!b}throw new re}static decodeDigit(i,s,a,c){this.recordPattern(i,a,s);let h=this.MAX_AVG_VARIANCE,d=-1,m=c.length;for(let w=0;w<m;w++){let _=c[w],b=Ut.patternMatchVariance(s,_,St.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,d=w)}if(d>=0)return d;throw new re}}St.MAX_AVG_VARIANCE=.48,St.MAX_INDIVIDUAL_VARIANCE=.7,St.START_END_PATTERN=Int32Array.from([1,1,1]),St.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),St.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),St.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Fs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,c),d=c.toString(),m=Fs.parseExtensionString(d),w=[new ke((a[0]+a[1])/2,i),new ke(h,i)],_=new me(d,null,0,w,ce.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&_.putAllMetadata(m),_}decodeMiddle(i,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1],m=0;for(let _=0;_<5&&d<h;_++){let b=St.decodeDigit(i,c,d,St.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let M of c)d+=M;b>=10&&(m|=1<<4-_),_!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==5)throw new re;let w=this.determineCheckDigit(m);if(Fs.extensionChecksum(a.toString())!==w)throw new re;return d}static extensionChecksum(i){let s=i.length,a=0;for(let c=s-2;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;a*=3;for(let c=s-1;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let s=0;s<10;s++)if(i===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new re}static parseExtensionString(i){if(i.length!==5)return null;let s=Fs.parseExtension5String(i);return s==null?null:new Map([[Ee.SUGGESTED_PRICE,s]])}static parseExtension5String(i){let s;switch(i.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let a=parseInt(i.substring(1)),c=(a/100).toString(),h=a%100,d=h<10?"0"+h:h.toString();return s+c+"."+d}}class Na{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,c),d=c.toString(),m=Na.parseExtensionString(d),w=[new ke((a[0]+a[1])/2,i),new ke(h,i)],_=new me(d,null,0,w,ce.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&_.putAllMetadata(m),_}decodeMiddle(i,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1],m=0;for(let w=0;w<2&&d<h;w++){let _=St.decodeDigit(i,c,d,St.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let b of c)d+=b;_>=10&&(m|=1<<1-w),w!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==2)throw new re;if(parseInt(a.toString())%4!==m)throw new re;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[Ee.ISSUE_NUMBER,parseInt(i)]])}}class Ma{static decodeRow(i,s,a){let c=St.findGuardPattern(s,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Fs().decodeRow(i,s,c)}catch{return new Na().decodeRow(i,s,c)}}}Ma.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends St{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let s=ht.L_PATTERNS[i-10],a=new Int32Array(s.length);for(let c=0;c<s.length;c++)a[c]=s[s.length-c-1];ht.L_AND_G_PATTERNS[i]=a}}decodeRow(i,s,a){let c=ht.findStartGuardPattern(s),h=a==null?null:a.get(ae.NEED_RESULT_POINT_CALLBACK);if(h!=null){const pe=new ke((c[0]+c[1])/2,i);h.foundPossibleResultPoint(pe)}let d=this.decodeMiddle(s,c,this.decodeRowStringBuffer),m=d.rowOffset,w=d.resultString;if(h!=null){const pe=new ke(m,i);h.foundPossibleResultPoint(pe)}let _=this.decodeEnd(s,m);if(h!=null){const pe=new ke((_[0]+_[1])/2,i);h.foundPossibleResultPoint(pe)}let b=_[1],M=b+(b-_[0]);if(M>=s.getSize()||!s.isRange(b,M,!1))throw new re;let R=w.toString();if(R.length<8)throw new X;if(!ht.checkChecksum(R))throw new O;let U=(c[1]+c[0])/2,G=(_[1]+_[0])/2,Y=this.getBarcodeFormat(),K=[new ke(U,i),new ke(G,i)],ne=new me(R,null,0,K,Y,new Date().getTime()),ge=0;try{let pe=Ma.decodeRow(i,s,_[1]);ne.putMetadata(Ee.UPC_EAN_EXTENSION,pe.getText()),ne.putAllMetadata(pe.getResultMetadata()),ne.addResultPoints(pe.getResultPoints()),ge=pe.getText().length}catch{}let xe=a==null?null:a.get(ae.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let pe=!1;for(let it in xe)if(ge.toString()===it){pe=!0;break}if(!pe)throw new re}return ne}decodeEnd(i,s){return ht.findGuardPattern(i,s,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return ht.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return ht.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let c=s-1;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}a*=3;for(let c=s-2;c>=0;c-=2){let h=i.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new X;a+=h}return(1e3-a)%10}}class sr extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1],m=0;for(let _=0;_<6&&d<h;_++){let b=ht.decodeDigit(i,c,d,ht.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let M of c)d+=M;b>=10&&(m|=1<<5-_)}a=sr.determineFirstDigit(a,m),d=ht.findGuardPattern(i,d,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&d<h;_++){let b=ht.decodeDigit(i,c,d,ht.L_PATTERNS);a+=String.fromCharCode(48+b);for(let M of c)d+=M}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(i,s){for(let a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new re}}sr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class hc extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d=s[1];for(let w=0;w<4&&d<h;w++){let _=ht.decodeDigit(i,c,d,ht.L_PATTERNS);a+=String.fromCharCode(48+_);for(let b of c)d+=b}d=ht.findGuardPattern(i,d,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&d<h;w++){let _=ht.decodeDigit(i,c,d,ht.L_PATTERNS);a+=String.fromCharCode(48+_);for(let b of c)d+=b}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return ce.EAN_8}}class fc extends ht{constructor(){super(...arguments),this.ean13Reader=new sr}getBarcodeFormat(){return ce.UPC_A}decode(i,s){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,s,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,s,a))}decodeMiddle(i,s,a){return this.ean13Reader.decodeMiddle(i,s,a)}maybeReturnResult(i){let s=i.getText();if(s.charAt(0)==="0"){let a=new me(s.substring(1),null,null,i.getResultPoints(),ce.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new re}reset(){this.ean13Reader.reset()}}class li extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,s,a){const c=this.decodeMiddleCounters.map(_=>_);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const h=i.getSize();let d=s[1],m=0;for(let _=0;_<6&&d<h;_++){const b=li.decodeDigit(i,c,d,li.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let M of c)d+=M;b>=10&&(m|=1<<5-_)}let w=li.determineNumSysAndCheckDigit(a,m);return{rowOffset:d,resultString:w}}decodeEnd(i,s){return li.findGuardPatternWithoutCounters(i,s,!0,li.MIDDLE_END_PATTERN)}checkChecksum(i){return ht.checkChecksum(li.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,s){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let h=String.fromCharCode(48+a),d=String.fromCharCode(48+c);return h+i+d}throw re.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(i){const s=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),a=new Le;a.append(i.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:a.appendChars(s,0,2),a.append(c),a.append("0000"),a.appendChars(s,2,3);break;case 3:a.appendChars(s,0,3),a.append("00000"),a.appendChars(s,3,2);break;case 4:a.appendChars(s,0,4),a.append("00000"),a.append(s[4]);break;default:a.appendChars(s,0,5),a.append("0000"),a.append(c);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}li.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),li.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Oa extends Ut{constructor(i){super();let s=i==null?null:i.get(ae.POSSIBLE_FORMATS),a=[];r(s)?(a.push(new sr),a.push(new fc),a.push(new hc),a.push(new li)):(s.indexOf(ce.EAN_13)>-1&&a.push(new sr),s.indexOf(ce.UPC_A)>-1&&a.push(new fc),s.indexOf(ce.EAN_8)>-1&&a.push(new hc),s.indexOf(ce.UPC_E)>-1&&a.push(new li)),this.readers=a}decodeRow(i,s,a){for(let c of this.readers)try{const h=c.decodeRow(i,s,a),d=h.getBarcodeFormat()===ce.EAN_13&&h.getText().charAt(0)==="0",m=a==null?null:a.get(ae.POSSIBLE_FORMATS),w=m==null||m.includes(ce.UPC_A);if(d&&w){const _=h.getRawBytes(),b=new me(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),ce.UPC_A);return b.putAllMetadata(h.getResultMetadata()),b}return h}catch{}throw new re}reset(){for(let i of this.readers)i.reset()}}class gn extends Ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let a=0;a<s.length;a++)if(Ut.patternMatchVariance(i,s[a],gn.MAX_INDIVIDUAL_VARIANCE)<gn.MAX_AVG_VARIANCE)return a;throw new re}static count(i){return ct.sum(new Int32Array(i))}static increment(i,s){let a=0,c=s[0];for(let h=1;h<i.length;h++)s[h]>c&&(c=s[h],a=h);i[a]++}static decrement(i,s){let a=0,c=s[0];for(let h=1;h<i.length;h++)s[h]<c&&(c=s[h],a=h);i[a]--}static isFinderPattern(i){let s=i[0]+i[1],a=s+i[2]+i[3],c=s/a;if(c>=gn.MIN_FINDER_PATTERN_RATIO&&c<=gn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let m of i)m>d&&(d=m),m<h&&(h=m);return d<10*h}return!1}}gn.MAX_AVG_VARIANCE=.2,gn.MAX_INDIVIDUAL_VARIANCE=.45,gn.MIN_FINDER_PATTERN_RATIO=9.5/12,gn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Gr{constructor(i,s){this.value=i,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Gr))return!1;const s=i;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Yr{constructor(i,s,a,c,h){this.value=i,this.startEnd=s,this.value=i,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new ke(a,h)),this.resultPoints.push(new ke(c,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Yr))return!1;const s=i;return this.value===s.value}hashCode(){return this.value}}class Ei{constructor(){}static getRSSvalue(i,s,a){let c=0;for(let w of i)c+=w;let h=0,d=0,m=i.length;for(let w=0;w<m-1;w++){let _;for(_=1,d|=1<<w;_<i[w];_++,d&=~(1<<w)){let b=Ei.combins(c-_-1,m-w-2);if(a&&d===0&&c-_-(m-w-1)>=m-w-1&&(b-=Ei.combins(c-_-(m-w),m-w-2)),m-w-1>1){let M=0;for(let R=c-_-(m-w-2);R>s;R--)M+=Ei.combins(c-_-R-1,m-w-3);b-=M*(m-1-w)}else c-_>s&&b--;h+=b}c-=_}return h}static combins(i,s){let a,c;i-s>s?(c=s,a=i-s):(c=i-s,a=s);let h=1,d=1;for(let m=i;m>a;m--)h*=m,d<=c&&(h/=d,d++);for(;d<=c;)h/=d,d++;return h}}class Rh{static buildBitArray(i){let s=i.length*2-1;i[i.length-1].getRightChar()==null&&(s-=1);let a=12*s,c=new Z(a),h=0,m=i[0].getRightChar().getValue();for(let w=11;w>=0;--w)m&1<<w&&c.set(h),h++;for(let w=1;w<i.length;++w){let _=i[w],b=_.getLeftChar().getValue();for(let M=11;M>=0;--M)b&1<<M&&c.set(h),h++;if(_.getRightChar()!=null){let M=_.getRightChar().getValue();for(let R=11;R>=0;--R)M&1<<R&&c.set(h),h++}}return c}}class vr{constructor(i,s){s?this.decodedInformation=null:(this.finished=i,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ra{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Pt extends Ra{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Pt.FNC1}}Pt.FNC1="$";class Be extends Ra{constructor(i,s,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Un extends Ra{constructor(i,s,a){if(super(i),s<0||s>10||a<0||a>10)throw new X;this.firstDigit=s,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Un.FNC1}isSecondDigitFNC1(){return this.secondDigit===Un.FNC1}isAnyFNC1(){return this.firstDigit===Un.FNC1||this.secondDigit===Un.FNC1}}Un.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new re;let s=i.substring(0,2);for(let h of Ie.TWO_DIGIT_DATA_LENGTH)if(h[0]===s)return h[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,h[2],i):Ie.processFixedAI(2,h[1],i);if(i.length<3)throw new re;let a=i.substring(0,3);for(let h of Ie.THREE_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,h[2],i):Ie.processFixedAI(3,h[1],i);for(let h of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,h[2],i):Ie.processFixedAI(4,h[1],i);if(i.length<4)throw new re;let c=i.substring(0,4);for(let h of Ie.FOUR_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,h[2],i):Ie.processFixedAI(4,h[1],i);throw new re}static processFixedAI(i,s,a){if(a.length<i)throw new re;let c=a.substring(0,i);if(a.length<i+s)throw new re;let h=a.substring(i,i+s),d=a.substring(i+s),m="("+c+")"+h,w=Ie.parseFieldsInGeneralPurpose(d);return w==null?m:m+w}static processVariableAI(i,s,a){let c=a.substring(0,i),h;a.length<i+s?h=a.length:h=i+s;let d=a.substring(i,h),m=a.substring(h),w="("+c+")"+d,_=Ie.parseFieldsInGeneralPurpose(m);return _==null?w:w+_}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class _r{constructor(i){this.buffer=new Le,this.information=i}decodeAllCodes(i,s){let a=s,c=null;do{let h=this.decodeGeneralPurposeField(a,c),d=Ie.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&i.append(d),h.isRemaining()?c=""+h.getRemainingValue():c=null,a===h.getNewPosition())break;a=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let s=i;s<i+3;++s)if(this.information.get(s))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new Un(this.information.getSize(),Un.FNC1,Un.FNC1):new Un(this.information.getSize(),h-1,Un.FNC1)}let s=this.extractNumericValueFromBitArray(i,7),a=(s-8)/11,c=(s-8)%11;return new Un(i+7,a,c)}extractNumericValueFromBitArray(i,s){return _r.extractNumericValueFromBitArray(this.information,i,s)}static extractNumericValueFromBitArray(i,s,a){let c=0;for(let h=0;h<a;++h)i.get(s+h)&&(c|=1<<a-h-1);return c}decodeGeneralPurposeField(i,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Be(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Be(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,s;do{let a=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),i=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),i=s.isFinished()):(s=this.parseNumericBlock(),i=s.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let s;return i.isSecondDigitFNC1()?s=new Be(this.current.getPosition(),this.buffer.toString()):s=new Be(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new vr(!0,s)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let s=new Be(this.current.getPosition(),this.buffer.toString());return new vr(!0,s)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Be(this.current.getPosition(),this.buffer.toString());return new vr(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Be(this.current.getPosition(),this.buffer.toString());return new vr(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new Pt(i+5,Pt.FNC1);if(s>=5&&s<15)return new Pt(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new Pt(i+7,""+(a+1));if(a>=90&&a<116)return new Pt(i+7,""+(a+7));let c=this.extractNumericValueFromBitArray(i,8),h;switch(c){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new X}return new Pt(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new Pt(i+5,Pt.FNC1);if(s>=5&&s<15)return new Pt(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new Pt(i+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new cn("Decoding invalid alphanumeric value: "+a)}return new Pt(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<5&&s+i<this.information.getSize();++s)if(s===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+s))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let s=i;s<i+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<4&&s+i<this.information.getSize();++s)if(this.information.get(i+s))return!1;return!0}}class To{constructor(i){this.information=i,this.generalDecoder=new _r(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class xn extends To{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,a)}encodeCompressedGtinWithoutAI(i,s,a){for(let c=0;c<4;++c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}xn.appendCheckDigit(i,a)}static appendCheckDigit(i,s){let a=0;for(let c=0;c<13;c++){let h=i.charAt(c+s).charCodeAt(0)-48;a+=c&1?h:3*h}a=10-a%10,a===10&&(a=0),i.append(a)}}xn.GTIN_SIZE=40;class Cr extends xn{constructor(i){super(i)}parseInformation(){let i=new Le;i.append("(01)");let s=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Cr.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,Cr.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,Cr.HEADER_SIZE+44)}}Cr.HEADER_SIZE=4;class Wi extends To{constructor(i){super(i)}parseInformation(){let i=new Le;return this.getGeneralDecoder().decodeAllCodes(i,Wi.HEADER_SIZE)}}Wi.HEADER_SIZE=5;class js extends xn{constructor(i){super(i)}encodeCompressedWeight(i,s,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,a);this.addWeightCode(i,c);let h=this.checkWeight(c),d=1e5;for(let m=0;m<5;++m)h/d===0&&i.append("0"),d/=10;i.append(h)}}class Ai extends js{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Ai.HEADER_SIZE+js.GTIN_SIZE+Ai.WEIGHT_SIZE)throw new re;let i=new Le;return this.encodeCompressedGtin(i,Ai.HEADER_SIZE),this.encodeCompressedWeight(i,Ai.HEADER_SIZE+js.GTIN_SIZE,Ai.WEIGHT_SIZE),i.toString()}}Ai.HEADER_SIZE=5,Ai.WEIGHT_SIZE=15;class Lh extends Ai{constructor(i){super(i)}addWeightCode(i,s){i.append("(3103)")}checkWeight(i){return i}}class Ph extends Ai{constructor(i){super(i)}addWeightCode(i,s){s<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Si extends xn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Si.HEADER_SIZE+xn.GTIN_SIZE)throw new re;let i=new Le;this.encodeCompressedGtin(i,Si.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Si.HEADER_SIZE+xn.GTIN_SIZE,Si.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Si.HEADER_SIZE+xn.GTIN_SIZE+Si.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}Si.HEADER_SIZE=8,Si.LAST_DIGIT_SIZE=2;class yn extends xn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<yn.HEADER_SIZE+xn.GTIN_SIZE)throw new re;let i=new Le;this.encodeCompressedGtin(i,yn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(yn.HEADER_SIZE+xn.GTIN_SIZE,yn.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(yn.HEADER_SIZE+xn.GTIN_SIZE+yn.LAST_DIGIT_SIZE,yn.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(yn.HEADER_SIZE+xn.GTIN_SIZE+yn.LAST_DIGIT_SIZE+yn.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}yn.HEADER_SIZE=8,yn.LAST_DIGIT_SIZE=2,yn.FIRST_THREE_DIGITS_SIZE=10;class Nt extends js{constructor(i,s,a){super(i),this.dateCode=a,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new re;let i=new Le;return this.encodeCompressedGtin(i,Nt.HEADER_SIZE),this.encodeCompressedWeight(i,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(i,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Nt.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=a%32;a/=32;let h=a%12+1;a/=12;let d=a;d/10==0&&i.append("0"),i.append(d),h/10==0&&i.append("0"),i.append(h),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function zs(N){try{if(N.get(1))return new Cr(N);if(!N.get(2))return new Wi(N);switch(_r.extractNumericValueFromBitArray(N,1,4)){case 4:return new Lh(N);case 5:return new Ph(N)}switch(_r.extractNumericValueFromBitArray(N,1,5)){case 12:return new Si(N);case 13:return new yn(N)}switch(_r.extractNumericValueFromBitArray(N,1,7)){case 56:return new Nt(N,"310","11");case 57:return new Nt(N,"320","11");case 58:return new Nt(N,"310","13");case 59:return new Nt(N,"320","13");case 60:return new Nt(N,"310","15");case 61:return new Nt(N,"320","15");case 62:return new Nt(N,"310","17");case 63:return new Nt(N,"320","17")}}catch(i){throw console.log(i),new cn("unknown decoder: "+N)}}class or{constructor(i,s,a,c){this.leftchar=i,this.rightchar=s,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,s){return i instanceof or?or.equalsOrNull(i.leftchar,s.leftchar)&&or.equalsOrNull(i.rightchar,s.rightchar)&&or.equalsOrNull(i.finderpattern,s.finderpattern):!1}static equalsOrNull(i,s){return i===null?s===null:or.equals(i,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class La{constructor(i,s,a){this.pairs=i,this.rowNumber=s,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,s){return i instanceof La?this.checkEqualitity(i,s)&&i.wasReversed===s.wasReversed:!1}checkEqualitity(i,s){if(!i||!s)return;let a;return i.forEach((c,h)=>{s.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class he extends gn{constructor(i){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,s,a){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(i,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(i,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,s){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,i))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),s}checkRows(i,s){for(let a=s;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(c);try{return this.checkRows(h,a+1)}catch(d){this.verbose&&console.log(d)}}throw new re}static isValidSequence(i){for(let s of he.FINDER_PATTERN_SEQUENCES){if(i.length>s.length)continue;let a=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=s[c]){a=!1;break}if(a)return!0}return!1}storeRow(i,s){let a=0,c=!1,h=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>i){h=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),a++}h||c||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new La(this.pairs,i,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,s){for(let a of s)if(a.getPairs().length!==i.length){for(let c of a.getPairs())for(let h of i)if(or.equals(c,h))break}}static isPartialRow(i,s){for(let a of s){let c=!0;for(let h of i){let d=!1;for(let m of a.getPairs())if(h.equals(m)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let s=Rh.buildBitArray(i),c=zs(s).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),m=[h[0],h[1],d[0],d[1]];return new me(c,null,null,m,ce.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),s=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),h=2;for(let m=1;m<this.pairs.size();++m){let w=this.pairs.get(m);c+=w.getLeftChar().getChecksumPortion(),h++;let _=w.getRightChar();_!=null&&(c+=_.getChecksumPortion(),h++)}return c%=211,211*(h-4)+c==s.getValue()}static getNextSecondBar(i,s){let a;return i.get(s)?(a=i.getNextUnset(s),a=i.getNextSet(a)):(a=i.getNextSet(s),a=i.getNextUnset(a)),a}retrieveNextPair(i,s,a){let c=s.length%2==0;this.startFromEven&&(c=!c);let h,d=!0,m=-1;do this.findNextPair(i,s,m),h=this.parseFoundFinderPattern(i,a,c),h==null?m=he.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let w=this.decodeDataCharacter(i,h,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new re;let _;try{_=this.decodeDataCharacter(i,h,c,!1)}catch(b){_=null,this.verbose&&console.log(b)}return new or(w,_,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,s,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=i.getSize(),d;a>=0?d=a:this.isEmptyPair(s)?d=0:d=s[s.length-1].getFinderPattern().getStartEnd()[1];let m=s.length%2!=0;this.startFromEven&&(m=!m);let w=!1;for(;d<h&&(w=!i.get(d),!!w);)d++;let _=0,b=d;for(let M=d;M<h;M++)if(i.get(M)!=w)c[_]++;else{if(_==3){if(m&&he.reverseCounters(c),he.isFinderPattern(c)){this.startEnd[0]=b,this.startEnd[1]=M;return}m&&he.reverseCounters(c),b+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,_--}else _++;c[_]=1,w=!w}throw new re}static reverseCounters(i){let s=i.length;for(let a=0;a<s/2;++a){let c=i[a];i[a]=i[s-a-1],i[s-a-1]=c}}parseFoundFinderPattern(i,s,a){let c,h,d;if(a){let _=this.startEnd[0]-1;for(;_>=0&&!i.get(_);)_--;_++,c=this.startEnd[0]-_,h=_,d=this.startEnd[1]}else h=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let m=this.getDecodeFinderCounters();P.arraycopy(m,0,m,1,m.length-1),m[0]=c;let w;try{w=this.parseFinderValue(m,he.FINDER_PATTERNS)}catch{return null}return new Yr(w,[h,d],h,d,s)}decodeDataCharacter(i,s,a,c){let h=this.getDataCharacterCounters();for(let gt=0;gt<h.length;gt++)h[gt]=0;if(c)he.recordPatternInReverse(i,s.getStartEnd()[0],h);else{he.recordPattern(i,s.getStartEnd()[1],h);for(let gt=0,dn=h.length-1;gt<dn;gt++,dn--){let Ln=h[gt];h[gt]=h[dn],h[dn]=Ln}}let d=17,m=ct.sum(new Int32Array(h))/d,w=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(m-w)/w>.3)throw new re;let _=this.getOddCounts(),b=this.getEvenCounts(),M=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let gt=0;gt<h.length;gt++){let dn=1*h[gt]/m,Ln=dn+.5;if(Ln<1){if(dn<.3)throw new re;Ln=1}else if(Ln>8){if(dn>8.7)throw new re;Ln=8}let ts=gt/2;gt&1?(b[ts]=Ln,R[ts]=dn-Ln):(_[ts]=Ln,M[ts]=dn-Ln)}this.adjustOddEvenCounts(d);let U=4*s.getValue()+(a?0:2)+(c?0:1)-1,G=0,Y=0;for(let gt=_.length-1;gt>=0;gt--){if(he.isNotA1left(s,a,c)){let dn=he.WEIGHTS[U][2*gt];Y+=_[gt]*dn}G+=_[gt]}let K=0;for(let gt=b.length-1;gt>=0;gt--)if(he.isNotA1left(s,a,c)){let dn=he.WEIGHTS[U][2*gt+1];K+=b[gt]*dn}let ne=Y+K;if(G&1||G>13||G<4)throw new re;let ge=(13-G)/2,xe=he.SYMBOL_WIDEST[ge],pe=9-xe,it=Ei.getRSSvalue(_,xe,!0),Je=Ei.getRSSvalue(b,pe,!1),kt=he.EVEN_TOTAL_SUBSET[ge],On=he.GSUM[ge],Rn=it*kt+Je+On;return new Gr(Rn,ne)}static isNotA1left(i,s,a){return!(i.getValue()==0&&s&&a)}adjustOddEvenCounts(i){let s=ct.sum(new Int32Array(this.getOddCounts())),a=ct.sum(new Int32Array(this.getEvenCounts())),c=!1,h=!1;s>13?h=!0:s<4&&(c=!0);let d=!1,m=!1;a>13?m=!0:a<4&&(d=!0);let w=s+a-i,_=(s&1)==1,b=(a&1)==0;if(w==1)if(_){if(b)throw new re;h=!0}else{if(!b)throw new re;m=!0}else if(w==-1)if(_){if(b)throw new re;c=!0}else{if(!b)throw new re;d=!0}else if(w==0){if(_){if(!b)throw new re;s<a?(c=!0,m=!0):(h=!0,d=!0)}else if(b)throw new re}else throw new re;if(c){if(h)throw new re;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new re;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class Dh extends Gr{constructor(i,s,a){super(i,s),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class jt extends gn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,s,a){const c=this.decodePair(s,!1,i,a);jt.addOrTally(this.possibleLeftPairs,c),s.reverse();let h=this.decodePair(s,!0,i,a);jt.addOrTally(this.possibleRightPairs,h),s.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&jt.checkChecksum(d,m))return jt.constructResult(d,m)}throw new re}static addOrTally(i,s){if(s==null)return;let a=!1;for(let c of i)if(c.getValue()===s.getValue()){c.incrementCount(),a=!0;break}a||i.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,s){let a=4537077*i.getValue()+s.getValue(),c=new String(a).toString(),h=new Le;for(let _=13-c.length;_>0;_--)h.append("0");h.append(c);let d=0;for(let _=0;_<13;_++){let b=h.charAt(_).charCodeAt(0)-48;d+=_&1?b:3*b}d=10-d%10,d===10&&(d=0),h.append(d.toString());let m=i.getFinderPattern().getResultPoints(),w=s.getFinderPattern().getResultPoints();return new me(h.toString(),null,0,[m[0],m[1],w[0],w[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(i,s){let a=(i.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(i,s,a,c){try{let h=this.findFinderPattern(i,s),d=this.parseFoundFinderPattern(i,a,s,h),m=c==null?null:c.get(ae.NEED_RESULT_POINT_CALLBACK);if(m!=null){let b=(h[0]+h[1])/2;s&&(b=i.getSize()-1-b),m.foundPossibleResultPoint(new ke(b,a))}let w=this.decodeDataCharacter(i,d,!0),_=this.decodeDataCharacter(i,d,!1);return new Dh(1597*w.getValue()+_.getValue(),w.getChecksumPortion()+4*_.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,s,a){let c=this.getDataCharacterCounters();for(let K=0;K<c.length;K++)c[K]=0;if(a)Ut.recordPatternInReverse(i,s.getStartEnd()[0],c);else{Ut.recordPattern(i,s.getStartEnd()[1]+1,c);for(let K=0,ne=c.length-1;K<ne;K++,ne--){let ge=c[K];c[K]=c[ne],c[ne]=ge}}let h=a?16:15,d=ct.sum(new Int32Array(c))/h,m=this.getOddCounts(),w=this.getEvenCounts(),_=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let K=0;K<c.length;K++){let ne=c[K]/d,ge=Math.floor(ne+.5);ge<1?ge=1:ge>8&&(ge=8);let xe=Math.floor(K/2);K&1?(w[xe]=ge,b[xe]=ne-ge):(m[xe]=ge,_[xe]=ne-ge)}this.adjustOddEvenCounts(a,h);let M=0,R=0;for(let K=m.length-1;K>=0;K--)R*=9,R+=m[K],M+=m[K];let U=0,G=0;for(let K=w.length-1;K>=0;K--)U*=9,U+=w[K],G+=w[K];let Y=R+3*U;if(a){if(M&1||M>12||M<4)throw new re;let K=(12-M)/2,ne=jt.OUTSIDE_ODD_WIDEST[K],ge=9-ne,xe=Ei.getRSSvalue(m,ne,!1),pe=Ei.getRSSvalue(w,ge,!0),it=jt.OUTSIDE_EVEN_TOTAL_SUBSET[K],Je=jt.OUTSIDE_GSUM[K];return new Gr(xe*it+pe+Je,Y)}else{if(G&1||G>10||G<4)throw new re;let K=(10-G)/2,ne=jt.INSIDE_ODD_WIDEST[K],ge=9-ne,xe=Ei.getRSSvalue(m,ne,!0),pe=Ei.getRSSvalue(w,ge,!1),it=jt.INSIDE_ODD_TOTAL_SUBSET[K],Je=jt.INSIDE_GSUM[K];return new Gr(pe*it+xe+Je,Y)}}findFinderPattern(i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=i.getSize(),h=!1,d=0;for(;d<c&&(h=!i.get(d),s!==h);)d++;let m=0,w=d;for(let _=d;_<c;_++)if(i.get(_)!==h)a[m]++;else{if(m===3){if(gn.isFinderPattern(a))return[w,_];w+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,m--}else m++;a[m]=1,h=!h}throw new re}parseFoundFinderPattern(i,s,a,c){let h=i.get(c[0]),d=c[0]-1;for(;d>=0&&h!==i.get(d);)d--;d++;const m=c[0]-d,w=this.getDecodeFinderCounters(),_=new Int32Array(w.length);P.arraycopy(w,0,_,1,w.length-1),_[0]=m;const b=this.parseFinderValue(_,jt.FINDER_PATTERNS);let M=d,R=c[1];return a&&(M=i.getSize()-1-M,R=i.getSize()-1-R),new Yr(b,[d,c[1]],M,R,s)}adjustOddEvenCounts(i,s){let a=ct.sum(new Int32Array(this.getOddCounts())),c=ct.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,m=!1,w=!1;i?(a>12?d=!0:a<4&&(h=!0),c>12?w=!0:c<4&&(m=!0)):(a>11?d=!0:a<5&&(h=!0),c>10?w=!0:c<4&&(m=!0));let _=a+c-s,b=(a&1)===(i?1:0),M=(c&1)===1;if(_===1)if(b){if(M)throw new re;d=!0}else{if(!M)throw new re;w=!0}else if(_===-1)if(b){if(M)throw new re;h=!0}else{if(!M)throw new re;m=!0}else if(_===0){if(b){if(!M)throw new re;a<c?(h=!0,w=!0):(d=!0,m=!0)}else if(M)throw new re}else throw new re;if(h){if(d)throw new re;gn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&gn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(w)throw new re;gn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&gn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}jt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],jt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],jt.OUTSIDE_GSUM=[0,161,961,2015,2715],jt.INSIDE_GSUM=[0,336,1036,1516],jt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],jt.INSIDE_ODD_WIDEST=[2,4,6,8],jt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ar extends Ut{constructor(i,s){super(),this.readers=[],this.verbose=s===!0;const a=i?i.get(ae.POSSIBLE_FORMATS):null,c=i&&i.get(ae.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ce.EAN_13)||a.includes(ce.UPC_A)||a.includes(ce.EAN_8)||a.includes(ce.UPC_E))&&this.readers.push(new Oa(i)),a.includes(ce.CODE_39)&&this.readers.push(new Xt(c)),a.includes(ce.CODE_128)&&this.readers.push(new _e),a.includes(ce.ITF)&&this.readers.push(new vt),a.includes(ce.RSS_14)&&this.readers.push(new jt),a.includes(ce.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Oa(i)),this.readers.push(new Xt),this.readers.push(new Oa(i)),this.readers.push(new _e),this.readers.push(new vt),this.readers.push(new jt),this.readers.push(new he(this.verbose)))}decodeRow(i,s,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,s,a)}catch{}throw new re}reset(){this.readers.forEach(i=>i.reset())}}class Us extends Ae{constructor(i=500,s){super(new ar(s),i,s)}}class pt{constructor(i,s,a){this.ecCodewords=i,this.ecBlocks=[s],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ft{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(i,s,a,c,h,d){this.versionNumber=i,this.symbolSizeRows=s,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=h,this.ecBlocks=d;let m=0;const w=d.getECCodewords(),_=d.getECBlocks();for(let b of _)m+=b.getCount()*(b.getDataCodewords()+w);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,s){if(i&1||s&1)throw new X;for(let a of et.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===s)return a;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new et(1,10,10,8,8,new pt(5,new ft(1,3))),new et(2,12,12,10,10,new pt(7,new ft(1,5))),new et(3,14,14,12,12,new pt(10,new ft(1,8))),new et(4,16,16,14,14,new pt(12,new ft(1,12))),new et(5,18,18,16,16,new pt(14,new ft(1,18))),new et(6,20,20,18,18,new pt(18,new ft(1,22))),new et(7,22,22,20,20,new pt(20,new ft(1,30))),new et(8,24,24,22,22,new pt(24,new ft(1,36))),new et(9,26,26,24,24,new pt(28,new ft(1,44))),new et(10,32,32,14,14,new pt(36,new ft(1,62))),new et(11,36,36,16,16,new pt(42,new ft(1,86))),new et(12,40,40,18,18,new pt(48,new ft(1,114))),new et(13,44,44,20,20,new pt(56,new ft(1,144))),new et(14,48,48,22,22,new pt(68,new ft(1,174))),new et(15,52,52,24,24,new pt(42,new ft(2,102))),new et(16,64,64,14,14,new pt(56,new ft(2,140))),new et(17,72,72,16,16,new pt(36,new ft(4,92))),new et(18,80,80,18,18,new pt(48,new ft(4,114))),new et(19,88,88,20,20,new pt(56,new ft(4,144))),new et(20,96,96,22,22,new pt(68,new ft(4,174))),new et(21,104,104,24,24,new pt(56,new ft(6,136))),new et(22,120,120,18,18,new pt(68,new ft(6,175))),new et(23,132,132,20,20,new pt(62,new ft(8,163))),new et(24,144,144,22,22,new pt(62,new ft(8,156),new ft(2,155))),new et(25,8,18,6,16,new pt(7,new ft(1,5))),new et(26,8,32,6,14,new pt(11,new ft(1,10))),new et(27,12,26,10,24,new pt(14,new ft(1,16))),new et(28,12,36,10,16,new pt(18,new ft(1,22))),new et(29,16,36,14,16,new pt(24,new ft(1,32))),new et(30,16,48,14,22,new pt(28,new ft(1,49)))]}}et.VERSIONS=et.buildVersions();class lt{constructor(i){const s=i.getHeight();if(s<8||s>144||s&1)throw new X;this.version=lt.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const s=i.getHeight(),a=i.getWidth();return et.getVersionForDimensions(s,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let s=0,a=4,c=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let m=!1,w=!1,_=!1,b=!1;do if(a===h&&c===0&&!m)i[s++]=this.readCorner1(h,d)&255,a-=2,c+=2,m=!0;else if(a===h-2&&c===0&&d&3&&!w)i[s++]=this.readCorner2(h,d)&255,a-=2,c+=2,w=!0;else if(a===h+4&&c===2&&!(d&7)&&!_)i[s++]=this.readCorner3(h,d)&255,a-=2,c+=2,_=!0;else if(a===h-2&&c===0&&(d&7)===4&&!b)i[s++]=this.readCorner4(h,d)&255,a-=2,c+=2,b=!0;else{do a<h&&c>=0&&!this.readMappingMatrix.get(c,a)&&(i[s++]=this.readUtah(a,c,h,d)&255),a-=2,c+=2;while(a>=0&&c<d);a+=1,c+=3;do a>=0&&c<d&&!this.readMappingMatrix.get(c,a)&&(i[s++]=this.readUtah(a,c,h,d)&255),a+=2,c-=2;while(a<h&&c>=0);a+=3,c+=1}while(a<h||c<d);if(s!==this.version.getTotalCodewords())throw new X;return i}readModule(i,s,a,c){return i<0&&(i+=a,s+=4-(a+4&7)),s<0&&(s+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(s,i),this.mappingBitMatrix.get(s,i)}readUtah(i,s,a,c){let h=0;return this.readModule(i-2,s-2,a,c)&&(h|=1),h<<=1,this.readModule(i-2,s-1,a,c)&&(h|=1),h<<=1,this.readModule(i-1,s-2,a,c)&&(h|=1),h<<=1,this.readModule(i-1,s-1,a,c)&&(h|=1),h<<=1,this.readModule(i-1,s,a,c)&&(h|=1),h<<=1,this.readModule(i,s-2,a,c)&&(h|=1),h<<=1,this.readModule(i,s-1,a,c)&&(h|=1),h<<=1,this.readModule(i,s,a,c)&&(h|=1),h}readCorner1(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,1,i,s)&&(a|=1),a<<=1,this.readModule(i-1,2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}readCorner2(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-4,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner3(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-3,i,s)&&(a|=1),a<<=1,this.readModule(1,s-2,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner4(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}extractDataRegion(i){const s=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==s)throw new A("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=s/c|0,m=a/h|0,w=d*c,_=m*h,b=new Fe(_,w);for(let M=0;M<d;++M){const R=M*c;for(let U=0;U<m;++U){const G=U*h;for(let Y=0;Y<c;++Y){const K=M*(c+2)+1+Y,ne=R+Y;for(let ge=0;ge<h;++ge){const xe=U*(h+2)+1+ge;if(i.get(xe,K)){const pe=G+ge;b.set(pe,ne)}}}}}return b}}class Tt{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s){const a=s.getECBlocks();let c=0;const h=a.getECBlocks();for(let Y of h)c+=Y.getCount();const d=new Array(c);let m=0;for(let Y of h)for(let K=0;K<Y.getCount();K++){const ne=Y.getDataCodewords(),ge=a.getECCodewords()+ne;d[m++]=new Tt(ne,new Uint8Array(ge))}const _=d[0].codewords.length-a.getECCodewords(),b=_-1;let M=0;for(let Y=0;Y<b;Y++)for(let K=0;K<m;K++)d[K].codewords[Y]=i[M++];const R=s.getVersionNumber()===24,U=R?8:m;for(let Y=0;Y<U;Y++)d[Y].codewords[_-1]=i[M++];const G=d[0].codewords.length;for(let Y=_;Y<G;Y++)for(let K=0;K<m;K++){const ne=R?(K+8)%m:K,ge=R&&ne>7?Y-1:Y;d[ne].codewords[ge]=i[M++]}if(M!==i.length)throw new A;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xr{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new A(""+i);let s=0,a=this.bitOffset,c=this.byteOffset;const h=this.bytes;if(a>0){const d=8-a,m=i<d?i:d,w=d-m,_=255>>8-m<<w;s=(h[c]&_)>>w,i-=m,a+=m,a===8&&(a=0,c++)}if(i>0){for(;i>=8;)s=s<<8|h[c]&255,c++,i-=8;if(i>0){const d=8-i,m=255>>d<<d;s=s<<i|(h[c]&m)>>d,a+=i}}return this.bitOffset=a,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Mt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Mt||(Mt={}));class Vn{static decode(i){const s=new Xr(i),a=new Le,c=new Le,h=new Array;let d=Mt.ASCII_ENCODE;do if(d===Mt.ASCII_ENCODE)d=this.decodeAsciiSegment(s,a,c);else{switch(d){case Mt.C40_ENCODE:this.decodeC40Segment(s,a);break;case Mt.TEXT_ENCODE:this.decodeTextSegment(s,a);break;case Mt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,a);break;case Mt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,a);break;case Mt.BASE256_ENCODE:this.decodeBase256Segment(s,a,h);break;default:throw new X}d=Mt.ASCII_ENCODE}while(d!==Mt.PAD_ENCODE&&s.available()>0);return c.length()>0&&a.append(c.toString()),new qe(i,a.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,s,a){let c=!1;do{let h=i.readBits(8);if(h===0)throw new X;if(h<=128)return c&&(h+=128),s.append(String.fromCharCode(h-1)),Mt.ASCII_ENCODE;if(h===129)return Mt.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&s.append("0"),s.append(""+d)}else switch(h){case 230:return Mt.C40_ENCODE;case 231:return Mt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:s.append("[)>05"),a.insert(0,"");break;case 237:s.append("[)>06"),a.insert(0,"");break;case 238:return Mt.ANSIX12_ENCODE;case 239:return Mt.TEXT_ENCODE;case 240:return Mt.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new X;break}}while(i.available()>0);return Mt.ASCII_ENCODE}static decodeC40Segment(i,s){let a=!1;const c=[];let h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let m=0;m<3;m++){const w=c[m];switch(h){case 0:if(w<3)h=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else throw new X;break;case 1:a?(s.append(String.fromCharCode(w+128)),a=!1):s.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else switch(w){case 27:s.append("");break;case 30:a=!0;break;default:throw new X}h=0;break;case 3:a?(s.append(String.fromCharCode(w+224)),a=!1):s.append(String.fromCharCode(w+96)),h=0;break;default:throw new X}}}while(i.available()>0)}static decodeTextSegment(i,s){let a=!1,c=[],h=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let m=0;m<3;m++){const w=c[m];switch(h){case 0:if(w<3)h=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else throw new X;break;case 1:a?(s.append(String.fromCharCode(w+128)),a=!1):s.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_)}else switch(w){case 27:s.append("");break;case 30:a=!0;break;default:throw new X}h=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[w];a?(s.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):s.append(_),h=0}else throw new X;break;default:throw new X}}}while(i.available()>0)}static decodeAnsiX12Segment(i,s){const a=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),a);for(let h=0;h<3;h++){const d=a[h];switch(d){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(d<14)s.append(String.fromCharCode(d+44));else if(d<40)s.append(String.fromCharCode(d+51));else throw new X;break}}}while(i.available()>0)}static parseTwoBytes(i,s,a){let c=(i<<8)+s-1,h=Math.floor(c/1600);a[0]=h,c-=h*1600,h=Math.floor(c/40),a[1]=h,a[2]=c-h*40}static decodeEdifactSegment(i,s){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let c=i.readBits(6);if(c===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}c&32||(c|=64),s.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,s,a){let c=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),c++);let d;if(h===0?d=i.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(i.readBits(8),c++),d<0)throw new X;const m=new Uint8Array(d);for(let w=0;w<d;w++){if(i.available()<8)throw new X;m[w]=this.unrandomize255State(i.readBits(8),c++)}a.push(m);try{s.append(Ue.decode(m,we.ISO88591))}catch(w){throw new cn("Platform does not support required encoding: "+w.message)}}static unrandomize255State(i,s){const a=149*s%255+1,c=i-a;return c>=0?c:c+256}}Vn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vn.TEXT_SHIFT2_SET_CHARS=Vn.C40_SHIFT2_SET_CHARS,Vn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Pa{constructor(){this.rsDecoder=new Zr(Ve.DATA_MATRIX_FIELD_256)}decode(i){const s=new lt(i),a=s.getVersion(),c=s.readCodewords(),h=Tt.getDataBlocks(c,a);let d=0;for(let _ of h)d+=_.getNumDataCodewords();const m=new Uint8Array(d),w=h.length;for(let _=0;_<w;_++){const b=h[_],M=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(M,R);for(let U=0;U<R;U++)m[U*w+_]=M[U]}return Vn.decode(m)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new O}for(let c=0;c<s;c++)i[c]=a[c]}}class ze{constructor(i){this.image=i,this.rectangleDetector=new Vi(this.image)}detect(){const i=this.rectangleDetector.detect();let s=this.detectSolid1(i);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new re;s=this.shiftToModuleCenter(s);const a=s[0],c=s[1],h=s[2],d=s[3];let m=this.transitionsBetween(a,d)+1,w=this.transitionsBetween(h,d)+1;(m&1)===1&&(m+=1),(w&1)===1&&(w+=1),4*m<7*w&&4*w<7*m&&(m=w=Math.max(m,w));let _=ze.sampleGrid(this.image,a,c,h,d,m,w);return new ks(_,[a,c,h,d])}static shiftPoint(i,s,a){let c=(s.getX()-i.getX())/(a+1),h=(s.getY()-i.getY())/(a+1);return new ke(i.getX()+c,i.getY()+h)}static moveAway(i,s,a){let c=i.getX(),h=i.getY();return c<s?c-=1:c+=1,h<a?h-=1:h+=1,new ke(c,h)}detectSolid1(i){let s=i[0],a=i[1],c=i[3],h=i[2],d=this.transitionsBetween(s,a),m=this.transitionsBetween(a,c),w=this.transitionsBetween(c,h),_=this.transitionsBetween(h,s),b=d,M=[h,s,a,c];return b>m&&(b=m,M[0]=s,M[1]=a,M[2]=c,M[3]=h),b>w&&(b=w,M[0]=a,M[1]=c,M[2]=h,M[3]=s),b>_&&(M[0]=c,M[1]=h,M[2]=s,M[3]=a),M}detectSolid2(i){let s=i[0],a=i[1],c=i[2],h=i[3],d=this.transitionsBetween(s,h),m=ze.shiftPoint(a,c,(d+1)*4),w=ze.shiftPoint(c,a,(d+1)*4),_=this.transitionsBetween(m,s),b=this.transitionsBetween(w,h);return _<b?(i[0]=s,i[1]=a,i[2]=c,i[3]=h):(i[0]=a,i[1]=c,i[2]=h,i[3]=s),i}correctTopRight(i){let s=i[0],a=i[1],c=i[2],h=i[3],d=this.transitionsBetween(s,h),m=this.transitionsBetween(a,h),w=ze.shiftPoint(s,a,(m+1)*4),_=ze.shiftPoint(c,a,(d+1)*4);d=this.transitionsBetween(w,h),m=this.transitionsBetween(_,h);let b=new ke(h.getX()+(c.getX()-a.getX())/(d+1),h.getY()+(c.getY()-a.getY())/(d+1)),M=new ke(h.getX()+(s.getX()-a.getX())/(m+1),h.getY()+(s.getY()-a.getY())/(m+1));if(!this.isValid(b))return this.isValid(M)?M:null;if(!this.isValid(M))return b;let R=this.transitionsBetween(w,b)+this.transitionsBetween(_,b),U=this.transitionsBetween(w,M)+this.transitionsBetween(_,M);return R>U?b:M}shiftToModuleCenter(i){let s=i[0],a=i[1],c=i[2],h=i[3],d=this.transitionsBetween(s,h)+1,m=this.transitionsBetween(c,h)+1,w=ze.shiftPoint(s,a,m*4),_=ze.shiftPoint(c,a,d*4);d=this.transitionsBetween(w,h)+1,m=this.transitionsBetween(_,h)+1,(d&1)===1&&(d+=1),(m&1)===1&&(m+=1);let b=(s.getX()+a.getX()+c.getX()+h.getX())/4,M=(s.getY()+a.getY()+c.getY()+h.getY())/4;s=ze.moveAway(s,b,M),a=ze.moveAway(a,b,M),c=ze.moveAway(c,b,M),h=ze.moveAway(h,b,M);let R,U;return w=ze.shiftPoint(s,a,m*4),w=ze.shiftPoint(w,h,d*4),R=ze.shiftPoint(a,s,m*4),R=ze.shiftPoint(R,c,d*4),_=ze.shiftPoint(c,h,m*4),_=ze.shiftPoint(_,a,d*4),U=ze.shiftPoint(h,c,m*4),U=ze.shiftPoint(U,s,d*4),[w,R,_,U]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,s,a,c,h,d,m){return Hi.getInstance().sampleGrid(i,d,m,.5,.5,d-.5,.5,d-.5,m-.5,.5,m-.5,s.getX(),s.getY(),h.getX(),h.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(i,s){let a=Math.trunc(i.getX()),c=Math.trunc(i.getY()),h=Math.trunc(s.getX()),d=Math.trunc(s.getY()),m=Math.abs(d-c)>Math.abs(h-a);if(m){let Y=a;a=c,c=Y,Y=h,h=d,d=Y}let w=Math.abs(h-a),_=Math.abs(d-c),b=-w/2,M=c<d?1:-1,R=a<h?1:-1,U=0,G=this.image.get(m?c:a,m?a:c);for(let Y=a,K=c;Y!==h;Y+=R){let ne=this.image.get(m?K:Y,m?Y:K);if(ne!==G&&(U++,G=ne),b+=_,b>0){if(K===d)break;K+=M,b-=w}}return U}}class yt{constructor(){this.decoder=new Pa}decode(i,s=null){let a,c;if(s!=null&&s.has(ae.PURE_BARCODE)){const _=yt.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(_),c=yt.NO_POINTS}else{const _=new ze(i.getBlackMatrix()).detect();a=this.decoder.decode(_.getBits()),c=_.getPoints()}const h=a.getRawBytes(),d=new me(a.getText(),h,8*h.length,c,ce.DATA_MATRIX,P.currentTimeMillis()),m=a.getByteSegments();m!=null&&d.putMetadata(Ee.BYTE_SEGMENTS,m);const w=a.getECLevel();return w!=null&&d.putMetadata(Ee.ERROR_CORRECTION_LEVEL,w),d}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s==null||a==null)throw new re;const c=this.moduleSize(s,i);let h=s[1];const d=a[1];let m=s[0];const _=(a[0]-m+1)/c,b=(d-h+1)/c;if(_<=0||b<=0)throw new re;const M=c/2;h+=M,m+=M;const R=new Fe(_,b);for(let U=0;U<b;U++){const G=h+U*c;for(let Y=0;Y<_;Y++)i.get(m+Y*c,G)&&R.set(Y,U)}return R}static moduleSize(i,s){const a=s.getWidth();let c=i[0];const h=i[1];for(;c<a&&s.get(c,h);)c++;if(c===a)throw new re;const d=c-i[0];if(d===0)throw new re;return d}}yt.NO_POINTS=[];class Da extends Ae{constructor(i=500){super(new yt,i)}}var Zi;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(Zi||(Zi={}));class nt{constructor(i,s,a){this.value=i,this.stringValue=s,this.bits=a,nt.FOR_BITS.set(a,this),nt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return nt.L;case"M":return nt.M;case"Q":return nt.Q;case"H":return nt.H;default:throw new E(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof nt))return!1;const s=i;return this.value===s.value}static forBits(i){if(i<0||i>=nt.FOR_BITS.size)throw new A;return nt.FOR_BITS.get(i)}}nt.FOR_BITS=new Map,nt.FOR_VALUE=new Map,nt.L=new nt(Zi.L,"L",1),nt.M=new nt(Zi.M,"M",0),nt.Q=new nt(Zi.Q,"Q",3),nt.H=new nt(Zi.H,"H",2);class wn{constructor(i){this.errorCorrectionLevel=nt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,s){return B.bitCount(i^s)}static decodeFormatInformation(i,s){const a=wn.doDecodeFormatInformation(i,s);return a!==null?a:wn.doDecodeFormatInformation(i^wn.FORMAT_INFO_MASK_QR,s^wn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,s){let a=Number.MAX_SAFE_INTEGER,c=0;for(const h of wn.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===i||d===s)return new wn(h[1]);let m=wn.numBitsDiffering(i,d);m<a&&(c=h[1],a=m),i!==s&&(m=wn.numBitsDiffering(s,d),m<a&&(c=h[1],a=m))}return a<=3?new wn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof wn))return!1;const s=i;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}wn.FORMAT_INFO_MASK_QR=21522,wn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(i,...s){this.ecCodewordsPerBlock=i,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const s=this.ecBlocks;for(const a of s)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class z{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Se{constructor(i,s,...a){this.versionNumber=i,this.alignmentPatternCenters=s,this.ecBlocks=a;let c=0;const h=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const m of d)c+=m.getCount()*(m.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new X;try{return this.getVersionForNumber((i-17)/4)}catch{throw new X}}static getVersionForNumber(i){if(i<1||i>40)throw new A;return Se.VERSIONS[i-1]}static decodeVersionInformation(i){let s=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<Se.VERSION_DECODE_INFO.length;c++){const h=Se.VERSION_DECODE_INFO[c];if(h===i)return Se.getVersionForNumber(c+7);const d=wn.numBitsDiffering(i,h);d<s&&(a=c+7,s=d)}return s<=3?Se.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),s=new Fe(i);s.setRegion(0,0,9,9),s.setRegion(i-8,0,8,9),s.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const h=this.alignmentPatternCenters[c]-2;for(let d=0;d<a;d++)c===0&&(d===0||d===a-1)||c===a-1&&d===0||s.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return s.setRegion(6,9,1,i-17),s.setRegion(9,6,i-17,1),this.versionNumber>6&&(s.setRegion(i-11,0,3,6),s.setRegion(0,i-11,6,3)),s}toString(){return""+this.versionNumber}}Se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Se.VERSIONS=[new Se(1,new Int32Array(0),new q(7,new z(1,19)),new q(10,new z(1,16)),new q(13,new z(1,13)),new q(17,new z(1,9))),new Se(2,Int32Array.from([6,18]),new q(10,new z(1,34)),new q(16,new z(1,28)),new q(22,new z(1,22)),new q(28,new z(1,16))),new Se(3,Int32Array.from([6,22]),new q(15,new z(1,55)),new q(26,new z(1,44)),new q(18,new z(2,17)),new q(22,new z(2,13))),new Se(4,Int32Array.from([6,26]),new q(20,new z(1,80)),new q(18,new z(2,32)),new q(26,new z(2,24)),new q(16,new z(4,9))),new Se(5,Int32Array.from([6,30]),new q(26,new z(1,108)),new q(24,new z(2,43)),new q(18,new z(2,15),new z(2,16)),new q(22,new z(2,11),new z(2,12))),new Se(6,Int32Array.from([6,34]),new q(18,new z(2,68)),new q(16,new z(4,27)),new q(24,new z(4,19)),new q(28,new z(4,15))),new Se(7,Int32Array.from([6,22,38]),new q(20,new z(2,78)),new q(18,new z(4,31)),new q(18,new z(2,14),new z(4,15)),new q(26,new z(4,13),new z(1,14))),new Se(8,Int32Array.from([6,24,42]),new q(24,new z(2,97)),new q(22,new z(2,38),new z(2,39)),new q(22,new z(4,18),new z(2,19)),new q(26,new z(4,14),new z(2,15))),new Se(9,Int32Array.from([6,26,46]),new q(30,new z(2,116)),new q(22,new z(3,36),new z(2,37)),new q(20,new z(4,16),new z(4,17)),new q(24,new z(4,12),new z(4,13))),new Se(10,Int32Array.from([6,28,50]),new q(18,new z(2,68),new z(2,69)),new q(26,new z(4,43),new z(1,44)),new q(24,new z(6,19),new z(2,20)),new q(28,new z(6,15),new z(2,16))),new Se(11,Int32Array.from([6,30,54]),new q(20,new z(4,81)),new q(30,new z(1,50),new z(4,51)),new q(28,new z(4,22),new z(4,23)),new q(24,new z(3,12),new z(8,13))),new Se(12,Int32Array.from([6,32,58]),new q(24,new z(2,92),new z(2,93)),new q(22,new z(6,36),new z(2,37)),new q(26,new z(4,20),new z(6,21)),new q(28,new z(7,14),new z(4,15))),new Se(13,Int32Array.from([6,34,62]),new q(26,new z(4,107)),new q(22,new z(8,37),new z(1,38)),new q(24,new z(8,20),new z(4,21)),new q(22,new z(12,11),new z(4,12))),new Se(14,Int32Array.from([6,26,46,66]),new q(30,new z(3,115),new z(1,116)),new q(24,new z(4,40),new z(5,41)),new q(20,new z(11,16),new z(5,17)),new q(24,new z(11,12),new z(5,13))),new Se(15,Int32Array.from([6,26,48,70]),new q(22,new z(5,87),new z(1,88)),new q(24,new z(5,41),new z(5,42)),new q(30,new z(5,24),new z(7,25)),new q(24,new z(11,12),new z(7,13))),new Se(16,Int32Array.from([6,26,50,74]),new q(24,new z(5,98),new z(1,99)),new q(28,new z(7,45),new z(3,46)),new q(24,new z(15,19),new z(2,20)),new q(30,new z(3,15),new z(13,16))),new Se(17,Int32Array.from([6,30,54,78]),new q(28,new z(1,107),new z(5,108)),new q(28,new z(10,46),new z(1,47)),new q(28,new z(1,22),new z(15,23)),new q(28,new z(2,14),new z(17,15))),new Se(18,Int32Array.from([6,30,56,82]),new q(30,new z(5,120),new z(1,121)),new q(26,new z(9,43),new z(4,44)),new q(28,new z(17,22),new z(1,23)),new q(28,new z(2,14),new z(19,15))),new Se(19,Int32Array.from([6,30,58,86]),new q(28,new z(3,113),new z(4,114)),new q(26,new z(3,44),new z(11,45)),new q(26,new z(17,21),new z(4,22)),new q(26,new z(9,13),new z(16,14))),new Se(20,Int32Array.from([6,34,62,90]),new q(28,new z(3,107),new z(5,108)),new q(26,new z(3,41),new z(13,42)),new q(30,new z(15,24),new z(5,25)),new q(28,new z(15,15),new z(10,16))),new Se(21,Int32Array.from([6,28,50,72,94]),new q(28,new z(4,116),new z(4,117)),new q(26,new z(17,42)),new q(28,new z(17,22),new z(6,23)),new q(30,new z(19,16),new z(6,17))),new Se(22,Int32Array.from([6,26,50,74,98]),new q(28,new z(2,111),new z(7,112)),new q(28,new z(17,46)),new q(30,new z(7,24),new z(16,25)),new q(24,new z(34,13))),new Se(23,Int32Array.from([6,30,54,78,102]),new q(30,new z(4,121),new z(5,122)),new q(28,new z(4,47),new z(14,48)),new q(30,new z(11,24),new z(14,25)),new q(30,new z(16,15),new z(14,16))),new Se(24,Int32Array.from([6,28,54,80,106]),new q(30,new z(6,117),new z(4,118)),new q(28,new z(6,45),new z(14,46)),new q(30,new z(11,24),new z(16,25)),new q(30,new z(30,16),new z(2,17))),new Se(25,Int32Array.from([6,32,58,84,110]),new q(26,new z(8,106),new z(4,107)),new q(28,new z(8,47),new z(13,48)),new q(30,new z(7,24),new z(22,25)),new q(30,new z(22,15),new z(13,16))),new Se(26,Int32Array.from([6,30,58,86,114]),new q(28,new z(10,114),new z(2,115)),new q(28,new z(19,46),new z(4,47)),new q(28,new z(28,22),new z(6,23)),new q(30,new z(33,16),new z(4,17))),new Se(27,Int32Array.from([6,34,62,90,118]),new q(30,new z(8,122),new z(4,123)),new q(28,new z(22,45),new z(3,46)),new q(30,new z(8,23),new z(26,24)),new q(30,new z(12,15),new z(28,16))),new Se(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new z(3,117),new z(10,118)),new q(28,new z(3,45),new z(23,46)),new q(30,new z(4,24),new z(31,25)),new q(30,new z(11,15),new z(31,16))),new Se(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new z(7,116),new z(7,117)),new q(28,new z(21,45),new z(7,46)),new q(30,new z(1,23),new z(37,24)),new q(30,new z(19,15),new z(26,16))),new Se(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new z(5,115),new z(10,116)),new q(28,new z(19,47),new z(10,48)),new q(30,new z(15,24),new z(25,25)),new q(30,new z(23,15),new z(25,16))),new Se(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new z(13,115),new z(3,116)),new q(28,new z(2,46),new z(29,47)),new q(30,new z(42,24),new z(1,25)),new q(30,new z(23,15),new z(28,16))),new Se(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new z(17,115)),new q(28,new z(10,46),new z(23,47)),new q(30,new z(10,24),new z(35,25)),new q(30,new z(19,15),new z(35,16))),new Se(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new z(17,115),new z(1,116)),new q(28,new z(14,46),new z(21,47)),new q(30,new z(29,24),new z(19,25)),new q(30,new z(11,15),new z(46,16))),new Se(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new z(13,115),new z(6,116)),new q(28,new z(14,46),new z(23,47)),new q(30,new z(44,24),new z(7,25)),new q(30,new z(59,16),new z(1,17))),new Se(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new z(12,121),new z(7,122)),new q(28,new z(12,47),new z(26,48)),new q(30,new z(39,24),new z(14,25)),new q(30,new z(22,15),new z(41,16))),new Se(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new z(6,121),new z(14,122)),new q(28,new z(6,47),new z(34,48)),new q(30,new z(46,24),new z(10,25)),new q(30,new z(2,15),new z(64,16))),new Se(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new z(17,122),new z(4,123)),new q(28,new z(29,46),new z(14,47)),new q(30,new z(49,24),new z(10,25)),new q(30,new z(24,15),new z(46,16))),new Se(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new z(4,122),new z(18,123)),new q(28,new z(13,46),new z(32,47)),new q(30,new z(48,24),new z(14,25)),new q(30,new z(42,15),new z(32,16))),new Se(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new z(20,117),new z(4,118)),new q(28,new z(40,47),new z(7,48)),new q(30,new z(43,24),new z(22,25)),new q(30,new z(10,15),new z(67,16))),new Se(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new z(19,118),new z(6,119)),new q(28,new z(18,47),new z(31,48)),new q(30,new z(34,24),new z(34,25)),new q(30,new z(20,15),new z(61,16)))];var Ot;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(Ot||(Ot={}));class vn{constructor(i,s){this.value=i,this.isMasked=s}unmaskBitMatrix(i,s){for(let a=0;a<s;a++)for(let c=0;c<s;c++)this.isMasked(a,c)&&i.flip(c,a)}}vn.values=new Map([[Ot.DATA_MASK_000,new vn(Ot.DATA_MASK_000,(N,i)=>(N+i&1)===0)],[Ot.DATA_MASK_001,new vn(Ot.DATA_MASK_001,(N,i)=>(N&1)===0)],[Ot.DATA_MASK_010,new vn(Ot.DATA_MASK_010,(N,i)=>i%3===0)],[Ot.DATA_MASK_011,new vn(Ot.DATA_MASK_011,(N,i)=>(N+i)%3===0)],[Ot.DATA_MASK_100,new vn(Ot.DATA_MASK_100,(N,i)=>(Math.floor(N/2)+Math.floor(i/3)&1)===0)],[Ot.DATA_MASK_101,new vn(Ot.DATA_MASK_101,(N,i)=>N*i%6===0)],[Ot.DATA_MASK_110,new vn(Ot.DATA_MASK_110,(N,i)=>N*i%6<3)],[Ot.DATA_MASK_111,new vn(Ot.DATA_MASK_111,(N,i)=>(N+i+N*i%3&1)===0)]]);class Vs{constructor(i){const s=i.getHeight();if(s<21||(s&3)!==1)throw new X;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const s=this.bitMatrix.getHeight();let a=0;const c=s-7;for(let h=s-1;h>=c;h--)a=this.copyBit(8,h,a);for(let h=s-8;h<s;h++)a=this.copyBit(h,8,a);if(this.parsedFormatInfo=wn.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),s=Math.floor((i-17)/4);if(s<=6)return Se.getVersionForNumber(s);let a=0;const c=i-11;for(let d=5;d>=0;d--)for(let m=i-9;m>=c;m--)a=this.copyBit(m,d,a);let h=Se.decodeVersionInformation(a);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;a=0;for(let d=5;d>=0;d--)for(let m=i-9;m>=c;m--)a=this.copyBit(d,m,a);if(h=Se.decodeVersionInformation(a),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new X}copyBit(i,s,a){return(this.isMirror?this.bitMatrix.get(s,i):this.bitMatrix.get(i,s))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),s=this.readVersion(),a=vn.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const h=s.buildFunctionPattern();let d=!0;const m=new Uint8Array(s.getTotalCodewords());let w=0,_=0,b=0;for(let M=c-1;M>0;M-=2){M===6&&M--;for(let R=0;R<c;R++){const U=d?c-1-R:R;for(let G=0;G<2;G++)h.get(M-G,U)||(b++,_<<=1,this.bitMatrix.get(M-G,U)&&(_|=1),b===8&&(m[w++]=_,b=0,_=0))}d=!d}if(w!==s.getTotalCodewords())throw new X;return m}remask(){if(this.parsedFormatInfo===null)return;const i=vn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let s=0,a=i.getWidth();s<a;s++)for(let c=s+1,h=i.getHeight();c<h;c++)i.get(s,c)!==i.get(c,s)&&(i.flip(c,s),i.flip(s,c))}}class Hs{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s,a){if(i.length!==s.getTotalCodewords())throw new A;const c=s.getECBlocksForLevel(a);let h=0;const d=c.getECBlocks();for(const G of d)h+=G.getCount();const m=new Array(h);let w=0;for(const G of d)for(let Y=0;Y<G.getCount();Y++){const K=G.getDataCodewords(),ne=c.getECCodewordsPerBlock()+K;m[w++]=new Hs(K,new Uint8Array(ne))}const _=m[0].codewords.length;let b=m.length-1;for(;b>=0&&m[b].codewords.length!==_;)b--;b++;const M=_-c.getECCodewordsPerBlock();let R=0;for(let G=0;G<M;G++)for(let Y=0;Y<w;Y++)m[Y].codewords[G]=i[R++];for(let G=b;G<w;G++)m[G].codewords[M]=i[R++];const U=m[0].codewords.length;for(let G=M;G<U;G++)for(let Y=0;Y<w;Y++){const K=Y<b?G:G+1;m[Y].codewords[K]=i[R++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var _n;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(_n||(_n={}));class He{constructor(i,s,a,c){this.value=i,this.stringValue=s,this.characterCountBitsForVersions=a,this.bits=c,He.FOR_BITS.set(c,this),He.FOR_VALUE.set(i,this)}static forBits(i){const s=He.FOR_BITS.get(i);if(s===void 0)throw new A;return s}getCharacterCountBits(i){const s=i.getVersionNumber();let a;return s<=9?a=0:s<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof He))return!1;const s=i;return this.value===s.value}toString(){return this.stringValue}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.TERMINATOR=new He(_n.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),He.NUMERIC=new He(_n.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),He.ALPHANUMERIC=new He(_n.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),He.STRUCTURED_APPEND=new He(_n.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),He.BYTE=new He(_n.BYTE,"BYTE",Int32Array.from([8,16,16]),4),He.ECI=new He(_n.ECI,"ECI",Int32Array.from([0,0,0]),7),He.KANJI=new He(_n.KANJI,"KANJI",Int32Array.from([8,10,12]),8),He.FNC1_FIRST_POSITION=new He(_n.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),He.FNC1_SECOND_POSITION=new He(_n.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),He.HANZI=new He(_n.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class It{static decode(i,s,a,c){const h=new Xr(i);let d=new Le;const m=new Array;let w=-1,_=-1;try{let b=null,M=!1,R;do{if(h.available()<4)R=He.TERMINATOR;else{const U=h.readBits(4);R=He.forBits(U)}switch(R){case He.TERMINATOR:break;case He.FNC1_FIRST_POSITION:case He.FNC1_SECOND_POSITION:M=!0;break;case He.STRUCTURED_APPEND:if(h.available()<16)throw new X;w=h.readBits(8),_=h.readBits(8);break;case He.ECI:const U=It.parseECIValue(h);if(b=J.getCharacterSetECIByValue(U),b===null)throw new X;break;case He.HANZI:const G=h.readBits(4),Y=h.readBits(R.getCharacterCountBits(s));G===It.GB2312_SUBSET&&It.decodeHanziSegment(h,d,Y);break;default:const K=h.readBits(R.getCharacterCountBits(s));switch(R){case He.NUMERIC:It.decodeNumericSegment(h,d,K);break;case He.ALPHANUMERIC:It.decodeAlphanumericSegment(h,d,K,M);break;case He.BYTE:It.decodeByteSegment(h,d,K,b,m,c);break;case He.KANJI:It.decodeKanjiSegment(h,d,K);break;default:throw new X}break}}while(R!==He.TERMINATOR)}catch{throw new X}return new qe(i,d.toString(),m.length===0?null:m,a===null?null:a.toString(),w,_)}static decodeHanziSegment(i,s,a){if(a*13>i.available())throw new X;const c=new Uint8Array(2*a);let h=0;for(;a>0;){const d=i.readBits(13);let m=d/96<<8&4294967295|d%96;m<959?m+=41377:m+=42657,c[h]=m>>8&255,c[h+1]=m&255,h+=2,a--}try{s.append(Ue.decode(c,we.GB2312))}catch(d){throw new X(d)}}static decodeKanjiSegment(i,s,a){if(a*13>i.available())throw new X;const c=new Uint8Array(2*a);let h=0;for(;a>0;){const d=i.readBits(13);let m=d/192<<8&4294967295|d%192;m<7936?m+=33088:m+=49472,c[h]=m>>8,c[h+1]=m,h+=2,a--}try{s.append(Ue.decode(c,we.SHIFT_JIS))}catch(d){throw new X(d)}}static decodeByteSegment(i,s,a,c,h,d){if(8*a>i.available())throw new X;const m=new Uint8Array(a);for(let _=0;_<a;_++)m[_]=i.readBits(8);let w;c===null?w=we.guessEncoding(m,d):w=c.getName();try{s.append(Ue.decode(m,w))}catch(_){throw new X(_)}h.push(m)}static toAlphaNumericChar(i){if(i>=It.ALPHANUMERIC_CHARS.length)throw new X;return It.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,a,c){const h=s.length();for(;a>1;){if(i.available()<11)throw new X;const d=i.readBits(11);s.append(It.toAlphaNumericChar(Math.floor(d/45))),s.append(It.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(i.available()<6)throw new X;s.append(It.toAlphaNumericChar(i.readBits(6)))}if(c)for(let d=h;d<s.length();d++)s.charAt(d)==="%"&&(d<s.length()-1&&s.charAt(d+1)==="%"?s.deleteCharAt(d+1):s.setCharAt(d,""))}static decodeNumericSegment(i,s,a){for(;a>=3;){if(i.available()<10)throw new X;const c=i.readBits(10);if(c>=1e3)throw new X;s.append(It.toAlphaNumericChar(Math.floor(c/100))),s.append(It.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(It.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(i.available()<7)throw new X;const c=i.readBits(7);if(c>=100)throw new X;s.append(It.toAlphaNumericChar(Math.floor(c/10))),s.append(It.toAlphaNumericChar(c%10))}else if(a===1){if(i.available()<4)throw new X;const c=i.readBits(4);if(c>=10)throw new X;s.append(It.toAlphaNumericChar(c))}}static parseECIValue(i){const s=i.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const a=i.readBits(8);return(s&63)<<8&4294967295|a}if((s&224)===192){const a=i.readBits(16);return(s&31)<<16&4294967295|a}throw new X}}It.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",It.GB2312_SUBSET=1;class Ws{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const s=i[0];i[0]=i[2],i[2]=s}}class ka{constructor(){this.rsDecoder=new Zr(Ve.QR_CODE_FIELD_256)}decodeBooleanArray(i,s){return this.decodeBitMatrix(Fe.parseFromBooleanArray(i),s)}decodeBitMatrix(i,s){const a=new Vs(i);let c=null;try{return this.decodeBitMatrixParser(a,s)}catch(h){c=h}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const h=this.decodeBitMatrixParser(a,s);return h.setOther(new Ws(!0)),h}catch(h){throw c!==null?c:h}}decodeBitMatrixParser(i,s){const a=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),d=Hs.getDataBlocks(h,a,c);let m=0;for(const b of d)m+=b.getNumDataCodewords();const w=new Uint8Array(m);let _=0;for(const b of d){const M=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(M,R);for(let U=0;U<R;U++)w[_++]=M[U]}return It.decode(w,a,c,s)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new O}for(let c=0;c<s;c++)i[c]=a[c]}}class Zs extends ke{constructor(i,s,a){super(i,s),this.estimatedModuleSize=a}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const c=(this.getX()+s)/2,h=(this.getY()+i)/2,d=(this.estimatedModuleSize+a)/2;return new Zs(c,h,d)}}class Er{constructor(i,s,a,c,h,d,m){this.image=i,this.startX=s,this.startY=a,this.width=c,this.height=h,this.moduleSize=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,s=this.height,a=this.width,c=i+a,h=this.startY+s/2,d=new Int32Array(3),m=this.image;for(let w=0;w<s;w++){const _=h+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));d[0]=0,d[1]=0,d[2]=0;let b=i;for(;b<c&&!m.get(b,_);)b++;let M=0;for(;b<c;){if(m.get(b,_))if(M===1)d[1]++;else if(M===2){if(this.foundPatternCross(d)){const R=this.handlePossibleCenter(d,_,b);if(R!==null)return R}d[0]=d[2],d[1]=1,d[2]=0,M=1}else d[++M]++;else M===1&&M++,d[M]++;b++}if(this.foundPatternCross(d)){const R=this.handlePossibleCenter(d,_,c);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(i,s){return s-i[2]-i[1]/2}foundPatternCross(i){const s=this.moduleSize,a=s/2;for(let c=0;c<3;c++)if(Math.abs(s-i[c])>=a)return!1;return!0}crossCheckVertical(i,s,a,c){const h=this.image,d=h.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let w=i;for(;w>=0&&h.get(s,w)&&m[1]<=a;)m[1]++,w--;if(w<0||m[1]>a)return NaN;for(;w>=0&&!h.get(s,w)&&m[0]<=a;)m[0]++,w--;if(m[0]>a)return NaN;for(w=i+1;w<d&&h.get(s,w)&&m[1]<=a;)m[1]++,w++;if(w===d||m[1]>a)return NaN;for(;w<d&&!h.get(s,w)&&m[2]<=a;)m[2]++,w++;if(m[2]>a)return NaN;const _=m[0]+m[1]+m[2];return 5*Math.abs(_-c)>=2*c?NaN:this.foundPatternCross(m)?Er.centerFromEnd(m,w):NaN}handlePossibleCenter(i,s,a){const c=i[0]+i[1]+i[2],h=Er.centerFromEnd(i,a),d=this.crossCheckVertical(s,h,2*i[1],c);if(!isNaN(d)){const m=(i[0]+i[1]+i[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(m,d,h))return _.combineEstimate(d,h,m);const w=new Zs(h,d,m);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Io extends ke{constructor(i,s,a,c){super(i,s),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const c=this.count+1,h=(this.count*this.getX()+s)/c,d=(this.count*this.getY()+i)/c,m=(this.count*this.estimatedModuleSize+a)/c;return new Io(h,d,m,c)}}class Ba{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class rn{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const s=i!=null&&i.get(ae.TRY_HARDER)!==void 0,a=i!=null&&i.get(ae.PURE_BARCODE)!==void 0,c=this.image,h=c.getHeight(),d=c.getWidth();let m=Math.floor(3*h/(4*rn.MAX_MODULES));(m<rn.MIN_SKIP||s)&&(m=rn.MIN_SKIP);let w=!1;const _=new Int32Array(5);for(let M=m-1;M<h&&!w;M+=m){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let R=0;for(let U=0;U<d;U++)if(c.get(U,M))(R&1)===1&&R++,_[R]++;else if(R&1)_[R]++;else if(R===4)if(rn.foundPatternCross(_)){if(this.handlePossibleCenter(_,M,U,a)===!0)if(m=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>_[2]&&(M+=Y-_[2]-m,U=d-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,R=3;continue}R=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,R=3;else _[++R]++;rn.foundPatternCross(_)&&this.handlePossibleCenter(_,M,d,a)===!0&&(m=_[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return ke.orderBestPatterns(b),new Ba(b)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let h=0;h<5;h++){const d=i[h];if(d===0)return!1;s+=d}if(s<7)return!1;const a=s/7,c=a/2;return Math.abs(a-i[0])<c&&Math.abs(a-i[1])<c&&Math.abs(3*a-i[2])<3*c&&Math.abs(a-i[3])<c&&Math.abs(a-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,a,c){const h=this.getCrossCheckStateCount();let d=0;const m=this.image;for(;i>=d&&s>=d&&m.get(s-d,i-d);)h[2]++,d++;if(i<d||s<d)return!1;for(;i>=d&&s>=d&&!m.get(s-d,i-d)&&h[1]<=a;)h[1]++,d++;if(i<d||s<d||h[1]>a)return!1;for(;i>=d&&s>=d&&m.get(s-d,i-d)&&h[0]<=a;)h[0]++,d++;if(h[0]>a)return!1;const w=m.getHeight(),_=m.getWidth();for(d=1;i+d<w&&s+d<_&&m.get(s+d,i+d);)h[2]++,d++;if(i+d>=w||s+d>=_)return!1;for(;i+d<w&&s+d<_&&!m.get(s+d,i+d)&&h[3]<a;)h[3]++,d++;if(i+d>=w||s+d>=_||h[3]>=a)return!1;for(;i+d<w&&s+d<_&&m.get(s+d,i+d)&&h[4]<a;)h[4]++,d++;if(h[4]>=a)return!1;const b=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(b-c)<2*c&&rn.foundPatternCross(h)}crossCheckVertical(i,s,a,c){const h=this.image,d=h.getHeight(),m=this.getCrossCheckStateCount();let w=i;for(;w>=0&&h.get(s,w);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(s,w)&&m[1]<=a;)m[1]++,w--;if(w<0||m[1]>a)return NaN;for(;w>=0&&h.get(s,w)&&m[0]<=a;)m[0]++,w--;if(m[0]>a)return NaN;for(w=i+1;w<d&&h.get(s,w);)m[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(s,w)&&m[3]<a;)m[3]++,w++;if(w===d||m[3]>=a)return NaN;for(;w<d&&h.get(s,w)&&m[4]<a;)m[4]++,w++;if(m[4]>=a)return NaN;const _=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(_-c)>=2*c?NaN:rn.foundPatternCross(m)?rn.centerFromEnd(m,w):NaN}crossCheckHorizontal(i,s,a,c){const h=this.image,d=h.getWidth(),m=this.getCrossCheckStateCount();let w=i;for(;w>=0&&h.get(w,s);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(w,s)&&m[1]<=a;)m[1]++,w--;if(w<0||m[1]>a)return NaN;for(;w>=0&&h.get(w,s)&&m[0]<=a;)m[0]++,w--;if(m[0]>a)return NaN;for(w=i+1;w<d&&h.get(w,s);)m[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(w,s)&&m[3]<a;)m[3]++,w++;if(w===d||m[3]>=a)return NaN;for(;w<d&&h.get(w,s)&&m[4]<a;)m[4]++,w++;if(m[4]>=a)return NaN;const _=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(_-c)>=c?NaN:rn.foundPatternCross(m)?rn.centerFromEnd(m,w):NaN}handlePossibleCenter(i,s,a,c){const h=i[0]+i[1]+i[2]+i[3]+i[4];let d=rn.centerFromEnd(i,a),m=this.crossCheckVertical(s,Math.floor(d),i[2],h);if(!isNaN(m)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(m),i[2],h),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(m),Math.floor(d),i[2],h)))){const w=h/7;let _=!1;const b=this.possibleCenters;for(let M=0,R=b.length;M<R;M++){const U=b[M];if(U.aboutEquals(w,m,d)){b[M]=U.combineEstimate(m,d,w),_=!0;break}}if(!_){const M=new Io(d,m,w);b.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const a of this.possibleCenters)if(a.getCount()>=rn.CENTER_QUORUM)if(s==null)s=a;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-a.getX())-Math.abs(s.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=rn.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize());if(i<3)return!1;const c=s/a;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-c);return h<=.05*s}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new re;const s=this.possibleCenters;let a;if(i>3){let c=0,h=0;for(const w of this.possibleCenters){const _=w.getEstimatedModuleSize();c+=_,h+=_*_}a=c/i;let d=Math.sqrt(h/i-a*a);s.sort((w,_)=>{const b=Math.abs(_.getEstimatedModuleSize()-a),M=Math.abs(w.getEstimatedModuleSize()-a);return b<M?-1:b>M?1:0});const m=Math.max(.2*a,d);for(let w=0;w<s.length&&s.length>3;w++){const _=s[w];Math.abs(_.getEstimatedModuleSize()-a)>m&&(s.splice(w,1),w--)}}if(s.length>3){let c=0;for(const h of s)c+=h.getEstimatedModuleSize();a=c/s.length,s.sort((h,d)=>{if(d.getCount()===h.getCount()){const m=Math.abs(d.getEstimatedModuleSize()-a),w=Math.abs(h.getEstimatedModuleSize()-a);return m<w?1:m>w?-1:0}else return d.getCount()-h.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}rn.CENTER_QUORUM=2,rn.MIN_SKIP=3,rn.MAX_MODULES=57;class Ye{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(ae.NEED_RESULT_POINT_CALLBACK);const a=new rn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const s=i.getTopLeft(),a=i.getTopRight(),c=i.getBottomLeft(),h=this.calculateModuleSize(s,a,c);if(h<1)throw new re("No pattern found in proccess finder.");const d=Ye.computeDimension(s,a,c,h),m=Se.getProvisionalVersionForDimension(d),w=m.getDimensionForVersion()-7;let _=null;if(m.getAlignmentPatternCenters().length>0){const U=a.getX()-s.getX()+c.getX(),G=a.getY()-s.getY()+c.getY(),Y=1-3/w,K=Math.floor(s.getX()+Y*(U-s.getX())),ne=Math.floor(s.getY()+Y*(G-s.getY()));for(let ge=4;ge<=16;ge<<=1)try{_=this.findAlignmentInRegion(h,K,ne,ge);break}catch(xe){if(!(xe instanceof re))throw xe}}const b=Ye.createTransform(s,a,c,_,d),M=Ye.sampleGrid(this.image,b,d);let R;return _===null?R=[c,s,a]:R=[c,s,a,_],new ks(M,R)}static createTransform(i,s,a,c,h){const d=h-3.5;let m,w,_,b;return c!==null?(m=c.getX(),w=c.getY(),_=d-3,b=_):(m=s.getX()-i.getX()+a.getX(),w=s.getY()-i.getY()+a.getY(),_=d,b=d),zn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,_,b,3.5,d,i.getX(),i.getY(),s.getX(),s.getY(),m,w,a.getX(),a.getY())}static sampleGrid(i,s,a){return Hi.getInstance().sampleGridWithTransform(i,a,a,s)}static computeDimension(i,s,a,c){const h=ct.round(ke.distance(i,s)/c),d=ct.round(ke.distance(i,a)/c);let m=Math.floor((h+d)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new re("Dimensions could be not found.")}return m}calculateModuleSize(i,s,a){return(this.calculateModuleSizeOneWay(i,s)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,s){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,s,a,c){let h=this.sizeOfBlackWhiteBlackRun(i,s,a,c),d=1,m=i-(a-i);m<0?(d=i/(i-m),m=0):m>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let w=Math.floor(s-(c-s)*d);return d=1,w<0?(d=s/(s-w),w=0):w>=this.image.getHeight()&&(d=(this.image.getHeight()-1-s)/(w-s),w=this.image.getHeight()-1),m=Math.floor(i+(m-i)*d),h+=this.sizeOfBlackWhiteBlackRun(i,s,m,w),h-1}sizeOfBlackWhiteBlackRun(i,s,a,c){const h=Math.abs(c-s)>Math.abs(a-i);if(h){let U=i;i=s,s=U,U=a,a=c,c=U}const d=Math.abs(a-i),m=Math.abs(c-s);let w=-d/2;const _=i<a?1:-1,b=s<c?1:-1;let M=0;const R=a+_;for(let U=i,G=s;U!==R;U+=_){const Y=h?G:U,K=h?U:G;if(M===1===this.image.get(Y,K)){if(M===2)return ct.distance(U,G,i,s);M++}if(w+=m,w>0){if(G===c)break;G+=b,w-=d}}return M===2?ct.distance(a+_,c,i,s):NaN}findAlignmentInRegion(i,s,a,c){const h=Math.floor(c*i),d=Math.max(0,s-h),m=Math.min(this.image.getWidth()-1,s+h);if(m-d<i*3)throw new re("Alignment top exceeds estimated module size.");const w=Math.max(0,a-h),_=Math.min(this.image.getHeight()-1,a+h);if(_-w<i*3)throw new re("Alignment bottom exceeds estimated module size.");return new Er(this.image,d,w,m-d,_-w,i,this.resultPointCallback).find()}}class un{constructor(){this.decoder=new ka}getDecoder(){return this.decoder}decode(i,s){let a,c;if(s!=null&&s.get(ae.PURE_BARCODE)!==void 0){const w=un.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(w,s),c=un.NO_POINTS}else{const w=new Ye(i.getBlackMatrix()).detect(s);a=this.decoder.decodeBitMatrix(w.getBits(),s),c=w.getPoints()}a.getOther()instanceof Ws&&a.getOther().applyMirroredCorrection(c);const h=new me(a.getText(),a.getRawBytes(),void 0,c,ce.QR_CODE,void 0),d=a.getByteSegments();d!==null&&h.putMetadata(Ee.BYTE_SEGMENTS,d);const m=a.getECLevel();return m!==null&&h.putMetadata(Ee.ERROR_CORRECTION_LEVEL,m),a.hasStructuredAppend()&&(h.putMetadata(Ee.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),h.putMetadata(Ee.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s===null||a===null)throw new re;const c=this.moduleSize(s,i);let h=s[1],d=a[1],m=s[0],w=a[0];if(m>=w||h>=d)throw new re;if(d-h!==w-m&&(w=m+(d-h),w>=i.getWidth()))throw new re;const _=Math.round((w-m+1)/c),b=Math.round((d-h+1)/c);if(_<=0||b<=0)throw new re;if(b!==_)throw new re;const M=Math.floor(c/2);h+=M,m+=M;const R=m+Math.floor((_-1)*c)-w;if(R>0){if(R>M)throw new re;m-=R}const U=h+Math.floor((b-1)*c)-d;if(U>0){if(U>M)throw new re;h-=U}const G=new Fe(_,b);for(let Y=0;Y<b;Y++){const K=h+Math.floor(Y*c);for(let ne=0;ne<_;ne++)i.get(m+Math.floor(ne*c),K)&&G.set(ne,Y)}return G}static moduleSize(i,s){const a=s.getHeight(),c=s.getWidth();let h=i[0],d=i[1],m=!0,w=0;for(;h<c&&d<a;){if(m!==s.get(h,d)){if(++w===5)break;m=!m}h++,d++}if(h===c||d===a)throw new re;return(h-i[0])/7}}un.NO_POINTS=new Array;class be{PDF417Common(){}static getBitCountSum(i){return ct.sum(i)}static toIntArray(i){if(i==null||!i.length)return be.EMPTY_INT_ARRAY;const s=new Int32Array(i.length);let a=0;for(const c of i)s[a++]=c;return s}static getCodeword(i){const s=F.binarySearch(be.SYMBOL_TABLE,i&262143);return s<0?-1:(be.CODEWORD_TABLE[s]-1)%be.NUMBER_OF_CODEWORDS}}be.NUMBER_OF_CODEWORDS=929,be.MAX_CODEWORDS_IN_BARCODE=be.NUMBER_OF_CODEWORDS-1,be.MIN_ROWS_IN_BARCODE=3,be.MAX_ROWS_IN_BARCODE=90,be.MODULES_IN_CODEWORD=17,be.MODULES_IN_STOP_PATTERN=18,be.BARS_IN_MODULE=8,be.EMPTY_INT_ARRAY=new Int32Array([]),be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class dc{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Qe{static detectMultiple(i,s,a){let c=i.getBlackMatrix(),h=Qe.detect(a,c);return h.length||(c=c.clone(),c.rotate180(),h=Qe.detect(a,c)),new dc(c,h)}static detect(i,s){const a=new Array;let c=0,h=0,d=!1;for(;c<s.getHeight();){const m=Qe.findVertices(s,c,h);if(m[0]==null&&m[3]==null){if(!d)break;d=!1,h=0;for(const w of a)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=Qe.ROW_STEP;continue}if(d=!0,a.push(m),!i)break;m[2]!=null?(h=Math.trunc(m[2].getX()),c=Math.trunc(m[2].getY())):(h=Math.trunc(m[4].getX()),c=Math.trunc(m[4].getY()))}return a}static findVertices(i,s,a){const c=i.getHeight(),h=i.getWidth(),d=new Array(8);return Qe.copyToResult(d,Qe.findRowsWithPattern(i,c,h,s,a,Qe.START_PATTERN),Qe.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY())),Qe.copyToResult(d,Qe.findRowsWithPattern(i,c,h,s,a,Qe.STOP_PATTERN),Qe.INDEXES_STOP_PATTERN),d}static copyToResult(i,s,a){for(let c=0;c<a.length;c++)i[a[c]]=s[c]}static findRowsWithPattern(i,s,a,c,h,d){const m=new Array(4);let w=!1;const _=new Int32Array(d.length);for(;c<s;c+=Qe.ROW_STEP){let M=Qe.findGuardPattern(i,h,c,a,!1,d,_);if(M!=null){for(;c>0;){const R=Qe.findGuardPattern(i,h,--c,a,!1,d,_);if(R!=null)M=R;else{c++;break}}m[0]=new ke(M[0],c),m[1]=new ke(M[1],c),w=!0;break}}let b=c+1;if(w){let M=0,R=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;b<s;b++){const U=Qe.findGuardPattern(i,R[0],b,a,!1,d,_);if(U!=null&&Math.abs(R[0]-U[0])<Qe.MAX_PATTERN_DRIFT&&Math.abs(R[1]-U[1])<Qe.MAX_PATTERN_DRIFT)R=U,M=0;else{if(M>Qe.SKIPPED_ROW_COUNT_MAX)break;M++}}b-=M+1,m[2]=new ke(R[0],b),m[3]=new ke(R[1],b)}return b-c<Qe.BARCODE_MIN_HEIGHT&&F.fill(m,null),m}static findGuardPattern(i,s,a,c,h,d,m){F.fillWithin(m,0,m.length,0);let w=s,_=0;for(;i.get(w,a)&&w>0&&_++<Qe.MAX_PIXEL_DRIFT;)w--;let b=w,M=0,R=d.length;for(let U=h;b<c;b++)if(i.get(b,a)!==U)m[M]++;else{if(M===R-1){if(Qe.patternMatchVariance(m,d,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return new Int32Array([w,b]);w+=m[0]+m[1],P.arraycopy(m,2,m,0,M-1),m[M-1]=0,m[M]=0,M--}else M++;m[M]=1,U=!U}return M===R-1&&Qe.patternMatchVariance(m,d,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE?new Int32Array([w,b-1]):null}static patternMatchVariance(i,s,a){let c=i.length,h=0,d=0;for(let _=0;_<c;_++)h+=i[_],d+=s[_];if(h<d)return 1/0;let m=h/d;a*=m;let w=0;for(let _=0;_<c;_++){let b=i[_],M=s[_]*m,R=b>M?b-M:M-b;if(R>a)return 1/0;w+=R}return w/h}}Qe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Qe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Qe.MAX_AVG_VARIANCE=.42,Qe.MAX_INDIVIDUAL_VARIANCE=.8,Qe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Qe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Qe.MAX_PIXEL_DRIFT=3,Qe.MAX_PATTERN_DRIFT=5,Qe.SKIPPED_ROW_COUNT_MAX=25,Qe.ROW_STEP=5,Qe.BARCODE_MIN_HEIGHT=10;class $t{constructor(i,s){if(s.length===0)throw new A;this.field=i;let a=s.length;if(a>1&&s[0]===0){let c=1;for(;c<a&&s[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),P.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let h of this.coefficients)c=this.field.add(c,h);return c}let s=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)s=this.field.add(this.field.multiply(i,s),this.coefficients[c]);return s}add(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){let d=s;s=a,a=d}let c=new Int32Array(a.length),h=a.length-s.length;P.arraycopy(a,0,c,0,h);for(let d=h;d<a.length;d++)c[d]=this.field.add(s[d-h],a[d]);return new $t(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof $t?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new $t(this.field,new Int32Array([0]));let s=this.coefficients,a=s.length,c=i.coefficients,h=c.length,d=new Int32Array(a+h-1);for(let m=0;m<a;m++){let w=s[m];for(let _=0;_<h;_++)d[m+_]=this.field.add(d[m+_],this.field.multiply(w,c[_]))}return new $t(this.field,d)}negative(){let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.subtract(0,this.coefficients[a]);return new $t(this.field,s)}multiplyScalar(i){if(i===0)return new $t(this.field,new Int32Array([0]));if(i===1)return this;let s=this.coefficients.length,a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new $t(this.field,a)}multiplyByMonomial(i,s){if(i<0)throw new A;if(s===0)return new $t(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+i);for(let h=0;h<a;h++)c[h]=this.field.multiply(this.coefficients[h],s);return new $t(this.field,c)}toString(){let i=new Le;for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(s===0||a!==1)&&i.append(a),s!==0&&(s===1?i.append("x"):(i.append("x^"),i.append(s))))}return i.toString()}}class Fa{add(i,s){return(i+s)%this.modulus}subtract(i,s){return(this.modulus+i-s)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}inverse(i){if(i===0)throw new tt;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Gi extends Fa{constructor(i,s){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let c=0;c<i;c++)this.expTable[c]=a,a=a*s%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new $t(this,new Int32Array([0])),this.one=new $t(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new A;if(s===0)return this.zero;let a=new Int32Array(i+1);return a[0]=s,new $t(this,a)}}Gi.PDF417_GF=new Gi(be.NUMBER_OF_CODEWORDS,3);class No{constructor(){this.field=Gi.PDF417_GF}decode(i,s,a){let c=new $t(this.field,i),h=new Int32Array(s),d=!1;for(let G=s;G>0;G--){let Y=c.evaluateAt(this.field.exp(G));h[s-G]=Y,Y!==0&&(d=!0)}if(!d)return 0;let m=this.field.getOne();if(a!=null)for(const G of a){let Y=this.field.exp(i.length-1-G),K=new $t(this.field,new Int32Array([this.field.subtract(0,Y),1]));m=m.multiply(K)}let w=new $t(this.field,h),_=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),w,s),b=_[0],M=_[1],R=this.findErrorLocations(b),U=this.findErrorMagnitudes(M,b,R);for(let G=0;G<R.length;G++){let Y=i.length-1-this.field.log(R[G]);if(Y<0)throw O.getChecksumInstance();i[Y]=this.field.subtract(i[Y],U[G])}return R.length}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){let R=i;i=s,s=R}let c=i,h=s,d=this.field.getZero(),m=this.field.getOne();for(;h.getDegree()>=Math.round(a/2);){let R=c,U=d;if(c=h,d=m,c.isZero())throw O.getChecksumInstance();h=R;let G=this.field.getZero(),Y=c.getCoefficient(c.getDegree()),K=this.field.inverse(Y);for(;h.getDegree()>=c.getDegree()&&!h.isZero();){let ne=h.getDegree()-c.getDegree(),ge=this.field.multiply(h.getCoefficient(h.getDegree()),K);G=G.add(this.field.buildMonomial(ne,ge)),h=h.subtract(c.multiplyByMonomial(ne,ge))}m=G.multiply(d).subtract(U).negative()}let w=m.getCoefficient(0);if(w===0)throw O.getChecksumInstance();let _=this.field.inverse(w),b=m.multiply(_),M=h.multiply(_);return[b,M]}findErrorLocations(i){let s=i.getDegree(),a=new Int32Array(s),c=0;for(let h=1;h<this.field.getSize()&&c<s;h++)i.evaluateAt(h)===0&&(a[c]=this.field.inverse(h),c++);if(c!==s)throw O.getChecksumInstance();return a}findErrorMagnitudes(i,s,a){let c=s.getDegree(),h=new Int32Array(c);for(let _=1;_<=c;_++)h[c-_]=this.field.multiply(_,s.getCoefficient(_));let d=new $t(this.field,h),m=a.length,w=new Int32Array(m);for(let _=0;_<m;_++){let b=this.field.inverse(a[_]),M=this.field.subtract(0,i.evaluateAt(b)),R=this.field.inverse(d.evaluateAt(b));w[_]=this.field.multiply(M,R)}return w}}class ci{constructor(i,s,a,c,h){i instanceof ci?this.constructor_2(i):this.constructor_1(i,s,a,c,h)}constructor_1(i,s,a,c,h){const d=s==null||a==null,m=c==null||h==null;if(d&&m)throw new re;d?(s=new ke(0,c.getY()),a=new ke(0,h.getY())):m&&(c=new ke(i.getWidth()-1,s.getY()),h=new ke(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=s,this.bottomLeft=a,this.topRight=c,this.bottomRight=h,this.minX=Math.trunc(Math.min(s.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),h.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,s){return i==null?s:s==null?i:new ci(i.image,i.topLeft,i.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(i,s,a){let c=this.topLeft,h=this.bottomLeft,d=this.topRight,m=this.bottomRight;if(i>0){let w=a?this.topLeft:this.topRight,_=Math.trunc(w.getY()-i);_<0&&(_=0);let b=new ke(w.getX(),_);a?c=b:d=b}if(s>0){let w=a?this.bottomLeft:this.bottomRight,_=Math.trunc(w.getY()+s);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let b=new ke(w.getX(),_);a?h=b:m=b}return new ci(this.image,c,h,d,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class hn{constructor(i,s,a,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=a,this.rowCount=s+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ui{constructor(){this.buffer=""}static form(i,s){let a=-1;function c(d,m,w,_,b,M){if(d==="%%")return"%";if(s[++a]===void 0)return;d=_?parseInt(_.substr(1)):void 0;let R=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(d);break;case"p":U=parseFloat(s[a]).toPrecision(d);break;case"e":U=parseFloat(s[a]).toExponential(d);break;case"x":U=parseInt(s[a]).toString(R||16);break;case"d":U=parseFloat(parseInt(s[a],R||10).toPrecision(d)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(R);let G=parseInt(w),Y=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=m!==void 0?U+Y:Y+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,c)}format(i,...s){this.buffer+=ui.form(i,s)}toString(){return this.buffer}}class Kr{constructor(i){this.boundingBox=new ci(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let a=1;a<Kr.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(i)-a;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(i)+a,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new ui;let s=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,a.getRowNumber(),a.getValue())}return i.toString()}}Kr.MAX_NEARBY_DISTANCE=5;class qr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let s=this.values.get(i);s==null&&(s=0),s++,this.values.set(i,s)}getValue(){let i=-1,s=new Array;for(const[a,c]of this.values.entries()){const h={getKey:()=>a,getValue:()=>c};h.getValue()>i?(i=h.getValue(),s=[],s.push(h.getKey())):h.getValue()===i&&s.push(h.getKey())}return be.toIntArray(s)}getConfidence(i){return this.values.get(i)}}class pc extends Kr{constructor(i,s){super(i),this._isLeft=s}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,i);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=-1,_=1,b=0;for(let M=d;M<m;M++){if(s[M]==null)continue;let R=s[M],U=R.getRowNumber()-w;if(U===0)b++;else if(U===1)_=Math.max(_,b),b=1,w=R.getRowNumber();else if(U<0||R.getRowNumber()>=i.getRowCount()||U>M)s[M]=null;else{let G;_>2?G=(_-2)*U:G=U;let Y=G>=M;for(let K=1;K<=G&&!Y;K++)Y=s[M-K]!=null;Y?s[M]=null:(w=R.getRowNumber(),b=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let s=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(i){let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.getCodewords(),w=-1;for(let _=h;_<d;_++){if(m[_]==null)continue;let b=m[_];b.setRowNumberAsRowIndicatorColumn();let M=b.getRowNumber()-w;M===0||(M===1?w=b.getRowNumber():b.getRowNumber()>=i.getRowCount()?m[_]=null:w=b.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),s=new qr,a=new qr,c=new qr,h=new qr;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let w=m.getValue()%30,_=m.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:a.setValue(w*3+1);break;case 1:h.setValue(w/3),c.setValue(w%3);break;case 2:s.setValue(w+1);break}}if(s.getValue().length===0||a.getValue().length===0||c.getValue().length===0||h.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<be.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>be.MAX_ROWS_IN_BARCODE)return null;let d=new hn(s.getValue()[0],a.getValue()[0],c.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,s){for(let a=0;a<i.length;a++){let c=i[a];if(i[a]==null)continue;let h=c.getValue()%30,d=c.getRowNumber();if(d>s.getRowCount()){i[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==s.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(h/3)!==s.getErrorCorrectionLevel()||h%3!==s.getRowCountLowerPart())&&(i[a]=null);break;case 2:h+1!==s.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qr{constructor(i,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=be.MAX_CODEWORDS_IN_BARCODE,s;do s=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let a=this.detectionResultColumns[s].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&s[a]!=null&&i[a].getRowNumber()===s[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let h=this.detectionResultColumns[c].getCodewords()[a];h!=null&&(h.setRowNumber(i[a].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let c=s[a].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let m=this.detectionResultColumns[d].getCodewords()[a];m!=null&&(h=Qr.adjustRowNumberIfValid(c,h,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,s=this.detectionResultColumns[0].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let c=s[a].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let m=this.detectionResultColumns[d].getCodewords()[a];m!=null&&(h=Qr.adjustRowNumberIfValid(c,h,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,s,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),s=0):++s),s}adjustRowNumbers(i,s,a){if(!this.detectionResultColumns[i-1])return;let c=a[s],h=this.detectionResultColumns[i-1].getCodewords(),d=h;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=h[s],m[3]=d[s],s>0&&(m[0]=a[s-1],m[4]=h[s-1],m[5]=d[s-1]),s>1&&(m[8]=a[s-2],m[10]=h[s-2],m[11]=d[s-2]),s<a.length-1&&(m[1]=a[s+1],m[6]=h[s+1],m[7]=d[s+1]),s<a.length-2&&(m[9]=a[s+2],m[12]=h[s+2],m[13]=d[s+2]);for(let w of m)if(Qr.adjustRowNumber(c,w))return}static adjustRowNumber(i,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===i.getBucket()?(i.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,s){this.detectionResultColumns[i]=s}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new ui;for(let a=0;a<i.getCodewords().length;a++){s.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){s.format("    |   ");continue}let h=this.detectionResultColumns[c].getCodewords()[a];if(h==null){s.format("    |   ");continue}s.format(" %3d|%3d",h.getRowNumber(),h.getValue())}s.format("%n")}return s.toString()}}class Ar{constructor(i,s,a,c){this.rowNumber=Ar.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Ar.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Ar.BARCODE_ROW_UNKNOWN=-1;class Mn{static initialize(){for(let i=0;i<be.SYMBOL_TABLE.length;i++){let s=be.SYMBOL_TABLE[i],a=s&1;for(let c=0;c<be.BARS_IN_MODULE;c++){let h=0;for(;(s&1)===a;)h+=1,s>>=1;a=s&1,Mn.RATIOS_TABLE[i]||(Mn.RATIOS_TABLE[i]=new Array(be.BARS_IN_MODULE)),Mn.RATIOS_TABLE[i][be.BARS_IN_MODULE-c-1]=Math.fround(h/be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let s=Mn.getDecodedCodewordValue(Mn.sampleBitCounts(i));return s!==-1?s:Mn.getClosestDecodedValue(i)}static sampleBitCounts(i){let s=ct.sum(i),a=new Int32Array(be.BARS_IN_MODULE),c=0,h=0;for(let d=0;d<be.MODULES_IN_CODEWORD;d++){let m=s/(2*be.MODULES_IN_CODEWORD)+d*s/be.MODULES_IN_CODEWORD;h+i[c]<=m&&(h+=i[c],c++),a[c]++}return a}static getDecodedCodewordValue(i){let s=Mn.getBitValue(i);return be.getCodeword(s)===-1?-1:s}static getBitValue(i){let s=0;for(let a=0;a<i.length;a++)for(let c=0;c<i[a];c++)s=s<<1|(a%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(i){let s=ct.sum(i),a=new Array(be.BARS_IN_MODULE);if(s>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(i[d]/s);let c=Ds.MAX_VALUE,h=-1;this.bSymbolTableReady||Mn.initialize();for(let d=0;d<Mn.RATIOS_TABLE.length;d++){let m=0,w=Mn.RATIOS_TABLE[d];for(let _=0;_<be.BARS_IN_MODULE;_++){let b=Math.fround(w[_]-a[_]);if(m+=Math.fround(b*b),m>=c)break}m<c&&(c=m,h=be.SYMBOL_TABLE[d])}return h}}Mn.bSymbolTableReady=!1,Mn.RATIOS_TABLE=new Array(be.SYMBOL_TABLE.length).map(N=>new Array(be.BARS_IN_MODULE));class ja{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class ot{static parseLong(i,s=void 0){return parseInt(i,s)}}class mc extends x{}mc.kind="NullPointerException";class hi{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,s,a){if(i==null)throw new mc;if(s<0||s>i.length||a<0||s+a>i.length||s+a<0)throw new H;if(a===0)return;for(let c=0;c<a;c++)this.write(i[s+c])}flush(){}close(){}}class Gs extends x{}class gc extends hi{constructor(i=32){if(super(),this.count=0,i<0)throw new A("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Gs;a=B.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,s,a){if(s<0||s>i.length||a<0||s+a-i.length>0)throw new H;this.ensureCapacity(this.count+a),P.arraycopy(i,s,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var wt;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function Mo(){if(typeof window<"u")return window.BigInt||null;if(typeof ko<"u")return ko.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Oo;function Yi(N){if(typeof Oo>"u"&&(Oo=Mo()),Oo===null)throw new Error("BigInt is not supported!");return Oo(N)}function kh(){let N=[];N[0]=Yi(1);let i=Yi(900);N[1]=i;for(let s=2;s<16;s++)N[s]=N[s-1]*i;return N}class ie{static decode(i,s){let a=new Le(""),c=J.ISO8859_1;a.enableDecoding(c);let h=1,d=i[h++],m=new ja;for(;h<i[0];){switch(d){case ie.TEXT_COMPACTION_MODE_LATCH:h=ie.textCompaction(i,h,a);break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:h=ie.byteCompaction(d,i,c,h,a);break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[h++]);break;case ie.NUMERIC_COMPACTION_MODE_LATCH:h=ie.numericCompaction(i,h,a);break;case ie.ECI_CHARSET:J.getCharacterSetECIByValue(i[h++]);break;case ie.ECI_GENERAL_PURPOSE:h+=2;break;case ie.ECI_USER_DEFINED:h++;break;case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=ie.decodeMacroBlock(i,h,m);break;case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:throw new X;default:h--,h=ie.textCompaction(i,h,a);break}if(h<i.length)d=i[h++];else throw X.getFormatInstance()}if(a.length()===0)throw X.getFormatInstance();let w=new qe(null,a.toString(),null,s);return w.setOther(m),w}static decodeMacroBlock(i,s,a){if(s+ie.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw X.getFormatInstance();let c=new Int32Array(ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<ie.NUMBER_OF_SEQUENCE_CODEWORDS;m++,s++)c[m]=i[s];a.setSegmentIndex(B.parseInt(ie.decodeBase900toBase10(c,ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Le;s=ie.textCompaction(i,s,h),a.setFileId(h.toString());let d=-1;for(i[s]===ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=s+1);s<i[0];)switch(i[s]){case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,i[s]){case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Le;s=ie.textCompaction(i,s+1,m),a.setFileName(m.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Le;s=ie.textCompaction(i,s+1,w),a.setSender(w.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new Le;s=ie.textCompaction(i,s+1,_),a.setAddressee(_.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new Le;s=ie.numericCompaction(i,s+1,b),a.setSegmentCount(B.parseInt(b.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new Le;s=ie.numericCompaction(i,s+1,M),a.setTimestamp(ot.parseLong(M.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new Le;s=ie.numericCompaction(i,s+1,R),a.setChecksum(B.parseInt(R.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new Le;s=ie.numericCompaction(i,s+1,U),a.setFileSize(ot.parseLong(U.toString()));break;default:throw X.getFormatInstance()}break;case ie.MACRO_PDF417_TERMINATOR:s++,a.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(d!==-1){let m=s-d;a.isLastSegment()&&m--,a.setOptionalData(F.copyOfRange(i,d,d+m))}return s}static textCompaction(i,s,a){let c=new Int32Array((i[0]-s)*2),h=new Int32Array((i[0]-s)*2),d=0,m=!1;for(;s<i[0]&&!m;){let w=i[s++];if(w<ie.TEXT_COMPACTION_MODE_LATCH)c[d]=w/30,c[d+1]=w%30,d+=2;else switch(w){case ie.TEXT_COMPACTION_MODE_LATCH:c[d++]=ie.TEXT_COMPACTION_MODE_LATCH;break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:s--,m=!0;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=i[s++],h[d]=w,d++;break}}return ie.decodeTextCompaction(c,h,d,a),s}static decodeTextCompaction(i,s,a,c){let h=wt.ALPHA,d=wt.ALPHA,m=0;for(;m<a;){let w=i[m],_="";switch(h){case wt.ALPHA:if(w<26)_=String.fromCharCode(65+w);else switch(w){case 26:_=" ";break;case ie.LL:h=wt.LOWER;break;case ie.ML:h=wt.MIXED;break;case ie.PS:d=h,h=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.LOWER:if(w<26)_=String.fromCharCode(97+w);else switch(w){case 26:_=" ";break;case ie.AS:d=h,h=wt.ALPHA_SHIFT;break;case ie.ML:h=wt.MIXED;break;case ie.PS:d=h,h=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.MIXED:if(w<ie.PL)_=ie.MIXED_CHARS[w];else switch(w){case ie.PL:h=wt.PUNCT;break;case 26:_=" ";break;case ie.LL:h=wt.LOWER;break;case ie.AL:h=wt.ALPHA;break;case ie.PS:d=h,h=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.PUNCT:if(w<ie.PAL)_=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:h=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(h=d,w<26)_=String.fromCharCode(65+w);else switch(w){case 26:_=" ";break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(h=d,w<ie.PAL)_=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:h=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break}_!==""&&c.append(_),m++}}static byteCompaction(i,s,a,c,h){let d=new gc,m=0,w=0,_=!1;switch(i){case ie.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),M=s[c++];for(;c<s[0]&&!_;)switch(b[m++]=M,w=900*w+M,M=s[c++],M){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:c--,_=!0;break;default:if(m%5===0&&m>0){for(let R=0;R<6;++R)d.write(Number(Yi(w)>>Yi(8*(5-R))));w=0,m=0}break}c===s[0]&&M<ie.TEXT_COMPACTION_MODE_LATCH&&(b[m++]=M);for(let R=0;R<m;R++)d.write(b[R]);break;case ie.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!_;){let R=s[c++];if(R<ie.TEXT_COMPACTION_MODE_LATCH)m++,w=900*w+R;else switch(R){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:c--,_=!0;break}if(m%5===0&&m>0){for(let U=0;U<6;++U)d.write(Number(Yi(w)>>Yi(8*(5-U))));w=0,m=0}}break}return h.append(Ue.decode(d.toByteArray(),a)),c}static numericCompaction(i,s,a){let c=0,h=!1,d=new Int32Array(ie.MAX_NUMERIC_CODEWORDS);for(;s<i[0]&&!h;){let m=i[s++];if(s===i[0]&&(h=!0),m<ie.TEXT_COMPACTION_MODE_LATCH)d[c]=m,c++;else switch(m){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:s--,h=!0;break}(c%ie.MAX_NUMERIC_CODEWORDS===0||m===ie.NUMERIC_COMPACTION_MODE_LATCH||h)&&c>0&&(a.append(ie.decodeBase900toBase10(d,c)),c=0)}return s}static decodeBase900toBase10(i,s){let a=Yi(0);for(let h=0;h<s;h++)a+=ie.EXP900[s-h-1]*Yi(i[h]);let c=a.toString();if(c.charAt(0)!=="1")throw new X;return c.substring(1)}}ie.TEXT_COMPACTION_MODE_LATCH=900,ie.BYTE_COMPACTION_MODE_LATCH=901,ie.NUMERIC_COMPACTION_MODE_LATCH=902,ie.BYTE_COMPACTION_MODE_LATCH_6=924,ie.ECI_USER_DEFINED=925,ie.ECI_GENERAL_PURPOSE=926,ie.ECI_CHARSET=927,ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ie.MACRO_PDF417_TERMINATOR=922,ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ie.MAX_NUMERIC_CODEWORDS=15,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ie.PL=25,ie.LL=27,ie.AS=27,ie.ML=28,ie.AL=28,ie.PS=29,ie.PAL=29,ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ie.EXP900=Mo()?kh():[],ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $e{constructor(){}static decode(i,s,a,c,h,d,m){let w=new ci(i,s,a,c,h),_=null,b=null,M;for(let G=!0;;G=!1){if(s!=null&&(_=$e.getRowIndicatorColumn(i,w,s,!0,d,m)),c!=null&&(b=$e.getRowIndicatorColumn(i,w,c,!1,d,m)),M=$e.merge(_,b),M==null)throw re.getNotFoundInstance();let Y=M.getBoundingBox();if(G&&Y!=null&&(Y.getMinY()<w.getMinY()||Y.getMaxY()>w.getMaxY()))w=Y;else break}M.setBoundingBox(w);let R=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,_),M.setDetectionResultColumn(R,b);let U=_!=null;for(let G=1;G<=R;G++){let Y=U?G:R-G;if(M.getDetectionResultColumn(Y)!==void 0)continue;let K;Y===0||Y===R?K=new pc(w,Y===0):K=new Kr(w),M.setDetectionResultColumn(Y,K);let ne=-1,ge=ne;for(let xe=w.getMinY();xe<=w.getMaxY();xe++){if(ne=$e.getStartColumn(M,Y,xe,U),ne<0||ne>w.getMaxX()){if(ge===-1)continue;ne=ge}let pe=$e.detectCodeword(i,w.getMinX(),w.getMaxX(),U,ne,xe,d,m);pe!=null&&(K.setCodeword(xe,pe),ge=ne,d=Math.min(d,pe.getWidth()),m=Math.max(m,pe.getWidth()))}}return $e.createDecoderResult(M)}static merge(i,s){if(i==null&&s==null)return null;let a=$e.getBarcodeMetadata(i,s);if(a==null)return null;let c=ci.merge($e.adjustBoundingBox(i),$e.adjustBoundingBox(s));return new Qr(a,c)}static adjustBoundingBox(i){if(i==null)return null;let s=i.getRowHeights();if(s==null)return null;let a=$e.getMax(s),c=0;for(let m of s)if(c+=a-m,m>0)break;let h=i.getCodewords();for(let m=0;c>0&&h[m]==null;m++)c--;let d=0;for(let m=s.length-1;m>=0&&(d+=a-s[m],!(s[m]>0));m--);for(let m=h.length-1;d>0&&h[m]==null;m--)d--;return i.getBoundingBox().addMissingRows(c,d,i.isLeft())}static getMax(i){let s=-1;for(let a of i)s=Math.max(s,a);return s}static getBarcodeMetadata(i,s){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let c;return s==null||(c=s.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(i,s,a,c,h,d){let m=new pc(s,c);for(let w=0;w<2;w++){let _=w===0?1:-1,b=Math.trunc(Math.trunc(a.getX()));for(let M=Math.trunc(Math.trunc(a.getY()));M<=s.getMaxY()&&M>=s.getMinY();M+=_){let R=$e.detectCodeword(i,0,i.getWidth(),c,b,M,h,d);R!=null&&(m.setCodeword(M,R),c?b=R.getStartX():b=R.getEndX())}}return m}static adjustCodewordCount(i,s){let a=s[0][1],c=a.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-$e.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(h<1||h>be.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();a.setValue(h)}else c[0]!==h&&a.setValue(h)}static createDecoderResult(i){let s=$e.createBarcodeMatrix(i);$e.adjustCodewordCount(i,s);let a=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],d=new Array;for(let w=0;w<i.getBarcodeRowCount();w++)for(let _=0;_<i.getBarcodeColumnCount();_++){let b=s[w][_+1].getValue(),M=w*i.getBarcodeColumnCount()+_;b.length===0?a.push(M):b.length===1?c[M]=b[0]:(d.push(M),h.push(b))}let m=new Array(h.length);for(let w=0;w<m.length;w++)m[w]=h[w];return $e.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,be.toIntArray(a),be.toIntArray(d),m)}static createDecoderResultFromAmbiguousValues(i,s,a,c,h){let d=new Int32Array(c.length),m=100;for(;m-- >0;){for(let w=0;w<d.length;w++)s[c[w]]=h[w][d[w]];try{return $e.decodeCodewords(s,i,a)}catch(w){if(!(w instanceof O))throw w}if(d.length===0)throw O.getChecksumInstance();for(let w=0;w<d.length;w++)if(d[w]<h[w].length-1){d[w]++;break}else if(d[w]=0,w===d.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(i){let s=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let h=0;h<s[c].length;h++)s[c][h]=new qr;let a=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let h of c.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=s.length)continue;s[d][a].setValue(h.getValue())}}}a++}return s}static isValidBarcodeColumn(i,s){return s>=0&&s<=i.getBarcodeColumnCount()+1}static getStartColumn(i,s,a,c){let h=c?1:-1,d=null;if($e.isValidBarcodeColumn(i,s-h)&&(d=i.getDetectionResultColumn(s-h).getCodeword(a)),d!=null)return c?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(s).getCodewordNearby(a),d!=null)return c?d.getStartX():d.getEndX();if($e.isValidBarcodeColumn(i,s-h)&&(d=i.getDetectionResultColumn(s-h).getCodewordNearby(a)),d!=null)return c?d.getEndX():d.getStartX();let m=0;for(;$e.isValidBarcodeColumn(i,s-h);){s-=h;for(let w of i.getDetectionResultColumn(s).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+h*m*(w.getEndX()-w.getStartX());m++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,s,a,c,h,d,m,w){h=$e.adjustCodewordStartColumn(i,s,a,c,h,d);let _=$e.getModuleBitCount(i,s,a,c,h,d);if(_==null)return null;let b,M=ct.sum(_);if(c)b=h+M;else{for(let G=0;G<_.length/2;G++){let Y=_[G];_[G]=_[_.length-1-G],_[_.length-1-G]=Y}b=h,h=b-M}if(!$e.checkCodewordSkew(M,m,w))return null;let R=Mn.getDecodedValue(_),U=be.getCodeword(R);return U===-1?null:new Ar(h,b,$e.getCodewordBucketNumber(R),U)}static getModuleBitCount(i,s,a,c,h,d){let m=h,w=new Int32Array(8),_=0,b=c?1:-1,M=c;for(;(c?m<a:m>=s)&&_<w.length;)i.get(m,d)===M?(w[_]++,m+=b):(_++,M=!M);return _===w.length||m===(c?a:s)&&_===w.length-1?w:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,s,a,c,h,d){let m=h,w=c?-1:1;for(let _=0;_<2;_++){for(;(c?m>=s:m<a)&&c===i.get(m,d);){if(Math.abs(h-m)>$e.CODEWORD_SKEW_SIZE)return h;m+=w}w=-w,c=!c}return m}static checkCodewordSkew(i,s,a){return s-$e.CODEWORD_SKEW_SIZE<=i&&i<=a+$e.CODEWORD_SKEW_SIZE}static decodeCodewords(i,s,a){if(i.length===0)throw X.getFormatInstance();let c=1<<s+1,h=$e.correctErrors(i,a,c);$e.verifyCodewordCount(i,c);let d=ie.decode(i,""+s);return d.setErrorsCorrected(h),d.setErasures(a.length),d}static correctErrors(i,s,a){if(s!=null&&s.length>a/2+$e.MAX_ERRORS||a<0||a>$e.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return $e.errorCorrection.decode(i,a,s)}static verifyCodewordCount(i,s){if(i.length<4)throw X.getFormatInstance();let a=i[0];if(a>i.length)throw X.getFormatInstance();if(a===0)if(s<i.length)i[0]=i.length-s;else throw X.getFormatInstance()}static getBitCountForCodeword(i){let s=new Int32Array(8),a=0,c=s.length-1;for(;!((i&1)!==a&&(a=i&1,c--,c<0));)s[c]++,i>>=1;return s}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return $e.getCodewordBucketNumber($e.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let s=new ui;for(let a=0;a<i.length;a++){s.format("Row %2d: ",a);for(let c=0;c<i[a].length;c++){let h=i[a][c];h.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}s.format("%n")}return s.toString()}}$e.CODEWORD_SKEW_SIZE=2,$e.MAX_ERRORS=3,$e.MAX_EC_CODEWORDS=512,$e.errorCorrection=new No;class fn{decode(i,s=null){let a=fn.decode(i,s,!1);if(a==null||a.length===0||a[0]==null)throw re.getNotFoundInstance();return a[0]}decodeMultiple(i,s=null){try{return fn.decode(i,s,!0)}catch(a){throw a instanceof X||a instanceof O?re.getNotFoundInstance():a}}static decode(i,s,a){const c=new Array,h=Qe.detectMultiple(i,s,a);for(const d of h.getPoints()){const m=$e.decode(h.getBits(),d[4],d[5],d[6],d[7],fn.getMinCodewordWidth(d),fn.getMaxCodewordWidth(d)),w=new me(m.getText(),m.getRawBytes(),void 0,d,ce.PDF_417);w.putMetadata(Ee.ERROR_CORRECTION_LEVEL,m.getECLevel());const _=m.getOther();_!=null&&w.putMetadata(Ee.PDF417_EXTRA_METADATA,_),c.push(w)}return c.map(d=>d)}static getMaxWidth(i,s){return i==null||s==null?0:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMinWidth(i,s){return i==null||s==null?B.MAX_VALUE:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(fn.getMaxWidth(i[0],i[4]),fn.getMaxWidth(i[6],i[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.max(fn.getMaxWidth(i[1],i[5]),fn.getMaxWidth(i[7],i[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(fn.getMinWidth(i[0],i[4]),fn.getMinWidth(i[6],i[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.min(fn.getMinWidth(i[1],i[5]),fn.getMinWidth(i[7],i[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}reset(){}}class Hn extends x{}Hn.kind="ReaderException";class xc{constructor(i,s){this.verbose=i===!0,s&&this.setHints(s)}decode(i,s){return s&&this.setHints(s),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const s=!r(i)&&i.get(ae.TRY_HARDER)===!0,a=r(i)?null:i.get(ae.POSSIBLE_FORMATS),c=new Array;if(!r(a)){const h=a.some(d=>d===ce.UPC_A||d===ce.UPC_E||d===ce.EAN_13||d===ce.EAN_8||d===ce.CODABAR||d===ce.CODE_39||d===ce.CODE_93||d===ce.CODE_128||d===ce.ITF||d===ce.RSS_14||d===ce.RSS_EXPANDED);h&&!s&&c.push(new ar(i,this.verbose)),a.includes(ce.QR_CODE)&&c.push(new un),a.includes(ce.DATA_MATRIX)&&c.push(new yt),a.includes(ce.AZTEC)&&c.push(new Bs),a.includes(ce.PDF_417)&&c.push(new fn),h&&s&&c.push(new ar(i,this.verbose))}c.length===0&&(s||c.push(new ar(i,this.verbose)),c.push(new un),c.push(new yt),c.push(new Bs),c.push(new fn),s&&c.push(new ar(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Hn("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(i,this.hints)}catch(a){if(a instanceof Hn)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class yc extends Ae{constructor(i=null,s=500){const a=new xc;a.setHints(i),super(a,s)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class lr extends Ae{constructor(i=500){super(new fn,i)}}class wc extends Ae{constructor(i=500){super(new un,i)}}var Ro;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(Ro||(Ro={}));var Vt=Ro;class za{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new st(i,Int32Array.from([1])))}buildGenerator(i){const s=this.cachedGenerators;if(i>=s.length){let a=s[s.length-1];const c=this.field;for(let h=s.length;h<=i;h++){const d=a.multiply(new st(c,Int32Array.from([1,c.exp(h-1+c.getGeneratorBase())])));s.push(d),a=d}}return s[i]}encode(i,s){if(s===0)throw new A("No error correction bytes");const a=i.length-s;if(a<=0)throw new A("No data bytes provided");const c=this.buildGenerator(s),h=new Int32Array(a);P.arraycopy(i,0,h,0,a);let d=new st(this.field,h);d=d.multiplyByMonomial(s,1);const w=d.divide(c)[1].getCoefficients(),_=s-w.length;for(let b=0;b<_;b++)i[a+b]=0;P.arraycopy(w,0,i,a+_,w.length)}}class Dt{constructor(){}static applyMaskPenaltyRule1(i){return Dt.applyMaskPenaltyRule1Internal(i,!0)+Dt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0;const a=i.getArray(),c=i.getWidth(),h=i.getHeight();for(let d=0;d<h-1;d++){const m=a[d];for(let w=0;w<c-1;w++){const _=m[w];_===m[w+1]&&_===a[d+1][w]&&_===a[d+1][w+1]&&s++}}return Dt.N2*s}static applyMaskPenaltyRule3(i){let s=0;const a=i.getArray(),c=i.getWidth(),h=i.getHeight();for(let d=0;d<h;d++)for(let m=0;m<c;m++){const w=a[d];m+6<c&&w[m]===1&&w[m+1]===0&&w[m+2]===1&&w[m+3]===1&&w[m+4]===1&&w[m+5]===0&&w[m+6]===1&&(Dt.isWhiteHorizontal(w,m-4,m)||Dt.isWhiteHorizontal(w,m+7,m+11))&&s++,d+6<h&&a[d][m]===1&&a[d+1][m]===0&&a[d+2][m]===1&&a[d+3][m]===1&&a[d+4][m]===1&&a[d+5][m]===0&&a[d+6][m]===1&&(Dt.isWhiteVertical(a,m,d-4,d)||Dt.isWhiteVertical(a,m,d+7,d+11))&&s++}return s*Dt.N3}static isWhiteHorizontal(i,s,a){s=Math.max(s,0),a=Math.min(a,i.length);for(let c=s;c<a;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,s,a,c){a=Math.max(a,0),c=Math.min(c,i.length);for(let h=a;h<c;h++)if(i[h][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0;const a=i.getArray(),c=i.getWidth(),h=i.getHeight();for(let w=0;w<h;w++){const _=a[w];for(let b=0;b<c;b++)_[b]===1&&s++}const d=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-d)*10/d)*Dt.N4}static getDataMaskBit(i,s,a){let c,h;switch(i){case 0:c=a+s&1;break;case 1:c=a&1;break;case 2:c=s%3;break;case 3:c=(a+s)%3;break;case 4:c=Math.floor(a/2)+Math.floor(s/3)&1;break;case 5:h=a*s,c=(h&1)+h%3;break;case 6:h=a*s,c=(h&1)+h%3&1;break;case 7:h=a*s,c=h%3+(a+s&1)&1;break;default:throw new A("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,s){let a=0;const c=s?i.getHeight():i.getWidth(),h=s?i.getWidth():i.getHeight(),d=i.getArray();for(let m=0;m<c;m++){let w=0,_=-1;for(let b=0;b<h;b++){const M=s?d[m][b]:d[b][m];M===_?w++:(w>=5&&(a+=Dt.N1+(w-5)),w=1,_=M)}w>=5&&(a+=Dt.N1+(w-5))}return a}}Dt.N1=3,Dt.N2=3,Dt.N3=40,Dt.N4=10;class Ys{constructor(i,s){this.width=i,this.height=s;const a=new Array(s);for(let c=0;c!==s;c++)a[c]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,s){return this.bytes[s][i]}getArray(){return this.bytes}setNumber(i,s,a){this.bytes[s][i]=a}setBoolean(i,s,a){this.bytes[s][i]=a?1:0}clear(i){for(const s of this.bytes)F.fill(s,i)}equals(i){if(!(i instanceof Ys))return!1;const s=i;if(this.width!==s.width||this.height!==s.height)return!1;for(let a=0,c=this.height;a<c;++a){const h=this.bytes[a],d=s.bytes[a];for(let m=0,w=this.width;m<w;++m)if(h[m]!==d[m])return!1}return!0}toString(){const i=new Le;for(let s=0,a=this.height;s<a;++s){const c=this.bytes[s];for(let h=0,d=this.width;h<d;++h)switch(c[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Sr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new Le;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Sr.NUM_MASK_PATTERNS}}Sr.NUM_MASK_PATTERNS=8;class _t extends x{}_t.kind="WriterException";class We{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,s,a,c,h){We.clearMatrix(h),We.embedBasicPatterns(a,h),We.embedTypeInfo(s,c,h),We.maybeEmbedVersionInfo(a,h),We.embedDataBits(i,c,h)}static embedBasicPatterns(i,s){We.embedPositionDetectionPatternsAndSeparators(s),We.embedDarkDotAtLeftBottomCorner(s),We.maybeEmbedPositionAdjustmentPatterns(i,s),We.embedTimingPatterns(s)}static embedTypeInfo(i,s,a){const c=new Z;We.makeTypeInfoBits(i,s,c);for(let h=0,d=c.getSize();h<d;++h){const m=c.get(c.getSize()-1-h),w=We.TYPE_INFO_COORDINATES[h],_=w[0],b=w[1];if(a.setBoolean(_,b,m),h<8){const M=a.getWidth()-h-1;a.setBoolean(M,8,m)}else{const R=a.getHeight()-7+(h-8);a.setBoolean(8,R,m)}}}static maybeEmbedVersionInfo(i,s){if(i.getVersionNumber()<7)return;const a=new Z;We.makeVersionInfoBits(i,a);let c=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const m=a.get(c);c--,s.setBoolean(h,s.getHeight()-11+d,m),s.setBoolean(s.getHeight()-11+d,h,m)}}static embedDataBits(i,s,a){let c=0,h=-1,d=a.getWidth()-1,m=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);m>=0&&m<a.getHeight();){for(let w=0;w<2;++w){const _=d-w;if(!We.isEmpty(a.get(_,m)))continue;let b;c<i.getSize()?(b=i.get(c),++c):b=!1,s!==255&&Dt.getDataMaskBit(s,_,m)&&(b=!b),a.setBoolean(_,m,b)}m+=h}h=-h,m+=h,d-=2}if(c!==i.getSize())throw new _t("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-B.numberOfLeadingZeros(i)}static calculateBCHCode(i,s){if(s===0)throw new A("0 polynomial");const a=We.findMSBSet(s);for(i<<=a-1;We.findMSBSet(i)>=a;)i^=s<<We.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,s,a){if(!Sr.isValidMaskPattern(s))throw new _t("Invalid mask pattern");const c=i.getBits()<<3|s;a.appendBits(c,5);const h=We.calculateBCHCode(c,We.TYPE_INFO_POLY);a.appendBits(h,10);const d=new Z;if(d.appendBits(We.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new _t("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,s){s.appendBits(i.getVersionNumber(),6);const a=We.calculateBCHCode(i.getVersionNumber(),We.VERSION_INFO_POLY);if(s.appendBits(a,12),s.getSize()!==18)throw new _t("should not happen but we got: "+s.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let s=8;s<i.getWidth()-8;++s){const a=(s+1)%2;We.isEmpty(i.get(s,6))&&i.setNumber(s,6,a),We.isEmpty(i.get(6,s))&&i.setNumber(6,s,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new _t;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,s,a){for(let c=0;c<8;++c){if(!We.isEmpty(a.get(i+c,s)))throw new _t;a.setNumber(i+c,s,0)}}static embedVerticalSeparationPattern(i,s,a){for(let c=0;c<7;++c){if(!We.isEmpty(a.get(i,s+c)))throw new _t;a.setNumber(i,s+c,0)}}static embedPositionAdjustmentPattern(i,s,a){for(let c=0;c<5;++c){const h=We.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)a.setNumber(i+d,s+c,h[d])}}static embedPositionDetectionPattern(i,s,a){for(let c=0;c<7;++c){const h=We.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)a.setNumber(i+d,s+c,h[d])}}static embedPositionDetectionPatternsAndSeparators(i){const s=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,i),We.embedPositionDetectionPattern(i.getWidth()-s,0,i),We.embedPositionDetectionPattern(0,i.getWidth()-s,i);const a=8;We.embedHorizontalSeparationPattern(0,a-1,i),We.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),We.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const c=7;We.embedVerticalSeparationPattern(c,0,i),We.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),We.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,s){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,c=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let h=0,d=c.length;h!==d;h++){const m=c[h];if(m>=0)for(let w=0;w!==d;w++){const _=c[w];_>=0&&We.isEmpty(s.get(_,m))&&We.embedPositionAdjustmentPattern(_-2,m-2,s)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class Bh{constructor(i,s){this.dataBytes=i,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class bt{constructor(){}static calculateMaskPenalty(i){return Dt.applyMaskPenaltyRule1(i)+Dt.applyMaskPenaltyRule2(i)+Dt.applyMaskPenaltyRule3(i)+Dt.applyMaskPenaltyRule4(i)}static encode(i,s,a=null){let c=bt.DEFAULT_BYTE_MODE_ENCODING;const h=a!==null&&a.get(Vt.CHARACTER_SET)!==void 0;h&&(c=a.get(Vt.CHARACTER_SET).toString());const d=this.chooseMode(i,c),m=new Z;if(d===He.BYTE&&(h||bt.DEFAULT_BYTE_MODE_ENCODING!==c)){const xe=J.getCharacterSetECIByName(c);xe!==void 0&&this.appendECI(xe,m)}this.appendModeInfo(d,m);const w=new Z;this.appendBytes(i,d,w,c);let _;if(a!==null&&a.get(Vt.QR_VERSION)!==void 0){const xe=Number.parseInt(a.get(Vt.QR_VERSION).toString(),10);_=Se.getVersionForNumber(xe);const pe=this.calculateBitsNeeded(d,m,w,_);if(!this.willFit(pe,_,s))throw new _t("Data too big for requested version")}else _=this.recommendVersion(s,d,m,w);const b=new Z;b.appendBitArray(m);const M=d===He.BYTE?w.getSizeInBytes():i.length;this.appendLengthInfo(M,_,d,b),b.appendBitArray(w);const R=_.getECBlocksForLevel(s),U=_.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(U,b);const G=this.interleaveWithECBytes(b,_.getTotalCodewords(),U,R.getNumBlocks()),Y=new Sr;Y.setECLevel(s),Y.setMode(d),Y.setVersion(_);const K=_.getDimensionForVersion(),ne=new Ys(K,K),ge=this.chooseMaskPattern(G,s,_,ne);return Y.setMaskPattern(ge),We.buildMatrix(G,s,_,ge,ne),Y.setMatrix(ne),Y}static recommendVersion(i,s,a,c){const h=this.calculateBitsNeeded(s,a,c,Se.getVersionForNumber(1)),d=this.chooseVersion(h,i),m=this.calculateBitsNeeded(s,a,c,d);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,s,a,c){return s.getSize()+i.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(i){return i<bt.ALPHANUMERIC_TABLE.length?bt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,s=null){if(J.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(i))return He.KANJI;let a=!1,c=!1;for(let h=0,d=i.length;h<d;++h){const m=i.charAt(h);if(bt.isDigit(m))a=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)c=!0;else return He.BYTE}return c?He.ALPHANUMERIC:a?He.NUMERIC:He.BYTE}static isOnlyDoubleByteKanji(i){let s;try{s=Ue.encode(i,J.SJIS)}catch{return!1}const a=s.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const h=s[c]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,s,a,c){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let m=0;m<Sr.NUM_MASK_PATTERNS;m++){We.buildMatrix(i,s,a,m,c);let w=this.calculateMaskPenalty(c);w<h&&(h=w,d=m)}return d}static chooseVersion(i,s){for(let a=1;a<=40;a++){const c=Se.getVersionForNumber(a);if(bt.willFit(i,c,s))return c}throw new _t("Data too big")}static willFit(i,s,a){const c=s.getTotalCodewords(),d=s.getECBlocksForLevel(a).getTotalECCodewords(),m=c-d,w=(i+7)/8;return m>=w}static terminateBits(i,s){const a=i*8;if(s.getSize()>a)throw new _t("data bits cannot fit in the QR Code"+s.getSize()+" > "+a);for(let d=0;d<4&&s.getSize()<a;++d)s.appendBit(!1);const c=s.getSize()&7;if(c>0)for(let d=c;d<8;d++)s.appendBit(!1);const h=i-s.getSizeInBytes();for(let d=0;d<h;++d)s.appendBits(d&1?17:236,8);if(s.getSize()!==a)throw new _t("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,s,a,c,h,d){if(c>=a)throw new _t("Block ID too large");const m=i%a,w=a-m,_=Math.floor(i/a),b=_+1,M=Math.floor(s/a),R=M+1,U=_-M,G=b-R;if(U!==G)throw new _t("EC bytes mismatch");if(a!==w+m)throw new _t("RS blocks mismatch");if(i!==(M+U)*w+(R+G)*m)throw new _t("Total bytes mismatch");c<w?(h[0]=M,d[0]=U):(h[0]=R,d[0]=G)}static interleaveWithECBytes(i,s,a,c){if(i.getSizeInBytes()!==a)throw new _t("Number of bits and data bytes does not match");let h=0,d=0,m=0;const w=new Array;for(let b=0;b<c;++b){const M=new Int32Array(1),R=new Int32Array(1);bt.getNumDataBytesAndNumECBytesForBlockID(s,a,c,b,M,R);const U=M[0],G=new Uint8Array(U);i.toBytes(8*h,G,0,U);const Y=bt.generateECBytes(G,R[0]);w.push(new Bh(G,Y)),d=Math.max(d,U),m=Math.max(m,Y.length),h+=M[0]}if(a!==h)throw new _t("Data bytes does not match offset");const _=new Z;for(let b=0;b<d;++b)for(const M of w){const R=M.getDataBytes();b<R.length&&_.appendBits(R[b],8)}for(let b=0;b<m;++b)for(const M of w){const R=M.getErrorCorrectionBytes();b<R.length&&_.appendBits(R[b],8)}if(s!==_.getSizeInBytes())throw new _t("Interleaving error: "+s+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(i,s){const a=i.length,c=new Int32Array(a+s);for(let d=0;d<a;d++)c[d]=i[d]&255;new za(Ve.QR_CODE_FIELD_256).encode(c,s);const h=new Uint8Array(s);for(let d=0;d<s;d++)h[d]=c[a+d];return h}static appendModeInfo(i,s){s.appendBits(i.getBits(),4)}static appendLengthInfo(i,s,a,c){const h=a.getCharacterCountBits(s);if(i>=1<<h)throw new _t(i+" is bigger than "+((1<<h)-1));c.appendBits(i,h)}static appendBytes(i,s,a,c){switch(s){case He.NUMERIC:bt.appendNumericBytes(i,a);break;case He.ALPHANUMERIC:bt.appendAlphanumericBytes(i,a);break;case He.BYTE:bt.append8BitBytes(i,a,c);break;case He.KANJI:bt.appendKanjiBytes(i,a);break;default:throw new _t("Invalid mode: "+s)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const s=bt.getDigit(i);return s>=0&&s<=9}static appendNumericBytes(i,s){const a=i.length;let c=0;for(;c<a;){const h=bt.getDigit(i.charAt(c));if(c+2<a){const d=bt.getDigit(i.charAt(c+1)),m=bt.getDigit(i.charAt(c+2));s.appendBits(h*100+d*10+m,10),c+=3}else if(c+1<a){const d=bt.getDigit(i.charAt(c+1));s.appendBits(h*10+d,7),c+=2}else s.appendBits(h,4),c++}}static appendAlphanumericBytes(i,s){const a=i.length;let c=0;for(;c<a;){const h=bt.getAlphanumericCode(i.charCodeAt(c));if(h===-1)throw new _t;if(c+1<a){const d=bt.getAlphanumericCode(i.charCodeAt(c+1));if(d===-1)throw new _t;s.appendBits(h*45+d,11),c+=2}else s.appendBits(h,6),c++}}static append8BitBytes(i,s,a){let c;try{c=Ue.encode(i,a)}catch(h){throw new _t(h)}for(let h=0,d=c.length;h!==d;h++){const m=c[h];s.appendBits(m,8)}}static appendKanjiBytes(i,s){let a;try{a=Ue.encode(i,J.SJIS)}catch(h){throw new _t(h)}const c=a.length;for(let h=0;h<c;h+=2){const d=a[h]&255,m=a[h+1]&255,w=d<<8&4294967295|m;let _=-1;if(w>=33088&&w<=40956?_=w-33088:w>=57408&&w<=60351&&(_=w-49472),_===-1)throw new _t("Invalid byte sequence");const b=(_>>8)*192+(_&255);s.appendBits(b,13)}}static appendECI(i,s){s.appendBits(He.ECI.getBits(),4),s.appendBits(i.getValue(),8)}}bt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),bt.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class cr{write(i,s,a,c=null){if(i.length===0)throw new A("Found empty contents");if(s<0||a<0)throw new A("Requested dimensions are too small: "+s+"x"+a);let h=nt.L,d=cr.QUIET_ZONE_SIZE;c!==null&&(c.get(Vt.ERROR_CORRECTION)!==void 0&&(h=nt.fromString(c.get(Vt.ERROR_CORRECTION).toString())),c.get(Vt.MARGIN)!==void 0&&(d=Number.parseInt(c.get(Vt.MARGIN).toString(),10)));const m=bt.encode(i,h,c);return this.renderResult(m,s,a,d)}writeToDom(i,s,a,c,h=null){typeof i=="string"&&(i=document.querySelector(i));const d=this.write(s,a,c,h);i&&i.appendChild(d)}renderResult(i,s,a,c){const h=i.getMatrix();if(h===null)throw new cn;const d=h.getWidth(),m=h.getHeight(),w=d+c*2,_=m+c*2,b=Math.max(s,w),M=Math.max(a,_),R=Math.min(Math.floor(b/w),Math.floor(M/_)),U=Math.floor((b-d*R)/2),G=Math.floor((M-m*R)/2),Y=this.createSVGElement(b,M);for(let K=0,ne=G;K<m;K++,ne+=R)for(let ge=0,xe=U;ge<d;ge++,xe+=R)if(h.get(ge,K)===1){const pe=this.createSvgRectElement(xe,ne,R,R);Y.appendChild(pe)}return Y}createSVGElement(i,s){const a=document.createElementNS(cr.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",s.toString()),a}createSvgRectElement(i,s,a,c){const h=document.createElementNS(cr.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",s.toString()),h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",c.toString()),h.setAttributeNS(null,"fill","#000000"),h}}cr.QUIET_ZONE_SIZE=4,cr.SVG_NS="http://www.w3.org/2000/svg";class Xi{encode(i,s,a,c,h){if(i.length===0)throw new A("Found empty contents");if(s!==ce.QR_CODE)throw new A("Can only encode QR_CODE, but got "+s);if(a<0||c<0)throw new A(`Requested dimensions are too small: ${a}x${c}`);let d=nt.L,m=Xi.QUIET_ZONE_SIZE;h!==null&&(h.get(Vt.ERROR_CORRECTION)!==void 0&&(d=nt.fromString(h.get(Vt.ERROR_CORRECTION).toString())),h.get(Vt.MARGIN)!==void 0&&(m=Number.parseInt(h.get(Vt.MARGIN).toString(),10)));const w=bt.encode(i,d,h);return Xi.renderResult(w,a,c,m)}static renderResult(i,s,a,c){const h=i.getMatrix();if(h===null)throw new cn;const d=h.getWidth(),m=h.getHeight(),w=d+c*2,_=m+c*2,b=Math.max(s,w),M=Math.max(a,_),R=Math.min(Math.floor(b/w),Math.floor(M/_)),U=Math.floor((b-d*R)/2),G=Math.floor((M-m*R)/2),Y=new Fe(b,M);for(let K=0,ne=G;K<m;K++,ne+=R)for(let ge=0,xe=U;ge<d;ge++,xe+=R)h.get(ge,K)===1&&Y.setRegion(xe,ne,R,R);return Y}}Xi.QUIET_ZONE_SIZE=4;class br{encode(i,s,a,c,h){let d;switch(s){case ce.QR_CODE:d=new Xi;break;default:throw new A("No encoder available for format "+s)}return d.encode(i,s,a,c,h)}}class bi extends le{constructor(i,s,a,c,h,d,m,w){if(super(d,m),this.yuvData=i,this.dataWidth=s,this.dataHeight=a,this.left=c,this.top=h,c+d>s||h+m>a)throw new A("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(d,m)}getRow(i,s){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,c,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;const a=i*s,c=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return P.arraycopy(this.yuvData,h,c,0,a),c;for(let d=0;d<s;d++){const m=d*i;P.arraycopy(this.yuvData,h,c,m,i),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,s,a,c){return new bi(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,a,c,!1)}renderThumbnail(){const i=this.getWidth()/bi.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/bi.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*s),c=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<s;d++){const m=d*i;for(let w=0;w<i;w++){const _=c[h+w*bi.THUMBNAIL_SCALE_FACTOR]&255;a[m+w]=4278190080|_*65793}h+=this.dataWidth*bi.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/bi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/bi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){const a=this.yuvData;for(let c=0,h=this.top*this.dataWidth+this.left;c<s;c++,h+=this.dataWidth){const d=h+i/2;for(let m=h,w=h+i-1;m<d;m++,w--){const _=a[m];a[m]=a[w],a[w]=_}}}invert(){return new Me(this)}}bi.THUMBNAIL_SCALE_FACTOR=2;class Tr extends le{constructor(i,s,a,c,h,d,m){if(super(s,a),this.dataWidth=c,this.dataHeight=h,this.left=d,this.top=m,i.BYTES_PER_ELEMENT===4){const w=s*a,_=new Uint8ClampedArray(w);for(let b=0;b<w;b++){const M=i[b],R=M>>16&255,U=M>>7&510,G=M&255;_[b]=(R+U+G)/4&255}this.luminances=_}else this.luminances=i;if(c===void 0&&(this.dataWidth=s),h===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+a>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(i,s){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,c,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.luminances;const a=i*s,c=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return P.arraycopy(this.luminances,h,c,0,a),c;for(let d=0;d<s;d++){const m=d*i;P.arraycopy(this.luminances,h,c,m,i),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,s,a,c){return new Tr(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+i,this.top+s)}invert(){return new Me(this)}}class Wn extends J{static forName(i){return this.getCharacterSetECIByName(i)}}class Lo{}Lo.ISO_8859_1=J.ISO8859_1;class Ua{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class vc{static singletonList(i){return[i]}static min(i,s){return i.sort(s)[0]}}class Va{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ur extends Va{constructor(i,s,a){super(i),this.value=s,this.bitCount=a}appendTo(i,s){i.appendBits(this.value,this.bitCount)}add(i,s){return new ur(this,i,s)}addBinaryShift(i,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ur(this,i,s)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+B.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Ha extends ur{constructor(i,s,a){super(i,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=a}appendTo(i,s){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(s[this.binaryShiftStart+a],8)}addBinaryShift(i,s){return new Ha(this,i,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Fh(N,i,s){return new Ha(N,i,s)}function Jr(N,i,s){return new ur(N,i,s)}const jh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sn=0,Ki=1,Jn=2,Ti=3,Ii=4,$r=new ur(null,0,0),Wa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xs(N){for(let i of N)F.fill(i,-1);return N[sn][Ii]=0,N[Ki][Ii]=0,N[Ki][sn]=28,N[Ti][Ii]=0,N[Jn][Ii]=0,N[Jn][sn]=15,N}const Za=Xs(F.createInt32Array(6,6));class Zn{constructor(i,s,a,c){this.token=i,this.mode=s,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,s){let a=this.bitCount,c=this.token;if(i!==this.mode){let d=Wa[this.mode][i];c=Jr(c,d&65535,d>>16),a+=d>>16}let h=i===Jn?4:5;return c=Jr(c,s,h),new Zn(c,i,0,a+h)}shiftAndAppend(i,s){let a=this.token,c=this.mode===Jn?4:5;return a=Jr(a,Za[this.mode][i],c),a=Jr(a,s,5),new Zn(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let s=this.token,a=this.mode,c=this.bitCount;if(this.mode===Ii||this.mode===Jn){let m=Wa[a][sn];s=Jr(s,m&65535,m>>16),c+=m>>16,a=sn}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Zn(s,a,this.binaryShiftByteCount+1,c+h);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=Fh(s,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zn(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let s=this.bitCount+(Wa[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?s+=Zn.calculateBinaryShiftCost(i)-Zn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(s+=10),s<=i.bitCount}toBitArray(i){let s=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())s.unshift(c);let a=new Z;for(const c of s)c.appendTo(a,i);return a}toString(){return we.format("%s bits=%d bytes=%d",jh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Zn.INITIAL_STATE=new Zn($r,sn,0,0);function zh(N){const i=we.getCharCode(" "),s=we.getCharCode("."),a=we.getCharCode(",");N[sn][i]=1;const c=we.getCharCode("Z"),h=we.getCharCode("A");for(let R=h;R<=c;R++)N[sn][R]=R-h+2;N[Ki][i]=1;const d=we.getCharCode("z"),m=we.getCharCode("a");for(let R=m;R<=d;R++)N[Ki][R]=R-m+2;N[Jn][i]=1;const w=we.getCharCode("9"),_=we.getCharCode("0");for(let R=_;R<=w;R++)N[Jn][R]=R-_+2;N[Jn][a]=12,N[Jn][s]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<b.length;R++)N[Ti][we.getCharCode(b[R])]=R;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<M.length;R++)we.getCharCode(M[R])>0&&(N[Ii][we.getCharCode(M[R])]=R);return N}const Ni=zh(F.createInt32Array(5,256));class hr{constructor(i){this.text=i}encode(){const i=we.getCharCode(" "),s=we.getCharCode(`
`);let a=vc.singletonList(Zn.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,m=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case we.getCharCode("\r"):d=m===s?2:0;break;case we.getCharCode("."):d=m===i?3:0;break;case we.getCharCode(","):d=m===i?4:0;break;case we.getCharCode(":"):d=m===i?5:0;break;default:d=0}d>0?(a=hr.updateStateListForPair(a,h,d),h++):a=this.updateStateListForChar(a,h)}return vc.min(a,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,s){const a=[];for(let c of i)this.updateStateForChar(c,s,a);return hr.simplifyStates(a)}updateStateForChar(i,s,a){let c=this.text[s]&255,h=Ni[i.getMode()][c]>0,d=null;for(let m=0;m<=Ii;m++){let w=Ni[m][c];if(w>0){if(d==null&&(d=i.endBinaryShift(s)),!h||m===i.getMode()||m===Jn){const _=d.latchAndAppend(m,w);a.push(_)}if(!h&&Za[i.getMode()][m]>=0){const _=d.shiftAndAppend(m,w);a.push(_)}}}if(i.getBinaryShiftByteCount()>0||Ni[i.getMode()][c]===0){let m=i.addBinaryShiftChar(s);a.push(m)}}static updateStateListForPair(i,s,a){const c=[];for(let h of i)this.updateStateForPair(h,s,a,c);return this.simplifyStates(c)}static updateStateForPair(i,s,a,c){let h=i.endBinaryShift(s);if(c.push(h.latchAndAppend(Ii,a)),i.getMode()!==Ii&&c.push(h.shiftAndAppend(Ii,a)),a===3||a===4){let d=h.latchAndAppend(Jn,16-a).latchAndAppend(Jn,1);c.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(d)}}static simplifyStates(i){let s=[];for(const a of i){let c=!0;for(const h of s){if(h.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(h)&&(s=s.filter(d=>d!==h))}c&&s.push(a)}return s}}class ut{constructor(){}static encodeBytes(i){return ut.encode(i,ut.DEFAULT_EC_PERCENT,ut.DEFAULT_AZTEC_LAYERS)}static encode(i,s,a){let c=new hr(i).encode(),h=B.truncDivision(c.getSize()*s,100)+11,d=c.getSize()+h,m,w,_,b,M;if(a!==ut.DEFAULT_AZTEC_LAYERS){if(m=a<0,w=Math.abs(a),w>(m?ut.MAX_NB_BITS_COMPACT:ut.MAX_NB_BITS))throw new A(we.format("Illegal value %s for layers",a));_=ut.totalBitsInLayer(w,m),b=ut.WORD_SIZE[w];let pe=_-_%b;if(M=ut.stuffBits(c,b),M.getSize()+h>pe)throw new A("Data to large for user specified layer");if(m&&M.getSize()>b*64)throw new A("Data to large for user specified layer")}else{b=0,M=null;for(let pe=0;;pe++){if(pe>ut.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(m=pe<=3,w=m?pe+1:pe,_=ut.totalBitsInLayer(w,m),d>_)continue;(M==null||b!==ut.WORD_SIZE[w])&&(b=ut.WORD_SIZE[w],M=ut.stuffBits(c,b));let it=_-_%b;if(!(m&&M.getSize()>b*64)&&M.getSize()+h<=it)break}}let R=ut.generateCheckWords(M,_,b),U=M.getSize()/b,G=ut.generateModeMessage(m,w,U),Y=(m?11:14)+w*4,K=new Int32Array(Y),ne;if(m){ne=Y;for(let pe=0;pe<K.length;pe++)K[pe]=pe}else{ne=Y+1+2*B.truncDivision(B.truncDivision(Y,2)-1,15);let pe=B.truncDivision(Y,2),it=B.truncDivision(ne,2);for(let Je=0;Je<pe;Je++){let kt=Je+B.truncDivision(Je,15);K[pe-Je-1]=it-kt-1,K[pe+Je]=it+kt+1}}let ge=new Fe(ne);for(let pe=0,it=0;pe<w;pe++){let Je=(w-pe)*4+(m?9:12);for(let kt=0;kt<Je;kt++){let On=kt*2;for(let Rn=0;Rn<2;Rn++)R.get(it+On+Rn)&&ge.set(K[pe*2+Rn],K[pe*2+kt]),R.get(it+Je*2+On+Rn)&&ge.set(K[pe*2+kt],K[Y-1-pe*2-Rn]),R.get(it+Je*4+On+Rn)&&ge.set(K[Y-1-pe*2-Rn],K[Y-1-pe*2-kt]),R.get(it+Je*6+On+Rn)&&ge.set(K[Y-1-pe*2-kt],K[pe*2+Rn])}it+=Je*8}if(ut.drawModeMessage(ge,m,ne,G),m)ut.drawBullsEye(ge,B.truncDivision(ne,2),5);else{ut.drawBullsEye(ge,B.truncDivision(ne,2),7);for(let pe=0,it=0;pe<B.truncDivision(Y,2)-1;pe+=15,it+=16)for(let Je=B.truncDivision(ne,2)&1;Je<ne;Je+=2)ge.set(B.truncDivision(ne,2)-it,Je),ge.set(B.truncDivision(ne,2)+it,Je),ge.set(Je,B.truncDivision(ne,2)-it),ge.set(Je,B.truncDivision(ne,2)+it)}let xe=new Ua;return xe.setCompact(m),xe.setSize(ne),xe.setLayers(w),xe.setCodeWords(U),xe.setMatrix(ge),xe}static drawBullsEye(i,s,a){for(let c=0;c<a;c+=2)for(let h=s-c;h<=s+c;h++)i.set(h,s-c),i.set(h,s+c),i.set(s-c,h),i.set(s+c,h);i.set(s-a,s-a),i.set(s-a+1,s-a),i.set(s-a,s-a+1),i.set(s+a,s-a),i.set(s+a,s-a+1),i.set(s+a,s+a-1)}static generateModeMessage(i,s,a){let c=new Z;return i?(c.appendBits(s-1,2),c.appendBits(a-1,6),c=ut.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(a-1,11),c=ut.generateCheckWords(c,40,4)),c}static drawModeMessage(i,s,a,c){let h=B.truncDivision(a,2);if(s)for(let d=0;d<7;d++){let m=h-3+d;c.get(d)&&i.set(m,h-5),c.get(d+7)&&i.set(h+5,m),c.get(20-d)&&i.set(m,h+5),c.get(27-d)&&i.set(h-5,m)}else for(let d=0;d<10;d++){let m=h-5+d+B.truncDivision(d,5);c.get(d)&&i.set(m,h-7),c.get(d+10)&&i.set(h+7,m),c.get(29-d)&&i.set(m,h+7),c.get(39-d)&&i.set(h-7,m)}}static generateCheckWords(i,s,a){let c=i.getSize()/a,h=new za(ut.getGF(a)),d=B.truncDivision(s,a),m=ut.bitsToWords(i,a,d);h.encode(m,d-c);let w=s%a,_=new Z;_.appendBits(0,w);for(const b of Array.from(m))_.appendBits(b,a);return _}static bitsToWords(i,s,a){let c=new Int32Array(a),h,d;for(h=0,d=i.getSize()/s;h<d;h++){let m=0;for(let w=0;w<s;w++)m|=i.get(h*s+w)?1<<s-w-1:0;c[h]=m}return c}static getGF(i){switch(i){case 4:return Ve.AZTEC_PARAM;case 6:return Ve.AZTEC_DATA_6;case 8:return Ve.AZTEC_DATA_8;case 10:return Ve.AZTEC_DATA_10;case 12:return Ve.AZTEC_DATA_12;default:throw new A("Unsupported word size "+i)}}static stuffBits(i,s){let a=new Z,c=i.getSize(),h=(1<<s)-2;for(let d=0;d<c;d+=s){let m=0;for(let w=0;w<s;w++)(d+w>=c||i.get(d+w))&&(m|=1<<s-1-w);(m&h)===h?(a.appendBits(m&h,s),d--):m&h?a.appendBits(m,s):(a.appendBits(m|1,s),d--)}return a}static totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}ut.DEFAULT_EC_PERCENT=33,ut.DEFAULT_AZTEC_LAYERS=0,ut.MAX_NB_BITS=32,ut.MAX_NB_BITS_COMPACT=4,ut.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class es{encode(i,s,a,c){return this.encodeWithHints(i,s,a,c,null)}encodeWithHints(i,s,a,c,h){let d=Lo.ISO_8859_1,m=ut.DEFAULT_EC_PERCENT,w=ut.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Vt.CHARACTER_SET)&&(d=Wn.forName(h.get(Vt.CHARACTER_SET).toString())),h.has(Vt.ERROR_CORRECTION)&&(m=B.parseInt(h.get(Vt.ERROR_CORRECTION).toString())),h.has(Vt.AZTEC_LAYERS)&&(w=B.parseInt(h.get(Vt.AZTEC_LAYERS).toString()))),es.encodeLayers(i,s,a,c,d,m,w)}static encodeLayers(i,s,a,c,h,d,m){if(s!==ce.AZTEC)throw new A("Can only encode AZTEC, but got "+s);let w=ut.encode(we.getBytes(i,h),d,m);return es.renderResult(w,a,c)}static renderResult(i,s,a){let c=i.getMatrix();if(c==null)throw new cn;let h=c.getWidth(),d=c.getHeight(),m=Math.max(s,h),w=Math.max(a,d),_=Math.min(m/h,w/d),b=(m-h*_)/2,M=(w-d*_)/2,R=new Fe(m,w);for(let U=0,G=M;U<d;U++,G+=_)for(let Y=0,K=b;Y<h;Y++,K+=_)c.get(Y,U)&&R.setRegion(K,G,_,_);return R}}n.AbstractExpandedDecoder=To,n.ArgumentException=E,n.ArithmeticException=tt,n.AztecCode=Ua,n.AztecCodeReader=Bs,n.AztecCodeWriter=es,n.AztecDecoder=xt,n.AztecDetector=Ia,n.AztecDetectorResult=Sa,n.AztecEncoder=ut,n.AztecHighLevelEncoder=hr,n.AztecPoint=bn,n.BarcodeFormat=ce,n.Binarizer=D,n.BinaryBitmap=I,n.BitArray=Z,n.BitMatrix=Fe,n.BitSource=Xr,n.BrowserAztecCodeReader=Oh,n.BrowserBarcodeReader=Us,n.BrowserCodeReader=Ae,n.BrowserDatamatrixCodeReader=Da,n.BrowserMultiFormatReader=yc,n.BrowserPDF417Reader=lr,n.BrowserQRCodeReader=wc,n.BrowserQRCodeSvgWriter=cr,n.CharacterSetECI=J,n.ChecksumException=O,n.Code128Reader=_e,n.Code39Reader=Xt,n.DataMatrixDecodedBitStreamParser=Vn,n.DataMatrixReader=yt,n.DecodeHintType=ae,n.DecoderResult=qe,n.DefaultGridSampler=Ta,n.DetectorResult=ks,n.EAN13Reader=sr,n.EncodeHintType=Vt,n.Exception=x,n.FormatException=X,n.GenericGF=Ve,n.GenericGFPoly=st,n.GlobalHistogramBinarizer=Ce,n.GridSampler=ba,n.GridSamplerInstance=Hi,n.HTMLCanvasElementLuminanceSource=de,n.HybridBinarizer=Te,n.ITFReader=vt,n.IllegalArgumentException=A,n.IllegalStateException=cn,n.InvertedLuminanceSource=Me,n.LuminanceSource=le,n.MathUtils=ct,n.MultiFormatOneDReader=ar,n.MultiFormatReader=xc,n.MultiFormatWriter=br,n.NotFoundException=re,n.OneDReader=Ut,n.PDF417DecodedBitStreamParser=ie,n.PDF417DecoderErrorCorrection=No,n.PDF417Reader=fn,n.PDF417ResultMetadata=ja,n.PerspectiveTransform=zn,n.PlanarYUVLuminanceSource=bi,n.QRCodeByteMatrix=Ys,n.QRCodeDataMask=vn,n.QRCodeDecodedBitStreamParser=It,n.QRCodeDecoderErrorCorrectionLevel=nt,n.QRCodeDecoderFormatInformation=wn,n.QRCodeEncoder=bt,n.QRCodeEncoderQRCode=Sr,n.QRCodeMaskUtil=Dt,n.QRCodeMatrixUtil=We,n.QRCodeMode=He,n.QRCodeReader=un,n.QRCodeVersion=Se,n.QRCodeWriter=Xi,n.RGBLuminanceSource=Tr,n.RSS14Reader=jt,n.RSSExpandedReader=he,n.ReaderException=Hn,n.ReedSolomonDecoder=Zr,n.ReedSolomonEncoder=za,n.ReedSolomonException=Ci,n.Result=me,n.ResultMetadataType=Ee,n.ResultPoint=ke,n.StringUtils=we,n.UnsupportedOperationException=Re,n.VideoInputDevice=ve,n.WhiteRectangleDetector=Vi,n.WriterException=_t,n.ZXingArrays=F,n.ZXingCharset=Wn,n.ZXingInteger=B,n.ZXingStandardCharsets=Lo,n.ZXingStringBuilder=Le,n.ZXingStringEncoding=Ue,n.ZXingSystem=P,n.createAbstractExpandedDecoder=zs,Object.defineProperty(n,"__esModule",{value:!0})})})(e0,e0.exports);var Ht=e0.exports;const FN=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Xg=function(){function e(t,n,r){if(this.formatMap=new Map([[Oe.QR_CODE,Ht.BarcodeFormat.QR_CODE],[Oe.AZTEC,Ht.BarcodeFormat.AZTEC],[Oe.CODABAR,Ht.BarcodeFormat.CODABAR],[Oe.CODE_39,Ht.BarcodeFormat.CODE_39],[Oe.CODE_93,Ht.BarcodeFormat.CODE_93],[Oe.CODE_128,Ht.BarcodeFormat.CODE_128],[Oe.DATA_MATRIX,Ht.BarcodeFormat.DATA_MATRIX],[Oe.MAXICODE,Ht.BarcodeFormat.MAXICODE],[Oe.ITF,Ht.BarcodeFormat.ITF],[Oe.EAN_13,Ht.BarcodeFormat.EAN_13],[Oe.EAN_8,Ht.BarcodeFormat.EAN_8],[Oe.PDF_417,Ht.BarcodeFormat.PDF_417],[Oe.RSS_14,Ht.BarcodeFormat.RSS_14],[Oe.RSS_EXPANDED,Ht.BarcodeFormat.RSS_EXPANDED],[Oe.UPC_A,Ht.BarcodeFormat.UPC_A],[Oe.UPC_E,Ht.BarcodeFormat.UPC_E],[Oe.UPC_EAN_EXTENSION,Ht.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!FN)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var l=this.createZXingFormats(t),u=new Map;u.set(Ht.DecodeHintType.POSSIBLE_FORMATS,l),u.set(Ht.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,l){try{r(n.decode(t))}catch(u){l(u)}})},e.prototype.decode=function(t){var n=new Ht.MultiFormatReader(this.verbose,this.hints),r=new Ht.HTMLCanvasElementLuminanceSource(t),l=new Ht.BinaryBitmap(new Ht.HybridBinarizer(r)),u=n.decode(l);return{text:u.text,format:Fv.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,l){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,l=t;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),jN=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(E){try{x(r.next(E))}catch(A){p(A)}}function v(E){try{x(r.throw(E))}catch(A){p(A)}}function x(E){E.done?u(E.value):l(E.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},zN=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(E){return v([x,E])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Kg=function(){function e(t,n,r){if(this.formatMap=new Map([[Oe.QR_CODE,"qr_code"],[Oe.AZTEC,"aztec"],[Oe.CODABAR,"codabar"],[Oe.CODE_39,"code_39"],[Oe.CODE_93,"code_93"],[Oe.CODE_128,"code_128"],[Oe.DATA_MATRIX,"data_matrix"],[Oe.ITF,"itf"],[Oe.EAN_13,"ean_13"],[Oe.EAN_8,"ean_8"],[Oe.PDF_417,"pdf417"],[Oe.UPC_A,"upc_a"],[Oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return jN(this,void 0,void 0,function(){var n,r;return zN(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Fv.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,l=0,u=t;l<u.length;l++){var p=u[l],y=p.boundingBox.width*p.boundingBox.height;y>r&&(r=y,n=p)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,l=t;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,l){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),qg=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(E){try{x(r.next(E))}catch(A){p(A)}}function v(E){try{x(r.throw(E))}catch(A){p(A)}}function x(E){E.done?u(E.value):l(E.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},Qg=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(E){return v([x,E])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},UN=function(){function e(t,n,r,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Kg.isSupported()?(this.primaryDecoder=new Kg(t,r,l),this.secondaryDecoder=new Xg(t,r,l)):this.primaryDecoder=new Xg(t,r,l)}return e.prototype.decodeAsync=function(t){return qg(this,void 0,void 0,function(){var n;return Qg(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return qg(this,void 0,void 0,function(){var n,r;return Qg(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(r=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var l=r[n];t+=l}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),F1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zu=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(E){try{x(r.next(E))}catch(A){p(A)}}function v(E){try{x(r.throw(E))}catch(A){p(A)}}function x(E){E.done?u(E.value):l(E.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},Gu=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(E){return v([x,E])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Vv=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),VN=function(e){F1(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var l={advanced:[r]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Vv),HN=function(e){F1(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(VN),WN=function(e){F1(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Vv),ZN=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new HN(this.track)},e.prototype.torchFeature=function(){return new WN(this.track)},e}(),GN=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,l),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,l){return Zu(this,void 0,void 0,function(){var u,p;return Gu(this,function(y){switch(y.label){case 0:return u=new e(t,n,l),r.aspectRatio?(p={aspectRatio:r.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:y.sent(),y.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Zu(this,void 0,void 0,function(){return Gu(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var l=t.mediaStream.getVideoTracks(),u=l.length,p=0;t.mediaStream.getVideoTracks().forEach(function(y){t.mediaStream.removeTrack(y),y.stop(),++p,p>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new ZN(this.getFirstTrackOrFail())},e}(),YN=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Zu(this,void 0,void 0,function(){return Gu(this,function(l){return[2,GN.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Zu(this,void 0,void 0,function(){var n,r;return Gu(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=l.sent(),[2,new e(r)]}})})},e}(),Jg=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(E){try{x(r.next(E))}catch(A){p(A)}}function v(E){try{x(r.throw(E))}catch(A){p(A)}}function x(E){E.done?u(E.value):l(E.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},$g=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(E){return v([x,E])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},XN=function(){function e(){}return e.failIfNotSupported=function(){return Jg(this,void 0,void 0,function(){return $g(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Jg(this,void 0,void 0,function(){return $g(this,function(n){return[2,YN.create(t)]})})},e}(),KN=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(E){try{x(r.next(E))}catch(A){p(A)}}function v(E){try{x(r.throw(E))}catch(A){p(A)}}function x(E){E.done?u(E.value):l(E.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},qN=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(E){return v([x,E])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},QN=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=$o.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=$o.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return KN(this,void 0,void 0,function(){var t,n,r,l,u,p,y;return qN(this,function(v){switch(v.label){case 0:return t=function(x){for(var E=x.getVideoTracks(),A=0,I=E;A<I.length;A++){var O=I[A];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),l=[],u=0,p=r;u<p.length;u++)y=p[u],y.kind==="videoinput"&&l.push({id:y.deviceId,label:y.label});return t(n),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(u){for(var p=[],y=0,v=u;y<v.length;y++){var x=v[y];x.kind==="video"&&p.push({id:x.id,label:x.label})}t(p)},l=MediaStreamTrack;l.getSources(r)})},e}(),qt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(qt||(qt={}));var JN=function(){function e(){this.state=qt.NOT_STARTED,this.onGoingTransactionNewState=qt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case qt.UNKNOWN:throw"Transition from unknown is not allowed";case qt.NOT_STARTED:this.failIfNewStateIs(t,[qt.PAUSED]);break;case qt.SCANNING:break;case qt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,l=n;r<l.length;r++){var u=l[r];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),$N=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===qt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==qt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===qt.PAUSED},e}(),e8=function(){function e(){}return e.create=function(){return new $N(new JN)},e}(),t8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fi=function(e){t8(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}($i),n8=function(){function e(t,n){this.logger=n,this.fps=fi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=fi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Uv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!pr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),ex=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new zv(this.verbose),this.qrcode=new UN(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=e8.create()}return e.prototype.start=function(t,n,r,l){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;l?p=l:p=this.verbose?this.logger.log:function(){};var y=n8.create(n,this.logger);this.clearElement();var v=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:fi.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,I=this.stateManagerProxy.startTransition(qt.SCANNING);return new Promise(function(O,D){var P=x?y.videoConstraints:A.createVideoConstraints(t);if(!P){I.cancel(),D("videoConstraints should be defined");return}var H={};(!x||y.aspectRatio)&&(H.aspectRatio=y.aspectRatio);var j={onRenderSurfaceReady:function(F,B){A.setupUi(F,B,y),A.isScanning=!0,A.foreverScan(y,r,p)}};XN.failIfNotSupported().then(function(F){F.create(P).then(function(B){return B.render(u.element,H,j).then(function(Z){A.renderedCamera=Z,I.execute(),O(null)}).catch(function(Z){I.cancel(),D(Z)})}).catch(function(B){I.cancel(),D($o.errorGettingUserMedia(B))})}).catch(function(F){I.cancel(),D($o.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qt.PAUSED),this.showPausedState(),(pr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(qt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var u=document.getElementById(fi.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),r(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(pr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,u){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var y=p.width,v=p.height,x=document.getElementById(r.elementId),E=x.clientWidth?x.clientWidth:fi.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:v,fi.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(y,v,E,A);if(n){var O=r.createCanvasElement(E,A,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var D=O.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=E,D.canvas.height=A,D.drawImage(p,0,0,y,v,I.x,I.y,I.width,I.height)}var P=fi.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(p.width,I.width),j=Math.max(p.height,I.height),F=H+2*P,B=j+2*P,Z=r.createCanvasElement(F,B);x.appendChild(Z);var $=Z.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=F,$.canvas.height=B,$.drawImage(p,0,0,y,v,P,P,H,j);try{r.qrcode.decodeRobustlyAsync(Z).then(function(ae){l(Gg.createFromQrcodeResult(ae))}).catch(u)}catch(ae){u("QR code parse error, error = ".concat(ae))}},p.onerror=u,p.onabort=u,p.onstalled=u,p.onsuspend=u,p.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return QN.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Uv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Oe.QR_CODE,Oe.AZTEC,Oe.CODABAR,Oe.CODE_39,Oe.CODE_93,Oe.CODE_128,Oe.DATA_MATRIX,Oe.MAXICODE,Oe.ITF,Oe.EAN_13,Oe.EAN_8,Oe.PDF_417,Oe.RSS_14,Oe.RSS_EXPANDED,Oe.UPC_A,Oe.UPC_E,Oe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],l=0,u=t.formatsToSupport;l<u.length;l++){var p=u[l];kN(p)?r.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(pr(t))return!0;if(!pr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(pr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return pr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var l=this,u=r.qrbox;this.validateQrboxConfig(u);var p=this.toQrdimensions(t,n,u),y=function(x){if(x<fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fi.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};y(p.width),y(p.height),p.width=v(p.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var l=pr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(t,n,l);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=r.isShadedBoxEnabled()&&u.height<=n,y={x:0,y:0,width:t,height:n},v=p?this.getShadedRegionBounds(t,n,u):y,x=this.createCanvasElement(v.width,v.height),E={willReadFrequently:!0},A=x.getContext("2d",E);A.canvas.width=v.width,A.canvas.height=v.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,t,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=A,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=$o.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,Gg.createFromQrcodeResult(l)),r.possiblyUpdateShaders(!0),!0}).catch(function(l){r.possiblyUpdateShaders(!1);var u=$o.codeParseError(l);return n(u,jv.createFrom(u)),!1})},e.prototype.foreverScan=function(t,n,r){var l=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),p=u.videoWidth/u.clientWidth,y=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*p,x=this.qrRegion.height*y,E=this.qrRegion.x*p,A=this.qrRegion.y*y;this.context.drawImage(u,E,A,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,n,r)},l.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(O){!O&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,r).finally(function(){I()})):I()}).catch(function(O){l.logger.logError("Error happend while scanning context",O),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",l={user:!0,environment:!0},u="exact",p=function(D){if(D in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},y=Object.keys(t);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var v=Object.keys(t)[0];if(v!==n&&v!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===n){var x=t.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(u in x){if(p(x["".concat(u)]))return{facingMode:{exact:x["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(u in A)return{deviceId:{exact:A["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var I=typeof A;throw"Invalid type of 'deviceId' = ".concat(I)}}}var O=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},e.prototype.computeCanvasDrawConfig=function(t,n,r,l){if(t<=r&&n<=l){var u=(r-t)/2,p=(l-n)/2;return{x:u,y:p,width:t,height:n}}else{var y=t,v=n;return t>r&&(n=r/t*n,t=r),n>l&&(t=l/n*t,n=l),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(v)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?fi.BORDER_SHADER_MATCH_COLOR:fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var l=t,u=n,p=document.createElement("canvas");return p.style.width="".concat(l,"px"),p.style.height="".concat(u,"px"),p.style.display="none",p.id=pr(r)?"qr-canvas":r,p},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,l){if(!(n-l.width<1||r-l.height<1)){var u=document.createElement("div");u.style.position="absolute";var p=(n-l.width)/2,y=(r-l.height)/2;if(u.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(fi.SHADED_REGION_ELEMENT_ID),n-l.width<11||r-l.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(u,x,v,-v,null,0,!0),this.insertShaderBorders(u,x,v,-v,null,0,!1),this.insertShaderBorders(u,x,v,null,-v,0,!0),this.insertShaderBorders(u,x,v,null,-v,0,!1),this.insertShaderBorders(u,v,x+v,-v,null,-v,!0),this.insertShaderBorders(u,v,x+v,null,-v,-v,!0),this.insertShaderBorders(u,v,x+v,-v,null,-v,!1),this.insertShaderBorders(u,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,n,r,l,u,p,y){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=fi.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(n,"px"),v.style.height="".concat(r,"px"),l!==null&&(v.style.top="".concat(l,"px")),u!==null&&(v.style.bottom="".concat(u,"px")),y?v.style.left="".concat(p,"px"):v.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),t.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),j1="data:image/svg+xml;base64,",i8=j1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",r8=j1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",tx=j1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",s8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",nx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),o8=function(){function e(){this.data=nx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=nx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),a8=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Yg.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(l);var u=document.createElement("a");u.innerText=Yg.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),l8=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=tx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=s8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=tx,this.infoIcon.style.opacity="0.6")},e}(),c8=function(){function e(){var t=this;this.infoDiv=new a8,this.infoIcon=new l8(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),u8=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(E){try{x(r.next(E))}catch(A){p(A)}}function v(E){try{x(r.throw(E))}catch(A){p(A)}}function x(E){E.done?u(E.value):l(E.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},h8=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(E){return v([x,E])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ix=function(){function e(){}return e.hasPermissions=function(){return u8(this,void 0,void 0,function(){var t,n,r,l;return h8(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=u.sent(),n=0,r=t;n<r.length;n++)if(l=r[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),rs=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Is.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Is.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return $i.DEFAULT_SUPPORTED_SCAN_TYPE;var n=$i.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,l=t;r<l.length;r++){var u=l[r];if(!$i.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return t},e}(),mi=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Pr=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(mi.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),Hv=function(e,t,n,r){function l(u){return u instanceof n?u:new n(function(p){p(u)})}return new(n||(n=Promise))(function(u,p){function y(E){try{x(r.next(E))}catch(A){p(A)}}function v(E){try{x(r.throw(E))}catch(A){p(A)}}function x(E){E.done?u(E.value):l(E.value).then(y,v)}x((r=r.apply(e,t||[])).next())})},Wv=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(E){return v([x,E])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},rx=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Hv(this,void 0,void 0,function(){var t,n;return Wv(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ct.torchOffButton():Ct.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Ct.torchOnFailedMessage():Ct.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),f8=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Pr.createElement("button",mi.TORCH_BUTTON_ID),this.torchController=new rx(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Ct.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(u){return Hv(r,void 0,void 0,function(){return Wv(this,function(p){switch(p.label){case 0:return[4,l.torchController.flipState()];case 1:return p.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(mi.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(mi.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(mi.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(mi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new rx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ct.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,l){var u=new e(n,l);return u.render(t,r),u},e}(),d8=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Pr.createElement("button",mi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(y){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Pr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(y){if(!(y==null||y.target==null)){var v=y.target;if(!(v.files&&v.files.length===0)){var x=v.files,E=x[0],A=E.name;u.setImageNameToButton(A),r(E)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(y){y.stopPropagation(),y.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var v=y.dataTransfer;if(v){var x=v.files;if(!x||x.length===0)return;for(var E=!1,A=0;A<x.length;++A){var I=x.item(A);if(I){var O=/image.*/;if(I.type.match(O)){E=!0;var D=I.name;u.setImageNameToButton(D),r(I),p.innerText=Ct.dragAndDropMessage();break}}}E||(p.innerText=Ct.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ct.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),l=t.length,u=t.substring(l-8,l);t="".concat(r,"....").concat(u)}var p=Ct.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var t=Ct.fileSelectionChooseImage()+" - "+Ct.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var l=new e(t,n,r);return l},e}(),p8=function(){function e(t){this.selectElement=Pr.createElement("select",mi.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var l=Ct.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var u=1,p=0,y=this.cameras;p<y.length;p++){var v=y[p],x=v.id,E=v.label==null?x:v.label;(!E||E==="")&&(E=[Ct.anonymousCameraPrefix(),u++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=E,this.options.push(A),this.selectElement.appendChild(A)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var l=r[n];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),m8=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Pr.createElement("input",mi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,l){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),di;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(di||(di={}));function g8(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function x8(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var y8=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new rs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new zv(this.verbose),this.persistedDataManager=new o8,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,p){if(t)t(u,p);else{if(r.lastMatchFound===u)return;r.lastMatchFound=u,r.setHeaderMessage(Ct.lastMatch(u),di.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,p){n&&n(u,p)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new ex(this.getScanRegionId(),x8(this.config,this.verbose))},e.prototype.pause=function(t){(pr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,l){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(u){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(u){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",u),l(u)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=$i.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!$i.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=$i.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=$i.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:$i.SCAN_DEFAULT_FPS,rememberLastUsedCamera:$i.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:$i.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),rs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),u=this.getDashboardId();l.id=u,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new c8;r.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Ct.cameraPermissionRequesting());var u=function(){r||l.createPermissionButton(t,n)};ex.getCameras().then(function(p){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),p&&p.length>0?(t.removeChild(n),l.renderCameraSelection(p)):(l.setHeaderMessage(Ct.noCameraFound(),di.STATUS_WARNING),u())}).catch(function(p){l.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:u(),l.setHeaderMessage(p,di.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,l=Pr.createElement("button",this.getCameraPermissionButtonId());l.innerText=Ct.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,r.createCameraListUi(t,n,l)}),n.appendChild(l)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(rs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ix.hasPermissions().then(function(l){l?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(l){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=rs.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var l=document.createElement("div");l.style.textAlign="center",r.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,l),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=rs.isFileScanType(this.currentScanType),r=this,l=function(u){if(!r.html5Qrcode)throw"html5Qrcode not defined";rs.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ct.loadingImage()),r.html5Qrcode.scanFileV2(u,!0).then(function(p){r.resetHeaderMessage(),r.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){r.setHeaderMessage(p,di.STATUS_WARNING),r.qrCodeErrorCallback(p,jv.createFrom(p))}))};this.fileSelectionUi=d8.create(t,n,l)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var u=m8.create(l,!1),p=function(P){var H=P.zoomFeature();if(H.isSupported()){u.setOnCameraZoomValueChangeCallback(function(F){H.apply(F)});var j=1;n.config.defaultZoomValueIfSupported&&(j=n.config.defaultZoomValueIfSupported),j=BN(j,H.min(),H.max()),u.setValues(H.min(),H.max(),j,H.step()),u.show()}},y=p8.create(l,t),v=document.createElement("span"),x=Pr.createElement("button",mi.CAMERA_START_BUTTON_ID);x.innerText=Ct.scanButtonStartScanningText(),v.appendChild(x);var E=Pr.createElement("button",mi.CAMERA_STOP_BUTTON_ID);E.innerText=Ct.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,v.appendChild(E);var A,I=function(P){if(!P.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(P.torchFeature()):A=f8.create(v,P.torchFeature(),{display:"none",marginLeft:"5px"},function(H){r.setHeaderMessage(H,di.STATUS_WARNING)}),A.show()};l.appendChild(v);var O=function(P){P||(x.style.display="none"),x.innerText=Ct.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,P&&(x.style.display="inline-block")};if(x.addEventListener("click",function(P){x.innerText=Ct.scanButtonScanningStarting(),y.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var H=y.getValue();r.persistedDataManager.setLastUsedCameraId(H),r.html5Qrcode.start(H,g8(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(j){E.disabled=!1,E.style.display="inline-block",O(!1);var F=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&I(F),n.config.showZoomSliderIfSupported===!0&&p(F)}).catch(function(j){r.showHideScanTypeSwapLink(!0),y.enable(),O(!0),r.setHeaderMessage(j,di.STATUS_WARNING)})}),y.hasSingleItem()&&x.click(),E.addEventListener("click",function(P){if(!r.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,r.html5Qrcode.stop().then(function(H){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),y.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(H){E.disabled=!1,r.setHeaderMessage(H,di.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var D=r.persistedDataManager.getLastUsedCameraId();y.hasValue(D)?(y.setValue(D),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ct.textIfCameraScanSelected(),r=Ct.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var p=Pr.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=rs.isCameraScanType(this.currentScanType)?n:r,p.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,rs.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),p.innerText=r,t.currentScanType=Is.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),p.innerText=n,t.currentScanType=Is.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),u.appendChild(p),l.appendChild(u)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){ix.hasPermissions().then(function(r){if(r){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=di.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case di.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case di.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case di.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=i8,this.cameraScanImage.alt=Ct.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=r8,this.fileScanImage.alt=Ct.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return mi.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return mi.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function w8({onScan:e,onClose:t}){const[n,r]=V.useState(""),[l,u]=V.useState("camera");V.useEffect(()=>{if(l==="camera"){const y=new y8("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1});return y.render(v=>{y.clear(),e(v)},v=>{}),()=>{y.clear()}}},[l,e]);const p=y=>{y.preventDefault(),n.trim()&&e(n.trim())};return S.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col pt-safe",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 text-white",children:[S.jsx("h2",{className:"text-lg font-bold",children:"Scan AWB Barcode"}),S.jsx("button",{onClick:t,className:"p-2",children:S.jsx(Z4,{})})]}),S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:l==="camera"?S.jsx("div",{id:"reader",className:"w-full max-w-sm rounded-xl overflow-hidden bg-gray-800 border-2 border-primary-500"}):S.jsxs("form",{onSubmit:p,className:"w-full max-w-sm space-y-4",children:[S.jsx("input",{autoFocus:!0,className:"w-full p-4 rounded-xl bg-gray-800 text-white border border-gray-700 outline-none focus:border-primary-500 text-center text-2xl tracking-widest",placeholder:"ENTER AWB #",value:n,onChange:y=>r(y.target.value.toUpperCase())}),S.jsx("button",{className:"w-full py-4 bg-primary-600 text-white rounded-xl font-bold",children:"Submit Manually"})]})}),S.jsxs("div",{className:"p-8 flex justify-center gap-4",children:[S.jsxs("button",{onClick:()=>u("camera"),className:`p-4 rounded-full flex items-center gap-2 ${l==="camera"?"bg-primary-600 text-white":"bg-gray-800 text-gray-400"}`,children:[S.jsx(E4,{size:24})," ",S.jsx("span",{children:"Camera"})]}),S.jsxs("button",{onClick:()=>u("manual"),className:`p-4 rounded-full flex items-center gap-2 ${l==="manual"?"bg-primary-600 text-white":"bg-gray-800 text-gray-400"}`,children:[S.jsx(R4,{size:24})," ",S.jsx("span",{children:"Manual"})]})]})]})}function cc(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function v8(e,t){let n;const r=()=>{if(n)return n;const l=indexedDB.open(e);return l.onupgradeneeded=()=>l.result.createObjectStore(t),n=cc(l),n.then(u=>{u.onclose=()=>n=void 0},()=>{}),n};return(l,u)=>r().then(p=>u(p.transaction(t,l).objectStore(t)))}let Pf;function z1(){return Pf||(Pf=v8("keyval-store","keyval")),Pf}function _8(e,t=z1()){return t("readonly",n=>cc(n.get(e)))}function Zv(e,t,n=z1()){return n("readwrite",r=>(r.put(t,e),cc(r.transaction)))}function C8(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},cc(e.transaction)}function E8(e=z1()){return e("readonly",t=>{if(t.getAllKeys)return cc(t.getAllKeys());const n=[];return C8(t,r=>n.push(r.key)).then(()=>n)})}const A8=async(e,t,n={})=>{const r=`${e}-${t}-${Date.now()}`,l={id:r,awb:e,event_id:t,payload:n,timestamp:new Date().toISOString(),status:"pending"};return await Zv(`queue-${r}`,l),l},Gv=async()=>{const t=(await E8()).filter(r=>r.startsWith("queue-"));return(await Promise.all(t.map(r=>_8(r)))).sort((r,l)=>new Date(l.timestamp)-new Date(r.timestamp))},S8=async e=>{const n=(await Gv()).filter(r=>r.status==="pending");for(const r of n)try{await D1(e,{awb:r.awb,event_id:r.event_id,timestamp:r.timestamp,payload:r.payload}),r.status="synced",await Zv(`queue-${r.id}`,r)}catch(l){console.error("Sync failed for item",r.id,l)}};function b8({awb:e,onBack:t,onComplete:n}){const[r,l]=V.useState([]),[u,p]=V.useState(null),[y,v]=V.useState(!0),[x,E]=V.useState(!1),[A,I]=V.useState("");V.useEffect(()=>{(async()=>{try{const P=localStorage.getItem("token"),H=await Bv(P);l(H)}catch{I("Failed to load status options")}finally{v(!1)}})()},[]);const O=async()=>{if(u){E(!0);try{const D=localStorage.getItem("token");await D1(D,{awb:e,event_id:u,timestamp:new Date().toISOString()}),n("SUCCESS")}catch{await A8(e,u),n("QUEUED")}finally{E(!1)}}};return S.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[S.jsxs("div",{className:"p-4 flex items-center gap-4 bg-white dark:bg-gray-800 shadow-sm",children:[S.jsx("button",{onClick:t,className:"p-2 -ml-2 text-gray-600",children:S.jsx(Yl,{})}),S.jsxs("div",{children:[S.jsx("h1",{className:"font-bold text-gray-900 dark:text-white",children:"Update AWB"}),S.jsx("p",{className:"text-xs text-primary-600 font-mono tracking-wider",children:e})]})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:y?S.jsx("div",{className:"flex justify-center p-8",children:S.jsx(ga,{className:"animate-spin text-primary-500"})}):A?S.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl flex items-center gap-3",children:[S.jsx(rv,{size:20})," ",A]}):r.map(D=>S.jsxs("button",{onClick:()=>p(D.event_id),className:`w-full p-4 rounded-2xl text-left border-2 transition-all ${u===D.event_id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-white dark:border-gray-800 bg-white dark:bg-gray-800"}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:D.label}),u===D.event_id&&S.jsx(S4,{className:"text-primary-500",size:20})]}),S.jsx("p",{className:"text-sm text-gray-500",children:D.description})]},D.event_id))}),S.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 shadow-up",children:S.jsx("button",{disabled:!u||x,onClick:O,className:"w-full py-4 bg-primary-600 disabled:opacity-50 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:x?S.jsx(ga,{className:"animate-spin"}):"Confirm Status Update"})})]})}function sx(){const[e,t]=V.useState(!1),[n,r]=V.useState(null),[l,u]=V.useState(null),[p,y]=V.useState(""),v=Wr(),{user:x}=bo();V.useEffect(()=>{const D=localStorage.getItem("token");D&&S8(D);const P=new Date().getHours();P<12?y("Good Morning"):P<18?y("Good Afternoon"):y("Good Evening")},[]);const E=D=>{r(D),t(!1)},A=D=>{u({awb:n,outcome:D}),r(null),setTimeout(()=>u(null),3e3)};if(n)return S.jsx(b8,{awb:n,onBack:()=>r(null),onComplete:A});const I={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return S.jsxs(dt.div,{initial:"hidden",animate:"visible",exit:{opacity:0,y:-20},variants:I,className:"flex flex-col min-h-screen relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"0s"}}),S.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"3s"}}),S.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-glow-md animate-float",children:S.jsx("span",{className:"text-white font-black italic tracking-tighter text-xl",children:"AN"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-lg font-black text-gradient leading-none",children:"AryNik"}),S.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[S.jsxs("span",{className:"relative flex h-2 w-2",children:[S.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),S.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),S.jsx("span",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"Online"})]})]})]}),S.jsx("div",{className:"w-10 h-10 rounded-full glass-light flex items-center justify-center border border-white/10",children:S.jsx(V4,{size:18,className:"text-violet-400"})})]}),S.jsxs("main",{className:"flex-1 p-6 space-y-8 pb-32 relative z-10",children:[S.jsxs(dt.div,{variants:O,children:[S.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:p}),S.jsxs("p",{className:"text-slate-400 font-medium",children:[(x==null?void 0:x.name)||"Driver","  Ready to deliver excellence"]})]}),S.jsx(dt.div,{variants:O,children:S.jsx(DN,{})}),l&&S.jsxs(dt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-4 rounded-2xl flex items-center gap-4 shadow-lg ${l.outcome==="SUCCESS"?"bg-gradient-to-r from-emerald-500 to-emerald-600 shadow-emerald-500/20":"bg-gradient-to-r from-violet-500 to-purple-600 shadow-violet-500/20"}`,children:[S.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:S.jsx(Yd,{size:20,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("span",{className:"font-black text-sm uppercase tracking-wide text-white",children:["Update ",l.outcome==="SUCCESS"?"Confirmed":"Queued"]}),S.jsx("p",{className:"text-xs font-bold text-white/80",children:l.awb})]})]}),S.jsxs(dt.div,{variants:O,className:"space-y-4",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Quick Actions"}),S.jsxs(dt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(!0),className:"w-full py-12 bg-gradient-to-br from-violet-600 via-purple-600 to-violet-700 rounded-[32px] shadow-glow-lg flex flex-col items-center justify-center text-white space-y-5 relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 shimmer opacity-30"}),S.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -ml-12 -mb-12"}),S.jsx("div",{className:"p-6 bg-white/10 rounded-3xl backdrop-blur-sm border border-white/20 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-inner-glow",children:S.jsx(j4,{size:52,strokeWidth:1.5,className:"animate-glow"})}),S.jsxs("div",{className:"text-center relative z-10",children:[S.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Scan Package"}),S.jsxs("p",{className:"text-violet-100 text-xs font-bold opacity-90 uppercase tracking-widest mt-1 flex items-center justify-center gap-2",children:[S.jsx(hv,{size:12}),"Tap to open scanner"]})]})]}),((x==null?void 0:x.role)==="Manager"||(x==null?void 0:x.role)==="Admin"||(x==null?void 0:x.role)==="Driver")&&S.jsxs(dt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v("/shipments"),className:"w-full p-5 glass-strong rounded-[28px] shadow-lg flex items-center gap-4 text-left group border-iridescent",children:[S.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-[20px] group-hover:shadow-glow-sm transition-all duration-300",children:S.jsx(T1,{size:24,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("h3",{className:"font-black text-white uppercase text-sm tracking-tight flex items-center gap-2",children:["Search Shipments",S.jsx("span",{className:"text-[8px] bg-emerald-500/20 text-emerald-400 px-2 py-0.5 rounded-full font-bold",children:"LIVE"})]}),S.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mt-0.5 flex items-center gap-1",children:[S.jsx(I1,{size:10}),"Real-time tracking"]})]}),S.jsx("div",{className:"w-10 h-10 rounded-full glass-light flex items-center justify-center group-hover:translate-x-1 transition-transform border border-white/10",children:S.jsx(ma,{className:"text-slate-400",size:18})})]})]})]}),e&&S.jsx(w8,{onScan:E,onClose:()=>t(!1)})]})}const T8="modulepreload",I8=function(e){return"/arynik1/"+e},ox={},N8=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=Promise.allSettled(n.map(v=>{if(v=I8(v),v in ox)return;ox[v]=!0;const x=v.endsWith(".css"),E=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${E}`))return;const A=document.createElement("link");if(A.rel=x?"stylesheet":T8,x||(A.as="script"),A.crossOrigin="",A.href=v,y&&A.setAttribute("nonce",y),document.head.appendChild(A),x)return new Promise((I,O)=>{A.addEventListener("load",I),A.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(p){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p}return l.then(p=>{for(const y of p||[])y.status==="rejected"&&u(y.reason);return t().catch(u)})};function M8(){const[e,t]=V.useState(""),[n,r]=V.useState(""),[l,u]=V.useState(!1),[p,y]=V.useState(""),{login:v}=bo(),x=Wr(),E=async A=>{var I,O;A.preventDefault(),y(""),u(!0);try{const{login:D}=await N8(async()=>{const{login:H}=await Promise.resolve().then(()=>PN);return{login:H}},void 0),P=await D(e,n);if(P&&P.access_token)await v(P.access_token,P.role),x("/");else throw new Error("Invalid response from server")}catch(D){console.error("Login error:",D),y(((O=(I=D.response)==null?void 0:I.data)==null?void 0:O.detail)||D.message||"Invalid credentials. Please try again.")}finally{u(!1)}};return S.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600/20 via-purple-600/10 to-pink-600/20 animate-pulse-slow"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600/10 via-transparent to-emerald-600/10"}),[...Array(20)].map((A,I)=>S.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*8}s`,animationDuration:`${8+Math.random()*4}s`}},I)),S.jsx("div",{className:"absolute top-10 left-20 w-72 h-72 bg-violet-500/30 rounded-full blur-3xl animate-float",style:{animationDelay:"0s"}}),S.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 bg-pink-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"4s"}}),S.jsx("div",{className:"absolute top-40 right-40 w-60 h-60 bg-blue-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"relative z-10 w-full max-w-md animate-scale-in",children:[S.jsxs("div",{className:"text-center mb-8 animate-slide-down",children:[S.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-3xl shadow-glow-md mb-4 animate-float",children:S.jsx(cv,{className:"w-10 h-10 text-white"})}),S.jsx("h1",{className:"text-4xl font-black text-gradient mb-2 tracking-tight",children:"AryNik Driver"}),S.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Welcome back, let's get started"})]}),S.jsxs("form",{onSubmit:E,className:"glass-strong rounded-3xl p-8 border-iridescent space-y-6 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"}),S.jsxs("div",{className:"relative",children:[S.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400 mb-2 flex items-center gap-2",children:[S.jsx(N1,{size:14,className:"text-violet-400"}),"Username"]}),S.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300",placeholder:"Enter your username",required:!0,autoFocus:!0})]}),S.jsxs("div",{className:"relative",children:[S.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-400 mb-2 flex items-center gap-2",children:[S.jsx(L4,{size:14,className:"text-violet-400"}),"Password"]}),S.jsx("input",{type:"password",value:n,onChange:A=>r(A.target.value),className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300",placeholder:"Enter your password",required:!0})]}),p&&S.jsx("div",{className:"bg-rose-500/10 border border-rose-500/30 text-rose-400 px-4 py-3 rounded-xl text-sm font-medium animate-slide-down",children:p}),S.jsx("button",{type:"submit",disabled:l,className:"btn-premium w-full py-4 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-glow-md hover:shadow-glow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 text-sm uppercase tracking-wider magnetic",children:l?S.jsxs(S.Fragment,{children:[S.jsx(ga,{className:"animate-spin",size:20}),"Authenticating..."]}):S.jsxs(S.Fragment,{children:[S.jsx(P4,{size:20}),"Login to Dashboard"]})}),S.jsxs("p",{className:"text-center text-xs text-slate-500 mt-4",children:["Demo: ",S.jsx("span",{className:"text-violet-400 font-mono",children:"demo / demo"})]})]}),S.jsx("p",{className:"text-center text-xs text-slate-600 mt-6",children:"Secure driver authentication  AryNik  2026"})]})]})}function O8(){const[e,t]=V.useState([]),[n,r]=V.useState(!0),[l,u]=V.useState(!1),p=Wr(),y=async(O=!1)=>{O?u(!0):r(!0);try{const D=await Gv();let P=[];try{const j=localStorage.getItem("token");P=(await k1(j)).map(B=>({...B,id:B.id,status:"synced",label:B.event_id}))}catch{console.log("Could not fetch server logs, showing local only")}const H=[...D,...P].sort((j,F)=>new Date(F.timestamp)-new Date(j.timestamp));t(H)}finally{r(!1),u(!1)}};V.useEffect(()=>{y()},[]);const v=O=>O==="synced"?{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30",icon:Yd,label:"Synced"}:{bg:"bg-violet-500/20",text:"text-violet-400",border:"border-violet-500/30",icon:Wc,label:"Pending"},x=e.filter(O=>O.status==="synced").length,E=e.filter(O=>O.status!=="synced").length,A={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},I={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-20 right-0 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"px-4 py-4 flex items-center justify-between glass-strong sticky top-0 z-30 backdrop-blur-xl border-b border-white/10 animate-slide-down",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>p(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:S.jsx(Yl,{size:20})}),S.jsxs("div",{children:[S.jsx("h1",{className:"font-black text-lg text-gradient tracking-tight",children:"Update History"}),S.jsx("p",{className:"text-xs text-slate-500 font-medium mt-0.5",children:"Recent activity timeline"})]})]}),S.jsx("button",{onClick:()=>y(!0),className:`p-2.5 rounded-xl glass-light hover:bg-violet-500/20 text-violet-400 transition-all border border-white/10 ${l?"animate-spin":""}`,children:S.jsx(b1,{size:20})})]}),S.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3 relative z-10",children:[S.jsxs(dt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-strong p-4 rounded-2xl border-iridescent",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:S.jsx(Yd,{size:14,className:"text-emerald-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Synced"})]}),S.jsx("p",{className:"text-2xl font-black text-gradient-blue",children:x})]}),S.jsxs(dt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"glass-strong p-4 rounded-2xl border-iridescent",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg",children:S.jsx(Wc,{size:14,className:"text-violet-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Pending"})]}),S.jsx("p",{className:"text-2xl font-black text-gradient-purple",children:E})]})]}),S.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-32 relative z-10",children:n?S.jsxs("div",{className:"text-center py-20",children:[S.jsxs("div",{className:"relative inline-block",children:[S.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),S.jsx(yo,{className:"animate-spin relative z-10 text-violet-400 mx-auto",size:48})]}),S.jsx("p",{className:"mt-6 text-sm font-bold text-slate-500 uppercase tracking-wide",children:"Loading history..."})]}):e.length===0?S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(Wc,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No recent updates"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Your activity will appear here"})]}):S.jsx(dt.div,{variants:A,initial:"hidden",animate:"visible",className:"space-y-3 py-2",children:e.map((O,D)=>{const P=v(O.status),H=P.icon;return S.jsxs(dt.div,{variants:I,className:"glass-strong p-5 rounded-2xl border border-white/10 relative overflow-hidden group hover:border-violet-500/30 transition-all",children:[D<e.length-1&&S.jsx("div",{className:"absolute left-11 top-full w-0.5 h-3 bg-gradient-to-b from-white/10 to-transparent"}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${P.bg} rounded-2xl flex items-center justify-center border ${P.border}`,children:S.jsx(H,{size:20,className:P.text,strokeWidth:2.5})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-mono text-slate-500 tracking-wider",children:O.awb}),S.jsx("h3",{className:"font-bold text-white mt-1",children:O.event_id||O.label})]}),S.jsx("span",{className:`text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border ${P.bg} ${P.text} ${P.border}`,children:P.label})]}),S.jsxs("p",{className:"text-[10px] text-slate-400 font-medium flex items-center gap-1.5",children:[S.jsx(Wc,{size:10}),new Date(O.timestamp).toLocaleString()]}),O.error_message&&S.jsxs("div",{className:"mt-3 px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-2",children:[S.jsx(rv,{size:14,className:"text-red-400 mt-0.5 flex-shrink-0"}),S.jsx("p",{className:"text-xs text-red-400 font-medium",children:O.error_message})]})]})]})]},D)})})})]})}function R8(){const{user:e,logout:t}=bo(),n=Wr(),[r,l]=V.useState(Ps()),u=()=>{t(),n("/login",{replace:!0})},p=()=>{Dv(r),window.location.reload()},y=[{title:"Preferences",items:[{icon:_4,label:"Notifications",value:"Enabled",color:"violet"},{icon:I4,label:"Language",value:"English",color:"emerald"},{icon:B4,label:"Dark Mode",value:"Auto",color:"amber"}]},{title:"Account",items:[{icon:U4,label:"Security",value:null,color:"violet"},{icon:O4,label:"App Info",value:"v1.0.0",color:"slate"}]}],v=I=>{const O={violet:"bg-violet-500/20",emerald:"bg-emerald-500/20",amber:"bg-amber-500/20",slate:"bg-slate-500/20"};return O[I]||O.slate},x=I=>{const O={violet:"text-violet-400",emerald:"text-emerald-400",amber:"text-amber-400",slate:"text-slate-400"};return O[I]||O.slate},E={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},A={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return S.jsxs(dt.div,{initial:"hidden",animate:"visible",exit:{opacity:0,y:-20},variants:E,className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-violet-700"}),S.jsx("div",{className:"absolute inset-0 shimmer opacity-20"}),S.jsxs("header",{className:"relative z-10 px-6 pt-6 pb-4",children:[S.jsx("h1",{className:"text-xl font-black text-white uppercase tracking-tight mb-1",children:"Settings"}),S.jsx("p",{className:"text-sm text-violet-100 font-medium",children:"Manage your preferences"})]}),S.jsxs("div",{className:"relative z-10 px-8 pb-8 flex flex-col items-center",children:[S.jsx(dt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-28 h-28 bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-xl rounded-[32px] shadow-2xl flex items-center justify-center text-white mb-5 border-4 border-white/30 animate-float",children:S.jsx(N1,{size:56,strokeWidth:1.5})}),S.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight mb-2",children:(e==null?void 0:e.username)||"Driver"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-[10px] font-black bg-white/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full uppercase tracking-widest border border-white/30",children:(e==null?void 0:e.role)||"Carrier"}),S.jsxs("span",{className:"text-[10px] font-bold text-violet-200 uppercase tracking-widest",children:["ID: ",(e==null?void 0:e.driver_id)||"N/A"]})]})]})]}),S.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 relative z-10 -mt-6",children:[S.jsxs(dt.div,{variants:A,className:"space-y-3",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Connection"}),S.jsxs("div",{className:"glass-strong rounded-2xl overflow-hidden border-iridescent p-4 space-y-3",children:[S.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"API Base URL"}),S.jsx("input",{value:r,onChange:I=>l(I.target.value),placeholder:"https://YOUR-BACKEND",className:"w-full px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-violet-500/50 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 text-sm font-medium"}),S.jsxs("p",{className:"text-[10px] text-slate-500 font-medium leading-relaxed",children:["Tip: on GitHub Pages (HTTPS), your backend must be HTTPS. You can also set via URL: ",S.jsx("span",{className:"font-mono text-slate-400",children:"?api=https://YOUR-BACKEND"})]}),S.jsx("button",{onClick:p,className:"w-full btn-premium py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white rounded-xl font-bold shadow-lg hover:shadow-glow-md transition-all text-sm uppercase tracking-wider",children:"Apply API URL"})]})]}),y.map((I,O)=>S.jsxs(dt.div,{variants:A,className:"space-y-3",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:I.title}),S.jsx("div",{className:"glass-strong rounded-2xl overflow-hidden border-iridescent",children:I.items.map((D,P)=>{const H=D.icon;return S.jsxs("button",{className:`w-full p-4 flex items-center gap-4 hover:bg-white/5 transition-all group ${P<I.items.length-1?"border-b border-white/5":""}`,children:[S.jsx("div",{className:`p-3 ${v(D.color)} rounded-xl group-hover:scale-110 transition-transform`,children:S.jsx(H,{className:x(D.color),size:20,strokeWidth:2})}),S.jsx("span",{className:"flex-1 text-left font-bold text-white",children:D.label}),D.value&&S.jsx("span",{className:"text-xs text-slate-400 font-medium",children:D.value}),S.jsx(ma,{className:"text-slate-500 group-hover:text-violet-400 group-hover:translate-x-1 transition-all",size:18})]},P)})})]},O)),S.jsxs(dt.div,{variants:A,className:"glass-strong p-5 rounded-2xl border-iridescent relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-amber-600/5 opacity-0 group-hover:opacity-100 transition-opacity"}),S.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[S.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl shadow-glow-sm",children:S.jsx(cv,{size:24,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"font-black text-white text-sm",children:"Premium Features"}),S.jsx("p",{className:"text-[10px] text-slate-400 font-medium mt-1",children:"Unlock advanced analytics & insights"})]}),S.jsx(ma,{className:"text-amber-400",size:20})]})]}),S.jsxs(dt.button,{variants:A,onClick:u,whileTap:{scale:.98},className:"w-full btn-premium py-4 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-400 hover:to-rose-500 text-white rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg hover:shadow-glow-md transition-all",children:[S.jsx(D4,{size:20,strokeWidth:2.5}),"Sign Out"]})]}),S.jsxs(dt.div,{variants:A,className:"p-6 text-center relative z-10",children:[S.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Powered by Postis Bridge"}),S.jsx("p",{className:"text-[9px] text-slate-600 font-medium mt-1",children:" 2025 AryNik Driver App"})]})]})}const Yv="arynik_geocode_cache_v1",L8=1100;let ax=0;const P8=e=>{try{return localStorage.getItem(e)}catch{return null}},D8=(e,t)=>{try{localStorage.setItem(e,t)}catch{}},k8=e=>new Promise(t=>setTimeout(t,e)),B8=()=>{const e=P8(Yv);if(!e)return{};try{const t=JSON.parse(e);return t&&typeof t=="object"?t:{}}catch{return{}}},lx=e=>{D8(Yv,JSON.stringify(e||{}))},F8=(e,{timeoutMs:t=15e3}={})=>new Promise((n,r)=>{const l=`__arynik_jsonp_${Date.now()}_${Math.floor(Math.random()*1e5)}`,u=document.createElement("script"),p=setTimeout(()=>{y(),r(new Error("Geocode timeout"))},t),y=()=>{clearTimeout(p);try{delete window[l]}catch{window[l]=void 0}u&&u.parentNode&&u.parentNode.removeChild(u)};window[l]=v=>{y(),n(v)},u.onerror=()=>{y(),r(new Error("Geocode network error"))},u.async=!0,u.src=`${e}${e.includes("?")?"&":"?"}json_callback=${encodeURIComponent(l)}`,document.body.appendChild(u)}),t0=async e=>{const t=String(e||"").trim();if(!t)return null;const n=B8();if(n[t]&&n[t].lat&&n[t].lon)return n[t];const r=L8-(Date.now()-ax);r>0&&await k8(r),ax=Date.now();const u=`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${encodeURIComponent(t)}`;try{const p=await F8(u),y=Array.isArray(p)?p[0]:null,v=y?Number(y.lat):NaN,x=y?Number(y.lon):NaN;if(!Number.isFinite(v)||!Number.isFinite(x))return n[t]={lat:null,lon:null,ts:Date.now()},lx(n),null;const E={lat:v,lon:x,display_name:y.display_name||t,ts:Date.now()};return n[t]=E,lx(n),E}catch(p){return console.warn("Geocode failed",p),null}},Xv="https://router.project-osrm.org/route/v1/driving";async function j8(e,t){if(!e||!t)return null;try{const n=`${Xv}/${e.lon},${e.lat};${t.lon},${t.lat}?overview=full&geometries=geojson`,r=await At.get(n);return r.data.code==="Ok"&&r.data.routes.length>0?r.data.routes[0].geometry:null}catch(n){return console.error("Error fetching route:",n),null}}async function z8(e){const t=Array.isArray(e)?e.filter(Boolean):[];if(t.length<2)return null;const n=t.map(r=>`${r.lon},${r.lat}`).join(";");try{const r=`${Xv}/${n}?overview=full&geometries=geojson&steps=false`,l=await At.get(r);return l.data.code==="Ok"&&l.data.routes.length>0?l.data.routes[0].geometry:null}catch(r){return console.error("Error fetching multi-route:",r),null}}function Kv(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const U8=1;function V8(e){return Object.freeze({__version:U8,map:e})}function qv(e,t){return Object.freeze({...e,...t})}const Qv=V.createContext(null),Jv=Qv.Provider;function Ah(){const e=V.useContext(Qv);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function $v(e){function t(n,r){const{instance:l,context:u}=e(n).current;return V.useImperativeHandle(r,()=>l),n.children==null?null:ho.createElement(Jv,{value:u},n.children)}return V.forwardRef(t)}function H8(e){function t(n,r){const[l,u]=V.useState(!1),{instance:p}=e(n,u).current;V.useImperativeHandle(r,()=>p),V.useEffect(function(){l&&p.update()},[p,l,n.children]);const y=p._contentNode;return y?by.createPortal(n.children,y):null}return V.forwardRef(t)}function W8(e){function t(n,r){const{instance:l}=e(n).current;return V.useImperativeHandle(r,()=>l),null}return V.forwardRef(t)}function U1(e,t){const n=V.useRef();V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Sh(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Z8(e,t){return function(r,l){const u=Ah(),p=e(Sh(r,u),u);return Kv(u.map,r.attribution),U1(p.current,r.eventHandlers),t(p.current,u,r,l),p}}var n0={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(ko,function(n){var r="1.9.4";function l(o){var f,g,C,T;for(g=1,C=arguments.length;g<C;g++){T=arguments[g];for(f in T)o[f]=T[f]}return o}var u=Object.create||function(){function o(){}return function(f){return o.prototype=f,new o}}();function p(o,f){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var C=g.call(arguments,2);return function(){return o.apply(f,C.length?C.concat(g.call(arguments)):arguments)}}var y=0;function v(o){return"_leaflet_id"in o||(o._leaflet_id=++y),o._leaflet_id}function x(o,f,g){var C,T,k,W;return W=function(){C=!1,T&&(k.apply(g,T),T=!1)},k=function(){C?T=arguments:(o.apply(g,arguments),setTimeout(W,f),C=!0)},k}function E(o,f,g){var C=f[1],T=f[0],k=C-T;return o===C&&g?o:((o-T)%k+k)%k+T}function A(){return!1}function I(o,f){if(f===!1)return o;var g=Math.pow(10,f===void 0?6:f);return Math.round(o*g)/g}function O(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function D(o){return O(o).split(/\s+/)}function P(o,f){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var g in f)o.options[g]=f[g];return o.options}function H(o,f,g){var C=[];for(var T in o)C.push(encodeURIComponent(g?T.toUpperCase():T)+"="+encodeURIComponent(o[T]));return(!f||f.indexOf("?")===-1?"?":"&")+C.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function F(o,f){return o.replace(j,function(g,C){var T=f[C];if(T===void 0)throw new Error("No value provided for variable "+g);return typeof T=="function"&&(T=T(f)),T})}var B=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function Z(o,f){for(var g=0;g<o.length;g++)if(o[g]===f)return g;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ae(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var X=0;function ee(o){var f=+new Date,g=Math.max(0,16-(f-X));return X=f+g,window.setTimeout(o,g)}var J=window.requestAnimationFrame||ae("RequestAnimationFrame")||ee,Re=window.cancelAnimationFrame||ae("CancelAnimationFrame")||ae("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Ue(o,f,g){if(g&&J===ee)o.call(f);else return J.call(window,p(o,f))}function we(o){o&&Re.call(window,o)}var Le={__proto__:null,extend:l,create:u,bind:p,get lastId(){return y},stamp:v,throttle:x,wrapNum:E,falseFn:A,formatNum:I,trim:O,splitWords:D,setOptions:P,getParamString:H,template:F,isArray:B,indexOf:Z,emptyImageUrl:$,requestFn:J,cancelFn:Re,requestAnimFrame:Ue,cancelAnimFrame:we};function Fe(){}Fe.extend=function(o){var f=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=f.__super__=this.prototype,C=u(g);C.constructor=f,f.prototype=C;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(f[T]=this[T]);return o.statics&&l(f,o.statics),o.includes&&(re(o.includes),l.apply(null,[C].concat(o.includes))),l(C,o),delete C.statics,delete C.includes,C.options&&(C.options=g.options?u(g.options):{},l(C.options,o.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,W=C._initHooks.length;k<W;k++)C._initHooks[k].call(this)}},f},Fe.include=function(o){var f=this.prototype.options;return l(this.prototype,o),o.options&&(this.prototype.options=f,this.mergeOptions(o.options)),this},Fe.mergeOptions=function(o){return l(this.prototype.options,o),this},Fe.addInitHook=function(o){var f=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function re(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=B(o)?o:[o];for(var f=0;f<o.length;f++)o[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ce={on:function(o,f,g){if(typeof o=="object")for(var C in o)this._on(C,o[C],f);else{o=D(o);for(var T=0,k=o.length;T<k;T++)this._on(o[T],f,g)}return this},off:function(o,f,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var C in o)this._off(C,o[C],f);else{o=D(o);for(var T=arguments.length===1,k=0,W=o.length;k<W;k++)T?this._off(o[k]):this._off(o[k],f,g)}return this},_on:function(o,f,g,C){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(o,f,g)===!1){g===this&&(g=void 0);var T={fn:f,ctx:g};C&&(T.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(T)}},_off:function(o,f,g){var C,T,k;if(this._events&&(C=this._events[o],!!C)){if(arguments.length===1){if(this._firingCount)for(T=0,k=C.length;T<k;T++)C[T].fn=A;delete this._events[o];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var W=this._listens(o,f,g);if(W!==!1){var Q=C[W];this._firingCount&&(Q.fn=A,this._events[o]=C=C.slice()),C.splice(W,1)}}},fire:function(o,f,g){if(!this.listens(o,g))return this;var C=l({},f,{type:o,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var T=this._events[o];if(T){this._firingCount=this._firingCount+1||1;for(var k=0,W=T.length;k<W;k++){var Q=T[k],se=Q.fn;Q.once&&this.off(o,se,Q.ctx),se.call(Q.ctx||this,C)}this._firingCount--}}return g&&this._propagateEvent(C),this},listens:function(o,f,g,C){typeof o!="string"&&console.warn('"string" type argument expected');var T=f;typeof f!="function"&&(C=!!f,T=void 0,g=void 0);var k=this._events&&this._events[o];if(k&&k.length&&this._listens(o,T,g)!==!1)return!0;if(C){for(var W in this._eventParents)if(this._eventParents[W].listens(o,f,g,C))return!0}return!1},_listens:function(o,f,g){if(!this._events)return!1;var C=this._events[o]||[];if(!f)return!!C.length;g===this&&(g=void 0);for(var T=0,k=C.length;T<k;T++)if(C[T].fn===f&&C[T].ctx===g)return T;return!1},once:function(o,f,g){if(typeof o=="object")for(var C in o)this._on(C,o[C],f,!0);else{o=D(o);for(var T=0,k=o.length;T<k;T++)this._on(o[T],f,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[v(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[v(o)],this},_propagateEvent:function(o){for(var f in this._eventParents)this._eventParents[f].fire(o.type,l({layer:o.target,propagatedFrom:o.target},o),!0)}};Ce.addEventListener=Ce.on,Ce.removeEventListener=Ce.clearAllEventListeners=Ce.off,Ce.addOneTimeEventListener=Ce.once,Ce.fireEvent=Ce.fire,Ce.hasEventListeners=Ce.listens;var Te=Fe.extend(Ce);function le(o,f,g){this.x=g?Math.round(o):o,this.y=g?Math.round(f):f}var Me=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(o){return this.clone()._add(de(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(de(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new le(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new le(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(o){o=de(o);var f=o.x-this.x,g=o.y-this.y;return Math.sqrt(f*f+g*g)},equals:function(o){return o=de(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=de(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function de(o,f,g){return o instanceof le?o:B(o)?new le(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new le(o.x,o.y):new le(o,f,g)}function ve(o,f){if(o)for(var g=f?[o,f]:o,C=0,T=g.length;C<T;C++)this.extend(g[C])}ve.prototype={extend:function(o){var f,g;if(!o)return this;if(o instanceof le||typeof o[0]=="number"||"x"in o)f=g=de(o);else if(o=te(o),f=o.min,g=o.max,!f||!g)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=g.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return de((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return de(this.min.x,this.max.y)},getTopRight:function(){return de(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var f,g;return typeof o[0]=="number"||o instanceof le?o=de(o):o=te(o),o instanceof ve?(f=o.min,g=o.max):f=g=o,f.x>=this.min.x&&g.x<=this.max.x&&f.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=te(o);var f=this.min,g=this.max,C=o.min,T=o.max,k=T.x>=f.x&&C.x<=g.x,W=T.y>=f.y&&C.y<=g.y;return k&&W},overlaps:function(o){o=te(o);var f=this.min,g=this.max,C=o.min,T=o.max,k=T.x>f.x&&C.x<g.x,W=T.y>f.y&&C.y<g.y;return k&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var f=this.min,g=this.max,C=Math.abs(f.x-g.x)*o,T=Math.abs(f.y-g.y)*o;return te(de(f.x-C,f.y-T),de(g.x+C,g.y+T))},equals:function(o){return o?(o=te(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function te(o,f){return!o||o instanceof ve?o:new ve(o,f)}function Ae(o,f){if(o)for(var g=f?[o,f]:o,C=0,T=g.length;C<T;C++)this.extend(g[C])}Ae.prototype={extend:function(o){var f=this._southWest,g=this._northEast,C,T;if(o instanceof je)C=o,T=o;else if(o instanceof Ae){if(C=o._southWest,T=o._northEast,!C||!T)return this}else return o?this.extend(ce(o)||me(o)):this;return!f&&!g?(this._southWest=new je(C.lat,C.lng),this._northEast=new je(T.lat,T.lng)):(f.lat=Math.min(C.lat,f.lat),f.lng=Math.min(C.lng,f.lng),g.lat=Math.max(T.lat,g.lat),g.lng=Math.max(T.lng,g.lng)),this},pad:function(o){var f=this._southWest,g=this._northEast,C=Math.abs(f.lat-g.lat)*o,T=Math.abs(f.lng-g.lng)*o;return new Ae(new je(f.lat-C,f.lng-T),new je(g.lat+C,g.lng+T))},getCenter:function(){return new je((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new je(this.getNorth(),this.getWest())},getSouthEast:function(){return new je(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof je||"lat"in o?o=ce(o):o=me(o);var f=this._southWest,g=this._northEast,C,T;return o instanceof Ae?(C=o.getSouthWest(),T=o.getNorthEast()):C=T=o,C.lat>=f.lat&&T.lat<=g.lat&&C.lng>=f.lng&&T.lng<=g.lng},intersects:function(o){o=me(o);var f=this._southWest,g=this._northEast,C=o.getSouthWest(),T=o.getNorthEast(),k=T.lat>=f.lat&&C.lat<=g.lat,W=T.lng>=f.lng&&C.lng<=g.lng;return k&&W},overlaps:function(o){o=me(o);var f=this._southWest,g=this._northEast,C=o.getSouthWest(),T=o.getNorthEast(),k=T.lat>f.lat&&C.lat<g.lat,W=T.lng>f.lng&&C.lng<g.lng;return k&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,f){return o?(o=me(o),this._southWest.equals(o.getSouthWest(),f)&&this._northEast.equals(o.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(o,f){return o instanceof Ae?o:new Ae(o,f)}function je(o,f,g){if(isNaN(o)||isNaN(f))throw new Error("Invalid LatLng object: ("+o+", "+f+")");this.lat=+o,this.lng=+f,g!==void 0&&(this.alt=+g)}je.prototype={equals:function(o,f){if(!o)return!1;o=ce(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(f===void 0?1e-9:f)},toString:function(o){return"LatLng("+I(this.lat,o)+", "+I(this.lng,o)+")"},distanceTo:function(o){return Ee.distance(this,ce(o))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(o){var f=180*o/40075017,g=f/Math.cos(Math.PI/180*this.lat);return me([this.lat-f,this.lng-g],[this.lat+f,this.lng+g])},clone:function(){return new je(this.lat,this.lng,this.alt)}};function ce(o,f,g){return o instanceof je?o:B(o)&&typeof o[0]!="object"?o.length===3?new je(o[0],o[1],o[2]):o.length===2?new je(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new je(o.lat,"lng"in o?o.lng:o.lon,o.alt):f===void 0?null:new je(o,f,g)}var ue={latLngToPoint:function(o,f){var g=this.projection.project(o),C=this.scale(f);return this.transformation._transform(g,C)},pointToLatLng:function(o,f){var g=this.scale(f),C=this.transformation.untransform(o,g);return this.projection.unproject(C)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var f=this.projection.bounds,g=this.scale(o),C=this.transformation.transform(f.min,g),T=this.transformation.transform(f.max,g);return new ve(C,T)},infinite:!1,wrapLatLng:function(o){var f=this.wrapLng?E(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?E(o.lat,this.wrapLat,!0):o.lat,C=o.alt;return new je(g,f,C)},wrapLatLngBounds:function(o){var f=o.getCenter(),g=this.wrapLatLng(f),C=f.lat-g.lat,T=f.lng-g.lng;if(C===0&&T===0)return o;var k=o.getSouthWest(),W=o.getNorthEast(),Q=new je(k.lat-C,k.lng-T),se=new je(W.lat-C,W.lng-T);return new Ae(Q,se)}},Ee=l({},ue,{wrapLng:[-180,180],R:6371e3,distance:function(o,f){var g=Math.PI/180,C=o.lat*g,T=f.lat*g,k=Math.sin((f.lat-o.lat)*g/2),W=Math.sin((f.lng-o.lng)*g/2),Q=k*k+Math.cos(C)*Math.cos(T)*W*W,se=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*se}}),qe=6378137,De={R:qe,MAX_LATITUDE:85.0511287798,project:function(o){var f=Math.PI/180,g=this.MAX_LATITUDE,C=Math.max(Math.min(g,o.lat),-g),T=Math.sin(C*f);return new le(this.R*o.lng*f,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(o){var f=180/Math.PI;return new je((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*f,o.x*f/this.R)},bounds:function(){var o=qe*Math.PI;return new ve([-o,-o],[o,o])}()};function st(o,f,g,C){if(B(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=f,this._c=g,this._d=C}st.prototype={transform:function(o,f){return this._transform(o.clone(),f)},_transform:function(o,f){return f=f||1,o.x=f*(this._a*o.x+this._b),o.y=f*(this._c*o.y+this._d),o},untransform:function(o,f){return f=f||1,new le((o.x/f-this._b)/this._a,(o.y/f-this._d)/this._c)}};function tt(o,f,g,C){return new st(o,f,g,C)}var Ve=l({},Ee,{code:"EPSG:3857",projection:De,transformation:function(){var o=.5/(Math.PI*De.R);return tt(o,.5,-o,.5)}()}),Ci=l({},Ve,{code:"EPSG:900913"});function cn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Zr(o,f){var g="",C,T,k,W,Q,se;for(C=0,k=o.length;C<k;C++){for(Q=o[C],T=0,W=Q.length;T<W;T++)se=Q[T],g+=(T?"L":"M")+se.x+" "+se.y;g+=f?Be.svg?"z":"x":""}return g||"M0 0"}var Jt=document.documentElement.style,xt="ActiveXObject"in window,ct=xt&&!document.addEventListener,Ds="msLaunchUri"in navigator&&!("documentMode"in document),ke=Pt("webkit"),ks=Pt("android"),Sa=Pt("android 2")||Pt("android 3"),Vi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ba=ks&&Pt("Google")&&Vi<537&&!("AudioNode"in window),zn=!!window.opera,Ta=!Ds&&Pt("chrome"),Hi=Pt("gecko")&&!ke&&!zn&&!xt,bn=!Ta&&Pt("safari"),Ia=Pt("phantom"),Bs="OTransition"in Jt,Oh=navigator.platform.indexOf("Win")===0,Ut=xt&&"transition"in Jt,_e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Sa,Xt="MozPerspective"in Jt,vt=!window.L_DISABLE_3D&&(Ut||_e||Xt)&&!Bs&&!Ia,St=typeof orientation<"u"||Pt("mobile"),Fs=St&&ke,Na=St&&_e,Ma=!window.PointerEvent&&window.MSPointerEvent,ht=!!(window.PointerEvent||Ma),sr="ontouchstart"in window||!!window.TouchEvent,hc=!window.L_NO_TOUCH&&(sr||ht),fc=St&&zn,li=St&&Hi,Oa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gn=function(){var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",A,f),window.removeEventListener("testPassiveEventSupport",A,f)}catch{}return o}(),Gr=function(){return!!document.createElement("canvas").getContext}(),Yr=!!(document.createElementNS&&cn("svg").createSVGRect),Ei=!!Yr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Rh=!Yr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var f=o.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),vr=navigator.platform.indexOf("Mac")===0,Ra=navigator.platform.indexOf("Linux")===0;function Pt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Be={ie:xt,ielt9:ct,edge:Ds,webkit:ke,android:ks,android23:Sa,androidStock:ba,opera:zn,chrome:Ta,gecko:Hi,safari:bn,phantom:Ia,opera12:Bs,win:Oh,ie3d:Ut,webkit3d:_e,gecko3d:Xt,any3d:vt,mobile:St,mobileWebkit:Fs,mobileWebkit3d:Na,msPointer:Ma,pointer:ht,touch:hc,touchNative:sr,mobileOpera:fc,mobileGecko:li,retina:Oa,passiveEvents:gn,canvas:Gr,svg:Yr,vml:Rh,inlineSvg:Ei,mac:vr,linux:Ra},Un=Be.msPointer?"MSPointerDown":"pointerdown",Ie=Be.msPointer?"MSPointerMove":"pointermove",_r=Be.msPointer?"MSPointerUp":"pointerup",To=Be.msPointer?"MSPointerCancel":"pointercancel",xn={touchstart:Un,touchmove:Ie,touchend:_r,touchcancel:To},Cr={touchstart:or,touchmove:zs,touchend:zs,touchcancel:zs},Wi={},js=!1;function Ai(o,f,g){return f==="touchstart"&&Nt(),Cr[f]?(g=Cr[f].bind(this,g),o.addEventListener(xn[f],g,!1),g):(console.warn("wrong event specified:",f),A)}function Lh(o,f,g){if(!xn[f]){console.warn("wrong event specified:",f);return}o.removeEventListener(xn[f],g,!1)}function Ph(o){Wi[o.pointerId]=o}function Si(o){Wi[o.pointerId]&&(Wi[o.pointerId]=o)}function yn(o){delete Wi[o.pointerId]}function Nt(){js||(document.addEventListener(Un,Ph,!0),document.addEventListener(Ie,Si,!0),document.addEventListener(_r,yn,!0),document.addEventListener(To,yn,!0),js=!0)}function zs(o,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var g in Wi)f.touches.push(Wi[g]);f.changedTouches=[f],o(f)}}function or(o,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&hn(f),zs(o,f)}function La(o){var f={},g,C;for(C in o)g=o[C],f[C]=g&&g.bind?g.bind(o):g;return o=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var he=200;function Dh(o,f){o.addEventListener("dblclick",f);var g=0,C;function T(k){if(k.detail!==1){C=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var W=Kr(k);if(!(W.some(function(se){return se instanceof HTMLLabelElement&&se.attributes.for})&&!W.some(function(se){return se instanceof HTMLInputElement||se instanceof HTMLSelectElement}))){var Q=Date.now();Q-g<=he?(C++,C===2&&f(La(k))):C=1,g=Q}}}return o.addEventListener("click",T),{dblclick:f,simDblclick:T}}function jt(o,f){o.removeEventListener("dblclick",f.dblclick),o.removeEventListener("click",f.simDblclick)}var ar=q(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Us=q(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pt=Us==="webkitTransition"||Us==="OTransition"?Us+"End":"transitionend";function ft(o){return typeof o=="string"?document.getElementById(o):o}function et(o,f){var g=o.style[f]||o.currentStyle&&o.currentStyle[f];if((!g||g==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(o,null);g=C?C[f]:null}return g==="auto"?null:g}function lt(o,f,g){var C=document.createElement(o);return C.className=f||"",g&&g.appendChild(C),C}function Tt(o){var f=o.parentNode;f&&f.removeChild(o)}function Xr(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Mt(o){var f=o.parentNode;f&&f.lastChild!==o&&f.appendChild(o)}function Vn(o){var f=o.parentNode;f&&f.firstChild!==o&&f.insertBefore(o,f.firstChild)}function Pa(o,f){if(o.classList!==void 0)return o.classList.contains(f);var g=Zi(o);return g.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(g)}function ze(o,f){if(o.classList!==void 0)for(var g=D(f),C=0,T=g.length;C<T;C++)o.classList.add(g[C]);else if(!Pa(o,f)){var k=Zi(o);Da(o,(k?k+" ":"")+f)}}function yt(o,f){o.classList!==void 0?o.classList.remove(f):Da(o,O((" "+Zi(o)+" ").replace(" "+f+" "," ")))}function Da(o,f){o.className.baseVal===void 0?o.className=f:o.className.baseVal=f}function Zi(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function nt(o,f){"opacity"in o.style?o.style.opacity=f:"filter"in o.style&&wn(o,f)}function wn(o,f){var g=!1,C="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(C)}catch{if(f===1)return}f=Math.round(f*100),g?(g.Enabled=f!==100,g.Opacity=f):o.style.filter+=" progid:"+C+"(opacity="+f+")"}function q(o){for(var f=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in f)return o[g];return!1}function z(o,f,g){var C=f||new le(0,0);o.style[ar]=(Be.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(g?" scale("+g+")":"")}function Se(o,f){o._leaflet_pos=f,Be.any3d?z(o,f):(o.style.left=f.x+"px",o.style.top=f.y+"px")}function Ot(o){return o._leaflet_pos||new le(0,0)}var vn,Vs,Hs;if("onselectstart"in document)vn=function(){Ye(window,"selectstart",hn)},Vs=function(){be(window,"selectstart",hn)};else{var _n=q(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vn=function(){if(_n){var o=document.documentElement.style;Hs=o[_n],o[_n]="none"}},Vs=function(){_n&&(document.documentElement.style[_n]=Hs,Hs=void 0)}}function He(){Ye(window,"dragstart",hn)}function It(){be(window,"dragstart",hn)}var Ws,ka;function Zs(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Er(),Ws=o,ka=o.style.outlineStyle,o.style.outlineStyle="none",Ye(window,"keydown",Er))}function Er(){Ws&&(Ws.style.outlineStyle=ka,Ws=void 0,ka=void 0,be(window,"keydown",Er))}function Io(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ba(o){var f=o.getBoundingClientRect();return{x:f.width/o.offsetWidth||1,y:f.height/o.offsetHeight||1,boundingClientRect:f}}var rn={__proto__:null,TRANSFORM:ar,TRANSITION:Us,TRANSITION_END:pt,get:ft,getStyle:et,create:lt,remove:Tt,empty:Xr,toFront:Mt,toBack:Vn,hasClass:Pa,addClass:ze,removeClass:yt,setClass:Da,getClass:Zi,setOpacity:nt,testProp:q,setTransform:z,setPosition:Se,getPosition:Ot,get disableTextSelection(){return vn},get enableTextSelection(){return Vs},disableImageDrag:He,enableImageDrag:It,preventOutline:Zs,restoreOutline:Er,getSizedParentNode:Io,getScale:Ba};function Ye(o,f,g,C){if(f&&typeof f=="object")for(var T in f)$t(o,T,f[T],g);else{f=D(f);for(var k=0,W=f.length;k<W;k++)$t(o,f[k],g,C)}return this}var un="_leaflet_events";function be(o,f,g,C){if(arguments.length===1)dc(o),delete o[un];else if(f&&typeof f=="object")for(var T in f)Fa(o,T,f[T],g);else if(f=D(f),arguments.length===2)dc(o,function(Q){return Z(f,Q)!==-1});else for(var k=0,W=f.length;k<W;k++)Fa(o,f[k],g,C);return this}function dc(o,f){for(var g in o[un]){var C=g.split(/\d/)[0];(!f||f(C))&&Fa(o,C,null,null,g)}}var Qe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $t(o,f,g,C){var T=f+v(g)+(C?"_"+v(C):"");if(o[un]&&o[un][T])return this;var k=function(Q){return g.call(C||o,Q||window.event)},W=k;!Be.touchNative&&Be.pointer&&f.indexOf("touch")===0?k=Ai(o,f,k):Be.touch&&f==="dblclick"?k=Dh(o,k):"addEventListener"in o?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?o.addEventListener(Qe[f]||f,k,Be.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(k=function(Q){Q=Q||window.event,Ar(o,Q)&&W(Q)},o.addEventListener(Qe[f],k,!1)):o.addEventListener(f,W,!1):o.attachEvent("on"+f,k),o[un]=o[un]||{},o[un][T]=k}function Fa(o,f,g,C,T){T=T||f+v(g)+(C?"_"+v(C):"");var k=o[un]&&o[un][T];if(!k)return this;!Be.touchNative&&Be.pointer&&f.indexOf("touch")===0?Lh(o,f,k):Be.touch&&f==="dblclick"?jt(o,k):"removeEventListener"in o?o.removeEventListener(Qe[f]||f,k,!1):o.detachEvent("on"+f,k),o[un][T]=null}function Gi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function No(o){return $t(o,"wheel",Gi),this}function ci(o){return Ye(o,"mousedown touchstart dblclick contextmenu",Gi),o._leaflet_disable_click=!0,this}function hn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function ui(o){return hn(o),Gi(o),this}function Kr(o){if(o.composedPath)return o.composedPath();for(var f=[],g=o.target;g;)f.push(g),g=g.parentNode;return f}function qr(o,f){if(!f)return new le(o.clientX,o.clientY);var g=Ba(f),C=g.boundingClientRect;return new le((o.clientX-C.left)/g.x-f.clientLeft,(o.clientY-C.top)/g.y-f.clientTop)}var pc=Be.linux&&Be.chrome?window.devicePixelRatio:Be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qr(o){return Be.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/pc:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ar(o,f){var g=f.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var Mn={__proto__:null,on:Ye,off:be,stopPropagation:Gi,disableScrollPropagation:No,disableClickPropagation:ci,preventDefault:hn,stop:ui,getPropagationPath:Kr,getMousePosition:qr,getWheelDelta:Qr,isExternalTarget:Ar,addListener:Ye,removeListener:be},ja=Te.extend({run:function(o,f,g,C){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Ot(o),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ue(this._animate,this),this._step()},_step:function(o){var f=+new Date-this._startTime,g=this._duration*1e3;f<g?this._runFrame(this._easeOut(f/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,f){var g=this._startPos.add(this._offset.multiplyBy(o));f&&g._round(),Se(this._el,g),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ot=Te.extend({options:{crs:Ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,f){f=P(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(ce(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Us&&Be.any3d&&!Be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ye(this._proxy,pt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,f,g){if(f=f===void 0?this._zoom:this._limitZoom(f),o=this._limitCenter(ce(o),f,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=l({animate:g.animate},g.zoom),g.pan=l({animate:g.animate,duration:g.duration},g.pan));var C=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,f,g.zoom):this._tryAnimatedPan(o,g.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(o,f,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,f){return this._loaded?this.setView(this.getCenter(),o,{zoom:f}):(this._zoom=o,this)},zoomIn:function(o,f){return o=o||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,f)},zoomOut:function(o,f){return o=o||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,f)},setZoomAround:function(o,f,g){var C=this.getZoomScale(f),T=this.getSize().divideBy(2),k=o instanceof le?o:this.latLngToContainerPoint(o),W=k.subtract(T).multiplyBy(1-1/C),Q=this.containerPointToLatLng(T.add(W));return this.setView(Q,f,{zoom:g})},_getBoundsCenterZoom:function(o,f){f=f||{},o=o.getBounds?o.getBounds():me(o);var g=de(f.paddingTopLeft||f.padding||[0,0]),C=de(f.paddingBottomRight||f.padding||[0,0]),T=this.getBoundsZoom(o,!1,g.add(C));if(T=typeof f.maxZoom=="number"?Math.min(f.maxZoom,T):T,T===1/0)return{center:o.getCenter(),zoom:T};var k=C.subtract(g).divideBy(2),W=this.project(o.getSouthWest(),T),Q=this.project(o.getNorthEast(),T),se=this.unproject(W.add(Q).divideBy(2).add(k),T);return{center:se,zoom:T}},fitBounds:function(o,f){if(o=me(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,f);return this.setView(g.center,g.zoom,f)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,f){return this.setView(o,this._zoom,{pan:f})},panBy:function(o,f){if(o=de(o).round(),f=f||{},!o.x&&!o.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ja,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){ze(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,f.duration||.25,f.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,f,g){if(g=g||{},g.animate===!1||!Be.any3d)return this.setView(o,f,g);this._stop();var C=this.project(this.getCenter()),T=this.project(o),k=this.getSize(),W=this._zoom;o=ce(o),f=f===void 0?W:f;var Q=Math.max(k.x,k.y),se=Q*this.getZoomScale(W,f),fe=T.distanceTo(C)||1,Ne=1.42,Ze=Ne*Ne;function rt(on){var Cc=on?-1:1,x_=on?se:Q,y_=se*se-Q*Q+Cc*Ze*Ze*fe*fe,w_=2*x_*Ze*fe,Vh=y_/w_,rp=Math.sqrt(Vh*Vh+1)-Vh,v_=rp<1e-9?-18:Math.log(rp);return v_}function Gn(on){return(Math.exp(on)-Math.exp(-on))/2}function Cn(on){return(Math.exp(on)+Math.exp(-on))/2}function Oi(on){return Gn(on)/Cn(on)}var $n=rt(0);function Po(on){return Q*(Cn($n)/Cn($n+Ne*on))}function d_(on){return Q*(Cn($n)*Oi($n+Ne*on)-Gn($n))/Ze}function p_(on){return 1-Math.pow(1-on,1.5)}var m_=Date.now(),np=(rt(1)-$n)/Ne,g_=g.duration?1e3*g.duration:1e3*np*.8;function ip(){var on=(Date.now()-m_)/g_,Cc=p_(on)*np;on<=1?(this._flyToFrame=Ue(ip,this),this._move(this.unproject(C.add(T.subtract(C).multiplyBy(d_(Cc)/fe)),W),this.getScaleZoom(Q/Po(Cc),W),{flyTo:!0})):this._move(o,f)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),ip.call(this),this},flyToBounds:function(o,f){var g=this._getBoundsCenterZoom(o,f);return this.flyTo(g.center,g.zoom,f)},setMaxBounds:function(o){return o=me(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var f=this.options.minZoom;return this.options.minZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var f=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,f){this._enforcingBounds=!0;var g=this.getCenter(),C=this._limitCenter(g,this._zoom,me(o));return g.equals(C)||this.panTo(C,f),this._enforcingBounds=!1,this},panInside:function(o,f){f=f||{};var g=de(f.paddingTopLeft||f.padding||[0,0]),C=de(f.paddingBottomRight||f.padding||[0,0]),T=this.project(this.getCenter()),k=this.project(o),W=this.getPixelBounds(),Q=te([W.min.add(g),W.max.subtract(C)]),se=Q.getSize();if(!Q.contains(k)){this._enforcingBounds=!0;var fe=k.subtract(Q.getCenter()),Ne=Q.extend(k).getSize().subtract(se);T.x+=fe.x<0?-Ne.x:Ne.x,T.y+=fe.y<0?-Ne.y:Ne.y,this.panTo(this.unproject(T),f),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=l({animate:!1,pan:!0},o===!0?{animate:!0}:o);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),C=f.divideBy(2).round(),T=g.divideBy(2).round(),k=C.subtract(T);return!k.x&&!k.y?this:(o.animate&&o.pan?this.panBy(k):(o.pan&&this._rawPanBy(k),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=l({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=p(this._handleGeolocationResponse,this),g=p(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,g,o):navigator.geolocation.getCurrentPosition(f,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var f=o.code,g=o.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var f=o.coords.latitude,g=o.coords.longitude,C=new je(f,g),T=C.toBounds(o.coords.accuracy*2),k=this._locateOptions;if(k.setView){var W=this.getBoundsZoom(T);this.setView(C,k.maxZoom?Math.min(W,k.maxZoom):W)}var Q={latlng:C,bounds:T,timestamp:o.timestamp};for(var se in o.coords)typeof o.coords[se]=="number"&&(Q[se]=o.coords[se]);this.fire("locationfound",Q)}},addHandler:function(o,f){if(!f)return this;var g=this[o]=new f(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Tt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,f){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),C=lt("div",g,f||this._mapPane);return o&&(this._panes[o]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),f=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new Ae(f,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,f,g){o=me(o),g=de(g||[0,0]);var C=this.getZoom()||0,T=this.getMinZoom(),k=this.getMaxZoom(),W=o.getNorthWest(),Q=o.getSouthEast(),se=this.getSize().subtract(g),fe=te(this.project(Q,C),this.project(W,C)).getSize(),Ne=Be.any3d?this.options.zoomSnap:1,Ze=se.x/fe.x,rt=se.y/fe.y,Gn=f?Math.max(Ze,rt):Math.min(Ze,rt);return C=this.getScaleZoom(Gn,C),Ne&&(C=Math.round(C/(Ne/100))*(Ne/100),C=f?Math.ceil(C/Ne)*Ne:Math.floor(C/Ne)*Ne),Math.max(T,Math.min(k,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,f){var g=this._getTopLeftPoint(o,f);return new ve(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,f){var g=this.options.crs;return f=f===void 0?this._zoom:f,g.scale(o)/g.scale(f)},getScaleZoom:function(o,f){var g=this.options.crs;f=f===void 0?this._zoom:f;var C=g.zoom(o*g.scale(f));return isNaN(C)?1/0:C},project:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(ce(o),f)},unproject:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(de(o),f)},layerPointToLatLng:function(o){var f=de(o).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(o){var f=this.project(ce(o))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ce(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(me(o))},distance:function(o,f){return this.options.crs.distance(ce(o),ce(f))},containerPointToLayerPoint:function(o){return de(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return de(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var f=this.containerPointToLayerPoint(de(o));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(o)))},mouseEventToContainerPoint:function(o){return qr(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var f=this._container=ft(o);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ye(f,"scroll",this._onScroll,this),this._containerId=v(f)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Be.any3d,ze(o,"leaflet-container"+(Be.touch?" leaflet-touch":"")+(Be.retina?" leaflet-retina":"")+(Be.ielt9?" leaflet-oldie":"")+(Be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=et(o,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ze(o.markerPane,"leaflet-zoom-hide"),ze(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,f,g){Se(this._mapPane,new le(0,0));var C=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var T=this._zoom!==f;this._moveStart(T,g)._move(o,f)._moveEnd(T),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(o,f){return o&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(o,f,g,C){f===void 0&&(f=this._zoom);var T=this._zoom!==f;return this._zoom=f,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),C?g&&g.pinch&&this.fire("zoom",g):((T||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Se(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[v(this._container)]=this;var f=o?be:Ye;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Be.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=Ue(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,f){for(var g=[],C,T=f==="mouseout"||f==="mouseover",k=o.target||o.srcElement,W=!1;k;){if(C=this._targets[v(k)],C&&(f==="click"||f==="preclick")&&this._draggableMoved(C)){W=!0;break}if(C&&C.listens(f,!0)&&(T&&!Ar(k,o)||(g.push(C),T))||k===this._container)break;k=k.parentNode}return!g.length&&!W&&!T&&this.listens(f,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var f=o.target||o.srcElement;if(!(!this._loaded||f._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(f))){var g=o.type;g==="mousedown"&&Zs(f),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,f,g){if(o.type==="click"){var C=l({},o);C.type="preclick",this._fireDOMEvent(C,C.type,g)}var T=this._findEventTargets(o,f);if(g){for(var k=[],W=0;W<g.length;W++)g[W].listens(f,!0)&&k.push(g[W]);T=k.concat(T)}if(T.length){f==="contextmenu"&&hn(o);var Q=T[0],se={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var fe=Q.getLatLng&&(!Q._radius||Q._radius<=10);se.containerPoint=fe?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(o),se.layerPoint=this.containerPointToLayerPoint(se.containerPoint),se.latlng=fe?Q.getLatLng():this.layerPointToLatLng(se.layerPoint)}for(W=0;W<T.length;W++)if(T[W].fire(f,se,!0),se.originalEvent._stopped||T[W].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,f=this._handlers.length;o<f;o++)this._handlers[o].disable()},whenReady:function(o,f){return this._loaded?o.call(f||this,{target:this}):this.on("load",o,f),this},_getMapPanePos:function(){return Ot(this._mapPane)||new le(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,f){var g=o&&f!==void 0?this._getNewPixelOrigin(o,f):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,f){var g=this.getSize()._divideBy(2);return this.project(o,f)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,f,g){var C=this._getNewPixelOrigin(g,f);return this.project(o,f)._subtract(C)},_latLngBoundsToNewLayerBounds:function(o,f,g){var C=this._getNewPixelOrigin(g,f);return te([this.project(o.getSouthWest(),f)._subtract(C),this.project(o.getNorthWest(),f)._subtract(C),this.project(o.getSouthEast(),f)._subtract(C),this.project(o.getNorthEast(),f)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,f,g){if(!g)return o;var C=this.project(o,f),T=this.getSize().divideBy(2),k=new ve(C.subtract(T),C.add(T)),W=this._getBoundsOffset(k,g,f);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?o:this.unproject(C.add(W),f)},_limitOffset:function(o,f){if(!f)return o;var g=this.getPixelBounds(),C=new ve(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(C,f))},_getBoundsOffset:function(o,f,g){var C=te(this.project(f.getNorthEast(),g),this.project(f.getSouthWest(),g)),T=C.min.subtract(o.min),k=C.max.subtract(o.max),W=this._rebound(T.x,-k.x),Q=this._rebound(T.y,-k.y);return new le(W,Q)},_rebound:function(o,f){return o+f>0?Math.round(o-f)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(f))},_limitZoom:function(o){var f=this.getMinZoom(),g=this.getMaxZoom(),C=Be.any3d?this.options.zoomSnap:1;return C&&(o=Math.round(o/C)*C),Math.max(f,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,f){var g=this._getCenterOffset(o)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,f),!0)},_createAnimProxy:function(){var o=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(f){var g=ar,C=this._proxy.style[g];z(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),C===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),f=this.getZoom();z(this._proxy,this.project(o,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,f,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(f),T=this._getCenterOffset(o)._divideBy(1-1/C);return g.animate!==!0&&!this.getSize().contains(T)?!1:(Ue(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,f,!0)},this),!0)},_animateZoom:function(o,f,g,C){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=f,ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:f,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function mc(o,f){return new ot(o,f)}var hi=Fe.extend({options:{position:"topright"},initialize:function(o){P(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var f=this._map;return f&&f.removeControl(this),this.options.position=o,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var f=this._container=this.onAdd(o),g=this.getPosition(),C=o._controlCorners[g];return ze(f,"leaflet-control"),g.indexOf("bottom")!==-1?C.insertBefore(f,C.firstChild):C.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Gs=function(o){return new hi(o)};ot.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},f="leaflet-",g=this._controlContainer=lt("div",f+"control-container",this._container);function C(T,k){var W=f+T+" "+f+k;o[T+k]=lt("div",W,g)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Tt(this._controlCorners[o]);Tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gc=hi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,f,g,C){return g<C?-1:C<g?1:0}},initialize:function(o,f,g){P(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in o)this._addLayer(o[C],C);for(C in f)this._addLayer(f[C],C,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return hi.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,f){return this._addLayer(o,f),this._map?this._update():this},addOverlay:function(o,f){return this._addLayer(o,f,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var f=this._getLayer(v(o));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",f=this._container=lt("div",o),g=this.options.collapsed;f.setAttribute("aria-haspopup",!0),ci(f),No(f);var C=this._section=lt("section",o+"-list");g&&(this._map.on("click",this.collapse,this),Ye(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=lt("a",o+"-toggle",f);T.href="#",T.title="Layers",T.setAttribute("role","button"),Ye(T,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){hn(k),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=lt("div",o+"-base",C),this._separator=lt("div",o+"-separator",C),this._overlaysList=lt("div",o+"-overlays",C),f.appendChild(C)},_getLayer:function(o){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&v(this._layers[f].layer)===o)return this._layers[f]},_addLayer:function(o,f,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:f,overlay:g}),this.options.sortLayers&&this._layers.sort(p(function(C,T){return this.options.sortFunction(C.layer,T.layer,C.name,T.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xr(this._baseLayersList),Xr(this._overlaysList),this._layerControlInputs=[];var o,f,g,C,T=0;for(g=0;g<this._layers.length;g++)C=this._layers[g],this._addItem(C),f=f||C.overlay,o=o||!C.overlay,T+=C.overlay?0:1;return this.options.hideSingleBase&&(o=o&&T>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=f&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var f=this._getLayer(v(o.target)),g=f.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,f)},_createRadioElement:function(o,f){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(f?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=g,C.firstChild},_addItem:function(o){var f=document.createElement("label"),g=this._map.hasLayer(o.layer),C;o.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=g):C=this._createRadioElement("leaflet-base-layers_"+v(this),g),this._layerControlInputs.push(C),C.layerId=v(o.layer),Ye(C,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+o.name;var k=document.createElement("span");f.appendChild(k),k.appendChild(C),k.appendChild(T);var W=o.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,f,g,C=[],T=[];this._handlingClick=!0;for(var k=o.length-1;k>=0;k--)f=o[k],g=this._getLayer(f.layerId).layer,f.checked?C.push(g):f.checked||T.push(g);for(k=0;k<T.length;k++)this._map.hasLayer(T[k])&&this._map.removeLayer(T[k]);for(k=0;k<C.length;k++)this._map.hasLayer(C[k])||this._map.addLayer(C[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,f,g,C=this._map.getZoom(),T=o.length-1;T>=0;T--)f=o[T],g=this._getLayer(f.layerId).layer,f.disabled=g.options.minZoom!==void 0&&C<g.options.minZoom||g.options.maxZoom!==void 0&&C>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ye(o,"click",hn),this.expand();var f=this;setTimeout(function(){be(o,"click",hn),f._preventClick=!1})}}),wt=function(o,f,g){return new gc(o,f,g)},Mo=hi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var f="leaflet-control-zoom",g=lt("div",f+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,f+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,f+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,f,g,C,T){var k=lt("a",g,C);return k.innerHTML=o,k.href="#",k.title=f,k.setAttribute("role","button"),k.setAttribute("aria-label",f),ci(k),Ye(k,"click",ui),Ye(k,"click",T,this),Ye(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var o=this._map,f="leaflet-disabled";yt(this._zoomInButton,f),yt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ze(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ze(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mo,this.addControl(this.zoomControl))});var Oo=function(o){return new Mo(o)},Yi=hi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var f="leaflet-control-scale",g=lt("div",f),C=this.options;return this._addScales(C,f+"-line",g),o.on(C.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,f,g){o.metric&&(this._mScale=lt("div",f,g)),o.imperial&&(this._iScale=lt("div",f,g))},_update:function(){var o=this._map,f=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,f]),o.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var f=this._getRoundNum(o),g=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,g,f/o)},_updateImperial:function(o){var f=o*3.2808399,g,C,T;f>5280?(g=f/5280,C=this._getRoundNum(g),this._updateScale(this._iScale,C+" mi",C/g)):(T=this._getRoundNum(f),this._updateScale(this._iScale,T+" ft",T/f))},_updateScale:function(o,f,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=f},_getRoundNum:function(o){var f=Math.pow(10,(Math.floor(o)+"").length-1),g=o/f;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,f*g}}),kh=function(o){return new Yi(o)},ie='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$e=hi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Be.inlineSvg?ie+" ":"")+"Leaflet</a>"},initialize:function(o){P(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),ci(this._container);for(var f in o._layers)o._layers[f].getAttribution&&this.addAttribution(o._layers[f].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var f in this._attributions)this._attributions[f]&&o.push(f);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new $e().addTo(this)});var fn=function(o){return new $e(o)};hi.Layers=gc,hi.Zoom=Mo,hi.Scale=Yi,hi.Attribution=$e,Gs.layers=wt,Gs.zoom=Oo,Gs.scale=kh,Gs.attribution=fn;var Hn=Fe.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(o,f){return o.addHandler(f,this),this};var xc={Events:Ce},yc=Be.touch?"touchstart mousedown":"mousedown",lr=Te.extend({options:{clickTolerance:3},initialize:function(o,f,g,C){P(this,C),this._element=o,this._dragStartTarget=f||o,this._preventOutline=g},enable:function(){this._enabled||(Ye(this._dragStartTarget,yc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lr._dragging===this&&this.finishDrag(!0),be(this._dragStartTarget,yc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Pa(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){lr._dragging===this&&this.finishDrag();return}if(!(lr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(lr._dragging=this,this._preventOutline&&Zs(this._element),He(),vn(),!this._moving)){this.fire("down");var f=o.touches?o.touches[0]:o,g=Io(this._element);this._startPoint=new le(f.clientX,f.clientY),this._startPos=Ot(this._element),this._parentScale=Ba(g);var C=o.type==="mousedown";Ye(document,C?"mousemove":"touchmove",this._onMove,this),Ye(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var f=o.touches&&o.touches.length===1?o.touches[0]:o,g=new le(f.clientX,f.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,hn(o),this._moved||(this.fire("dragstart"),this._moved=!0,ze(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Se(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),be(document,"mousemove touchmove",this._onMove,this),be(document,"mouseup touchend touchcancel",this._onUp,this),It(),Vs();var f=this._moved&&this._moving;this._moving=!1,lr._dragging=!1,f&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function wc(o,f,g){var C,T=[1,4,2,8],k,W,Q,se,fe,Ne,Ze,rt;for(k=0,Ne=o.length;k<Ne;k++)o[k]._code=br(o[k],f);for(Q=0;Q<4;Q++){for(Ze=T[Q],C=[],k=0,Ne=o.length,W=Ne-1;k<Ne;W=k++)se=o[k],fe=o[W],se._code&Ze?fe._code&Ze||(rt=Xi(fe,se,Ze,f,g),rt._code=br(rt,f),C.push(rt)):(fe._code&Ze&&(rt=Xi(fe,se,Ze,f,g),rt._code=br(rt,f),C.push(rt)),C.push(se));o=C}return o}function Ro(o,f){var g,C,T,k,W,Q,se,fe,Ne;if(!o||o.length===0)throw new Error("latlngs not passed");Wn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ze=ce([0,0]),rt=me(o),Gn=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());Gn<1700&&(Ze=Vt(o));var Cn=o.length,Oi=[];for(g=0;g<Cn;g++){var $n=ce(o[g]);Oi.push(f.project(ce([$n.lat-Ze.lat,$n.lng-Ze.lng])))}for(Q=se=fe=0,g=0,C=Cn-1;g<Cn;C=g++)T=Oi[g],k=Oi[C],W=T.y*k.x-k.y*T.x,se+=(T.x+k.x)*W,fe+=(T.y+k.y)*W,Q+=W*3;Q===0?Ne=Oi[0]:Ne=[se/Q,fe/Q];var Po=f.unproject(de(Ne));return ce([Po.lat+Ze.lat,Po.lng+Ze.lng])}function Vt(o){for(var f=0,g=0,C=0,T=0;T<o.length;T++){var k=ce(o[T]);f+=k.lat,g+=k.lng,C++}return ce([f/C,g/C])}var za={__proto__:null,clipPolygon:wc,polygonCenter:Ro,centroid:Vt};function Dt(o,f){if(!f||!o.length)return o.slice();var g=f*f;return o=Bh(o,g),o=_t(o,g),o}function Ys(o,f,g){return Math.sqrt(Tr(o,f,g,!0))}function Sr(o,f,g){return Tr(o,f,g)}function _t(o,f){var g=o.length,C=typeof Uint8Array<"u"?Uint8Array:Array,T=new C(g);T[0]=T[g-1]=1,We(o,T,f,0,g-1);var k,W=[];for(k=0;k<g;k++)T[k]&&W.push(o[k]);return W}function We(o,f,g,C,T){var k=0,W,Q,se;for(Q=C+1;Q<=T-1;Q++)se=Tr(o[Q],o[C],o[T],!0),se>k&&(W=Q,k=se);k>g&&(f[W]=1,We(o,f,g,C,W),We(o,f,g,W,T))}function Bh(o,f){for(var g=[o[0]],C=1,T=0,k=o.length;C<k;C++)bi(o[C],o[T])>f&&(g.push(o[C]),T=C);return T<k-1&&g.push(o[k-1]),g}var bt;function cr(o,f,g,C,T){var k=C?bt:br(o,g),W=br(f,g),Q,se,fe;for(bt=W;;){if(!(k|W))return[o,f];if(k&W)return!1;Q=k||W,se=Xi(o,f,Q,g,T),fe=br(se,g),Q===k?(o=se,k=fe):(f=se,W=fe)}}function Xi(o,f,g,C,T){var k=f.x-o.x,W=f.y-o.y,Q=C.min,se=C.max,fe,Ne;return g&8?(fe=o.x+k*(se.y-o.y)/W,Ne=se.y):g&4?(fe=o.x+k*(Q.y-o.y)/W,Ne=Q.y):g&2?(fe=se.x,Ne=o.y+W*(se.x-o.x)/k):g&1&&(fe=Q.x,Ne=o.y+W*(Q.x-o.x)/k),new le(fe,Ne,T)}function br(o,f){var g=0;return o.x<f.min.x?g|=1:o.x>f.max.x&&(g|=2),o.y<f.min.y?g|=4:o.y>f.max.y&&(g|=8),g}function bi(o,f){var g=f.x-o.x,C=f.y-o.y;return g*g+C*C}function Tr(o,f,g,C){var T=f.x,k=f.y,W=g.x-T,Q=g.y-k,se=W*W+Q*Q,fe;return se>0&&(fe=((o.x-T)*W+(o.y-k)*Q)/se,fe>1?(T=g.x,k=g.y):fe>0&&(T+=W*fe,k+=Q*fe)),W=o.x-T,Q=o.y-k,C?W*W+Q*Q:new le(T,k)}function Wn(o){return!B(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Lo(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wn(o)}function Ua(o,f){var g,C,T,k,W,Q,se,fe;if(!o||o.length===0)throw new Error("latlngs not passed");Wn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ne=ce([0,0]),Ze=me(o),rt=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());rt<1700&&(Ne=Vt(o));var Gn=o.length,Cn=[];for(g=0;g<Gn;g++){var Oi=ce(o[g]);Cn.push(f.project(ce([Oi.lat-Ne.lat,Oi.lng-Ne.lng])))}for(g=0,C=0;g<Gn-1;g++)C+=Cn[g].distanceTo(Cn[g+1])/2;if(C===0)fe=Cn[0];else for(g=0,k=0;g<Gn-1;g++)if(W=Cn[g],Q=Cn[g+1],T=W.distanceTo(Q),k+=T,k>C){se=(k-C)/T,fe=[Q.x-se*(Q.x-W.x),Q.y-se*(Q.y-W.y)];break}var $n=f.unproject(de(fe));return ce([$n.lat+Ne.lat,$n.lng+Ne.lng])}var vc={__proto__:null,simplify:Dt,pointToSegmentDistance:Ys,closestPointOnSegment:Sr,clipSegment:cr,_getEdgeIntersection:Xi,_getBitCode:br,_sqClosestPointOnSegment:Tr,isFlat:Wn,_flat:Lo,polylineCenter:Ua},Va={project:function(o){return new le(o.lng,o.lat)},unproject:function(o){return new je(o.y,o.x)},bounds:new ve([-180,-90],[180,90])},ur={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var f=Math.PI/180,g=this.R,C=o.lat*f,T=this.R_MINOR/g,k=Math.sqrt(1-T*T),W=k*Math.sin(C),Q=Math.tan(Math.PI/4-C/2)/Math.pow((1-W)/(1+W),k/2);return C=-g*Math.log(Math.max(Q,1e-10)),new le(o.lng*f*g,C)},unproject:function(o){for(var f=180/Math.PI,g=this.R,C=this.R_MINOR/g,T=Math.sqrt(1-C*C),k=Math.exp(-o.y/g),W=Math.PI/2-2*Math.atan(k),Q=0,se=.1,fe;Q<15&&Math.abs(se)>1e-7;Q++)fe=T*Math.sin(W),fe=Math.pow((1-fe)/(1+fe),T/2),se=Math.PI/2-2*Math.atan(k*fe)-W,W+=se;return new je(W*f,o.x*f/g)}},Ha={__proto__:null,LonLat:Va,Mercator:ur,SphericalMercator:De},Fh=l({},Ee,{code:"EPSG:3395",projection:ur,transformation:function(){var o=.5/(Math.PI*ur.R);return tt(o,.5,-o,.5)}()}),Jr=l({},Ee,{code:"EPSG:4326",projection:Va,transformation:tt(1/180,1,-1/180,.5)}),jh=l({},ue,{projection:Va,transformation:tt(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,f){var g=f.lng-o.lng,C=f.lat-o.lat;return Math.sqrt(g*g+C*C)},infinite:!0});ue.Earth=Ee,ue.EPSG3395=Fh,ue.EPSG3857=Ve,ue.EPSG900913=Ci,ue.EPSG4326=Jr,ue.Simple=jh;var sn=Te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[v(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[v(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var f=o.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var g=this.getEvents();f.on(g,this),this.once("remove",function(){f.off(g,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var f=v(o);return this._layers[f]?this:(this._layers[f]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var f=v(o);return this._layers[f]?(this._loaded&&o.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return v(o)in this._layers},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},_addLayers:function(o){o=o?B(o)?o:[o]:[];for(var f=0,g=o.length;f<g;f++)this.addLayer(o[f])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[v(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var f=v(o);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,f=-1/0,g=this._getZoomSpan();for(var C in this._zoomBoundLayers){var T=this._zoomBoundLayers[C].options;o=T.minZoom===void 0?o:Math.min(o,T.minZoom),f=T.maxZoom===void 0?f:Math.max(f,T.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ki=sn.extend({initialize:function(o,f){P(this,f),this._layers={};var g,C;if(o)for(g=0,C=o.length;g<C;g++)this.addLayer(o[g])},addLayer:function(o){var f=this.getLayerId(o);return this._layers[f]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var f=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(o){var f=typeof o=="number"?o:this.getLayerId(o);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var f=Array.prototype.slice.call(arguments,1),g,C;for(g in this._layers)C=this._layers[g],C[o]&&C[o].apply(C,f);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,f){for(var g in this._layers)o.call(f,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return v(o)}}),Jn=function(o,f){return new Ki(o,f)},Ti=Ki.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ki.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ki.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ae;for(var f in this._layers){var g=this._layers[f];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Ii=function(o,f){return new Ti(o,f)},$r=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){P(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,f){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(g,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(C,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(o,f){var g=this.options,C=g[f+"Size"];typeof C=="number"&&(C=[C,C]);var T=de(C),k=de(f==="shadow"&&g.shadowAnchor||g.iconAnchor||T&&T.divideBy(2,!0));o.className="leaflet-marker-"+f+" "+(g.className||""),k&&(o.style.marginLeft=-k.x+"px",o.style.marginTop=-k.y+"px"),T&&(o.style.width=T.x+"px",o.style.height=T.y+"px")},_createImg:function(o,f){return f=f||document.createElement("img"),f.src=o,f},_getIconUrl:function(o){return Be.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Wa(o){return new $r(o)}var Xs=$r.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Xs.imagePath!="string"&&(Xs.imagePath=this._detectIconPath()),(this.options.imagePath||Xs.imagePath)+$r.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var f=function(g,C,T){var k=C.exec(g);return k&&k[T]};return o=f(o,/^url\((['"])?(.+)\1\)$/,2),o&&f(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=lt("div","leaflet-default-icon-path",document.body),f=et(o,"background-image")||et(o,"backgroundImage");if(document.body.removeChild(o),f=this._stripUrl(f),f)return f;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),Za=Hn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new lr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ze(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var f=this._marker,g=f._map,C=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,k=Ot(f._icon),W=g.getPixelBounds(),Q=g.getPixelOrigin(),se=te(W.min._subtract(Q).add(T),W.max._subtract(Q).subtract(T));if(!se.contains(k)){var fe=de((Math.max(se.max.x,k.x)-se.max.x)/(W.max.x-se.max.x)-(Math.min(se.min.x,k.x)-se.min.x)/(W.min.x-se.min.x),(Math.max(se.max.y,k.y)-se.max.y)/(W.max.y-se.max.y)-(Math.min(se.min.y,k.y)-se.min.y)/(W.min.y-se.min.y)).multiplyBy(C);g.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),Se(f._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Ue(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=Ue(this._adjustPan.bind(this,o)))},_onDrag:function(o){var f=this._marker,g=f._shadow,C=Ot(f._icon),T=f._map.layerPointToLatLng(C);g&&Se(g,C),f._latlng=T,o.latlng=T,o.oldLatLng=this._oldLatLng,f.fire("move",o).fire("drag",o)},_onDragEnd:function(o){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Zn=sn.extend({options:{icon:new Xs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,f){P(this,f),this._latlng=ce(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var f=this._latlng;return this._latlng=ce(o),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),C=!1;g!==this._icon&&(this._icon&&this._removeIcon(),C=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),ze(g,f),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ye(g,"focus",this._panOnFocus,this);var T=o.icon.createShadow(this._shadow),k=!1;T!==this._shadow&&(this._removeShadow(),k=!0),T&&(ze(T,f),T.alt=""),this._shadow=T,o.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&k&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&be(this._icon,"focus",this._panOnFocus,this),Tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Se(this._icon,o),this._shadow&&Se(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Za)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Za(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&nt(this._icon,o),this._shadow&&nt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var f=this.options.icon.options,g=f.iconSize?de(f.iconSize):de(0,0),C=f.iconAnchor?de(f.iconAnchor):de(0,0);o.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:g.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function zh(o,f){return new Zn(o,f)}var Ni=sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return P(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hr=Ni.extend({options:{fill:!0,radius:10},initialize:function(o,f){P(this,f),this._latlng=ce(o),this._radius=this.options.radius},setLatLng:function(o){var f=this._latlng;return this._latlng=ce(o),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var f=o&&o.radius||this._radius;return Ni.prototype.setStyle.call(this,o),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,f=this._radiusY||o,g=this._clickTolerance(),C=[o+g,f+g];this._pxBounds=new ve(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ut(o,f){return new hr(o,f)}var es=hr.extend({initialize:function(o,f,g){if(typeof f=="number"&&(f=l({},g,{radius:f})),P(this,f),this._latlng=ce(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ni.prototype.setStyle,_project:function(){var o=this._latlng.lng,f=this._latlng.lat,g=this._map,C=g.options.crs;if(C.distance===Ee.distance){var T=Math.PI/180,k=this._mRadius/Ee.R/T,W=g.project([f+k,o]),Q=g.project([f-k,o]),se=W.add(Q).divideBy(2),fe=g.unproject(se).lat,Ne=Math.acos((Math.cos(k*T)-Math.sin(f*T)*Math.sin(fe*T))/(Math.cos(f*T)*Math.cos(fe*T)))/T;(isNaN(Ne)||Ne===0)&&(Ne=k/Math.cos(Math.PI/180*f)),this._point=se.subtract(g.getPixelOrigin()),this._radius=isNaN(Ne)?0:se.x-g.project([fe,o-Ne]).x,this._radiusY=se.y-W.y}else{var Ze=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ze).x}this._updateBounds()}});function N(o,f,g){return new es(o,f,g)}var i=Ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,f){P(this,f),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var f=1/0,g=null,C=Tr,T,k,W=0,Q=this._parts.length;W<Q;W++)for(var se=this._parts[W],fe=1,Ne=se.length;fe<Ne;fe++){T=se[fe-1],k=se[fe];var Ze=C(o,T,k,!0);Ze<f&&(f=Ze,g=C(o,T,k))}return g&&(g.distance=Math.sqrt(f)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ua(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,f){return f=f||this._defaultShape(),o=ce(o),f.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ae,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Wn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var f=[],g=Wn(o),C=0,T=o.length;C<T;C++)g?(f[C]=ce(o[C]),this._bounds.extend(f[C])):f[C]=this._convertLatLngs(o[C]);return f},_project:function(){var o=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),f=new le(o,o);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(o,f,g){var C=o[0]instanceof je,T=o.length,k,W;if(C){for(W=[],k=0;k<T;k++)W[k]=this._map.latLngToLayerPoint(o[k]),g.extend(W[k]);f.push(W)}else for(k=0;k<T;k++)this._projectLatlngs(o[k],f,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,g,C,T,k,W,Q,se;for(g=0,T=0,k=this._rings.length;g<k;g++)for(se=this._rings[g],C=0,W=se.length;C<W-1;C++)Q=cr(se[C],se[C+1],o,C,!0),Q&&(f[T]=f[T]||[],f[T].push(Q[0]),(Q[1]!==se[C+1]||C===W-2)&&(f[T].push(Q[1]),T++))}},_simplifyPoints:function(){for(var o=this._parts,f=this.options.smoothFactor,g=0,C=o.length;g<C;g++)o[g]=Dt(o[g],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,f){var g,C,T,k,W,Q,se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,k=this._parts.length;g<k;g++)for(Q=this._parts[g],C=0,W=Q.length,T=W-1;C<W;T=C++)if(!(!f&&C===0)&&Ys(o,Q[T],Q[C])<=se)return!0;return!1}});function s(o,f){return new i(o,f)}i._flat=Lo;var a=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ro(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var f=i.prototype._convertLatLngs.call(this,o),g=f.length;return g>=2&&f[0]instanceof je&&f[0].equals(f[g-1])&&f.pop(),f},_setLatLngs:function(o){i.prototype._setLatLngs.call(this,o),Wn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,f=this.options.weight,g=new le(f,f);if(o=new ve(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,T=this._rings.length,k;C<T;C++)k=wc(this._rings[C],o,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var f=!1,g,C,T,k,W,Q,se,fe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(k=0,se=this._parts.length;k<se;k++)for(g=this._parts[k],W=0,fe=g.length,Q=fe-1;W<fe;Q=W++)C=g[W],T=g[Q],C.y>o.y!=T.y>o.y&&o.x<(T.x-C.x)*(o.y-C.y)/(T.y-C.y)+C.x&&(f=!f);return f||i.prototype._containsPoint.call(this,o,!0)}});function c(o,f){return new a(o,f)}var h=Ti.extend({initialize:function(o,f){P(this,f),this._layers={},o&&this.addData(o)},addData:function(o){var f=B(o)?o:o.features,g,C,T;if(f){for(g=0,C=f.length;g<C;g++)T=f[g],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var k=this.options;if(k.filter&&!k.filter(o))return this;var W=d(o,k);return W?(W.feature=U(o),W.defaultOptions=W.options,this.resetStyle(W),k.onEachFeature&&k.onEachFeature(o,W),this.addLayer(W)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=l({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(f){this._setLayerStyle(f,o)},this)},_setLayerStyle:function(o,f){o.setStyle&&(typeof f=="function"&&(f=f(o.feature)),o.setStyle(f))}});function d(o,f){var g=o.type==="Feature"?o.geometry:o,C=g?g.coordinates:null,T=[],k=f&&f.pointToLayer,W=f&&f.coordsToLatLng||w,Q,se,fe,Ne;if(!C&&!g)return null;switch(g.type){case"Point":return Q=W(C),m(k,o,Q,f);case"MultiPoint":for(fe=0,Ne=C.length;fe<Ne;fe++)Q=W(C[fe]),T.push(m(k,o,Q,f));return new Ti(T);case"LineString":case"MultiLineString":return se=_(C,g.type==="LineString"?0:1,W),new i(se,f);case"Polygon":case"MultiPolygon":return se=_(C,g.type==="Polygon"?1:2,W),new a(se,f);case"GeometryCollection":for(fe=0,Ne=g.geometries.length;fe<Ne;fe++){var Ze=d({geometry:g.geometries[fe],type:"Feature",properties:o.properties},f);Ze&&T.push(Ze)}return new Ti(T);case"FeatureCollection":for(fe=0,Ne=g.features.length;fe<Ne;fe++){var rt=d(g.features[fe],f);rt&&T.push(rt)}return new Ti(T);default:throw new Error("Invalid GeoJSON object.")}}function m(o,f,g,C){return o?o(f,g):new Zn(g,C&&C.markersInheritOptions&&C)}function w(o){return new je(o[1],o[0],o[2])}function _(o,f,g){for(var C=[],T=0,k=o.length,W;T<k;T++)W=f?_(o[T],f-1,g):(g||w)(o[T]),C.push(W);return C}function b(o,f){return o=ce(o),o.alt!==void 0?[I(o.lng,f),I(o.lat,f),I(o.alt,f)]:[I(o.lng,f),I(o.lat,f)]}function M(o,f,g,C){for(var T=[],k=0,W=o.length;k<W;k++)T.push(f?M(o[k],Wn(o[k])?0:f-1,g,C):b(o[k],C));return!f&&g&&T.length>0&&T.push(T[0].slice()),T}function R(o,f){return o.feature?l({},o.feature,{geometry:f}):U(f)}function U(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var G={toGeoJSON:function(o){return R(this,{type:"Point",coordinates:b(this.getLatLng(),o)})}};Zn.include(G),es.include(G),hr.include(G),i.include({toGeoJSON:function(o){var f=!Wn(this._latlngs),g=M(this._latlngs,f?1:0,!1,o);return R(this,{type:(f?"Multi":"")+"LineString",coordinates:g})}}),a.include({toGeoJSON:function(o){var f=!Wn(this._latlngs),g=f&&!Wn(this._latlngs[0]),C=M(this._latlngs,g?2:f?1:0,!0,o);return f||(C=[C]),R(this,{type:(g?"Multi":"")+"Polygon",coordinates:C})}}),Ki.include({toMultiPoint:function(o){var f=[];return this.eachLayer(function(g){f.push(g.toGeoJSON(o).geometry.coordinates)}),R(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(o){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(o);var g=f==="GeometryCollection",C=[];return this.eachLayer(function(T){if(T.toGeoJSON){var k=T.toGeoJSON(o);if(g)C.push(k.geometry);else{var W=U(k);W.type==="FeatureCollection"?C.push.apply(C,W.features):C.push(W)}}}),g?R(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Y(o,f){return new h(o,f)}var K=Y,ne=sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,f,g){this._url=o,this._bounds=me(f),P(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Mt(this._image),this},bringToBack:function(){return this._map&&Vn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=me(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",f=this._image=o?this._url:lt("img");if(ze(f,"leaflet-image-layer"),this._zoomAnimated&&ze(f,"leaflet-zoom-animated"),this.options.className&&ze(f,this.options.className),f.onselectstart=A,f.onmousemove=A,f.onload=p(this.fire,this,"load"),f.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(o){var f=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;z(this._image,g,f)},_reset:function(){var o=this._image,f=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=f.getSize();Se(o,f.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),ge=function(o,f,g){return new ne(o,f,g)},xe=ne.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",f=this._image=o?this._url:lt("video");if(ze(f,"leaflet-image-layer"),this._zoomAnimated&&ze(f,"leaflet-zoom-animated"),this.options.className&&ze(f,this.options.className),f.onselectstart=A,f.onmousemove=A,f.onloadeddata=p(this.fire,this,"load"),o){for(var g=f.getElementsByTagName("source"),C=[],T=0;T<g.length;T++)C.push(g[T].src);this._url=g.length>0?C:[f.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var W=lt("source");W.src=this._url[k],f.appendChild(W)}}});function pe(o,f,g){return new xe(o,f,g)}var it=ne.extend({_initImage:function(){var o=this._image=this._url;ze(o,"leaflet-image-layer"),this._zoomAnimated&&ze(o,"leaflet-zoom-animated"),this.options.className&&ze(o,this.options.className),o.onselectstart=A,o.onmousemove=A}});function Je(o,f,g){return new it(o,f,g)}var kt=sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,f){o&&(o instanceof je||B(o))?(this._latlng=ce(o),P(this,f)):(P(this,o),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&nt(this._container,1),this.bringToFront(),this.options.interactive&&(ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(nt(this._container,0),this._removeTimeout=setTimeout(p(Tt,void 0,this._container),200)):Tt(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ce(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mt(this._container),this},bringToBack:function(){return this._map&&Vn(this._container),this},_prepareOpen:function(o){var f=this._source;if(!f._map)return!1;if(f instanceof Ti){f=null;var g=this._source._layers;for(var C in g)if(g[C]._map){f=g[C];break}if(!f)return!1;this._source=f}if(!o)if(f.getCenter)o=f.getCenter();else if(f.getLatLng)o=f.getLatLng();else if(f.getBounds)o=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")o.innerHTML=f;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),f=de(this.options.offset),g=this._getAnchor();this._zoomAnimated?Se(this._container,o.add(g)):f=f.add(o).add(g);var C=this._containerBottom=-f.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=C+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(o,f,g,C){var T=f;return T instanceof o||(T=new o(C).setContent(f)),g&&T.setLatLng(g),T}}),sn.include({_initOverlay:function(o,f,g,C){var T=g;return T instanceof o?(P(T,C),T._source=this):(T=f&&!C?f:new o(C,this),T.setContent(g)),T}});var On=kt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,kt.prototype.openOn.call(this,o)},onAdd:function(o){kt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ni||this._source.on("preclick",Gi))},onRemove:function(o){kt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ni||this._source.off("preclick",Gi))},getEvents:function(){var o=kt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",f=this._container=lt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=lt("div",o+"-content-wrapper",f);if(this._contentNode=lt("div",o+"-content",g),ci(f),No(this._contentNode),Ye(f,"contextmenu",Gi),this._tipContainer=lt("div",o+"-tip-container",f),this._tip=lt("div",o+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=lt("a",o+"-close-button",f);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Ye(C,"click",function(T){hn(T),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,f=o.style;f.width="",f.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),f.width=g+1+"px",f.whiteSpace="",f.height="";var C=o.offsetHeight,T=this.options.maxHeight,k="leaflet-popup-scrolled";T&&C>T?(f.height=T+"px",ze(o,k)):yt(o,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();Se(this._container,f.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,f=parseInt(et(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+f,C=this._containerWidth,T=new le(this._containerLeft,-g-this._containerBottom);T._add(Ot(this._container));var k=o.layerPointToContainerPoint(T),W=de(this.options.autoPanPadding),Q=de(this.options.autoPanPaddingTopLeft||W),se=de(this.options.autoPanPaddingBottomRight||W),fe=o.getSize(),Ne=0,Ze=0;k.x+C+se.x>fe.x&&(Ne=k.x+C-fe.x+se.x),k.x-Ne-Q.x<0&&(Ne=k.x-Q.x),k.y+g+se.y>fe.y&&(Ze=k.y+g-fe.y+se.y),k.y-Ze-Q.y<0&&(Ze=k.y-Q.y),(Ne||Ze)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ne,Ze]))}},_getAnchor:function(){return de(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rn=function(o,f){return new On(o,f)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(o,f,g){return this._initOverlay(On,o,f,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),sn.include({bindPopup:function(o,f){return this._popup=this._initOverlay(On,this._popup,o,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ti||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){ui(o);var f=o.layer||o.target;if(this._popup._source===f&&!(f instanceof Ni)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=f,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var gt=kt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){kt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){kt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=kt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",f=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var f,g,C=this._map,T=this._container,k=C.latLngToContainerPoint(C.getCenter()),W=C.layerPointToContainerPoint(o),Q=this.options.direction,se=T.offsetWidth,fe=T.offsetHeight,Ne=de(this.options.offset),Ze=this._getAnchor();Q==="top"?(f=se/2,g=fe):Q==="bottom"?(f=se/2,g=0):Q==="center"?(f=se/2,g=fe/2):Q==="right"?(f=0,g=fe/2):Q==="left"?(f=se,g=fe/2):W.x<k.x?(Q="right",f=0,g=fe/2):(Q="left",f=se+(Ne.x+Ze.x)*2,g=fe/2),o=o.subtract(de(f,g,!0)).add(Ne).add(Ze),yt(T,"leaflet-tooltip-right"),yt(T,"leaflet-tooltip-left"),yt(T,"leaflet-tooltip-top"),yt(T,"leaflet-tooltip-bottom"),ze(T,"leaflet-tooltip-"+Q),Se(T,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&nt(this._container,o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(f)},_getAnchor:function(){return de(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dn=function(o,f){return new gt(o,f)};ot.include({openTooltip:function(o,f,g){return this._initOverlay(gt,o,f,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),sn.include({bindTooltip:function(o,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gt,this._tooltip,o,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var f=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[f](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ti||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&(Ye(f,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ye(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var f=o.latlng,g,C;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),C=this._map.containerPointToLayerPoint(g),f=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(f)}});var Ln=$r.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var f=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Xr(f),f.appendChild(g.html)):f.innerHTML=g.html!==!1?g.html:"",g.bgPos){var C=de(g.bgPos);f.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function ts(o){return new Ln(o)}$r.Default=Xs;var Mi=sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){P(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Tt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof le?o:new le(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var f=this.getPane().children,g=-o(-1/0,1/0),C=0,T=f.length,k;C<T;C++)k=f[C].style.zIndex,f[C]!==this._container&&k&&(g=o(g,+k));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Be.ielt9){nt(this._container,this.options.opacity);var o=+new Date,f=!1,g=!1;for(var C in this._tiles){var T=this._tiles[C];if(!(!T.current||!T.loaded)){var k=Math.min(1,(o-T.loaded)/200);nt(T.el,k),k<1?f=!0:(T.active?g=!0:this._onOpaqueTile(T),T.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),f&&(we(this._fadeFrame),this._fadeFrame=Ue(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,f=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=f-Math.abs(o-g),this._onUpdateLevel(g)):(Tt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var C=this._levels[o],T=this._map;return C||(C=this._levels[o]={},C.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=f,C.origin=T.project(T.unproject(T.getPixelOrigin()),o).round(),C.zoom=o,this._setZoomTransform(C,T.getCenter(),T.getZoom()),A(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var o,f,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)f=this._tiles[o],f.retain=f.current;for(o in this._tiles)if(f=this._tiles[o],f.current&&!f.active){var C=f.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var f in this._tiles)this._tiles[f].coords.z===o&&this._removeTile(f)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Tt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,f,g,C){var T=Math.floor(o/2),k=Math.floor(f/2),W=g-1,Q=new le(+T,+k);Q.z=+W;var se=this._tileCoordsToKey(Q),fe=this._tiles[se];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),W>C?this._retainParent(T,k,W,C):!1)},_retainChildren:function(o,f,g,C){for(var T=2*o;T<2*o+2;T++)for(var k=2*f;k<2*f+2;k++){var W=new le(T,k);W.z=g+1;var Q=this._tileCoordsToKey(W),se=this._tiles[Q];if(se&&se.active){se.retain=!0;continue}else se&&se.loaded&&(se.retain=!0);g+1<C&&this._retainChildren(T,k,g+1,C)}},_resetView:function(o){var f=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var f=this.options;return f.minNativeZoom!==void 0&&o<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<o?f.maxNativeZoom:o},_setView:function(o,f,g,C){var T=Math.round(f);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var k=this.options.updateWhenZooming&&T!==this._tileZoom;(!C||k)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,f)},_setZoomTransforms:function(o,f){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,f)},_setZoomTransform:function(o,f,g){var C=this._map.getZoomScale(g,o.zoom),T=o.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(f,g)).round();Be.any3d?z(o.el,T,C):Se(o.el,T)},_resetGrid:function(){var o=this._map,f=o.options.crs,g=this._tileSize=this.getTileSize(),C=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,f.wrapLng[0]],C).x/g.x),Math.ceil(o.project([0,f.wrapLng[1]],C).x/g.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([f.wrapLat[0],0],C).y/g.x),Math.ceil(o.project([f.wrapLat[1],0],C).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var f=this._map,g=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),C=f.getZoomScale(g,this._tileZoom),T=f.project(o,this._tileZoom).floor(),k=f.getSize().divideBy(C*2);return new ve(T.subtract(k),T.add(k))},_update:function(o){var f=this._map;if(f){var g=this._clampZoom(f.getZoom());if(o===void 0&&(o=f.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(o),T=this._pxBoundsToTileRange(C),k=T.getCenter(),W=[],Q=this.options.keepBuffer,se=new ve(T.getBottomLeft().subtract([Q,-Q]),T.getTopRight().add([Q,-Q]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var Ne=this._tiles[fe].coords;(Ne.z!==this._tileZoom||!se.contains(new le(Ne.x,Ne.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var Ze=T.min.y;Ze<=T.max.y;Ze++)for(var rt=T.min.x;rt<=T.max.x;rt++){var Gn=new le(rt,Ze);if(Gn.z=this._tileZoom,!!this._isValidTile(Gn)){var Cn=this._tiles[this._tileCoordsToKey(Gn)];Cn?Cn.current=!0:W.push(Gn)}}if(W.sort(function($n,Po){return $n.distanceTo(k)-Po.distanceTo(k)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Oi=document.createDocumentFragment();for(rt=0;rt<W.length;rt++)this._addTile(W[rt],Oi);this._level.el.appendChild(Oi)}}}},_isValidTile:function(o){var f=this._map.options.crs;if(!f.infinite){var g=this._globalTileRange;if(!f.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!f.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(o);return me(this.options.bounds).overlaps(C)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var f=this._map,g=this.getTileSize(),C=o.scaleBy(g),T=C.add(g),k=f.unproject(C,o.z),W=f.unproject(T,o.z);return[k,W]},_tileCoordsToBounds:function(o){var f=this._tileCoordsToNwSe(o),g=new Ae(f[0],f[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var f=o.split(":"),g=new le(+f[0],+f[1]);return g.z=+f[2],g},_removeTile:function(o){var f=this._tiles[o];f&&(Tt(f.el),delete this._tiles[o],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ze(o,"leaflet-tile");var f=this.getTileSize();o.style.width=f.x+"px",o.style.height=f.y+"px",o.onselectstart=A,o.onmousemove=A,Be.ielt9&&this.options.opacity<1&&nt(o,this.options.opacity)},_addTile:function(o,f){var g=this._getTilePos(o),C=this._tileCoordsToKey(o),T=this.createTile(this._wrapCoords(o),p(this._tileReady,this,o));this._initTile(T),this.createTile.length<2&&Ue(p(this._tileReady,this,o,null,T)),Se(T,g),this._tiles[C]={el:T,coords:o,current:!0},f.appendChild(T),this.fire("tileloadstart",{tile:T,coords:o})},_tileReady:function(o,f,g){f&&this.fire("tileerror",{error:f,tile:g,coords:o});var C=this._tileCoordsToKey(o);g=this._tiles[C],g&&(g.loaded=+new Date,this._map._fadeAnimated?(nt(g.el,0),we(this._fadeFrame),this._fadeFrame=Ue(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),f||(ze(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Be.ielt9||!this._map._fadeAnimated?Ue(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var f=new le(this._wrapX?E(o.x,this._wrapX):o.x,this._wrapY?E(o.y,this._wrapY):o.y);return f.z=o.z,f},_pxBoundsToTileRange:function(o){var f=this.getTileSize();return new ve(o.min.unscaleBy(f).floor(),o.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Uh(o){return new Mi(o)}var ns=Mi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,f){this._url=o,f=P(this,f),f.detectRetina&&Be.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,f){return this._url===o&&f===void 0&&(f=!0),this._url=o,f||this.redraw(),this},createTile:function(o,f){var g=document.createElement("img");return Ye(g,"load",p(this._tileOnLoad,this,f,g)),Ye(g,"error",p(this._tileOnError,this,f,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var f={r:Be.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(f.y=g),f["-y"]=g}return F(this._url,l(f,this.options))},_tileOnLoad:function(o,f){Be.ielt9?setTimeout(p(o,this,null,f),0):o(null,f)},_tileOnError:function(o,f,g){var C=this.options.errorTileUrl;C&&f.getAttribute("src")!==C&&(f.src=C),o(g,f)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,f=this.options.maxZoom,g=this.options.zoomReverse,C=this.options.zoomOffset;return g&&(o=f-o),o+C},_getSubdomain:function(o){var f=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var o,f;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(f=this._tiles[o].el,f.onload=A,f.onerror=A,!f.complete)){f.src=$;var g=this._tiles[o].coords;Tt(f),delete this._tiles[o],this.fire("tileabort",{tile:f,coords:g})}},_removeTile:function(o){var f=this._tiles[o];if(f)return f.el.setAttribute("src",$),Mi.prototype._removeTile.call(this,o)},_tileReady:function(o,f,g){if(!(!this._map||g&&g.getAttribute("src")===$))return Mi.prototype._tileReady.call(this,o,f,g)}});function H1(o,f){return new ns(o,f)}var W1=ns.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,f){this._url=o;var g=l({},this.defaultWmsParams);for(var C in f)C in this.options||(g[C]=f[C]);f=P(this,f);var T=f.detectRetina&&Be.retina?2:1,k=this.getTileSize();g.width=k.x*T,g.height=k.y*T,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,ns.prototype.onAdd.call(this,o)},getTileUrl:function(o){var f=this._tileCoordsToNwSe(o),g=this._crs,C=te(g.project(f[0]),g.project(f[1])),T=C.min,k=C.max,W=(this._wmsVersion>=1.3&&this._crs===Jr?[T.y,T.x,k.y,k.x]:[T.x,T.y,k.x,k.y]).join(","),Q=ns.prototype.getTileUrl.call(this,o);return Q+H(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(o,f){return l(this.wmsParams,o),f||this.redraw(),this}});function l_(o,f){return new W1(o,f)}ns.WMS=W1,H1.wms=l_;var Ir=sn.extend({options:{padding:.1},initialize:function(o){P(this,o),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,f){var g=this._map.getZoomScale(f,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,f),k=C.multiplyBy(-g).add(T).subtract(this._map._getNewPixelOrigin(o,f));Be.any3d?z(this._container,k,g):Se(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,f=this._map.getSize(),g=this._map.containerPointToLayerPoint(f.multiplyBy(-o)).round();this._bounds=new ve(g,g.add(f.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Z1=Ir.extend({options:{tolerance:0},getEvents:function(){var o=Ir.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ye(o,"mousemove",this._onMouseMove,this),Ye(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ye(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,Tt(this._container),be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var f in this._layers)o=this._layers[f],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ir.prototype._update.call(this);var o=this._bounds,f=this._container,g=o.getSize(),C=Be.retina?2:1;Se(f,o.min),f.width=C*g.x,f.height=C*g.y,f.style.width=g.x+"px",f.style.height=g.y+"px",Be.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[v(o)]=o;var f=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var f=o._order,g=f.next,C=f.prev;g?g.prev=C:this._drawLast=C,C?C.next=g:this._drawFirst=g,delete o._order,delete this._layers[v(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var f=o.options.dashArray.split(/[, ]+/),g=[],C,T;for(T=0;T<f.length;T++){if(C=Number(f[T]),isNaN(C))return;g.push(C)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Ue(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var f=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(o._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(o._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var f=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,f=this._redrawBounds;if(this._ctx.save(),f){var g=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)o=C.layer,(!f||o._pxBounds&&o._pxBounds.intersects(f))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,f){if(this._drawing){var g,C,T,k,W=o._parts,Q=W.length,se=this._ctx;if(Q){for(se.beginPath(),g=0;g<Q;g++){for(C=0,T=W[g].length;C<T;C++)k=W[g][C],se[C?"lineTo":"moveTo"](k.x,k.y);f&&se.closePath()}this._fillStroke(se,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var f=o._point,g=this._ctx,C=Math.max(Math.round(o._radius),1),T=(Math.max(Math.round(o._radiusY),1)||C)/C;T!==1&&(g.save(),g.scale(1,T)),g.beginPath(),g.arc(f.x,f.y/T,C,0,Math.PI*2,!1),T!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,f){var g=f.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(f.options&&f.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var f=this._map.mouseEventToLayerPoint(o),g,C,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(f)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(C=g);this._fireEvent(C?[C]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,f)}},_handleMouseOut:function(o){var f=this._hoveredLayer;f&&(yt(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,f){if(!this._mouseHoverThrottled){for(var g,C,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(f)&&(C=g);C!==this._hoveredLayer&&(this._handleMouseOut(o),C&&(ze(this._container,"leaflet-interactive"),this._fireEvent([C],o,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,f,g){this._map._fireDOMEvent(f,g||f.type,o)},_bringToFront:function(o){var f=o._order;if(f){var g=f.next,C=f.prev;if(g)g.prev=C;else return;C?C.next=g:g&&(this._drawFirst=g),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(o)}},_bringToBack:function(o){var f=o._order;if(f){var g=f.next,C=f.prev;if(C)C.next=g;else return;g?g.prev=C:C&&(this._drawLast=C),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(o)}}});function G1(o){return Be.canvas?new Z1(o):null}var Ga=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),c_={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ir.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var f=o._container=Ga("shape");ze(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",o._path=Ga("path"),f.appendChild(o._path),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){var f=o._container;this._container.appendChild(f),o.options.interactive&&o.addInteractiveTarget(f)},_removePath:function(o){var f=o._container;Tt(f),o.removeInteractiveTarget(f),delete this._layers[v(o)]},_updateStyle:function(o){var f=o._stroke,g=o._fill,C=o.options,T=o._container;T.stroked=!!C.stroke,T.filled=!!C.fill,C.stroke?(f||(f=o._stroke=Ga("stroke")),T.appendChild(f),f.weight=C.weight+"px",f.color=C.color,f.opacity=C.opacity,C.dashArray?f.dashStyle=B(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=C.lineCap.replace("butt","flat"),f.joinstyle=C.lineJoin):f&&(T.removeChild(f),o._stroke=null),C.fill?(g||(g=o._fill=Ga("fill")),T.appendChild(g),g.color=C.fillColor||C.color,g.opacity=C.fillOpacity):g&&(T.removeChild(g),o._fill=null)},_updateCircle:function(o){var f=o._point.round(),g=Math.round(o._radius),C=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+f.x+","+f.y+" "+g+","+C+" 0,"+65535*360)},_setPath:function(o,f){o._path.v=f},_bringToFront:function(o){Mt(o._container)},_bringToBack:function(o){Vn(o._container)}},_c=Be.vml?Ga:cn,Ya=Ir.extend({_initContainer:function(){this._container=_c("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_c("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tt(this._container),be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ir.prototype._update.call(this);var o=this._bounds,f=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,g.setAttribute("width",f.x),g.setAttribute("height",f.y)),Se(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(o){var f=o._path=_c("path");o.options.className&&ze(f,o.options.className),o.options.interactive&&ze(f,"leaflet-interactive"),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Tt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[v(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var f=o._path,g=o.options;f&&(g.stroke?(f.setAttribute("stroke",g.color),f.setAttribute("stroke-opacity",g.opacity),f.setAttribute("stroke-width",g.weight),f.setAttribute("stroke-linecap",g.lineCap),f.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?f.setAttribute("stroke-dasharray",g.dashArray):f.removeAttribute("stroke-dasharray"),g.dashOffset?f.setAttribute("stroke-dashoffset",g.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),g.fill?(f.setAttribute("fill",g.fillColor||g.color),f.setAttribute("fill-opacity",g.fillOpacity),f.setAttribute("fill-rule",g.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(o,f){this._setPath(o,Zr(o._parts,f))},_updateCircle:function(o){var f=o._point,g=Math.max(Math.round(o._radius),1),C=Math.max(Math.round(o._radiusY),1)||g,T="a"+g+","+C+" 0 1,0 ",k=o._empty()?"M0 0":"M"+(f.x-g)+","+f.y+T+g*2+",0 "+T+-g*2+",0 ";this._setPath(o,k)},_setPath:function(o,f){o._path.setAttribute("d",f)},_bringToFront:function(o){Mt(o._path)},_bringToBack:function(o){Vn(o._path)}});Be.vml&&Ya.include(c_);function Y1(o){return Be.svg||Be.vml?new Ya(o):null}ot.include({getRenderer:function(o){var f=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var f=this._paneRenderers[o];return f===void 0&&(f=this._createRenderer({pane:o}),this._paneRenderers[o]=f),f},_createRenderer:function(o){return this.options.preferCanvas&&G1(o)||Y1(o)}});var X1=a.extend({initialize:function(o,f){a.prototype.initialize.call(this,this._boundsToLatLngs(o),f)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=me(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function u_(o,f){return new X1(o,f)}Ya.create=_c,Ya.pointsToPath=Zr,h.geometryToLayer=d,h.coordsToLatLng=w,h.coordsToLatLngs=_,h.latLngToCoords=b,h.latLngsToCoords=M,h.getFeature=R,h.asFeature=U,ot.mergeOptions({boxZoom:!0});var K1=Hn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vn(),He(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ye(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var f=new ve(this._point,this._startPoint),g=f.getSize();Se(this._box,f.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Tt(this._box),yt(this._container,"leaflet-crosshair")),Vs(),It(),be(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var f=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",K1),ot.mergeOptions({doubleClickZoom:!0});var q1=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var f=this._map,g=f.getZoom(),C=f.options.zoomDelta,T=o.originalEvent.shiftKey?g-C:g+C;f.options.doubleClickZoom==="center"?f.setZoom(T):f.setZoomAround(o.containerPoint,T)}});ot.addInitHook("addHandler","doubleClickZoom",q1),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Q1=Hn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new lr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=me(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var f=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(f),this._prunePositions(f)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,f){return o-(o-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;o.x<f.min.x&&(o.x=this._viscousLimit(o.x,f.min.x)),o.y<f.min.y&&(o.y=this._viscousLimit(o.y,f.min.y)),o.x>f.max.x&&(o.x=this._viscousLimit(o.x,f.max.x)),o.y>f.max.y&&(o.y=this._viscousLimit(o.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,f=Math.round(o/2),g=this._initialWorldOffset,C=this._draggable._newPos.x,T=(C-f+g)%o+f-g,k=(C+f+g)%o-f-g,W=Math.abs(T+g)<Math.abs(k+g)?T:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(o){var f=this._map,g=f.options,C=!g.inertia||o.noInertia||this._times.length<2;if(f.fire("dragend",o),C)f.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,W=g.easeLinearity,Q=T.multiplyBy(W/k),se=Q.distanceTo([0,0]),fe=Math.min(g.inertiaMaxSpeed,se),Ne=Q.multiplyBy(fe/se),Ze=fe/(g.inertiaDeceleration*W),rt=Ne.multiplyBy(-Ze/2).round();!rt.x&&!rt.y?f.fire("moveend"):(rt=f._limitOffset(rt,f.options.maxBounds),Ue(function(){f.panBy(rt,{duration:Ze,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",Q1),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var J1=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ye(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,f=document.documentElement,g=o.scrollTop||f.scrollTop,C=o.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(C,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var f=this._panKeys={},g=this.keyCodes,C,T;for(C=0,T=g.left.length;C<T;C++)f[g.left[C]]=[-1*o,0];for(C=0,T=g.right.length;C<T;C++)f[g.right[C]]=[o,0];for(C=0,T=g.down.length;C<T;C++)f[g.down[C]]=[0,o];for(C=0,T=g.up.length;C<T;C++)f[g.up[C]]=[0,-1*o]},_setZoomDelta:function(o){var f=this._zoomKeys={},g=this.keyCodes,C,T;for(C=0,T=g.zoomIn.length;C<T;C++)f[g.zoomIn[C]]=o;for(C=0,T=g.zoomOut.length;C<T;C++)f[g.zoomOut[C]]=-o},_addHooks:function(){Ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var f=o.keyCode,g=this._map,C;if(f in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(C=this._panKeys[f],o.shiftKey&&(C=de(C).multiplyBy(3)),g.options.maxBounds&&(C=g._limitOffset(de(C),g.options.maxBounds)),g.options.worldCopyJump){var T=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(C)));g.panTo(T)}else g.panBy(C)}else if(f in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;ui(o)}}});ot.addInitHook("addHandler","keyboard",J1),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $1=Hn.extend({addHooks:function(){Ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var f=Qr(o),g=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var C=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),C),ui(o)},_performZoom:function(){var o=this._map,f=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,k=g?Math.ceil(T/g)*g:T,W=o._limitZoom(f+(this._delta>0?k:-k))-f;this._delta=0,this._startTime=null,W&&(o.options.scrollWheelZoom==="center"?o.setZoom(f+W):o.setZoomAround(this._lastMousePos,f+W))}});ot.addInitHook("addHandler","scrollWheelZoom",$1);var h_=600;ot.mergeOptions({tapHold:Be.touchNative&&Be.safari&&Be.mobile,tapTolerance:15});var ep=Hn.extend({addHooks:function(){Ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var f=o.touches[0];this._startPos=this._newPos=new le(f.clientX,f.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ye(document,"touchend",hn),Ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),h_),Ye(document,"touchend touchcancel contextmenu",this._cancel,this),Ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){be(document,"touchend",hn),be(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),be(document,"touchend touchcancel contextmenu",this._cancel,this),be(document,"touchmove",this._onMove,this)},_onMove:function(o){var f=o.touches[0];this._newPos=new le(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,f){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});g._simulated=!0,f.target.dispatchEvent(g)}});ot.addInitHook("addHandler","tapHold",ep),ot.mergeOptions({touchZoom:Be.touch,bounceAtZoomLimits:!0});var tp=Hn.extend({addHooks:function(){ze(this._map._container,"leaflet-touch-zoom"),Ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var f=this._map;if(!(!o.touches||o.touches.length!==2||f._animatingZoom||this._zooming)){var g=f.mouseEventToContainerPoint(o.touches[0]),C=f.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(g.add(C)._divideBy(2))),this._startDist=g.distanceTo(C),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Ye(document,"touchmove",this._onTouchMove,this),Ye(document,"touchend touchcancel",this._onTouchEnd,this),hn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var f=this._map,g=f.mouseEventToContainerPoint(o.touches[0]),C=f.mouseEventToContainerPoint(o.touches[1]),T=g.distanceTo(C)/this._startDist;if(this._zoom=f.getScaleZoom(T,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&T<1||this._zoom>f.getMaxZoom()&&T>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var k=g._add(C)._divideBy(2)._subtract(this._centerPoint);if(T===1&&k.x===0&&k.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var W=p(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ue(W,this,!0),hn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),be(document,"touchmove",this._onTouchMove,this),be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",tp),ot.BoxZoom=K1,ot.DoubleClickZoom=q1,ot.Drag=Q1,ot.Keyboard=J1,ot.ScrollWheelZoom=$1,ot.TapHold=ep,ot.TouchZoom=tp,n.Bounds=ve,n.Browser=Be,n.CRS=ue,n.Canvas=Z1,n.Circle=es,n.CircleMarker=hr,n.Class=Fe,n.Control=hi,n.DivIcon=Ln,n.DivOverlay=kt,n.DomEvent=Mn,n.DomUtil=rn,n.Draggable=lr,n.Evented=Te,n.FeatureGroup=Ti,n.GeoJSON=h,n.GridLayer=Mi,n.Handler=Hn,n.Icon=$r,n.ImageOverlay=ne,n.LatLng=je,n.LatLngBounds=Ae,n.Layer=sn,n.LayerGroup=Ki,n.LineUtil=vc,n.Map=ot,n.Marker=Zn,n.Mixin=xc,n.Path=Ni,n.Point=le,n.PolyUtil=za,n.Polygon=a,n.Polyline=i,n.Popup=On,n.PosAnimation=ja,n.Projection=Ha,n.Rectangle=X1,n.Renderer=Ir,n.SVG=Ya,n.SVGOverlay=it,n.TileLayer=ns,n.Tooltip=gt,n.Transformation=st,n.Util=Le,n.VideoOverlay=xe,n.bind=p,n.bounds=te,n.canvas=G1,n.circle=N,n.circleMarker=ut,n.control=Gs,n.divIcon=ts,n.extend=l,n.featureGroup=Ii,n.geoJSON=Y,n.geoJson=K,n.gridLayer=Uh,n.icon=Wa,n.imageOverlay=ge,n.latLng=ce,n.latLngBounds=me,n.layerGroup=Jn,n.map=mc,n.marker=zh,n.point=de,n.polygon=c,n.polyline=s,n.popup=Rn,n.rectangle=u_,n.setOptions=P,n.stamp=v,n.svg=Y1,n.svgOverlay=Je,n.tileLayer=H1,n.tooltip=dn,n.transformation=tt,n.version=r,n.videoOverlay=pe;var f_=window.L;n.noConflict=function(){return window.L=f_,this},window.L=n})})(n0,n0.exports);var Ea=n0.exports;const uc=dx(Ea);function bh(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Th(e,t){return t==null?function(r,l){const u=V.useRef();return u.current||(u.current=e(r,l)),u}:function(r,l){const u=V.useRef();u.current||(u.current=e(r,l));const p=V.useRef(r),{instance:y}=u.current;return V.useEffect(function(){p.current!==r&&(t(y,r,p.current),p.current=r)},[y,r,l]),u}}function e_(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function t_(e){return function(n){const r=Ah(),l=e(Sh(n,r),r);return Kv(r.map,n.attribution),U1(l.current,n.eventHandlers),e_(l.current,r),l}}function G8(e,t){const n=V.useRef();V.useEffect(function(){if(t.pathOptions!==n.current){const l=t.pathOptions??{};e.instance.setStyle(l),n.current=l}},[e,t])}function Y8(e){return function(n){const r=Ah(),l=e(Sh(n,r),r);return U1(l.current,n.eventHandlers),e_(l.current,r),G8(l.current,n),l}}function X8(e,t){const n=Th(e,t),r=t_(n);return $v(r)}function K8(e,t){const n=Th(e),r=Z8(n,t);return H8(r)}function q8(e,t){const n=Th(e,t),r=Y8(n);return $v(r)}function Q8(e,t){const n=Th(e,t),r=t_(n);return W8(r)}function J8(e,t,n){const{opacity:r,zIndex:l}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),l!=null&&l!==n.zIndex&&e.setZIndex(l)}function n_(){return Ah().map}function i0(){return i0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(this,arguments)}function $8({bounds:e,boundsOptions:t,center:n,children:r,className:l,id:u,placeholder:p,style:y,whenReady:v,zoom:x,...E},A){const[I]=V.useState({className:l,id:u,style:y}),[O,D]=V.useState(null);V.useImperativeHandle(A,()=>(O==null?void 0:O.map)??null,[O]);const P=V.useCallback(j=>{if(j!==null&&O===null){const F=new Ea.Map(j,E);n!=null&&x!=null?F.setView(n,x):e!=null&&F.fitBounds(e,t),v!=null&&F.whenReady(v),D(V8(F))}},[]);V.useEffect(()=>()=>{O==null||O.map.remove()},[O]);const H=O?ho.createElement(Jv,{value:O},r):p??null;return ho.createElement("div",i0({},I,{ref:P}),H)}const eM=V.forwardRef($8),cx=X8(function({position:t,...n},r){const l=new Ea.Marker(t,n);return bh(l,qv(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),tM=q8(function({positions:t,...n},r){const l=new Ea.Polyline(t,n);return bh(l,qv(r,{overlayContainer:l}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),ux=K8(function(t,n){const r=new Ea.Popup(t,n.overlayContainer);return bh(r,n)},function(t,n,{position:r},l){V.useEffect(function(){const{instance:p}=t;function y(x){x.popup===p&&(p.update(),l(!0))}function v(x){x.popup===p&&l(!1)}return n.map.on({popupopen:y,popupclose:v}),n.overlayContainer==null?(r!=null&&p.setLatLng(r),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){var E;n.map.off({popupopen:y,popupclose:v}),(E=n.overlayContainer)==null||E.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,r])}),nM=Q8(function({url:t,...n},r){const l=new Ea.TileLayer(t,Sh(n,r));return bh(l,r)},function(t,n,r){J8(t,n,r);const{url:l}=n;l!=null&&l!==r.url&&t.setUrl(l)});delete uc.Icon.Default.prototype._getIconUrl;uc.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const iM=e=>new uc.DivIcon({className:"custom-icon",html:`<div style="background-color: ${e}; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"></div>`,iconSize:[24,24],iconAnchor:[12,12]}),rM=new uc.DivIcon({className:"truck-icon",html:`<div style="background-color: #0052cc; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.2);">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
    </div>`,iconSize:[32,32],iconAnchor:[16,16]});function sM({center:e}){const t=n_();return V.useEffect(()=>{e&&t.setView(e,t.getZoom())},[e,t]),null}function oM({points:e}){const t=n_();return V.useEffect(()=>{if(!t)return;const n=Array.isArray(e)?e.filter(Boolean):[];if(n.length!==0)try{const r=uc.latLngBounds(n);t.fitBounds(r,{padding:[30,30]})}catch{}},[e,t]),null}function i_({shipments:e,routeGeometry:t,currentLocation:n}){const l=n?[n.lat,n.lon]:[44.4268,26.1025],[u,p]=V.useState([]);V.useEffect(()=>{if(t&&t.coordinates){const x=t.coordinates.map(E=>[E[1],E[0]]);p(x)}},[t]);const y=(e||[]).map(x=>{var D,P,H,j;const E=(x==null?void 0:x.latitude)??((P=(D=x==null?void 0:x.raw_data)==null?void 0:D.recipientLocation)==null?void 0:P.latitude),A=(x==null?void 0:x.longitude)??((j=(H=x==null?void 0:x.raw_data)==null?void 0:H.recipientLocation)==null?void 0:j.longitude),I=Number(E),O=Number(A);return!Number.isFinite(I)||!Number.isFinite(O)||Math.abs(I)<1e-4&&Math.abs(O)<1e-4?null:[I,O]}).filter(Boolean),v=[...n?[[n.lat,n.lon]]:[],...y,...u];return S.jsxs("div",{className:"h-[400px] w-full rounded-3xl overflow-hidden shadow-inner border border-white/20 relative z-0",children:[S.jsxs(eM,{center:l,zoom:13,style:{height:"100%",width:"100%"},zoomControl:!1,children:[S.jsx(nM,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),S.jsx(sM,{center:l}),S.jsx(oM,{points:v}),n&&S.jsx(cx,{position:[n.lat,n.lon],icon:rM,children:S.jsx(ux,{children:S.jsx("div",{className:"font-sans font-bold text-brand-600",children:"You are here"})})}),e.map(x=>{var I,O,D,P;const E=Number((x==null?void 0:x.latitude)??((O=(I=x==null?void 0:x.raw_data)==null?void 0:I.recipientLocation)==null?void 0:O.latitude)),A=Number((x==null?void 0:x.longitude)??((P=(D=x==null?void 0:x.raw_data)==null?void 0:D.recipientLocation)==null?void 0:P.longitude));return!Number.isFinite(E)||!Number.isFinite(A)||Math.abs(E)<1e-4&&Math.abs(A)<1e-4?null:S.jsx(cx,{position:[E,A],icon:iM(x.status==="Delivered"?"#22c55e":"#f59e0b"),children:S.jsx(ux,{className:"glass-popup",children:S.jsxs("div",{className:"p-1 min-w-[150px]",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("span",{className:`w-2 h-2 rounded-full ${x.status==="Delivered"?"bg-green-500":"bg-amber-500"}`}),S.jsx("span",{className:"text-xs font-black uppercase text-slate-500 tracking-wider",children:x.awb})]}),S.jsx("p",{className:"font-bold text-slate-800 text-sm mb-1",children:x.recipient_name}),S.jsx("p",{className:"text-xs text-slate-500 truncate",children:x.delivery_address})]})})},x.awb)}),u.length>0&&S.jsx(tM,{positions:u,color:"#4c9aff",weight:4,opacity:.8,dashArray:"10, 10"})]}),S.jsx("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 z-[1000]",children:S.jsx("button",{className:"glass-strong p-3 rounded-xl text-white hover:text-brand-400 hover:border-brand-500/50 transition-all shadow-lg active:scale-95",onClick:x=>{x.stopPropagation()},children:S.jsx(av,{size:20})})})]})}function r_(){const[e,t]=V.useState(null),[n,r]=V.useState(null);return V.useEffect(()=>{if(!navigator.geolocation){r("Geolocation is not supported by your browser");return}const l=v=>{const{latitude:x,longitude:E,heading:A,speed:I}=v.coords;t({latitude:x,longitude:E,heading:A,speed:I})},u=v=>{r(v.message)},p={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},y=navigator.geolocation.watchPosition(l,u,p);return()=>navigator.geolocation.clearWatch(y)},[]),{location:e,error:n}}const s_="arynik_routes_v1",aM=e=>{try{return localStorage.getItem(e)}catch{return null}},lM=(e,t)=>{try{localStorage.setItem(e,t)}catch{}},r0=()=>new Date().toISOString(),cM=()=>{try{return crypto.randomUUID()}catch{return`route-${Date.now()}-${Math.floor(Math.random()*1e5)}`}},Ih=e=>String(e||"").trim().toUpperCase(),o_=e=>String(e||"").trim().toUpperCase()||null,Aa=()=>{const e=aM(s_);if(!e)return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch{}return[]},V1=e=>{const t=Array.isArray(e)?e:[];return lM(s_,JSON.stringify(t)),t},uu=()=>Aa().filter(Boolean).sort((e,t)=>String(t.updated_at||"").localeCompare(String(e.updated_at||""))),Nh=e=>Aa().find(t=>t&&t.id===e)||null,a_=({name:e,driver_id:t,vehicle_plate:n,date:r}={})=>{const l=Aa(),u={id:cM(),name:String(e||"").trim()||"New Route",driver_id:t?String(t):null,vehicle_plate:o_(n),date:r?String(r):new Date().toISOString().slice(0,10),awbs:[],created_at:r0(),updated_at:r0()};return l.unshift(u),V1(l),u},Mh=(e,t={})=>{const n=Aa(),r=n.findIndex(y=>y&&y.id===e);if(r===-1)return null;const l=n[r]||{},u=Object.prototype.hasOwnProperty.call(t,"vehicle_plate")?o_(t.vehicle_plate):l.vehicle_plate??null,p={...l,...t,id:l.id,vehicle_plate:u,updated_at:r0()};return n[r]=p,V1(n),p},uM=e=>{const t=Aa().filter(n=>n&&n.id!==e);return V1(t),!0},s0=(e,t)=>{const n=Ih(t);if(!n)return null;const r=Nh(e);if(!r)return null;const l=Array.isArray(r.awbs)?r.awbs:[];return l.includes(n)?r:Mh(e,{awbs:[...l,n]})},hM=(e,t)=>{const n=Ih(t),r=Nh(e);if(!r)return null;const l=Array.isArray(r.awbs)?r.awbs:[];return Mh(e,{awbs:l.filter(u=>u!==n)})},fM=(e,t)=>{if(!Nh(e))return null;const r=(Array.isArray(t)?t:[]).map(Ih).filter(Boolean);return Mh(e,{awbs:r})},dM=e=>{const t=Ih(e);return t&&Aa().find(l=>Array.isArray(l==null?void 0:l.awbs)&&l.awbs.includes(t))||null},pM=200,Kt=e=>{const t=Number(e);return Number.isFinite(t)&&Math.abs(t)>1e-4},Df=e=>String(e||"").trim().replace(/[_-]+/g," ").replace(/\\s+/g," ").trim(),hx=e=>{var u,p,y,v,x,E;const t=Df(e==null?void 0:e.delivery_address),n=Df((e==null?void 0:e.locality)||((p=(u=e==null?void 0:e.raw_data)==null?void 0:u.recipientLocation)==null?void 0:p.locality)),r=Df((e==null?void 0:e.county)||((v=(y=e==null?void 0:e.raw_data)==null?void 0:y.recipientLocation)==null?void 0:v.county)||((E=(x=e==null?void 0:e.raw_data)==null?void 0:x.recipientLocation)==null?void 0:E.countyName)),l=[];return t&&l.push(t),n&&!t.toLowerCase().includes(n.toLowerCase())&&l.push(n),r&&!l.some(A=>A.toLowerCase().includes(r.toLowerCase()))&&l.push(r),l.push("Romania"),l.filter(Boolean).join(", ")};function mM(){const[e,t]=V.useState([]),[n,r]=V.useState(!0),[l,u]=V.useState(""),[p,y]=V.useState(null),[v,x]=V.useState("list"),[E,A]=V.useState(null),[I,O]=V.useState({}),D=V.useRef({}),[P,H]=V.useState({active:!1,done:0,total:0,current:""}),[j,F]=V.useState({open:!1,awb:null}),[B,Z]=V.useState([]),[$,ae]=V.useState(""),X=Wr(),{user:ee}=bo(),{location:J}=r_(),Re=async()=>{r(!0);try{const ue=ee.token,Ee=await B1(ue);t(Ee)}catch(ue){console.error("Failed to fetch shipments",ue)}finally{r(!1)}};V.useEffect(()=>{Re()},[]),V.useEffect(()=>{Z(uu())},[]);const Ue=J?{lat:J.latitude,lon:J.longitude}:null;V.useEffect(()=>{D.current=I},[I]);const we=async ue=>{const Ee=String((ue==null?void 0:ue.awb)||"").toUpperCase();let qe=Number(ue==null?void 0:ue.latitude),De=Number(ue==null?void 0:ue.longitude);const st=D.current[Ee];if((!Kt(qe)||!Kt(De))&&st&&Kt(st.lat)&&Kt(st.lon)&&(qe=Number(st.lat),De=Number(st.lon)),!Kt(qe)||!Kt(De)){const tt=hx(ue),Ve=await t0(tt);Ve&&Kt(Ve.lat)&&Kt(Ve.lon)&&(qe=Number(Ve.lat),De=Number(Ve.lon),Ee&&O(Ci=>({...Ci,[Ee]:{lat:qe,lon:De,ts:Date.now(),source:"geocode"}})))}if(Ue&&Kt(qe)&&Kt(De)){const tt=await j8(Ue,{lat:qe,lon:De});A(tt)}else A(null);x("map")},Le=ue=>{Z(uu()),F({open:!0,awb:String(ue||"").toUpperCase()})},Fe=ue=>{const Ee=j.awb;if(!Ee)return;if(s0(ue,Ee)){const De=uu().find(st=>st.id===ue);ae(`Assigned ${Ee} to ${(De==null?void 0:De.name)||"route"}${De!=null&&De.vehicle_plate?` (${De.vehicle_plate})`:""}`),setTimeout(()=>ae(""),2500)}F({open:!1,awb:null})},re=()=>{const ue=j.awb;if(!ue)return;let Ee="";try{Ee=localStorage.getItem("arynik_last_vehicle_plate_v1")||""}catch{}const qe=a_({name:`Route ${new Date().toLocaleDateString()}`,driver_id:(ee==null?void 0:ee.driver_id)||null,vehicle_plate:String(Ee||"").trim().toUpperCase()||null,date:new Date().toISOString().slice(0,10)});s0(qe.id,ue),F({open:!1,awb:null}),ae(`Created route and assigned ${ue}`),setTimeout(()=>ae(""),2500),X(`/routes/${qe.id}`)},Ce=e.filter(ue=>{var Ee,qe;return((Ee=ue.awb)==null?void 0:Ee.toLowerCase().includes(l.toLowerCase()))||ue.recipient_name&&((qe=ue.recipient_name)==null?void 0:qe.toLowerCase().includes(l.toLowerCase()))}),Te=V.useMemo(()=>Ce.slice(0,pM),[Ce]),le=V.useMemo(()=>Te.map(ue=>String((ue==null?void 0:ue.awb)||"").toUpperCase()).join("|"),[Te]);V.useEffect(()=>{if(v!=="map"||!Te||Te.length===0)return;let ue=!1;return(async()=>{const Ee={...D.current},qe=Te.length;let De=0;if(!Te.some(tt=>{const Ve=String((tt==null?void 0:tt.awb)||"").toUpperCase();return!(Kt(tt==null?void 0:tt.latitude)&&Kt(tt==null?void 0:tt.longitude)||Ee[Ve]&&Kt(Ee[Ve].lat)&&Kt(Ee[Ve].lon))})){H({active:!1,done:qe,total:qe,current:""});return}H({active:!0,done:0,total:qe,current:""});for(const tt of Te){if(ue)return;const Ve=String((tt==null?void 0:tt.awb)||"").toUpperCase();if(Kt(tt==null?void 0:tt.latitude)&&Kt(tt==null?void 0:tt.longitude)){Ve&&(Ee[Ve]={lat:Number(tt.latitude),lon:Number(tt.longitude),ts:Date.now(),source:"shipment"}),De+=1,H({active:!0,done:De,total:qe,current:Ve});continue}if(Ve&&Ee[Ve]&&Kt(Ee[Ve].lat)&&Kt(Ee[Ve].lon)){De+=1,H({active:!0,done:De,total:qe,current:Ve});continue}H({active:!0,done:De,total:qe,current:Ve});const Ci=hx(tt),cn=await t0(Ci);cn&&Kt(cn.lat)&&Kt(cn.lon)&&Ve&&(Ee[Ve]={lat:Number(cn.lat),lon:Number(cn.lon),ts:Date.now(),source:"geocode"}),De+=1}ue||(O(Ee),H({active:!1,done:De,total:qe,current:""}))})(),()=>{ue=!0}},[v,le]);const Me=V.useMemo(()=>{if(v!=="map")return Ce;const ue=I||{};return Ce.map(Ee=>{const qe=String((Ee==null?void 0:Ee.awb)||"").toUpperCase(),De=ue[qe];return De&&Kt(De.lat)&&Kt(De.lon)?{...Ee,latitude:Number(De.lat),longitude:Number(De.lon)}:Ee})},[v,Ce,I]),de=20,[ve,te]=V.useState(1);V.useEffect(()=>{te(1)},[l,v]);const Ae=Math.ceil(Ce.length/de),me=v==="list"?Ce.slice((ve-1)*de,ve*de):Ce,je=ue=>ue==="Delivered"?"from-emerald-500 to-emerald-600":ue==="In Transit"?"from-blue-500 to-blue-600":"from-amber-500 to-amber-600",ce=ue=>ue==="Delivered"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":ue==="In Transit"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-amber-500/20 text-amber-400 border-amber-500/30";return S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-20 right-0 w-72 h-72 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"sticky top-0 z-40 glass-strong backdrop-blur-xl border-b border-white/10 pb-2 shadow-sm",children:[S.jsxs("div",{className:"p-4 flex items-center gap-4",children:[S.jsx("button",{onClick:()=>X(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:S.jsx(Yl,{})}),S.jsx("h1",{className:"flex-1 font-black text-xl text-gradient tracking-tight",children:"Shipments"}),S.jsxs("div",{className:"flex glass-strong p-1 rounded-xl border border-white/10",children:[S.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded-lg transition-all ${v==="list"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(sv,{size:20})}),S.jsx("button",{onClick:()=>x("map"),className:`p-2 rounded-lg transition-all ${v==="map"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(ov,{size:20})})]}),S.jsx("button",{onClick:Re,className:`p-2 rounded-xl glass-light hover:bg-violet-500/20 text-violet-400 transition-all border border-white/10 ${n?"animate-spin":""}`,children:S.jsx(b1,{size:20})})]}),S.jsx("div",{className:"px-4 pb-2",children:S.jsxs("div",{className:"relative group",children:[S.jsx(T1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-violet-400 transition-colors z-10",size:18}),S.jsx("input",{type:"text",placeholder:"Search AWB, Client...",className:"w-full pl-12 pr-4 py-3.5 glass-strong rounded-2xl outline-none focus:ring-2 focus:ring-violet-500/30 border border-white/10 text-sm font-medium text-white placeholder-slate-500 transition-all",value:l,onChange:ue=>u(ue.target.value)})]})})]}),S.jsx("div",{className:"flex-1 p-4 space-y-3 pb-32 relative z-10",children:S.jsxs(Al,{mode:"wait",children:[$&&S.jsx(dt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"glass-strong p-4 rounded-2xl border border-emerald-500/20 text-emerald-300 text-xs font-bold",children:$}),n&&e.length===0?S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),S.jsx(ga,{className:"animate-spin relative z-10 text-violet-400",size:48})]}),S.jsx("p",{className:"mt-6 font-bold text-xs uppercase tracking-widest text-slate-500",children:"Syncing Data..."})]}):Ce.length===0?S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(yo,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No shipments found"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Try adjusting your search"})]}):v==="map"?S.jsxs(dt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-[70vh] w-full rounded-3xl overflow-hidden border-iridescent shadow-2xl relative",children:[S.jsx(i_,{shipments:Me,currentLocation:Ue,routeGeometry:E}),P.active&&S.jsxs("div",{className:"absolute top-4 left-4 glass-strong rounded-2xl border border-white/10 px-4 py-3 text-white text-xs font-bold shadow-lg",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(ga,{className:"animate-spin text-violet-300",size:14}),S.jsx("span",{className:"uppercase tracking-widest text-[10px] text-slate-300",children:"Geocoding"})]}),S.jsxs("div",{className:"mt-1 text-[10px] text-slate-400 font-black uppercase tracking-wider",children:[P.done,"/",P.total," ",P.current?`(${P.current})`:""]}),S.jsx("div",{className:"mt-2 h-1.5 w-48 bg-white/10 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-500",style:{width:`${Math.min(100,Math.round(P.done/Math.max(1,P.total)*100))}%`}})}),S.jsx("div",{className:"mt-2 text-[9px] text-slate-500 font-bold",children:"Tip: search a city/awb first to reduce requests."})]})]}):S.jsxs("div",{className:"space-y-3",children:[me.map((ue,Ee)=>S.jsxs(dt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ee*.05},className:`glass-strong rounded-3xl overflow-hidden transition-all duration-300 border border-white/10 ${p===Ee?"ring-2 ring-violet-500/30 shadow-glow-sm":""}`,children:[S.jsxs("div",{onClick:()=>y(p===Ee?null:Ee),className:"p-5 flex items-center gap-4 cursor-pointer relative",children:[S.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shadow-sm bg-gradient-to-br ${je(ue.status)}`,children:S.jsx(yo,{size:24,strokeWidth:2,className:"text-white"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[S.jsx("h3",{className:"font-mono text-[10px] font-black uppercase tracking-widest text-slate-500",children:ue.awb}),S.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const qe=dM(ue.awb);return qe?S.jsxs("span",{className:"text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border bg-emerald-500/15 text-emerald-300 border-emerald-500/20",children:[qe.name||"Route",qe.vehicle_plate?`  ${qe.vehicle_plate}`:""]}):null})(),S.jsx("span",{className:`text-[9px] font-black uppercase px-2.5 py-1 rounded-full tracking-wide border ${ce(ue.status)}`,children:ue.status||"Active"})]})]}),S.jsx("p",{className:"text-sm font-bold text-white truncate leading-tight mb-2",children:ue.recipient_name}),S.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400",children:[S.jsx(k4,{size:11,strokeWidth:2.5}),S.jsx("p",{className:"text-[10px] font-medium truncate",children:ue.delivery_address||ue.locality||"No Address"})]})]}),S.jsx(ma,{className:`text-slate-500 transition-transform duration-300 ${p===Ee?"rotate-90 text-violet-400":""}`,size:20})]}),S.jsx(Al,{children:p===Ee&&S.jsx(dt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:S.jsxs("div",{className:"p-5 space-y-4 bg-black/20 border-t border-white/5",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"glass-light p-4 rounded-2xl flex items-center gap-3 border border-white/10",children:[S.jsx("div",{className:"p-2 bg-violet-500/20 rounded-xl",children:S.jsx(F4,{size:16,className:"text-violet-400"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-wide mb-0.5",children:"Contact"}),S.jsx("p",{className:"text-xs font-bold text-white truncate",children:"--"})]})]}),S.jsxs("div",{className:"glass-light p-4 rounded-2xl flex items-center gap-3 border border-white/10",children:[S.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl",children:S.jsx(N1,{size:16,className:"text-emerald-400"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[9px] uppercase font-bold text-slate-500 tracking-wide mb-0.5",children:"Client"}),S.jsx("p",{className:"text-xs font-bold text-white truncate",children:ue.recipient_name})]})]})]}),S.jsxs("button",{onClick:()=>we(ue),className:"w-full btn-premium py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold rounded-xl shadow-sm flex items-center justify-center gap-2 text-sm",children:[S.jsx(av,{size:16}),"View on Map"]}),S.jsxs("button",{onClick:()=>Le(ue.awb),className:"w-full btn-premium py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-sm flex items-center justify-center gap-2 text-sm",children:[S.jsx(co,{size:16}),"Assign to Route"]})]})})})]},ue.awb||Ee)),Ae>1&&S.jsxs("div",{className:"flex items-center justify-between pt-4 glass-strong rounded-2xl p-4 border border-white/10",children:[S.jsx("button",{onClick:()=>te(ue=>Math.max(1,ue-1)),disabled:ve===1,className:"p-2 rounded-xl hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-white",children:S.jsx(Yl,{size:20})}),S.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:["Page ",ve," of ",Ae]}),S.jsx("button",{onClick:()=>te(ue=>Math.min(Ae,ue+1)),disabled:ve===Ae,className:"p-2 rounded-xl hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-white",children:S.jsx(ma,{size:20})})]})]})]})}),S.jsx(Al,{children:j.open&&S.jsx(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-end justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>F({open:!1,awb:null}),children:S.jsxs(dt.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},className:"w-full max-w-md glass-strong rounded-3xl border-iridescent p-5 space-y-4",onClick:ue=>ue.stopPropagation(),children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Assign AWB"}),S.jsx("p",{className:"text-sm font-bold text-white font-mono mt-1",children:j.awb})]}),S.jsx("button",{onClick:re,className:"px-4 py-2 rounded-2xl bg-emerald-500/15 border border-emerald-500/20 text-emerald-300 text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all",children:"Create Route"})]}),S.jsx("div",{className:"space-y-2 max-h-[45vh] overflow-y-auto",children:B.length===0?S.jsx("p",{className:"text-xs text-slate-500",children:"No routes yet. Tap Create Route."}):B.map(ue=>S.jsxs("button",{onClick:()=>Fe(ue.id),className:"w-full p-4 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition-all text-left glass-light flex items-center justify-between gap-3",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-sm font-bold text-white truncate",children:ue.name||"Route"}),S.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wide mt-1",children:[ue.date,"  ",Array.isArray(ue.awbs)?ue.awbs.length:0," stops",ue.vehicle_plate?`  ${ue.vehicle_plate}`:""]})]}),S.jsx("span",{className:"text-[10px] font-black text-emerald-300 uppercase tracking-wide",children:"Select"})]},ue.id))})]})})})]})}function gM(){const[e,t]=V.useState(new Date),[n,r]=V.useState({}),[l,u]=V.useState(!0),p=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),y=new Date(e.getFullYear(),e.getMonth(),1).getDay(),v=()=>t(new Date(e.getFullYear(),e.getMonth()-1,1)),x=()=>t(new Date(e.getFullYear(),e.getMonth()+1,1)),E=e.toLocaleString("default",{month:"long"}),A=e.getFullYear();V.useEffect(()=>{(async()=>{u(!0);try{const H=localStorage.getItem("token"),j=new Date(e.getFullYear(),e.getMonth(),1).toISOString(),F=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59).toISOString(),Z=(await k1(H,{start_date:j,end_date:F})).reduce(($,ae)=>{const X=new Date(ae.timestamp).getDate();return $[X]||($[X]=[]),$[X].push(ae),$},{});r(Z)}catch(H){console.error("Failed to fetch monthly deliveries",H)}finally{u(!1)}})()},[e]);const I=[];for(let P=0;P<y;P+=1)I.push(S.jsx("div",{className:"h-24"},`empty-${P}`));for(let P=1;P<=p;P+=1){const H=n[P]||[],j=H.length>0,F=P===new Date().getDate()&&e.getMonth()===new Date().getMonth()&&e.getFullYear()===new Date().getFullYear();I.push(S.jsxs("div",{className:`h-24 border-t border-white/5 p-2 relative flex flex-col items-center justify-center gap-1 transition-all duration-300 hover:bg-white/5 cursor-pointer group ${F?"bg-violet-500/10 border-violet-500/30":""}`,children:[S.jsx("span",{className:`text-xs font-black absolute top-2 right-2 transition-all ${F?"text-violet-400":"text-slate-500 group-hover:text-violet-300"}`,children:P}),j&&S.jsxs("div",{className:"flex flex-col items-center animate-scale-in",children:[S.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl text-white shadow-glow-sm",children:S.jsx(yo,{size:16,strokeWidth:2.5})}),S.jsxs("span",{className:"text-[9px] font-black text-emerald-400 uppercase mt-1.5 tracking-wide",children:[H.length," AWB"]})]})]},P))}const O=Object.values(n).flat().length,D=O>0?(O/new Date().getDate()).toFixed(1):0;return S.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-black text-gradient tracking-tight",children:"Delivery Calendar"}),S.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"Track your monthly performance"})]}),S.jsx("div",{className:"w-12 h-12 rounded-2xl glass-light flex items-center justify-center border border-white/10",children:S.jsx(C4,{size:20,className:"text-violet-400"})})]}),S.jsxs("div",{className:"flex-1 p-4 pb-32 space-y-6 relative z-10",children:[S.jsxs("div",{className:"glass-strong rounded-[32px] shadow-2xl border-iridescent overflow-hidden animate-scale-in",children:[S.jsxs("div",{className:"p-6 flex items-center justify-between bg-gradient-to-r from-violet-600 via-purple-600 to-violet-700 text-white relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 shimmer opacity-20"}),S.jsx("button",{onClick:v,className:"p-2.5 hover:bg-white/20 rounded-xl transition-all active:scale-95 relative z-10 magnetic",children:S.jsx(b4,{size:20,strokeWidth:2.5})}),S.jsxs("h2",{className:"text-lg font-black uppercase tracking-widest relative z-10",children:[E," ",A]}),S.jsx("button",{onClick:x,className:"p-2.5 hover:bg-white/20 rounded-xl transition-all active:scale-95 relative z-10 magnetic",children:S.jsx(ma,{size:20,strokeWidth:2.5})})]}),S.jsxs("div",{className:"grid grid-cols-7 text-center py-4 bg-black/20 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:[S.jsx("div",{children:"Sun"}),S.jsx("div",{children:"Mon"}),S.jsx("div",{children:"Tue"}),S.jsx("div",{children:"Wed"}),S.jsx("div",{children:"Thu"}),S.jsx("div",{children:"Fri"}),S.jsx("div",{children:"Sat"})]}),S.jsxs("div",{className:"grid grid-cols-7 relative min-h-[400px]",children:[l&&S.jsx("div",{className:"absolute inset-0 glass-strong z-10 flex items-center justify-center backdrop-blur-sm",children:S.jsxs("div",{className:"text-center",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 bg-violet-500/20 blur-xl rounded-full animate-pulse"}),S.jsx(ga,{className:"animate-spin relative z-10 text-violet-400",size:48})]}),S.jsx("p",{className:"mt-6 font-bold text-xs uppercase tracking-widest text-slate-500",children:"Loading..."})]})}),I]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Monthly Insights"}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent animate-scale-in",style:{animationDelay:"0.1s"},children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg",children:S.jsx(yo,{size:16,className:"text-violet-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Total"})]}),S.jsx("p",{className:"text-3xl font-black text-gradient-purple",children:O}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-1",children:"Deliveries"})]}),S.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent animate-scale-in",style:{animationDelay:"0.2s"},children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:S.jsx(I1,{size:16,className:"text-emerald-400"})}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Average"})]}),S.jsx("p",{className:"text-3xl font-black text-gradient-blue",children:D}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-1",children:"Per Day"})]})]}),S.jsxs("div",{className:"glass-strong p-5 rounded-2xl border-iridescent flex items-center gap-4 animate-scale-in",style:{animationDelay:"0.3s"},children:[S.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl shadow-glow-sm",children:S.jsx(hv,{size:24,className:"text-white"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"text-sm font-black text-white",children:"Active Month"}),S.jsxs("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wide mt-1",children:[O," shipments processed in ",E]})]})]})]})]})]})}function xM(){const e=Wr(),{user:t}=bo(),[n,r]=V.useState([]),[l,u]=V.useState(""),[p,y]=V.useState(new Date().toISOString().slice(0,10)),[v,x]=V.useState(()=>{try{return localStorage.getItem("arynik_last_vehicle_plate_v1")||""}catch{return""}}),E=()=>r(uu());V.useEffect(()=>{E()},[]);const A=()=>{const D=String(l||"").trim()||`Route ${new Date().toLocaleDateString()}`,P=String(v||"").trim().toUpperCase(),H=a_({name:D,driver_id:(t==null?void 0:t.driver_id)||null,vehicle_plate:P||null,date:p});if(u(""),P)try{localStorage.setItem("arynik_last_vehicle_plate_v1",P)}catch{}E(),e(`/routes/${H.id}`)},I=O=>{window.confirm("Delete this route?")&&(uM(O),E())};return S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-10 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-violet-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("header",{className:"px-6 py-5 flex justify-between items-center sticky top-0 z-30 glass-strong rounded-b-[32px] mx-2 mt-2 shadow-lg border-iridescent animate-slide-down",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-black text-gradient tracking-tight",children:"Routes"}),S.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:"Create routes and allocate AWBs"})]}),S.jsx("div",{className:"w-12 h-12 rounded-2xl glass-light flex items-center justify-center border border-white/10",children:S.jsx(co,{size:20,className:"text-emerald-400"})})]}),S.jsxs("div",{className:"flex-1 p-4 pb-32 space-y-6 relative z-10",children:[S.jsxs("div",{className:"glass-strong p-5 rounded-3xl border-iridescent space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"New Route"}),S.jsxs("span",{className:"text-[10px] font-bold text-slate-500",children:["Driver: ",S.jsx("span",{className:"text-slate-300 font-mono",children:(t==null?void 0:t.driver_id)||"N/A"})]})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[S.jsx("input",{value:l,onChange:O=>u(O.target.value),placeholder:"Route name (ex: Bacau AM)",className:"col-span-2 px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-2xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 transition-all duration-300 text-sm font-medium"}),S.jsx("input",{type:"date",value:p,onChange:O=>y(O.target.value),className:"px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-2xl text-white focus:outline-none focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 transition-all duration-300 text-sm font-medium"}),S.jsx("input",{value:v,onChange:O=>x(O.target.value),placeholder:"Vehicle plate (ex: BC75ARI)",className:"col-span-3 px-4 py-3.5 bg-slate-900/50 border border-slate-700/50 rounded-2xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 transition-all duration-300 text-sm font-medium font-mono tracking-wider"})]}),S.jsxs("button",{onClick:A,className:"w-full btn-premium py-4 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white rounded-2xl font-bold shadow-lg hover:shadow-glow-md transition-all flex items-center justify-center gap-2",children:[S.jsx(lv,{size:18}),"Create Route"]})]}),n.length===0?S.jsxs("div",{className:"text-center py-16 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(co,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No routes yet"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Create your first route above"})]}):S.jsxs("div",{className:"space-y-3",children:[S.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-[0.2em] ml-2",children:"Your Routes"}),n.map(O=>S.jsx("div",{className:"glass-strong p-5 rounded-3xl border border-white/10 hover:border-emerald-500/30 transition-all group",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-600 to-emerald-700 flex items-center justify-center shadow-glow-sm",children:S.jsx(co,{size:18,className:"text-white"})}),S.jsx("div",{className:"flex-1 min-w-0",children:S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-white font-black truncate",children:O.name||"Route"}),S.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wide mt-1",children:[O.date||"No date","  ",Array.isArray(O.awbs)?O.awbs.length:0," stops",O.vehicle_plate?`  ${O.vehicle_plate}`:""]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>I(O.id),className:"p-2 rounded-xl glass-light border border-white/10 text-rose-400 hover:bg-rose-500/10 active:scale-95 transition-all",title:"Delete route",children:S.jsx(uv,{size:18})}),S.jsx("button",{onClick:()=>e(`/routes/${O.id}`),className:"p-2 rounded-xl glass-light border border-white/10 text-emerald-400 hover:bg-emerald-500/10 active:scale-95 transition-all",title:"Open route",children:S.jsx(v4,{size:18})})]})]})})]})},O.id))]})]})]})}const En=e=>{const t=Number(e);return Number.isFinite(t)&&Math.abs(t)>1e-4},fx=(e,t)=>{const n=x=>x*Math.PI/180,l=n(t.lat-e.lat),u=n(t.lon-e.lon),p=n(e.lat),y=n(t.lat),v=Math.sin(l/2)**2+Math.cos(p)*Math.cos(y)*Math.sin(u/2)**2;return 2*6371*Math.asin(Math.sqrt(v))},kf=e=>String(e||"").trim().replace(/[_-]+/g," ").replace(/\\s+/g," ").trim(),yM=e=>{var u,p,y,v,x,E;const t=kf(e==null?void 0:e.delivery_address),n=kf((e==null?void 0:e.locality)||((p=(u=e==null?void 0:e.raw_data)==null?void 0:u.recipientLocation)==null?void 0:p.locality)),r=kf((e==null?void 0:e.county)||((v=(y=e==null?void 0:e.raw_data)==null?void 0:y.recipientLocation)==null?void 0:v.county)||((E=(x=e==null?void 0:e.raw_data)==null?void 0:x.recipientLocation)==null?void 0:E.countyName)),l=[];return t&&l.push(t),n&&!t.toLowerCase().includes(n.toLowerCase())&&l.push(n),r&&!l.some(A=>A.toLowerCase().includes(r.toLowerCase()))&&l.push(r),l.push("Romania"),l.filter(Boolean).join(", ")};function wM(){const{routeId:e}=bE(),t=Wr(),{user:n}=bo(),{location:r}=r_(),[l,u]=V.useState(null),[p,y]=V.useState([]),[v,x]=V.useState(!0),[E,A]=V.useState(""),[I,O]=V.useState(""),[D,P]=V.useState("list"),[H,j]=V.useState(""),[F,B]=V.useState({}),[Z,$]=V.useState({active:!1,done:0,total:0,current:""}),[ae,X]=V.useState(null),ee=r?{lat:r.latitude,lon:r.longitude}:null;V.useEffect(()=>{const te=Nh(e);u(te)},[e]),V.useEffect(()=>{j(String((l==null?void 0:l.vehicle_plate)||"").toUpperCase())},[l==null?void 0:l.id]);const J=()=>{if(!l)return;const te=String(H||"").trim().toUpperCase(),Ae=Mh(l.id,{vehicle_plate:te||null});Ae&&u(Ae)},Re=async()=>{x(!0);try{const te=n==null?void 0:n.token,Ae=await B1(te);y(Array.isArray(Ae)?Ae:[])}catch(te){console.warn("Failed to load shipments",te),y([])}finally{x(!1)}};V.useEffect(()=>{Re()},[]);const Ue=V.useMemo(()=>{const te=new Map;return p.forEach(Ae=>{Ae!=null&&Ae.awb&&te.set(String(Ae.awb).toUpperCase(),Ae)}),te},[p]),we=Array.isArray(l==null?void 0:l.awbs)?l.awbs:[],Le=V.useMemo(()=>we.map(te=>{const Ae=Ue.get(String(te).toUpperCase());return Ae||{awb:te,status:"Unknown",recipient_name:"Unknown",delivery_address:"",locality:""}}),[we,Ue]),Fe=V.useMemo(()=>Le.map(te=>{const Ae=String((te==null?void 0:te.awb)||"").toUpperCase(),me=F[Ae],je=En(te==null?void 0:te.latitude)?Number(te.latitude):(me==null?void 0:me.lat)??null,ce=En(te==null?void 0:te.longitude)?Number(te.longitude):(me==null?void 0:me.lon)??null;return{...te,latitude:Number.isFinite(je)?je:null,longitude:Number.isFinite(ce)?ce:null}}),[Le,F]),re=V.useMemo(()=>{const te=String(E||"").trim().toLowerCase();if(!te)return[];const Ae=new Set(we.map(me=>String(me).toUpperCase()));return p.filter(me=>{const je=String((me==null?void 0:me.awb)||"").toLowerCase(),ce=String((me==null?void 0:me.recipient_name)||"").toLowerCase();return(je.includes(te)||ce.includes(te))&&!Ae.has(String((me==null?void 0:me.awb)||"").toUpperCase())}).slice(0,30)},[E,p,we]),Ce=te=>{if(!l)return;const Ae=s0(l.id,te);u(Ae),O(""),A("")},Te=te=>{if(!l)return;const Ae=hM(l.id,te);u(Ae)},le=async()=>{if(!Le||Le.length===0)return;$({active:!0,done:0,total:Le.length,current:""});const te={...F};let Ae=0;for(const me of Le){const je=String((me==null?void 0:me.awb)||"").toUpperCase();if($({active:!0,done:Ae,total:Le.length,current:je}),En(me==null?void 0:me.latitude)&&En(me==null?void 0:me.longitude)){te[je]={lat:Number(me.latitude),lon:Number(me.longitude),ts:Date.now(),source:"shipment"},Ae+=1;continue}if(te[je]&&En(te[je].lat)&&En(te[je].lon)){Ae+=1;continue}const ce=yM(me),ue=await t0(ce);ue&&En(ue.lat)&&En(ue.lon)&&(te[je]={lat:ue.lat,lon:ue.lon,ts:Date.now(),source:"geocode"}),Ae+=1}B(te),$({active:!1,done:Le.length,total:Le.length,current:""})},Me=async te=>{const Ae=Array.isArray(te)?te:[],me=[];if(ee&&En(ee.lat)&&En(ee.lon)&&me.push(ee),Ae.forEach(ce=>{En(ce==null?void 0:ce.latitude)&&En(ce==null?void 0:ce.longitude)&&me.push({lat:Number(ce.latitude),lon:Number(ce.longitude)})}),me.length<2){X(null);return}const je=await z8(me);X(je)};V.useEffect(()=>{D==="map"&&(async()=>await le())()},[D,we.join("|")]),V.useEffect(()=>{D==="map"&&Me(Fe)},[D,JSON.stringify(Fe.map(te=>[te.awb,te.latitude,te.longitude]))]);const de=()=>{if(!l)return;const te=Fe.map(De=>({awb:String((De==null?void 0:De.awb)||"").toUpperCase(),lat:Number(De==null?void 0:De.latitude),lon:Number(De==null?void 0:De.longitude)})).filter(De=>De.awb&&En(De.lat)&&En(De.lon));if(te.length<2)return;const Ae=ee&&En(ee.lat)&&En(ee.lon)?{lat:Number(ee.lat),lon:Number(ee.lon)}:{lat:te[0].lat,lon:te[0].lon},me=[...te],je=[];let ce=Ae;for(;me.length;){me.sort((st,tt)=>fx(ce,st)-fx(ce,tt));const De=me.shift();je.push(De),ce=De}const ue=je.map(De=>De.awb),Ee=we.filter(De=>!ue.includes(String(De).toUpperCase())),qe=fM(l.id,[...ue,...Ee]);u(qe)},ve=()=>{const te=Fe.filter(Ee=>En(Ee==null?void 0:Ee.latitude)&&En(Ee==null?void 0:Ee.longitude)).map(Ee=>`${Number(Ee.latitude)},${Number(Ee.longitude)}`);if(te.length===0)return;const Ae=!ee,me=ee?`${ee.lat},${ee.lon}`:te[0],je=te[te.length-1],ce=(Ae?te.slice(1,-1):te.slice(0,-1)).join("|"),ue=new URL("https://www.google.com/maps/dir/");ue.searchParams.set("api","1"),ue.searchParams.set("origin",me),ue.searchParams.set("destination",je),ce&&ue.searchParams.set("waypoints",ce),window.open(ue.toString(),"_blank","noopener,noreferrer")};return l?S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-10 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl animate-float"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-violet-500/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),S.jsxs("div",{className:"sticky top-0 z-40 glass-strong backdrop-blur-xl border-b border-white/10 pb-2 shadow-sm",children:[S.jsxs("div",{className:"p-4 flex items-center gap-4",children:[S.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-xl glass-light text-slate-300 hover:text-white transition-colors border border-white/10",children:S.jsx(Yl,{})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h1",{className:"font-black text-xl text-gradient tracking-tight truncate",children:l.name}),S.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wide mt-1",children:[l.date,"  ",we.length," stops",l.vehicle_plate?`  ${l.vehicle_plate}`:""]})]}),S.jsxs("div",{className:"flex glass-strong p-1 rounded-xl border border-white/10",children:[S.jsx("button",{onClick:()=>P("list"),className:`p-2 rounded-lg transition-all ${D==="list"?"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(sv,{size:20})}),S.jsx("button",{onClick:()=>P("map"),className:`p-2 rounded-lg transition-all ${D==="map"?"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white shadow-glow-sm":"text-slate-400 hover:text-white"}`,children:S.jsx(ov,{size:20})})]})]}),S.jsxs("div",{className:"px-4 pb-2 space-y-3",children:[S.jsxs("div",{className:"glass-strong rounded-2xl border border-white/10 p-3 flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-500/15 border border-emerald-500/20 flex items-center justify-center",children:S.jsx(H4,{size:18,className:"text-emerald-300"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[9px] uppercase font-black text-slate-500 tracking-[0.2em] mb-1",children:"Vehicle"}),S.jsx("input",{value:H,onChange:te=>j(te.target.value.toUpperCase()),onBlur:J,placeholder:"Truck plate (ex: BC75ARI)",className:"w-full bg-transparent outline-none text-white font-mono text-sm tracking-wider placeholder-slate-600"})]}),S.jsxs("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wide",children:["Driver ",S.jsx("span",{className:"text-slate-300 font-mono",children:l.driver_id||"N/A"})]})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[S.jsx("input",{value:I,onChange:te=>O(te.target.value),placeholder:"Add AWB...",className:"col-span-2 w-full px-4 py-3.5 glass-strong rounded-2xl outline-none focus:ring-2 focus:ring-emerald-500/30 border border-white/10 text-sm font-medium text-white placeholder-slate-500 transition-all"}),S.jsxs("button",{onClick:()=>Ce(I),className:"btn-premium py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white rounded-2xl font-bold shadow-lg hover:shadow-glow-md transition-all flex items-center justify-center gap-2",children:[S.jsx(lv,{size:18}),"Add"]})]}),S.jsxs("div",{className:"relative group",children:[S.jsx(T1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors z-10",size:18}),S.jsx("input",{type:"text",placeholder:"Search shipments to add...",className:"w-full pl-12 pr-4 py-3.5 glass-strong rounded-2xl outline-none focus:ring-2 focus:ring-emerald-500/30 border border-white/10 text-sm font-medium text-white placeholder-slate-500 transition-all",value:E,onChange:te=>A(te.target.value)})]}),E&&re.length>0&&S.jsx("div",{className:"glass-strong rounded-2xl border border-white/10 overflow-hidden",children:re.map(te=>S.jsxs("button",{onClick:()=>Ce(te.awb),className:"w-full p-4 flex items-center gap-3 hover:bg-white/5 transition-all text-left border-b border-white/5 last:border-b-0",children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-500/15 border border-emerald-500/20 flex items-center justify-center",children:S.jsx(co,{size:16,className:"text-emerald-400"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[10px] font-mono font-black text-slate-500 uppercase tracking-widest truncate",children:te.awb}),S.jsx("p",{className:"text-sm font-bold text-white truncate",children:te.recipient_name||"Unknown"}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:te.delivery_address||te.locality||""})]}),S.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-wide",children:"Add"})]},te.awb))})]})]}),S.jsx("div",{className:"flex-1 p-4 space-y-3 pb-32 relative z-10",children:D==="map"?S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"glass-strong rounded-2xl border border-white/10 p-4 flex items-center justify-between gap-2",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Route Map"}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:Z.active?`Geocoding ${Z.done}/${Z.total} (${Z.current})`:'Tap "Optimize" for a quick route order'})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:le,className:`p-2 rounded-xl glass-light border border-white/10 text-emerald-400 hover:bg-emerald-500/10 active:scale-95 transition-all ${Z.active?"opacity-60 cursor-not-allowed":""}`,disabled:Z.active,title:"Geocode stops",children:S.jsx(b1,{size:18,className:Z.active?"animate-spin":""})}),S.jsx("button",{onClick:de,className:"p-2 rounded-xl glass-light border border-white/10 text-amber-400 hover:bg-amber-500/10 active:scale-95 transition-all",title:"Optimize order",children:S.jsx(W4,{size:18})}),S.jsx("button",{onClick:ve,className:"p-2 rounded-xl glass-light border border-white/10 text-slate-200 hover:bg-white/10 active:scale-95 transition-all",title:"Open in Google Maps",children:S.jsx(T4,{size:18})})]})]}),S.jsx("div",{className:"h-[70vh] w-full rounded-3xl overflow-hidden border-iridescent shadow-2xl",children:S.jsx(i_,{shipments:Fe,currentLocation:ee,routeGeometry:ae})})]}):S.jsx(Al,{mode:"wait",children:Le.length===0?S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 text-slate-400",children:[S.jsx("div",{className:"w-20 h-20 glass-strong rounded-3xl flex items-center justify-center mx-auto mb-6 border-iridescent",children:S.jsx(co,{className:"text-slate-500",size:36})}),S.jsx("p",{className:"font-bold text-slate-300 text-lg",children:"No stops yet"}),S.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Add an AWB above to allocate it to this route"})]}):S.jsx("div",{className:"space-y-3",children:Le.map((te,Ae)=>S.jsx(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Ae*.02},className:"glass-strong p-5 rounded-3xl border border-white/10",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-500/15 border border-emerald-500/20 flex items-center justify-center text-emerald-400 font-black",children:Ae+1}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[10px] font-mono font-black text-slate-500 uppercase tracking-widest truncate",children:te.awb}),S.jsx("p",{className:"text-sm font-bold text-white truncate mt-1",children:te.recipient_name||"Unknown"}),S.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate mt-1",children:te.delivery_address||te.locality||""})]}),S.jsx("button",{onClick:()=>Te(te.awb),className:"p-2 rounded-xl glass-light border border-white/10 text-rose-400 hover:bg-rose-500/10 active:scale-95 transition-all",title:"Remove from route",children:S.jsx(uv,{size:18})})]})},`${te.awb}-${Ae}`))})})})]}):S.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-400",children:"Route not found."})}const Gc=({children:e,allowedRoles:t})=>{const{user:n,loading:r}=bo();return r?S.jsx("div",{children:"Loading..."}):n?t&&!t.includes(n.role)?S.jsx(Od,{to:"/",replace:!0}):e:S.jsx(Od,{to:"/login",replace:!0})};function vM(){return S.jsx(qE,{children:S.jsx(_M,{})})}const _M=()=>{const e=Eo();return S.jsx(Al,{mode:"wait",children:S.jsxs(HE,{location:e,children:[S.jsx(Pi,{path:"/login",element:S.jsx(M8,{})}),S.jsxs(Pi,{element:S.jsx(Gc,{children:S.jsx(X4,{})}),children:[S.jsx(Pi,{path:"/",element:S.jsx(sx,{})}),S.jsx(Pi,{path:"/home",element:S.jsx(sx,{})}),S.jsx(Pi,{path:"/history",element:S.jsx(O8,{})}),S.jsx(Pi,{path:"/shipments",element:S.jsx(Gc,{allowedRoles:["Manager","Admin","Driver"],children:S.jsx(mM,{})})}),S.jsx(Pi,{path:"/routes",element:S.jsx(Gc,{allowedRoles:["Manager","Admin","Driver"],children:S.jsx(xM,{})})}),S.jsx(Pi,{path:"/routes/:routeId",element:S.jsx(Gc,{allowedRoles:["Manager","Admin","Driver"],children:S.jsx(wM,{})})}),S.jsx(Pi,{path:"/settings",element:S.jsx(R8,{})}),S.jsx(Pi,{path:"/calendar",element:S.jsx(gM,{})})]}),S.jsx(Pi,{path:"*",element:S.jsx(Od,{to:"/",replace:!0})})]},e.pathname)})};Bf.createRoot(document.getElementById("root")).render(S.jsx(ho.StrictMode,{children:S.jsx(K4,{children:S.jsx(vM,{})})}));
